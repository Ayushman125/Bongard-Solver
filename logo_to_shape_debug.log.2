2025-08-12 06:09:01,146 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.548414799371958, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,150 - INFO - [robust_curvature] INPUT: [[ -71.05507701   -8.63752311]
 [   5.2256537    39.17677702]
 [ -42.01402197   86.873192  ]
 [-185.6449935   109.23355166]
 [-340.77755041   90.60612834]
 [-415.97055262   39.13003516]
 [-367.96789657  -12.43914336]
 [-225.39940529  -31.14113113]]
2025-08-12 06:09:01,150 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,150 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,151 - INFO - Computed angular variance: 0.333616 for 8 vertices.
2025-08-12 06:09:01,153 - INFO - [robust_curvature] INPUT: [[-185.6449935   109.23355166]
 [-340.77755041   90.60612834]
 [-415.97055262   39.13003516]
 [-367.96789657  -12.43914336]
 [-225.39940529  -31.14113113]]
2025-08-12 06:09:01,153 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,153 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,154 - INFO - [robust_curvature] INPUT: [[-71.05507701  -8.63752311]
 [  5.2256537   39.17677702]
 [-42.01402197  86.873192  ]]
2025-08-12 06:09:01,154 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,154 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,154 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:01,155 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.3336162801141213, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,155 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.5218490232323758, 'complexity': 4, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 2}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.8055642784908198, 'complexity': 4, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 1}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.9895059011403857, 'complexity': 4, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 2}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.548414799371958, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.3336162801141213, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:01,156 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:01,156 - DEBUG - [extract_image_features] Stroke 0 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:01,157 - DEBUG - [extract_image_features] Stroke 1 geometry: {'area': 1.5720931501039814e-18, 'perimeter': 0.12494897308919647, 'centroid': [0.6942052920273011, 0.4025795951406153], 'bounds': [0.6676180720116733, 0.387904195977492, 0.723460356037816, 0.4159167071779324], 'width': 0.05584228402614266, 'height': 0.028012511200440404}
2025-08-12 06:09:01,158 - DEBUG - [extract_image_features] Stroke 2 geometry: {'area': 1.8973538018496328e-18, 'perimeter': 0.16199123108945634, 'centroid': [0.39976434047908577, 0.3656214655247426], 'bounds': [0.37683419497780607, 0.33488071555119203, 0.4252618771178101, 0.3998041268911405], 'width': 0.048427682140004036, 'height': 0.06492341133994844}
2025-08-12 06:09:01,159 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:01,159 - DEBUG - [extract_image_features] Stroke 3 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:01,160 - DEBUG - [extract_image_features] Stroke 4 geometry: {'area': 3.0357660829594124e-18, 'perimeter': 0.33666666666666667, 'centroid': [0.88924319312566, 0.3168360566100626], 'bounds': [0.80462510766356, 0.28498145775963857, 0.95693766149534, 0.3566543051730924], 'width': 0.15231255383178, 'height': 0.07167284741345381}
2025-08-12 06:09:01,161 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:01,161 - DEBUG - [extract_image_features] Stroke 5 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:01,163 - DEBUG - [extract_image_features] Stroke 6 geometry: {'area': 2.6020852139652106e-18, 'perimeter': 0.21315541915189123, 'centroid': [1.1392234286725955, 0.19920428675264956], 'bounds': [1.0906710998498177, 0.17667269678644676, 1.187105494664, 0.2220512784663209], 'width': 0.09643439481418237, 'height': 0.04537858167987413}
2025-08-12 06:09:01,163 - INFO - [extract_image_features] stroke_type_distribution INPUT: [{'command': 'line_normal_0.447-0.500', 'vertices': [(0.5, 0.5), (0.43614285714285717, 0.5), (0.3722857142857143, 0.5), (0.3084285714285714, 0.5), (0.24457142857142855, 0.5), (0.18071428571428572, 0.5), (0.11685714285714283, 0.5), (0.05299999999999999, 0.5)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.250-0.926', 'vertices': [(0.5, 0.5), (0.5319229080054023, 0.48398631371107026), (0.5638458160108045, 0.4679726274221406), (0.5957687240162068, 0.45195894113321083), (0.6276916320216092, 0.43594525484428115), (0.6596145400270115, 0.4199315685553514), (0.6915374480324137, 0.40391788226642167), (0.723460356037816, 0.387904195977492)], 'geometry': {'area': 1.5720931501039814e-18, 'perimeter': 0.12494897308919647, 'centroid': [0.6942052920273011, 0.4025795951406153], 'bounds': [0.6676180720116733, 0.387904195977492, 0.723460356037816, 0.4159167071779324], 'width': 0.05584228402614266, 'height': 0.028012511200440404}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.05584228402614266, 'height': 0.028012511200440404}, {'command': 'line_normal_0.250-0.648', 'vertices': [(0.5, 0.5), (0.4786462506050886, 0.471372607683183), (0.4572925012101772, 0.44274521536636596), (0.4359387518152658, 0.41411782304954897), (0.4145850024203544, 0.3854904307327319), (0.39323125302544304, 0.35686303841591493), (0.3718775036305316, 0.32823564609909794), (0.3505237542356202, 0.2996082537822809)], 'geometry': {'area': 1.8973538018496328e-18, 'perimeter': 0.16199123108945634, 'centroid': [0.39976434047908577, 0.3656214655247426], 'bounds': [0.37683419497780607, 0.33488071555119203, 0.4252618771178101, 0.3998041268911405], 'width': 0.048427682140004036, 'height': 0.06492341133994844}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.048427682140004036, 'height': 0.06492341133994844}, {'command': 'line_normal_0.816-0.331', 'vertices': [(0.5, 0.5), (0.4734935931605419, 0.5475054775416597), (0.4469871863210838, 0.5950109550833194), (0.42048077948162577, 0.6425164326249789), (0.3939743726421676, 0.6900219101666386), (0.3674679658027096, 0.7375273877082983), (0.3409615589632515, 0.7850328652499579), (0.3144551521237934, 0.8325383427916175), (0.2879487452843353, 0.8800438203332772), (0.2614423384448772, 0.9275492978749369), (0.2349359316054191, 0.9750547754165966), (0.208429524765961, 1.022560252958256), (0.18192311792650295, 1.0700657304999157), (0.15541671108704486, 1.1175712080415754), (0.12891030424758676, 1.165076685583235), (0.10240389740812866, 1.2125821631248948)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.505-0.930', 'vertices': [(0.5, 0.5), (0.55077085127726, 0.4761090508621821), (0.60154170255452, 0.4522181017243641), (0.65231255383178, 0.4283271525865462), (0.70308340510904, 0.40443620344872827), (0.7538542563863, 0.38054525431091035), (0.80462510766356, 0.3566543051730924), (0.85539595894082, 0.33276335603527446), (0.90616681021808, 0.30887240689745654), (0.95693766149534, 0.28498145775963857)], 'geometry': {'area': 3.0357660829594124e-18, 'perimeter': 0.33666666666666667, 'centroid': [0.88924319312566, 0.3168360566100626], 'bounds': [0.80462510766356, 0.28498145775963857, 0.95693766149534, 0.3566543051730924], 'width': 0.15231255383178, 'height': 0.07167284741345381}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.15231255383178, 'height': 0.07167284741345381}, {'command': 'line_normal_0.505-0.313', 'vertices': [(0.5, 0.5), (0.4783644537666572, 0.5517721926260454), (0.45672890753331435, 0.6035443852520906), (0.43509336129997156, 0.655316577878136), (0.41345781506662876, 0.7070887705041813), (0.39182226883328597, 0.7588609631302267), (0.3701867225999431, 0.810633155756272), (0.3485511763666003, 0.8624053483823173), (0.32691563013325753, 0.9141775410083626), (0.3052800838999147, 0.965949733634408)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.816-0.930', 'vertices': [(0.5, 0.5), (0.5492225916541514, 0.4768376065388601), (0.598445183308303, 0.45367521307772013), (0.6476677749624544, 0.4305128196165802), (0.6968903666166059, 0.4073504261554403), (0.7461129582707573, 0.38418803269430035), (0.7953355499249088, 0.36102563923316044), (0.8445581415790603, 0.33786324577202054), (0.8937807332332117, 0.31470085231088063), (0.9430033248873633, 0.29153845884974067), (0.9922259165415147, 0.26837606538860076), (1.0414485081956661, 0.24521367192746085), (1.0906710998498177, 0.2220512784663209), (1.139893691503969, 0.19888888500518098), (1.1891162831581206, 0.17572649154404107), (1.2383388748122721, 0.1525640980829011)], 'geometry': {'area': 2.6020852139652106e-18, 'perimeter': 0.21315541915189123, 'centroid': [1.1392234286725955, 0.19920428675264956], 'bounds': [1.0906710998498177, 0.17667269678644676, 1.187105494664, 0.2220512784663209], 'width': 0.09643439481418237, 'height': 0.04537858167987413}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.09643439481418237, 'height': 0.04537858167987413}]
2025-08-12 06:09:01,163 - INFO - [extract_image_features] stroke_type_distribution OUTPUT: {'line': 7}
2025-08-12 06:09:01,163 - INFO - [extract_image_features] modifier_distribution OUTPUT: {'normal': 7}
2025-08-12 06:09:01,164 - INFO - [extract_image_features] relational INPUT: []
2025-08-12 06:09:01,164 - INFO - [extract_image_features] relational OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:01,164 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:01,164 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,164 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,164 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,165 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,165 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,165 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,165 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,166 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,166 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,166 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,166 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 6}
2025-08-12 06:09:01,166 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:01,167 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,167 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,167 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,168 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,168 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,168 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,168 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,168 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,169 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,169 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,169 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,169 - DEBUG - [_detect_alternation] OUTPUT: 0.14285714285714285
2025-08-12 06:09:01,169 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:01,169 - INFO - [extract_image_features] PATCHED ngram: {'normal|normal': 6}
2025-08-12 06:09:01,169 - INFO - [extract_image_features] PATCHED alternation: 0.14285714285714285
2025-08-12 06:09:01,171 - INFO - [extract_image_features] PATCHED regularity: 0.14285714285714285
2025-08-12 06:09:01,171 - INFO - [extract_image_features] PATCHED dominant_shape_functions: line
2025-08-12 06:09:01,171 - INFO - [extract_image_features] PATCHED dominant_modifiers: normal
2025-08-12 06:09:01,171 - INFO - [extract_image_features] PATCHED image_canonical_summary: {'area': 362404.13285348256, 'perimeter': 3795.310082280019, 'compactness': 0.31616113166322785, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.14285714285714285}
2025-08-12 06:09:01,171 - INFO - [extract_image_features] OUTPUT: {'area': 362404.13285348256, 'perimeter': 3795.310082280019, 'convexity_ratio': 0.5945187382250274, 'compactness': 0.31616113166322785, 'aspect_ratio': 0.8542816297965884, 'centroid_x': -536.430332701349, 'centroid_y': 31.05695834370599, 'width': 1032.682213734392, 'height': 1208.8311134353694, 'bounding_box': (-1036.3601695302482, -548.3606611240023, 643.6800000000001, 660.4704523113671), 'num_vertices': 8, 'curvature': 1.9877782184983621, 'angular_variance': 0.5218490232323758, 'complexity': 0.01670682250691083, 'num_strokes': 7, 'stroke_type_distribution': {'line': 7}, 'modifier_distribution': {'normal': 7}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.01670682250691083, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.5218490232323758, 'complexity': 4, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 2}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.8055642784908198, 'complexity': 4, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 1}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.9895059011403857, 'complexity': 4, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 2}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.548414799371958, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.3336162801141213, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 179339.55065713846, 'center_of_mass_x': 0.36160963369791804, 'center_of_mass_y': 0.48168025376271617, 'symmetry_score': 860.1871860924264, 'ngram': {'normal|normal': 6}, 'alternation': 0.14285714285714285, 'regularity': 0.14285714285714285, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 362404.13285348256, 'perimeter': 3795.310082280019, 'compactness': 0.31616113166322785, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.14285714285714285}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 7}}
2025-08-12 06:09:01,172 - DEBUG - [extract_image_features] FINAL OUTPUT bounding_box: (-1036.3601695302482, -548.3606611240023, 643.6800000000001, 660.4704523113671)
2025-08-12 06:09:01,172 - DEBUG - [extract_image_features] FINAL OUTPUT width: 1032.682213734392, height: 1208.8311134353694
2025-08-12 06:09:01,172 - DEBUG - [extract_image_features] FINAL OUTPUT curvature: 1.9877782184983621
2025-08-12 06:09:01,173 - INFO - [DIAG] Shape 0 extracted attributes: {'area': 362404.13285348256, 'perimeter': 3795.310082280019, 'convexity_ratio': 0.5945187382250274, 'compactness': 0.31616113166322785, 'aspect_ratio': 0.8542816297965884, 'centroid_x': -536.430332701349, 'centroid_y': 31.05695834370599, 'width': 1032.682213734392, 'height': 1208.8311134353694, 'bounding_box': (-1036.3601695302482, -548.3606611240023, 643.6800000000001, 660.4704523113671), 'num_vertices': 8, 'curvature': 1.9877782184983621, 'angular_variance': 0.5218490232323758, 'complexity': 0.01670682250691083, 'num_strokes': 7, 'stroke_type_distribution': {'line': 7}, 'modifier_distribution': {'normal': 7}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.01670682250691083, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.5218490232323758, 'complexity': 4, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 2}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.8055642784908198, 'complexity': 4, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 1}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.9895059011403857, 'complexity': 4, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 2}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.548414799371958, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.3336162801141213, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 179339.55065713846, 'center_of_mass_x': 0.36160963369791804, 'center_of_mass_y': 0.48168025376271617, 'symmetry_score': 860.1871860924264, 'ngram': {'normal|normal': 6}, 'alternation': 0.14285714285714285, 'regularity': 0.14285714285714285, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 362404.13285348256, 'perimeter': 3795.310082280019, 'compactness': 0.31616113166322785, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.14285714285714285}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 7}}
2025-08-12 06:09:01,173 - INFO - [VALIDATION] expected_strokes=7, actual_shapes=1
2025-08-12 06:09:01,173 - INFO - [VALIDATION] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_2, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: Number of action commands matches number of parsed shapes (7)
2025-08-12 06:09:01,173 - INFO - [standardize_coordinates] INPUT vertices: [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)]
2025-08-12 06:09:01,174 - INFO - [standardize_coordinates] OUTPUT normalized vertices: [[0.6168663037503574, 0.4536288444509172], [1.0, 0.4536288444509172], [0.8084671316017236, 0.5871611104542953], [0.6169342632034474, 0.45362884445091706], [0.03846431015028989, 1.0], [0.2588012546158344, 0.4822009500910043], [0.0, 0.0], [0.6170849373202809, 0.45754608919662304]]
2025-08-12 06:09:01,177 - DEBUG - [process_single_image] Passing shape_list to extract_relational_features: [{'vertices': [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)]}]
2025-08-12 06:09:01,177 - INFO - [extract_relational_features] INPUT: [{'vertices': [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)]}]
2025-08-12 06:09:01,177 - DEBUG - [extract_relational_features] Shape 0 vertices: [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)]
2025-08-12 06:09:01,178 - INFO - [calculate_relationships] INPUT: strokes=[{'vertices': [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)]}], buffer_amt=0.001
2025-08-12 06:09:01,178 - DEBUG - [calculate_relationships] Stroke 0: {'vertices': [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)]}
2025-08-12 06:09:01,178 - DEBUG - [calculate_relationships] Vertices for stroke 0: [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)]
2025-08-12 06:09:01,179 - DEBUG - [calculate_relationships] Created LineString for stroke 0: LINESTRING (0 0, 643.6800000000001 0, 321.897087305545 161.41795779241147, 0.1141746110901067 -1.9895196601282805e-13, -971.7385833844911 660.4704523113671, -601.5636658508208 34.538850274099445, -1036.3601695302482 -548.3606611240023, 0.3673131798791474 4.735287327550395)
2025-08-12 06:09:01,179 - DEBUG - [calculate_relationships] Buffered geometries: ['POLYGON ((-3.678018164472612 2.575962476960937, -1036.359698826316 -548.3615434152287, -1036.3597860176976 -548.3615846596667, -1036.3598767770657 -548.3616173120456, -1036.3599702600457 -548.3616410685855, -1036.360065596924 -548.3616557082693, -1036.36016190074 -548.3616610948972, -1036.3602582755366 -548.3616571783551, -1036.3603538246966 -548.3616439950804, -1036.3604476592843 -548.3616216677229, -1036.3605389063148 -548.3615904040039, -1036.3606267168773 -548.3615504947834, -1036.3607102740307 -548.3615023113546, -1036.3607888004067 -548.3614463019891, -1036.360861565439 -548.3613829877667, -1036.3609278921635 -548.3613129577276, -1036.3609871635126 -548.361236863392, -1036.361038828059 -548.3611554126993, -1036.361082405145 -548.3610693634208, -1036.3611174893533 -548.3609795161112, -1036.3611437542802 -548.3608867066595, -1036.3611609555717 -548.3607917985129, -1036.3611689331965 -548.3606956746437, -1036.361167612935 -548.3605992293346, -1036.3611570070707 -548.360503359859, -1036.361137214274 -548.3604089581327, -1036.3611084186866 -548.3603169024166, -1036.3610708882063 -548.3602280491456, -1036.3610249719954 -548.3601432249609, -1036.360971097233 -548.3600632190193, -601.5648655680673 34.53891440847723, -971.7394441265182 660.4699432699514, -971.7394891647111 660.470028563573, -971.7395257760315 660.4701177995072, -971.7395536198682 660.4702101475526, -971.7395724371775 660.4703047485547, -971.7395820528938 660.4704007223986, -971.7395823775577 660.4704971761975, -971.7395734081488 660.470593212599, -971.7395552281135 660.4706879381345, -971.7395280065888 660.4707804715301, -971.7394919968283 660.4708699519072, -971.7394475338468 660.4709555467902, -971.739395031303 660.4710364598523, -971.7393349776512 660.4711119383236, -971.739267931597 660.4711812799945, -971.7391945168994 660.4712438397491, -971.7391154165676 660.4712990355664, -971.7390313665069 660.4713463539351, -971.7389431486721 660.4713853546319, -971.7388515837927 660.4714156748161, -971.7387575237368 660.4714370324053, -971.7386618435868 660.4714492287009, -971.7385654334972 660.4714521502351, -971.7384691904138 660.4714457698276, -971.7383740097281 660.4714301468382, -971.738280776948 660.4714054266145, -971.7381903594594 660.4713718391397, -971.7381035984558 660.4713296968927, -971.7380213011132 660.4712793919414, -3.6778934272396344 2.578295849711756, 0.366842475946982 4.73616961877683, 0.3669312221780249 4.736211507356793, 0.3670236468705288 4.736244495580012, 0.3671188599241807 4.736268265751865, 0.367215944385225 4.7362825889526015, 0.36731396527723 4.73628732724197, 0.3674119786054222 4.736282434987653, 0.3675090404478715 4.736267959304735, 0.3676042160459756 4.736244039601954, 0.3676965888066967 4.736210906239124, 0.3677852691298528 4.736168878308644, 0.3678694029754544 4.736118360562456, 0.3679481800885761 4.736059839514073, 0.3680208418025546 4.735993878753182, 0.3680866883453633 4.735921113517968, 0.3681450855787996 4.735842244577424, 0.3681954711055823 4.73575803148256, 0.368237359685545 4.735669285251518, 0.3682703479087641 4.735576860559013, 0.3682941180806166 4.735481647505362, 0.3683084412813536 4.735384563044318, 0.3683131795707222 4.735286542152313, 0.3683082873164055 4.7351885288241204, 0.3682938116334869 4.735091466981671, 0.3682698919307062 4.734996291383567, 0.368236758567877 4.734903918622846, 0.3681947306373958 4.7348152382996895, 0.368144212891208 4.734731104454088, 0.3680856918428252 4.734652327340966, 0.3680197310819342 4.734579665626988, 0.3679469658467202 4.73451381908418, 0.3678680969061758 4.734455421850743, 0.3677838838113127 4.7344050363239605, -3.67602480699612 2.5770259367056148, 0.1142510610159097 0.0011571167272826, 321.8966389223289 161.41885163383563, 321.8967335041912 161.4188931129993, 321.8968318597871 161.41892461580008, 321.8969329400312 161.41894580622116, 321.8970356667764 161.41895645824025, 321.89713894431367 161.41895645824025, 321.89724167105885 161.41894580622116, 321.897342751303 161.41892461580008, 321.89744110689884 161.4188931129993, 321.89753568876114 161.41885163383563, 643.6804483832161 0.0008938414241513, 643.6805346473689 0.0008450752575891, 643.6806156614754 0.0007880107536255, 643.6806906300059 0.0007232082653356, 643.6807588167962 0.0006513041300236, 643.6808195522766 0.0005730044206326, 643.680872240046 0.0004890780123603, 643.6809163627296 0.0004003490325793, 643.6809514870582 0.0003076887681997, 643.6809772681237 0.0002120071099436, 643.6809934527648 0.000114243617542, 643.6809998820545 1.535829359450424e-5, 643.6809964928593 -8.367784331404813e-5, 643.6809833184599 -0.0001818922936694, 643.6809604882243 -0.0002783206266259, 643.6809282263371 -0.0003720159503734, 643.6808868495986 -0.0004620582102763, 643.6808367643135 -0.0005475632234823, 643.6807784623016 -0.0006276913612821, 643.6807125160678 -0.0007016557939636, 643.6806395731805 -0.0007687302171989, 643.6805603499129 -0.0008282559840935, 643.6804756242092 -0.0008796485728637, 643.6803862280454 -0.000922403326632, 643.6802930392602 -0.0009561004089774, 643.6801969729339 -0.0009804089265791, 643.6800989724038 -0.0009950901784711, 643.6800000000001 -0.001, 0 -0.001, -9.801714032956045e-5 -0.0009951847266722, -0.0001950903220161 -0.0009807852804032, -0.0002902846772545 -0.0009569403357322, -0.0003826834323651 -0.0009238795325113, -0.000471396736826 -0.0008819212643484, -0.0005555702330196 -0.0008314696123025, -0.0006343932841636 -0.0007730104533627, -0.0007071067811865 -0.0007071067811865, -0.0007730104533627 -0.0006343932841636, -0.0008314696123025 -0.0005555702330196, -0.0008819212643484 -0.000471396736826, -0.0009238795325113 -0.0003826834323651, -0.0009569403357322 -0.0002902846772545, -0.0009807852804032 -0.0001950903220161, -0.0009951847266722 -9.801714032956059e-5, -0.001 0, -0.0009951847266722 9.801714032956083e-5, -0.0009807852804032 0.0001950903220161, -0.0009569403357322 0.0002902846772545, -0.0009238795325113 0.0003826834323651, -0.0008819212643484 0.000471396736826, -0.0008314696123025 0.0005555702330196, -0.0007730104533627 0.0006343932841636, -0.0007071067811865 0.0007071067811865, -0.0006343932841636 0.0007730104533627, -0.0005555702330196 0.0008314696123025, -0.000471396736826 0.0008819212643484, -0.0003826834323651 0.0009238795325113, -0.0002902846772545 0.0009569403357322, -0.0001950903220161 0.0009807852804032, -9.801714032956064e-5 0.0009951847266722, 0 0.001, 0.1109240602885142 0.001, -3.678018164472612 2.575962476960937), (-3.679886784716127 2.5772323899670777, -971.7354453220805 660.4671106143118, -601.5628051087938 34.5393593155152, -601.5627594692868 34.53927273417418, -601.5627225122743 34.53918210596426, -601.5626945917783 34.53908829903961, -601.5626759752573 34.53899221200426, -601.5626668410447 34.53889476530411, -601.5626672766397 34.538796892409664, -601.5626772778695 34.53869953087407, -601.5626967489295 34.53860361335204, -601.5627255033007 34.53851005866563, -601.5627632655364 34.53841976300261, -601.5628096739014 34.53833359133162, -601.562864283836 34.538252369116385, -1036.356693090133 -548.3576730244347, -3.679886784716127 2.5772323899670777), (0.1183983227643386 0.001, 643.6757762883262 0.001, 321.897087305545 161.4168390257343, 0.1183983227643386 0.001))']
2025-08-12 06:09:01,179 - INFO - [calculate_relationships] Intermediate results: adjacency=0, intersections=0, containment=0, overlap=0.0
2025-08-12 06:09:01,180 - INFO - [calculate_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:01,180 - WARNING - [calculate_relationships] All relational features are zero/default. Strokes: [{'vertices': [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)]}]
2025-08-12 06:09:01,180 - INFO - [extract_relational_features] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:01,181 - DEBUG - [extract_relational_features] Output is JSON serializable.
2025-08-12 06:09:01,181 - INFO - [robust_curvature] INPUT: [[0.6168663  0.45362884]
 [1.         0.45362884]
 [0.80846713 0.58716111]
 [0.61693426 0.45362884]
 [0.03846431 1.        ]
 [0.25880125 0.48220095]
 [0.         0.        ]
 [0.61708494 0.45754609]]
2025-08-12 06:09:01,182 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,182 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,182 - INFO - Computed angular variance: 0.462281 for 8 vertices.
2025-08-12 06:09:01,184 - INFO - [robust_curvature] INPUT: [[0.03846431 1.        ]
 [0.         0.        ]]
2025-08-12 06:09:01,184 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,184 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,185 - INFO - [robust_curvature] INPUT: [[0.6168663  0.45362884]
 [1.         0.45362884]
 [0.80846713 0.58716111]
 [0.61693426 0.45362884]
 [0.25880125 0.48220095]
 [0.61708494 0.45754609]]
2025-08-12 06:09:01,185 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,186 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,186 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 2, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 3}}
2025-08-12 06:09:01,186 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.46228093900266287, 'complexity': 4, 'groups': {'group_0': {'size': 2, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 3}}}
2025-08-12 06:09:01,186 - INFO - [robust_curvature] INPUT: [[0.61833694 0.45364387]
 [0.99779543 0.45414111]
 [0.80846713 0.58613658]
 [0.61544987 0.45623713]
 [0.04152874 0.99591757]
 [0.25696316 0.48233751]
 [0.00336013 0.00360511]
 [0.6147168  0.4557758 ]]
2025-08-12 06:09:01,186 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,187 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,187 - INFO - Computed angular variance: 0.671832 for 8 vertices.
2025-08-12 06:09:01,188 - INFO - [robust_curvature] INPUT: [[0.04152874 0.99591757]
 [0.00336013 0.00360511]]
2025-08-12 06:09:01,188 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,188 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,188 - INFO - [robust_curvature] INPUT: [[0.61833694 0.45364387]
 [0.99779543 0.45414111]
 [0.80846713 0.58613658]
 [0.61544987 0.45623713]
 [0.25696316 0.48233751]
 [0.6147168  0.4557758 ]]
2025-08-12 06:09:01,189 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,189 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,189 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 2, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 3}}
2025-08-12 06:09:01,189 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.671831675860858, 'complexity': 4, 'groups': {'group_0': {'size': 2, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 3}}}
2025-08-12 06:09:01,190 - INFO - [robust_curvature] INPUT: [[0.65756224 0.45396138]
 [0.93862418 0.46784449]
 [0.8082134  0.55880558]
 [0.57575109 0.52601263]
 [0.12369095 0.88634546]
 [0.20798566 0.48597635]
 [0.09341168 0.10042036]
 [0.551379   0.40842843]]
2025-08-12 06:09:01,190 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,190 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,192 - INFO - Computed angular variance: 0.918414 for 8 vertices.
2025-08-12 06:09:01,193 - INFO - [robust_curvature] INPUT: [[0.12369095 0.88634546]
 [0.20798566 0.48597635]
 [0.09341168 0.10042036]]
2025-08-12 06:09:01,193 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,193 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,193 - INFO - [robust_curvature] INPUT: [[0.65756224 0.45396138]
 [0.93862418 0.46784449]
 [0.8082134  0.55880558]
 [0.57575109 0.52601263]
 [0.551379   0.40842843]]
2025-08-12 06:09:01,194 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,194 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,194 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 2}}
2025-08-12 06:09:01,194 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.9184139335093882, 'complexity': 4, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 2}}}
2025-08-12 06:09:01,195 - INFO - [robust_curvature] INPUT: [[0.68492465 0.4375672 ]
 [0.81069929 0.48657001]
 [0.75304845 0.53642243]
 [0.52191826 0.61767933]
 [0.27822993 0.66124867]
 [0.18576496 0.48827178]
 [0.25470391 0.31005301]
 [0.46732875 0.34998225]]
2025-08-12 06:09:01,195 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,195 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,195 - INFO - Computed angular variance: 0.463884 for 8 vertices.
2025-08-12 06:09:01,196 - INFO - [robust_curvature] INPUT: [[0.52191826 0.61767933]
 [0.27822993 0.66124867]
 [0.18576496 0.48827178]
 [0.25470391 0.31005301]
 [0.46732875 0.34998225]]
2025-08-12 06:09:01,197 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,197 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,198 - INFO - [robust_curvature] INPUT: [[0.68492465 0.4375672 ]
 [0.81069929 0.48657001]
 [0.75304845 0.53642243]]
2025-08-12 06:09:01,198 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,199 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,199 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:01,199 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.46388414738047073, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,200 - INFO - [robust_curvature] INPUT: [[0.57457263 0.44648349]
 [0.61997674 0.48603765]
 [0.59185856 0.52549429]
 [0.50636597 0.5439918 ]
 [0.41402737 0.52858235]
 [0.3692707  0.48599899]
 [0.39784303 0.44333862]
 [0.4827032  0.42786749]]
2025-08-12 06:09:01,200 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,200 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,200 - INFO - Computed angular variance: 0.161501 for 8 vertices.
2025-08-12 06:09:01,201 - INFO - [robust_curvature] INPUT: [[0.50636597 0.5439918 ]
 [0.41402737 0.52858235]
 [0.3692707  0.48599899]
 [0.39784303 0.44333862]
 [0.4827032  0.42786749]]
2025-08-12 06:09:01,202 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,202 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,202 - INFO - [robust_curvature] INPUT: [[0.57457263 0.44648349]
 [0.61997674 0.48603765]
 [0.59185856 0.52549429]]
2025-08-12 06:09:01,202 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,203 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,203 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:01,203 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.161501241559591, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,204 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.46228093900266287, 'complexity': 4, 'groups': {'group_0': {'size': 2, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 3}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.671831675860858, 'complexity': 4, 'groups': {'group_0': {'size': 2, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 3}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.9184139335093882, 'complexity': 4, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 2}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.46388414738047073, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.161501241559591, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:01,204 - INFO - [_calculate_image_features] INPUTS: vertices=[(0.6168663037503574, 0.4536288444509172), (1.0, 0.4536288444509172), (0.8084671316017236, 0.5871611104542953), (0.6169342632034474, 0.45362884445091706), (0.03846431015028989, 1.0), (0.2588012546158344, 0.4822009500910043), (0.0, 0.0), (0.6170849373202809, 0.45754608919662304)], strokes=[{'command': 'line_normal_0.447-0.500', 'vertices': [(0.5, 0.5), (0.43614285714285717, 0.5), (0.3722857142857143, 0.5), (0.3084285714285714, 0.5), (0.24457142857142855, 0.5), (0.18071428571428572, 0.5), (0.11685714285714283, 0.5), (0.05299999999999999, 0.5)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.250-0.926', 'vertices': [(0.5, 0.5), (0.5319229080054023, 0.48398631371107026), (0.5638458160108045, 0.4679726274221406), (0.5957687240162068, 0.45195894113321083), (0.6276916320216092, 0.43594525484428115), (0.6596145400270115, 0.4199315685553514), (0.6915374480324137, 0.40391788226642167), (0.723460356037816, 0.387904195977492)], 'geometry': {'area': 1.5720931501039814e-18, 'perimeter': 0.12494897308919647, 'centroid': [0.6942052920273011, 0.4025795951406153], 'bounds': [0.6676180720116733, 0.387904195977492, 0.723460356037816, 0.4159167071779324], 'width': 0.05584228402614266, 'height': 0.028012511200440404}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.05584228402614266, 'height': 0.028012511200440404}, {'command': 'line_normal_0.250-0.648', 'vertices': [(0.5, 0.5), (0.4786462506050886, 0.471372607683183), (0.4572925012101772, 0.44274521536636596), (0.4359387518152658, 0.41411782304954897), (0.4145850024203544, 0.3854904307327319), (0.39323125302544304, 0.35686303841591493), (0.3718775036305316, 0.32823564609909794), (0.3505237542356202, 0.2996082537822809)], 'geometry': {'area': 1.8973538018496328e-18, 'perimeter': 0.16199123108945634, 'centroid': [0.39976434047908577, 0.3656214655247426], 'bounds': [0.37683419497780607, 0.33488071555119203, 0.4252618771178101, 0.3998041268911405], 'width': 0.048427682140004036, 'height': 0.06492341133994844}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.048427682140004036, 'height': 0.06492341133994844}, {'command': 'line_normal_0.816-0.331', 'vertices': [(0.5, 0.5), (0.4734935931605419, 0.5475054775416597), (0.4469871863210838, 0.5950109550833194), (0.42048077948162577, 0.6425164326249789), (0.3939743726421676, 0.6900219101666386), (0.3674679658027096, 0.7375273877082983), (0.3409615589632515, 0.7850328652499579), (0.3144551521237934, 0.8325383427916175), (0.2879487452843353, 0.8800438203332772), (0.2614423384448772, 0.9275492978749369), (0.2349359316054191, 0.9750547754165966), (0.208429524765961, 1.022560252958256), (0.18192311792650295, 1.0700657304999157), (0.15541671108704486, 1.1175712080415754), (0.12891030424758676, 1.165076685583235), (0.10240389740812866, 1.2125821631248948)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.505-0.930', 'vertices': [(0.5, 0.5), (0.55077085127726, 0.4761090508621821), (0.60154170255452, 0.4522181017243641), (0.65231255383178, 0.4283271525865462), (0.70308340510904, 0.40443620344872827), (0.7538542563863, 0.38054525431091035), (0.80462510766356, 0.3566543051730924), (0.85539595894082, 0.33276335603527446), (0.90616681021808, 0.30887240689745654), (0.95693766149534, 0.28498145775963857)], 'geometry': {'area': 3.0357660829594124e-18, 'perimeter': 0.33666666666666667, 'centroid': [0.88924319312566, 0.3168360566100626], 'bounds': [0.80462510766356, 0.28498145775963857, 0.95693766149534, 0.3566543051730924], 'width': 0.15231255383178, 'height': 0.07167284741345381}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.15231255383178, 'height': 0.07167284741345381}, {'command': 'line_normal_0.505-0.313', 'vertices': [(0.5, 0.5), (0.4783644537666572, 0.5517721926260454), (0.45672890753331435, 0.6035443852520906), (0.43509336129997156, 0.655316577878136), (0.41345781506662876, 0.7070887705041813), (0.39182226883328597, 0.7588609631302267), (0.3701867225999431, 0.810633155756272), (0.3485511763666003, 0.8624053483823173), (0.32691563013325753, 0.9141775410083626), (0.3052800838999147, 0.965949733634408)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.816-0.930', 'vertices': [(0.5, 0.5), (0.5492225916541514, 0.4768376065388601), (0.598445183308303, 0.45367521307772013), (0.6476677749624544, 0.4305128196165802), (0.6968903666166059, 0.4073504261554403), (0.7461129582707573, 0.38418803269430035), (0.7953355499249088, 0.36102563923316044), (0.8445581415790603, 0.33786324577202054), (0.8937807332332117, 0.31470085231088063), (0.9430033248873633, 0.29153845884974067), (0.9922259165415147, 0.26837606538860076), (1.0414485081956661, 0.24521367192746085), (1.0906710998498177, 0.2220512784663209), (1.139893691503969, 0.19888888500518098), (1.1891162831581206, 0.17572649154404107), (1.2383388748122721, 0.1525640980829011)], 'geometry': {'area': 2.6020852139652106e-18, 'perimeter': 0.21315541915189123, 'centroid': [1.1392234286725955, 0.19920428675264956], 'bounds': [1.0906710998498177, 0.17667269678644676, 1.187105494664, 0.2220512784663209], 'width': 0.09643439481418237, 'height': 0.04537858167987413}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.09643439481418237, 'height': 0.04537858167987413}], geometry={'area': 0.17844642282184378, 'perimeter': 2.6678027919662695, 'centroid': [0.2975701687946446, 0.4793205709448238], 'bounds': [0.0, 0.0, 0.6146770966929546, 1.0], 'width': 0.6146770966929546, 'height': 1.0}
2025-08-12 06:09:01,204 - DEBUG - [POLYGON CREATION] Attempting to create Polygon with vertices: [(0.6168663037503574, 0.4536288444509172), (1.0, 0.4536288444509172), (0.8084671316017236, 0.5871611104542953), (0.6169342632034474, 0.45362884445091706), (0.03846431015028989, 1.0), (0.2588012546158344, 0.4822009500910043), (0.0, 0.0), (0.6170849373202809, 0.45754608919662304)]
2025-08-12 06:09:01,205 - DEBUG - [POLYGON REPAIR] Final polygon: is_valid=True, is_empty=False, area=0.5031497421551394
2025-08-12 06:09:01,205 - INFO - [_calculate_perimeter] INPUT vertices: [(0.6168663037503574, 0.4536288444509172), (1.0, 0.4536288444509172), (0.8084671316017236, 0.5871611104542953), (0.6169342632034474, 0.45362884445091706), (0.03846431015028989, 1.0), (0.2588012546158344, 0.4822009500910043), (0.0, 0.0), (0.6170849373202809, 0.45754608919662304)]
2025-08-12 06:09:01,205 - INFO - [_calculate_perimeter] OUTPUT perimeter: 3.5279341303665115
2025-08-12 06:09:01,205 - INFO - [robust_curvature] INPUT: [(0.6168663037503574, 0.4536288444509172), (1.0, 0.4536288444509172), (0.8084671316017236, 0.5871611104542953), (0.6169342632034474, 0.45362884445091706), (0.03846431015028989, 1.0), (0.2588012546158344, 0.4822009500910043), (0.0, 0.0), (0.6170849373202809, 0.45754608919662304)]
2025-08-12 06:09:01,207 - INFO - [robust_curvature] OUTPUT: 2.0081827854495446
2025-08-12 06:09:01,207 - INFO - Computed angular variance: 0.462281 for 8 vertices.
2025-08-12 06:09:01,208 - INFO - [complexity] Calling calculate_complexity with vertices: [(0.6168663037503574, 0.4536288444509172), (1.0, 0.4536288444509172), (0.8084671316017236, 0.5871611104542953), (0.6169342632034474, 0.45362884445091706), (0.03846431015028989, 1.0), (0.2588012546158344, 0.4822009500910043), (0.0, 0.0), (0.6170849373202809, 0.45754608919662304)]
2025-08-12 06:09:01,208 - INFO - Complexity: n=8, n_norm=0.33, curvature=1.00, irregularity=0.21, result=0.51
2025-08-12 06:09:01,208 - INFO - [complexity] Output for vertices count 8: 0.508899676012406
2025-08-12 06:09:01,209 - INFO - [_calculate_image_features] polsby_popper: 0.2059856527133973
2025-08-12 06:09:01,212 - INFO - [_calculate_image_features] OUTPUT: {'bounding_box': (0.0, 0.0, 1.0, 1.0), 'centroid': [0.2975701687946446, 0.4793205709448238], 'width': 0.6146770966929546, 'height': 1.0, 'area_raw': 0.5031497421551394, 'area_normalized': 1.0, 'perimeter_raw': 3.5279341303665115, 'perimeter_normalized': 1.0, 'aspect_ratio': 0.6146770966929546, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.50800288973085, 'polsby_popper_compactness': 0.2059856527133973, 'eccentricity': 0.43324891977483027, 'symmetry_score': 0.5120039399611148, 'horizontal_symmetry': 0.3107937043981435, 'vertical_symmetry': 0.6642645008048678, 'rotational_symmetry': 1.0, 'has_quadrangle': True, 'geometric_complexity': 8.0, 'visual_complexity': 0.5477673301618077, 'curvature_score': 2.0081827854495446, 'angular_variance': 0.46228093900266287, 'moment_of_inertia': 0.2209904384380667, 'irregularity_score': 0.21116504672869696, 'standardized_complexity': 0.508899676012406, 'clustering_heights': [0.0, 0.0, 0.05281590430918022, 0.09535665012100145, 0.23506789341523976, 0.4314974159708205], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:01,212 - DEBUG - [_calculate_composition_features] INPUTS: strokes count=7
2025-08-12 06:09:01,212 - DEBUG - [_calculate_composition_features] OUTPUT: {'stroke_type_distribution': {'line': 7}, 'shape_modifier_distribution': {'normal': 7}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 8, 'homogeneity_score': 1.0, 'pattern_regularity': 0.14285714285714285}
2025-08-12 06:09:01,212 - INFO - [_calculate_physics_features] INPUT vertices: [(0.6168663037503574, 0.4536288444509172), (1.0, 0.4536288444509172), (0.8084671316017236, 0.5871611104542953), (0.6169342632034474, 0.45362884445091706), (0.03846431015028989, 1.0), (0.2588012546158344, 0.4822009500910043), (0.0, 0.0), (0.6170849373202809, 0.45754608919662304)]
2025-08-12 06:09:01,213 - INFO - [_calculate_physics_features] INPUT centroid: [0.2975701687946446, 0.4793205709448238]
2025-08-12 06:09:01,213 - INFO - [_calculate_physics_features] INPUT strokes: ['line_normal_0.447-0.500', 'line_normal_0.250-0.926', 'line_normal_0.250-0.648', 'line_normal_0.816-0.331', 'line_normal_0.505-0.930', 'line_normal_0.505-0.313', 'line_normal_0.816-0.930']
2025-08-12 06:09:01,214 - INFO - [_calculate_physics_features] polsby_popper: 0.6151491635081936
2025-08-12 06:09:01,215 - INFO - Computed angular variance: 0.462281 for 8 vertices.
2025-08-12 06:09:01,215 - INFO - [_calculate_physics_features] OUTPUT: {'moment_of_inertia': 0.2209904384380667, 'center_of_mass': [0.2975701687946446, 0.4793205709448238], 'polsby_popper_compactness': 0.6151491635081936, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.0081827854495446, 'angular_variance': 0.46228093900266287, 'edge_length_variance': 0.06743744630195019}
2025-08-12 06:09:01,215 - INFO - [calculate_shape_relationships] INPUT: shapes=[{'vertices': [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)]}], buffer_amt=0.001
2025-08-12 06:09:01,216 - DEBUG - [calculate_shape_relationships] Shape 0 vertices: [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)]
2025-08-12 06:09:01,216 - WARNING - calculate_shape_relationships: No valid geometries found.
2025-08-12 06:09:01,216 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal'], n=2
2025-08-12 06:09:01,216 - DEBUG - [ensure_str_list] Converting list: ['normal']
2025-08-12 06:09:01,217 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,217 - DEBUG - [ensure_str_list] Result: ['normal']
2025-08-12 06:09:01,217 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal']
2025-08-12 06:09:01,217 - DEBUG - [_extract_ngram_features] OUTPUT: {}
2025-08-12 06:09:01,217 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:01,219 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal'], n=2
2025-08-12 06:09:01,219 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal']
2025-08-12 06:09:01,219 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,219 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,219 - DEBUG - [ensure_str_list] Result: ['normal', 'normal']
2025-08-12 06:09:01,220 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal']
2025-08-12 06:09:01,220 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 1}
2025-08-12 06:09:01,220 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:01,220 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal'], n=2
2025-08-12 06:09:01,220 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal']
2025-08-12 06:09:01,220 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,221 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,221 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,221 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal']
2025-08-12 06:09:01,221 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal']
2025-08-12 06:09:01,222 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 2}
2025-08-12 06:09:01,222 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:01,222 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:01,222 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,223 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,223 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,223 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,223 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,223 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,224 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,224 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-12 06:09:01,224 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:01,224 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:01,225 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,225 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,225 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,226 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,226 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,226 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,227 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,227 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,227 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 4}
2025-08-12 06:09:01,227 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:01,228 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:01,228 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,228 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,228 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,228 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,228 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,228 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,229 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,229 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,229 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,229 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-12 06:09:01,230 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:01,230 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:01,230 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,230 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,231 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,231 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,231 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,231 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,232 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,232 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,232 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,232 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,233 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 6}
2025-08-12 06:09:01,233 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:01,233 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,233 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,234 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,234 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,234 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,234 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,235 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,235 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,235 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,235 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,236 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,236 - DEBUG - [_detect_alternation] OUTPUT: 0.14285714285714285
2025-08-12 06:09:01,236 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:01,236 - INFO - [extract_regularity_features] INPUT: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,236 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,236 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,236 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,238 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,238 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,238 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,238 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,238 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,238 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,239 - INFO - [extract_regularity_features] OUTPUT: {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 7}}
2025-08-12 06:09:01,239 - DEBUG - [extract_regularity_features] Output is JSON serializable.
2025-08-12 06:09:01,239 - INFO - [extract_dominant_shape_modifiers] INPUT: {'modifiers': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']}
2025-08-12 06:09:01,239 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,240 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,240 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,240 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,240 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,241 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,241 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,241 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,241 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,241 - INFO - [extract_dominant_shape_modifiers] OUTPUT: {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 7}}
2025-08-12 06:09:01,242 - DEBUG - [extract_dominant_shape_modifiers] Output is JSON serializable.
2025-08-12 06:09:01,242 - WARNING - [PATCH] Failed to load canonical summary for image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_2: type object 'FileIO' has no attribute 'load_canonical_features'
2025-08-12 06:09:01,242 - DEBUG - [process_single_image] Passing topo_shape_list to extract_topological_features: [{'vertices': [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)]}]
2025-08-12 06:09:01,257 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image type: <class 'bongard.bongard.BongardImage'> | problem_id=hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:01,257 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image.one_stroke_shapes: [<src.data_pipeline.logo_parser.OneStrokeShape object at 0x00000259475A0C90>]
2025-08-12 06:09:01,257 - INFO - [extract_stroke_features_from_shapes] problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 | num_shapes=1 | total_strokes=7
2025-08-12 06:09:01,257 - INFO - [extract_stroke_features_from_shapes] PATCH: shapes=[<src.data_pipeline.logo_parser.OneStrokeShape object at 0x00000259475A0C90>]
2025-08-12 06:09:01,259 - INFO - [extract_stroke_features_from_shapes] Shape 0 actions: [line_normal_0.447-0.500, line_normal_0.250-0.926, line_normal_0.250-0.648, line_normal_0.816-0.331, line_normal_0.505-0.930, line_normal_0.505-0.313, line_normal_0.816-0.930]
2025-08-12 06:09:01,259 - INFO - [extract_stroke_features_from_shapes] Shape 0: [line_normal_0.447-0.500, line_normal_0.250-0.926, line_normal_0.250-0.648, line_normal_0.816-0.331, line_normal_0.505-0.930, line_normal_0.505-0.313, line_normal_0.816-0.930], None, None, None
2025-08-12 06:09:01,259 - INFO - [extract_stroke_features_from_shapes] Shape 0 geometry: {'area': 0.17844642282184378, 'perimeter': 2.6678027919662695, 'centroid': [0.2975701687946446, 0.4793205709448238], 'bounds': [0.0, 0.0, 0.6146770966929546, 1.0], 'width': 0.6146770966929546, 'height': 1.0, 'robust_curvature': 2.0081827854495446, 'robust_angular_variance': 0.46228093900266287, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 2.55548211450531}
2025-08-12 06:09:01,259 - INFO - [extract_stroke_features_from_shapes] Shape 0: num_actions=7 | actions=[line_normal_0.447-0.500, line_normal_0.250-0.926, line_normal_0.250-0.648, line_normal_0.816-0.331, line_normal_0.505-0.930, line_normal_0.505-0.313, line_normal_0.816-0.930]
2025-08-12 06:09:01,260 - INFO - [extract_stroke_features_from_shapes] PATCH: Validated/corrected shape_vertices for shape 0: [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395), (0.0, 0.0)]
2025-08-12 06:09:01,260 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=0 | stroke=line_normal_0.447-0.500
2025-08-12 06:09:01,260 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (643.6800000000001, 0.0)]
2025-08-12 06:09:01,261 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,261 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,261 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,262 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,262 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,264 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.3150723302606307}
2025-08-12 06:09:01,264 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.3150723302606307, 'is_simple': True}
2025-08-12 06:09:01,264 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 0: {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)], 'open_stroke_perimeter': 5168.16, 'compactness': 0.3150723302606307, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 643.6800000000001, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'line_length': 5168.16, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:01,264 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=1 | stroke=line_normal_0.250-0.926
2025-08-12 06:09:01,265 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(643.6800000000001, 0.0), (321.897087305545, 161.41795779241147)]
2025-08-12 06:09:01,265 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,265 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,265 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.447-0.500, line_normal_0.250-0.926, line_normal_0.250-0.648, line_normal_0.816-0.331, line_normal_0.505-0.930, line_normal_0.505-0.313, line_normal_0.816-0.930]
2025-08-12 06:09:01,266 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.447-0.500
2025-08-12 06:09:01,266 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,266 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,267 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,267 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,267 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,269 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.3150723302606307}
2025-08-12 06:09:01,269 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.3150723302606307, 'is_simple': True}
2025-08-12 06:09:01,269 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.250-0.926
2025-08-12 06:09:01,270 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,270 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,270 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,270 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:01,271 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,271 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,271 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,272 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,272 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:01,272 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,273 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,273 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(643.6800000000001, 0.0), (321.897087305545, 161.41795779241147)]
2025-08-12 06:09:01,273 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,274 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,274 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.250-0.648
2025-08-12 06:09:01,274 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,275 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,275 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,276 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:01,276 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,277 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,277 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,277 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,277 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:01,278 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,278 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,279 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(643.6800000000001, 0.0), (321.897087305545, 161.41795779241147)]
2025-08-12 06:09:01,279 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,279 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,279 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.816-0.331
2025-08-12 06:09:01,279 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,281 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,281 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,281 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:01,282 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,282 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,282 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,283 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,283 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:01,283 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,284 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,284 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(643.6800000000001, 0.0), (321.897087305545, 161.41795779241147)]
2025-08-12 06:09:01,284 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,284 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,284 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.505-0.930
2025-08-12 06:09:01,284 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,285 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,285 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,285 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:01,286 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,286 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,286 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,287 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,287 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:01,287 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,288 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,288 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(643.6800000000001, 0.0), (321.897087305545, 161.41795779241147)]
2025-08-12 06:09:01,288 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,288 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,288 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.505-0.313
2025-08-12 06:09:01,290 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,290 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,290 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,291 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:01,293 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,294 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,295 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,295 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,295 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:01,296 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,296 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,296 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(643.6800000000001, 0.0), (321.897087305545, 161.41795779241147)]
2025-08-12 06:09:01,297 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,297 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,297 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.816-0.930
2025-08-12 06:09:01,298 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,298 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,298 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,299 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:01,299 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,300 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,300 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,300 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,300 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:01,301 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,301 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,301 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(643.6800000000001, 0.0), (321.897087305545, 161.41795779241147)]
2025-08-12 06:09:01,302 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,302 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,302 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:01,303 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:01,303 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:01,305 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:01,305 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,305 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,305 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 308.57142857142856, 'var': 15869.387755102036, 'min': 0.0, 'max': 360.0, 'count': 7}, 'width': {'mean': 275.81392516667574, 'var': 12678.88688597477, 'min': 0.0, 'max': 321.78291269445504, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 138.3582495363527, 'var': 3190.500869127273, 'min': 0.0, 'max': 161.41795779241147, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:01,306 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 308.57142857142856, 'var': 15869.387755102036, 'min': 0.0, 'max': 360.0, 'count': 7}, 'width': {'mean': 275.81392516667574, 'var': 12678.88688597477, 'min': 0.0, 'max': 321.78291269445504, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 138.3582495363527, 'var': 3190.500869127273, 'min': 0.0, 'max': 161.41795779241147, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:01,306 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:01,307 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,308 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,308 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(643.6800000000001, 0.0), (321.897087305545, 161.41795779241147)]
2025-08-12 06:09:01,308 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,309 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,309 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(643.6800000000001, 0.0), (321.897087305545, 161.41795779241147)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 360.0, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 360.0, 'var': 0.0, 'min': 360.0, 'max': 360.0, 'count': 1}, 'width': {'mean': 321.78291269445504, 'var': 0.0, 'min': 321.78291269445504, 'max': 321.78291269445504, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 161.41795779241147, 'var': 0.0, 'min': 161.41795779241147, 'max': 161.41795779241147, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 360.0, 'var': 0.0, 'min': 360.0, 'max': 360.0, 'count': 1}, 'width': {'mean': 321.78291269445504, 'var': 0.0, 'min': 321.78291269445504, 'max': 321.78291269445504, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 161.41795779241147, 'var': 0.0, 'min': 161.41795779241147, 'max': 161.41795779241147, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 321.78291269445504, 'height': 161.41795779241147, 'area': 0.0, 'perimeter': 360.0, 'centroid': [482.78854365277255, 80.70897889620574], 'bounds': [321.897087305545, 0.0, 643.6800000000001, 161.41795779241147], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': 153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:01,310 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_normal_0.250-0.648
2025-08-12 06:09:01,311 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13)]
2025-08-12 06:09:01,311 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,311 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,312 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.447-0.500, line_normal_0.250-0.926, line_normal_0.250-0.648, line_normal_0.816-0.331, line_normal_0.505-0.930, line_normal_0.505-0.313, line_normal_0.816-0.930]
2025-08-12 06:09:01,312 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.447-0.500
2025-08-12 06:09:01,313 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,313 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,314 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,315 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,315 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,319 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.3150723302606307}
2025-08-12 06:09:01,319 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.3150723302606307, 'is_simple': True}
2025-08-12 06:09:01,320 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.250-0.926
2025-08-12 06:09:01,320 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,320 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,321 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,321 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:01,321 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,322 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,322 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,323 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,324 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:01,324 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,326 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,326 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13)]
2025-08-12 06:09:01,326 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,327 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,327 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.250-0.648
2025-08-12 06:09:01,327 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,327 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,328 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,328 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:01,329 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,329 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,329 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,330 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,330 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:01,332 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,332 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,332 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13)]
2025-08-12 06:09:01,333 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,333 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,334 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.816-0.331
2025-08-12 06:09:01,334 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,334 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,335 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,335 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:01,336 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,336 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,336 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,336 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,337 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:01,338 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,338 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,338 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13)]
2025-08-12 06:09:01,339 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,339 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,339 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.505-0.930
2025-08-12 06:09:01,340 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,340 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,340 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,340 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:01,342 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,342 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,342 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,343 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,343 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:01,344 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,344 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,344 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13)]
2025-08-12 06:09:01,345 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,345 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,346 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.505-0.313
2025-08-12 06:09:01,346 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,347 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,347 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,348 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:01,348 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,351 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,351 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,351 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,351 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:01,353 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,353 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,353 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13)]
2025-08-12 06:09:01,354 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,354 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,354 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.816-0.930
2025-08-12 06:09:01,354 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,355 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,355 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,355 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:01,356 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,356 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,356 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,357 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,357 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:01,357 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,358 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,358 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13)]
2025-08-12 06:09:01,358 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,358 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,359 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:01,359 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:01,359 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:01,359 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:01,361 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,361 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,362 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 308.57142857142856, 'var': 15869.387755102036, 'min': 0.0, 'max': 360.0, 'count': 7}, 'width': {'mean': 275.81392516667563, 'var': 12678.886885974762, 'min': 0.0, 'max': 321.7829126944549, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 138.35824953635287, 'var': 3190.500869127279, 'min': 0.0, 'max': 161.41795779241167, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:01,362 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 308.57142857142856, 'var': 15869.387755102036, 'min': 0.0, 'max': 360.0, 'count': 7}, 'width': {'mean': 275.81392516667563, 'var': 12678.886885974762, 'min': 0.0, 'max': 321.7829126944549, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 138.35824953635287, 'var': 3190.500869127279, 'min': 0.0, 'max': 161.41795779241167, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:01,362 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:01,363 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,363 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,363 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13)]
2025-08-12 06:09:01,364 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,364 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,364 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 360.0, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 360.0, 'var': 0.0, 'min': 360.0, 'max': 360.0, 'count': 1}, 'width': {'mean': 321.7829126944549, 'var': 0.0, 'min': 321.7829126944549, 'max': 321.7829126944549, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 161.41795779241167, 'var': 0.0, 'min': 161.41795779241167, 'max': 161.41795779241167, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 360.0, 'var': 0.0, 'min': 360.0, 'max': 360.0, 'count': 1}, 'width': {'mean': 321.7829126944549, 'var': 0.0, 'min': 321.7829126944549, 'max': 321.7829126944549, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 161.41795779241167, 'var': 0.0, 'min': 161.41795779241167, 'max': 161.41795779241167, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'geometry': {'width': 321.7829126944549, 'height': 161.41795779241167, 'area': 0.0, 'perimeter': 360.0, 'centroid': [161.00563095831757, 80.70897889620564], 'bounds': [0.11417461109010674, -1.9895196601282805e-13, 321.897087305545, 161.41795779241147], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': -153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:01,364 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_normal_0.816-0.331
2025-08-12 06:09:01,365 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671)]
2025-08-12 06:09:01,365 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,365 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,366 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.447-0.500, line_normal_0.250-0.926, line_normal_0.250-0.648, line_normal_0.816-0.331, line_normal_0.505-0.930, line_normal_0.505-0.313, line_normal_0.816-0.930]
2025-08-12 06:09:01,366 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.447-0.500
2025-08-12 06:09:01,366 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,367 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,367 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,368 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,369 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,371 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.3150723302606307}
2025-08-12 06:09:01,372 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.3150723302606307, 'is_simple': True}
2025-08-12 06:09:01,372 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.250-0.926
2025-08-12 06:09:01,373 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,373 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,373 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,374 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1175.04. Returning 0.0.
2025-08-12 06:09:01,374 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,375 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,375 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,375 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,376 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:01,377 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,377 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,377 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671)]
2025-08-12 06:09:01,378 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,378 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,378 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.250-0.648
2025-08-12 06:09:01,379 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,379 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,380 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,380 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1175.04. Returning 0.0.
2025-08-12 06:09:01,380 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,381 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,381 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,381 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,381 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:01,382 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,382 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,383 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671)]
2025-08-12 06:09:01,383 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,383 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,383 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.816-0.331
2025-08-12 06:09:01,383 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,385 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,385 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,385 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1175.04. Returning 0.0.
2025-08-12 06:09:01,385 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,386 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,386 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,386 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,387 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:01,387 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,387 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,388 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671)]
2025-08-12 06:09:01,388 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,388 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,388 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.505-0.930
2025-08-12 06:09:01,390 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,390 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,390 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,390 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1175.04. Returning 0.0.
2025-08-12 06:09:01,391 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,391 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,391 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,391 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,392 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:01,392 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,392 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,392 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671)]
2025-08-12 06:09:01,392 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,393 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,393 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.505-0.313
2025-08-12 06:09:01,393 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,393 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,394 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,394 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1175.04. Returning 0.0.
2025-08-12 06:09:01,394 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,395 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,395 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,395 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,395 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:01,396 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,396 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,396 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671)]
2025-08-12 06:09:01,397 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,397 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,397 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.816-0.930
2025-08-12 06:09:01,397 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,397 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,399 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,399 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1175.04. Returning 0.0.
2025-08-12 06:09:01,399 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,400 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,400 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,400 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,400 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:01,401 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,401 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,402 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671)]
2025-08-12 06:09:01,402 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,402 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,402 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:01,402 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:01,404 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:01,404 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1175.04. Returning 0.0.
2025-08-12 06:09:01,405 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,405 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,405 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 1007.1771428571428, 'var': 169067.6328489795, 'min': 0.0, 'max': 1175.04, 'count': 7}, 'width': {'mean': 833.0166497104981, 'var': 115652.78978248379, 'min': 0.0, 'max': 971.8527579955812, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 566.1175305526006, 'var': 53414.843066495785, 'min': 0.0, 'max': 660.4704523113674, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:01,406 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 1007.1771428571428, 'var': 169067.6328489795, 'min': 0.0, 'max': 1175.04, 'count': 7}, 'width': {'mean': 833.0166497104981, 'var': 115652.78978248379, 'min': 0.0, 'max': 971.8527579955812, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 566.1175305526006, 'var': 53414.843066495785, 'min': 0.0, 'max': 660.4704523113674, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:01,406 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:01,407 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,407 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,407 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671)]
2025-08-12 06:09:01,408 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,408 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,408 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671)], 'open_stroke_perimeter': 1175.04, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1175.04, 'avg_stroke_length': 1175.04, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 1175.04, 'var': 0.0, 'min': 1175.04, 'max': 1175.04, 'count': 1}, 'width': {'mean': 971.8527579955812, 'var': 0.0, 'min': 971.8527579955812, 'max': 971.8527579955812, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 660.4704523113674, 'var': 0.0, 'min': 660.4704523113674, 'max': 660.4704523113674, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 1175.04, 'var': 0.0, 'min': 1175.04, 'max': 1175.04, 'count': 1}, 'width': {'mean': 971.8527579955812, 'var': 0.0, 'min': 971.8527579955812, 'max': 971.8527579955812, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 660.4704523113674, 'var': 0.0, 'min': 660.4704523113674, 'max': 660.4704523113674, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'geometry': {'width': 971.8527579955812, 'height': 660.4704523113674, 'area': 0.0, 'perimeter': 1175.04, 'centroid': [-485.8122043867005, 330.23522615568345], 'bounds': [-971.7385833844911, -1.9895196601282805e-13, 0.11417461109010674, 660.4704523113671], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1175.04, 'line_angle': 145.8, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:01,408 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=4 | stroke=line_normal_0.505-0.930
2025-08-12 06:09:01,408 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445)]
2025-08-12 06:09:01,409 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,409 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,409 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.447-0.500, line_normal_0.250-0.926, line_normal_0.250-0.648, line_normal_0.816-0.331, line_normal_0.505-0.930, line_normal_0.505-0.313, line_normal_0.816-0.930]
2025-08-12 06:09:01,410 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.447-0.500
2025-08-12 06:09:01,410 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,410 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,411 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,411 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,412 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,414 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.3150723302606307}
2025-08-12 06:09:01,414 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.3150723302606307, 'is_simple': True}
2025-08-12 06:09:01,414 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.250-0.926
2025-08-12 06:09:01,416 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,416 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,417 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,417 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=727.2. Returning 0.0.
2025-08-12 06:09:01,417 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,417 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,418 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,418 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,418 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:01,419 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,419 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,420 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445)]
2025-08-12 06:09:01,420 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,420 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,420 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.250-0.648
2025-08-12 06:09:01,421 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,421 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,421 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,422 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=727.2. Returning 0.0.
2025-08-12 06:09:01,422 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,422 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,422 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,423 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,423 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:01,424 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,425 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,425 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445)]
2025-08-12 06:09:01,425 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,425 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,425 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.816-0.331
2025-08-12 06:09:01,425 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,426 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,426 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,426 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=727.2. Returning 0.0.
2025-08-12 06:09:01,427 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,427 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,428 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,428 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,428 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:01,429 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,429 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,429 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445)]
2025-08-12 06:09:01,431 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,431 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,431 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.505-0.930
2025-08-12 06:09:01,431 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,432 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,432 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,432 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=727.2. Returning 0.0.
2025-08-12 06:09:01,432 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,433 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,433 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,433 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,434 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:01,434 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,435 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,435 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445)]
2025-08-12 06:09:01,435 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,435 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,436 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.505-0.313
2025-08-12 06:09:01,436 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,436 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,437 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,437 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=727.2. Returning 0.0.
2025-08-12 06:09:01,437 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,438 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,438 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,438 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,439 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:01,439 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,439 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,440 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445)]
2025-08-12 06:09:01,440 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,440 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,441 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.816-0.930
2025-08-12 06:09:01,441 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,441 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,442 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,442 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=727.2. Returning 0.0.
2025-08-12 06:09:01,442 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,443 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,443 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,443 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,443 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:01,445 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,445 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,445 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445)]
2025-08-12 06:09:01,445 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,446 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,446 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:01,446 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:01,447 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:01,447 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=727.2. Returning 0.0.
2025-08-12 06:09:01,448 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,448 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,449 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 623.3142857142857, 'var': 64753.44979591836, 'min': 0.0, 'max': 727.2, 'count': 7}, 'width': {'mean': 317.2927864574317, 'var': 16779.11872298689, 'min': 0.0, 'max': 370.1749175336703, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 536.5128017462295, 'var': 47974.33107293149, 'min': 0.0, 'max': 625.9316020372677, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:01,449 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 623.3142857142857, 'var': 64753.44979591836, 'min': 0.0, 'max': 727.2, 'count': 7}, 'width': {'mean': 317.2927864574317, 'var': 16779.11872298689, 'min': 0.0, 'max': 370.1749175336703, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 536.5128017462295, 'var': 47974.33107293149, 'min': 0.0, 'max': 625.9316020372677, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:01,450 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:01,450 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,450 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,451 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445)]
2025-08-12 06:09:01,451 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,451 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,452 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 4: {'stroke_index': 4, 'analytic_vertices': [(-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445)], 'open_stroke_perimeter': 727.2, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 727.2, 'avg_stroke_length': 727.2, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 727.2, 'var': 0.0, 'min': 727.2, 'max': 727.2, 'count': 1}, 'width': {'mean': 370.1749175336703, 'var': 0.0, 'min': 370.1749175336703, 'max': 370.1749175336703, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 625.9316020372677, 'var': 0.0, 'min': 625.9316020372677, 'max': 625.9316020372677, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 727.2, 'var': 0.0, 'min': 727.2, 'max': 727.2, 'count': 1}, 'width': {'mean': 370.1749175336703, 'var': 0.0, 'min': 370.1749175336703, 'max': 370.1749175336703, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 625.9316020372677, 'var': 0.0, 'min': 625.9316020372677, 'max': 625.9316020372677, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'geometry': {'width': 370.1749175336703, 'height': 625.9316020372677, 'area': 0.0, 'perimeter': 727.2, 'centroid': [-786.651124617656, 347.5046512927333], 'bounds': [-971.7385833844911, 34.538850274099445, -601.5636658508208, 660.4704523113671], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 727.2, 'line_angle': -59.399999999999984, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:01,452 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=5 | stroke=line_normal_0.505-0.313
2025-08-12 06:09:01,452 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023)]
2025-08-12 06:09:01,452 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,453 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,453 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.447-0.500, line_normal_0.250-0.926, line_normal_0.250-0.648, line_normal_0.816-0.331, line_normal_0.505-0.930, line_normal_0.505-0.313, line_normal_0.816-0.930]
2025-08-12 06:09:01,453 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.447-0.500
2025-08-12 06:09:01,454 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,454 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,454 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,455 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,455 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,458 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.3150723302606307}
2025-08-12 06:09:01,458 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.3150723302606307, 'is_simple': True}
2025-08-12 06:09:01,458 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.250-0.926
2025-08-12 06:09:01,459 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,459 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,459 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,459 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=727.1999999999999. Returning 0.0.
2025-08-12 06:09:01,460 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,460 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,460 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,460 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,461 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:01,461 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,461 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,462 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023)]
2025-08-12 06:09:01,462 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,462 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,463 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.250-0.648
2025-08-12 06:09:01,463 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,463 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,464 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,464 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=727.1999999999999. Returning 0.0.
2025-08-12 06:09:01,464 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,464 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,466 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,466 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,466 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:01,466 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,467 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,467 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023)]
2025-08-12 06:09:01,467 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,467 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,467 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.816-0.331
2025-08-12 06:09:01,468 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,468 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,468 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,469 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=727.1999999999999. Returning 0.0.
2025-08-12 06:09:01,469 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,469 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,469 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,471 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,471 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:01,471 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,471 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,472 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023)]
2025-08-12 06:09:01,472 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,472 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,472 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.505-0.930
2025-08-12 06:09:01,473 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,473 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,473 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,474 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=727.1999999999999. Returning 0.0.
2025-08-12 06:09:01,474 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,474 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,475 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,475 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,475 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:01,476 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,476 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,476 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023)]
2025-08-12 06:09:01,477 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,477 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,477 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.505-0.313
2025-08-12 06:09:01,477 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,478 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,478 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,478 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=727.1999999999999. Returning 0.0.
2025-08-12 06:09:01,479 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,479 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,479 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,480 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,480 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:01,480 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,481 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,481 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023)]
2025-08-12 06:09:01,481 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,482 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,482 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.816-0.930
2025-08-12 06:09:01,482 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,483 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,483 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,483 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=727.1999999999999. Returning 0.0.
2025-08-12 06:09:01,484 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,484 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,484 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,484 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,484 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:01,486 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,486 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,486 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023)]
2025-08-12 06:09:01,486 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,487 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,487 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:01,487 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:01,488 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:01,488 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=727.1999999999999. Returning 0.0.
2025-08-12 06:09:01,488 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,489 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,489 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 623.3142857142857, 'var': 64753.44979591836, 'min': 0.0, 'max': 727.1999999999999, 'count': 7}, 'width': {'mean': 372.68271743950925, 'var': 23148.734646349512, 'min': 0.0, 'max': 434.79650367942736, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 499.62815262694437, 'var': 41604.715149568874, 'min': 0.0, 'max': 582.8995113981017, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:01,489 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 623.3142857142857, 'var': 64753.44979591836, 'min': 0.0, 'max': 727.1999999999999, 'count': 7}, 'width': {'mean': 372.68271743950925, 'var': 23148.734646349512, 'min': 0.0, 'max': 434.79650367942736, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 499.62815262694437, 'var': 41604.715149568874, 'min': 0.0, 'max': 582.8995113981017, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:01,489 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:01,490 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,490 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,490 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023)]
2025-08-12 06:09:01,491 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,491 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,491 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 5: {'stroke_index': 5, 'analytic_vertices': [(-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023)], 'open_stroke_perimeter': 727.1999999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 727.1999999999999, 'avg_stroke_length': 727.1999999999999, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 727.1999999999999, 'var': 0.0, 'min': 727.1999999999999, 'max': 727.1999999999999, 'count': 1}, 'width': {'mean': 434.79650367942736, 'var': 0.0, 'min': 434.79650367942736, 'max': 434.79650367942736, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 582.8995113981017, 'var': 0.0, 'min': 582.8995113981017, 'max': 582.8995113981017, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 727.1999999999999, 'var': 0.0, 'min': 727.1999999999999, 'max': 727.1999999999999, 'count': 1}, 'width': {'mean': 434.79650367942736, 'var': 0.0, 'min': 434.79650367942736, 'max': 434.79650367942736, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 582.8995113981017, 'var': 0.0, 'min': 582.8995113981017, 'max': 582.8995113981017, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'geometry': {'width': 434.79650367942736, 'height': 582.8995113981017, 'area': 0.0, 'perimeter': 727.1999999999999, 'centroid': [-818.9619176905345, -256.9109054249514], 'bounds': [-1036.3601695302482, -548.3606611240023, -601.5636658508208, 34.538850274099445], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 727.1999999999999, 'line_angle': -126.71999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:01,491 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=6 | stroke=line_normal_0.816-0.930
2025-08-12 06:09:01,492 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395), (0.0, 0.0)]
2025-08-12 06:09:01,492 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,492 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,493 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:01,493 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,493 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,494 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.006435494515695913}
2025-08-12 06:09:01,494 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.006435494515695913, 'is_simple': True}
2025-08-12 06:09:01,494 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 6: {'stroke_index': 6, 'analytic_vertices': [(-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395), (0.0, 0.0)], 'open_stroke_perimeter': 1179.7895120851065, 'compactness': 0.006435494515695913, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1179.7895120851065, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}}}, 'line_length': 1179.7895120851065, 'line_angle': 28.080000000000016, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:01,495 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=7
2025-08-12 06:09:01,496 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['line_is_long', 'line_angle', 'avg_stroke_length', 'visual_complexity', 'line_is_vertical', 'line_is_short', 'is_normal', 'line_curvature_score', 'is_geometric', 'convexity_ratio', 'compactness', 'stroke_index', 'open_stroke_perimeter', 'arc_curvature_score', 'robust_curvature', 'robust_angular_variance', 'degenerate_case', 'is_simple', 'line_length', 'stroke_length', 'geom_complexity', 'geometric_complexity', 'line_is_horizontal', 'num_vertices', 'is_pattern']
2025-08-12 06:09:01,496 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (7) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-12 06:09:01,496 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=7
2025-08-12 06:09:01,498 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 7
2025-08-12 06:09:01,498 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 7, 'num_arcs': 0, 'line_ratio': 1.0, 'arc_ratio': 0.0, 'stroke_diversity': 0}, 'line_aggregate': {'total_line_length': 9697.389512085107, 'avg_line_length': 1385.3413588693008, 'line_length_variance': 2480734.9994098744, 'line_angle_variance': 12664.23164081633, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'diagonal-down'}}
2025-08-12 06:09:01,498 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_normal_0.447-0.500,line_normal_0.250-0.926,line_normal_0.250-0.648,line_normal_0.816-0.331,line_normal_0.505-0.930,line_normal_0.505-0.313,line_normal_0.816-0.930
2025-08-12 06:09:01,498 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_normal_0.447-0.500', 'line_normal_0.250-0.926', 'line_normal_0.250-0.648', 'line_normal_0.816-0.331', 'line_normal_0.505-0.930', 'line_normal_0.505-0.313', 'line_normal_0.816-0.930']]
2025-08-12 06:09:01,499 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.447-0.500', 'line_normal_0.250-0.926', 'line_normal_0.250-0.648', 'line_normal_0.816-0.331', 'line_normal_0.505-0.930', 'line_normal_0.505-0.313', 'line_normal_0.816-0.930']
2025-08-12 06:09:01,499 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.447-0.500', 'line_normal_0.250-0.926', 'line_normal_0.250-0.648', 'line_normal_0.816-0.331', 'line_normal_0.505-0.930', 'line_normal_0.505-0.313', 'line_normal_0.816-0.930']
2025-08-12 06:09:01,499 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_normal_0.447-0.500', 'line_normal_0.250-0.926', 'line_normal_0.250-0.648', 'line_normal_0.816-0.331', 'line_normal_0.505-0.930', 'line_normal_0.505-0.313', 'line_normal_0.816-0.930']]
2025-08-12 06:09:01,499 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.447-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)], 'open_stroke_perimeter': 5168.16, 'compactness': 0.3150723302606307, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 643.6800000000001, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5168.16, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.250-0.926', 'features': {'stroke_index': 1, 'analytic_vertices': [(643.6800000000001, 0.0), (321.897087305545, 161.41795779241147)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 321.78291269445504, 'height': 161.41795779241147, 'area': 0.0, 'perimeter': 360.0, 'centroid': [482.78854365277255, 80.70897889620574], 'bounds': [321.897087305545, 0.0, 643.6800000000001, 161.41795779241147], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': 153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.250-0.648', 'features': {'stroke_index': 2, 'analytic_vertices': [(321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 321.7829126944549, 'height': 161.41795779241167, 'area': 0.0, 'perimeter': 360.0, 'centroid': [161.00563095831757, 80.70897889620564], 'bounds': [0.11417461109010674, -1.9895196601282805e-13, 321.897087305545, 161.41795779241147], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': -153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.816-0.331', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671)], 'open_stroke_perimeter': 1175.04, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1175.04, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 971.8527579955812, 'height': 660.4704523113674, 'area': 0.0, 'perimeter': 1175.04, 'centroid': [-485.8122043867005, 330.23522615568345], 'bounds': [-971.7385833844911, -1.9895196601282805e-13, 0.11417461109010674, 660.4704523113671], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1175.04, 'line_angle': 145.8, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.505-0.930', 'features': {'stroke_index': 4, 'analytic_vertices': [(-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445)], 'open_stroke_perimeter': 727.2, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 727.2, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 370.1749175336703, 'height': 625.9316020372677, 'area': 0.0, 'perimeter': 727.2, 'centroid': [-786.651124617656, 347.5046512927333], 'bounds': [-971.7385833844911, 34.538850274099445, -601.5636658508208, 660.4704523113671], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 727.2, 'line_angle': -59.399999999999984, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.505-0.313', 'features': {'stroke_index': 5, 'analytic_vertices': [(-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023)], 'open_stroke_perimeter': 727.1999999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 727.1999999999999, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 434.79650367942736, 'height': 582.8995113981017, 'area': 0.0, 'perimeter': 727.1999999999999, 'centroid': [-818.9619176905345, -256.9109054249514], 'bounds': [-1036.3601695302482, -548.3606611240023, -601.5636658508208, 34.538850274099445], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 727.1999999999999, 'line_angle': -126.71999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.816-0.930', 'features': {'stroke_index': 6, 'analytic_vertices': [(-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395), (0.0, 0.0)], 'open_stroke_perimeter': 1179.7895120851065, 'compactness': 0.006435494515695913, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1179.7895120851065, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1179.7895120851065, 'line_angle': 28.080000000000016, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:01,500 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:01,500 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:01,500 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-12 06:09:01,500 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-12 06:09:01,501 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.49457727508024163, 0.48597433538683427], 'orientation_degrees': -178.4245015238243}, geometry={'area': 0.17844642282184378, 'perimeter': 2.6678027919662695, 'centroid': [0.2975701687946446, 0.4793205709448238], 'bounds': [0.0, 0.0, 0.6146770966929546, 1.0], 'width': 0.6146770966929546, 'height': 1.0}
2025-08-12 06:09:01,501 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_normal_0.447-0.500', 'line_normal_0.250-0.926', 'line_normal_0.250-0.648', 'line_normal_0.816-0.331', 'line_normal_0.505-0.930', 'line_normal_0.505-0.313', 'line_normal_0.816-0.930']
2025-08-12 06:09:01,501 - DEBUG - [PATCH][actions field] Joined: line_normal_0.447-0.500,line_normal_0.250-0.926,line_normal_0.250-0.648,line_normal_0.816-0.331,line_normal_0.505-0.930,line_normal_0.505-0.313,line_normal_0.816-0.930
2025-08-12 06:09:01,502 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.447-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)], 'open_stroke_perimeter': 5168.16, 'compactness': 0.3150723302606307, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 643.6800000000001, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5168.16, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.250-0.926', 'features': {'stroke_index': 1, 'analytic_vertices': [(643.6800000000001, 0.0), (321.897087305545, 161.41795779241147)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 321.78291269445504, 'height': 161.41795779241147, 'area': 0.0, 'perimeter': 360.0, 'centroid': [482.78854365277255, 80.70897889620574], 'bounds': [321.897087305545, 0.0, 643.6800000000001, 161.41795779241147], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': 153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.250-0.648', 'features': {'stroke_index': 2, 'analytic_vertices': [(321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 321.7829126944549, 'height': 161.41795779241167, 'area': 0.0, 'perimeter': 360.0, 'centroid': [161.00563095831757, 80.70897889620564], 'bounds': [0.11417461109010674, -1.9895196601282805e-13, 321.897087305545, 161.41795779241147], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': -153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.816-0.331', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671)], 'open_stroke_perimeter': 1175.04, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1175.04, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 971.8527579955812, 'height': 660.4704523113674, 'area': 0.0, 'perimeter': 1175.04, 'centroid': [-485.8122043867005, 330.23522615568345], 'bounds': [-971.7385833844911, -1.9895196601282805e-13, 0.11417461109010674, 660.4704523113671], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1175.04, 'line_angle': 145.8, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.505-0.930', 'features': {'stroke_index': 4, 'analytic_vertices': [(-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445)], 'open_stroke_perimeter': 727.2, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 727.2, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 370.1749175336703, 'height': 625.9316020372677, 'area': 0.0, 'perimeter': 727.2, 'centroid': [-786.651124617656, 347.5046512927333], 'bounds': [-971.7385833844911, 34.538850274099445, -601.5636658508208, 660.4704523113671], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 727.2, 'line_angle': -59.399999999999984, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.505-0.313', 'features': {'stroke_index': 5, 'analytic_vertices': [(-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023)], 'open_stroke_perimeter': 727.1999999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 727.1999999999999, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 434.79650367942736, 'height': 582.8995113981017, 'area': 0.0, 'perimeter': 727.1999999999999, 'centroid': [-818.9619176905345, -256.9109054249514], 'bounds': [-1036.3601695302482, -548.3606611240023, -601.5636658508208, 34.538850274099445], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 727.1999999999999, 'line_angle': -126.71999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.816-0.930', 'features': {'stroke_index': 6, 'analytic_vertices': [(-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395), (0.0, 0.0)], 'open_stroke_perimeter': 1179.7895120851065, 'compactness': 0.006435494515695913, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1179.7895120851065, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1179.7895120851065, 'line_angle': 28.080000000000016, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:01,502 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)]
2025-08-12 06:09:01,503 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(0.6168663037503574, 0.4536288444509172), (1.0, 0.4536288444509172), (0.8084671316017236, 0.5871611104542953), (0.6169342632034474, 0.45362884445091706), (0.03846431015028989, 1.0), (0.2588012546158344, 0.4822009500910043), (0.0, 0.0), (0.6170849373202809, 0.45754608919662304)]
2025-08-12 06:09:01,503 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_normal_0.447-0.500', 'line_normal_0.250-0.926', 'line_normal_0.250-0.648', 'line_normal_0.816-0.331', 'line_normal_0.505-0.930', 'line_normal_0.505-0.313', 'line_normal_0.816-0.930']]
2025-08-12 06:09:01,503 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:01,503 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:01,504 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|normal': 6}
2025-08-12 06:09:01,504 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)], 'open_stroke_perimeter': 5168.16, 'compactness': 0.3150723302606307, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 643.6800000000001, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5168.16, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(643.6800000000001, 0.0), (321.897087305545, 161.41795779241147)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 321.78291269445504, 'height': 161.41795779241147, 'area': 0.0, 'perimeter': 360.0, 'centroid': [482.78854365277255, 80.70897889620574], 'bounds': [321.897087305545, 0.0, 643.6800000000001, 161.41795779241147], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': 153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 321.7829126944549, 'height': 161.41795779241167, 'area': 0.0, 'perimeter': 360.0, 'centroid': [161.00563095831757, 80.70897889620564], 'bounds': [0.11417461109010674, -1.9895196601282805e-13, 321.897087305545, 161.41795779241147], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': -153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671)], 'open_stroke_perimeter': 1175.04, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1175.04, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 971.8527579955812, 'height': 660.4704523113674, 'area': 0.0, 'perimeter': 1175.04, 'centroid': [-485.8122043867005, 330.23522615568345], 'bounds': [-971.7385833844911, -1.9895196601282805e-13, 0.11417461109010674, 660.4704523113671], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1175.04, 'line_angle': 145.8, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445)], 'open_stroke_perimeter': 727.2, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 727.2, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 370.1749175336703, 'height': 625.9316020372677, 'area': 0.0, 'perimeter': 727.2, 'centroid': [-786.651124617656, 347.5046512927333], 'bounds': [-971.7385833844911, 34.538850274099445, -601.5636658508208, 660.4704523113671], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 727.2, 'line_angle': -59.399999999999984, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023)], 'open_stroke_perimeter': 727.1999999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 727.1999999999999, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 434.79650367942736, 'height': 582.8995113981017, 'area': 0.0, 'perimeter': 727.1999999999999, 'centroid': [-818.9619176905345, -256.9109054249514], 'bounds': [-1036.3601695302482, -548.3606611240023, -601.5636658508208, 34.538850274099445], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 727.1999999999999, 'line_angle': -126.71999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [(-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395), (0.0, 0.0)], 'open_stroke_perimeter': 1179.7895120851065, 'compactness': 0.006435494515695913, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1179.7895120851065, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1179.7895120851065, 'line_angle': 28.080000000000016, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 06:09:01,504 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-12 06:09:01,505 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.2975701687946446, 0.4793205709448238], 'width': 0.6146770966929546, 'height': 1.0, 'area_raw': 0.5031497421551394, 'area_normalized': 1.0, 'perimeter_raw': 3.5279341303665115, 'perimeter_normalized': 1.0, 'aspect_ratio': 0.6146770966929546, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.50800288973085, 'polsby_popper_compactness': 0.2059856527133973, 'eccentricity': 0.43324891977483027, 'symmetry_score': 0.5120039399611148, 'horizontal_symmetry': 0.3107937043981435, 'vertical_symmetry': 0.6642645008048678, 'rotational_symmetry': 1.0, 'has_quadrangle': True, 'geometric_complexity': 8.0, 'visual_complexity': 0.5477673301618077, 'curvature_score': 2.0081827854495446, 'angular_variance': 0.46228093900266287, 'moment_of_inertia': 0.2209904384380667, 'irregularity_score': 0.21116504672869696, 'standardized_complexity': 0.508899676012406, 'clustering_heights': [0.0, 0.0, 0.05281590430918022, 0.09535665012100145, 0.23506789341523976, 0.4314974159708205], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:01,505 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:01,505 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-12 06:09:01,505 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-12 06:09:01,505 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.447-0.500, stroke_index=0
2025-08-12 06:09:01,507 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.447, param2=None, param3=0.5
2025-08-12 06:09:01,507 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.43614285714285717, 0.5), (0.3722857142857143, 0.5), (0.3084285714285714, 0.5), (0.24457142857142855, 0.5), (0.18071428571428572, 0.5), (0.11685714285714283, 0.5), (0.05299999999999999, 0.5)]
2025-08-12 06:09:01,507 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,508 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:01,508 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:01,508 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,509 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:01,509 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,509 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,510 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,510 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,510 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,511 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.05299999999999999, 0.5)]
2025-08-12 06:09:01,511 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.05299999999999999, 0.5)]
2025-08-12 06:09:01,512 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,512 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,512 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.250-0.926, stroke_index=0
2025-08-12 06:09:01,512 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.25, param2=None, param3=0.926
2025-08-12 06:09:01,513 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5319229080054023, 0.48398631371107026), (0.5638458160108045, 0.4679726274221406), (0.5957687240162068, 0.45195894113321083), (0.6276916320216092, 0.43594525484428115), (0.6596145400270115, 0.4199315685553514), (0.6915374480324137, 0.40391788226642167), (0.723460356037816, 0.387904195977492)]
2025-08-12 06:09:01,513 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,514 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,514 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:01,515 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,515 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,515 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,515 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,517 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,517 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:01,517 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:01,518 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,518 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,518 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.250-0.648, stroke_index=0
2025-08-12 06:09:01,518 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.25, param2=None, param3=0.648
2025-08-12 06:09:01,518 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4786462506050886, 0.471372607683183), (0.4572925012101772, 0.44274521536636596), (0.4359387518152658, 0.41411782304954897), (0.4145850024203544, 0.3854904307327319), (0.39323125302544304, 0.35686303841591493), (0.3718775036305316, 0.32823564609909794), (0.3505237542356202, 0.2996082537822809)]
2025-08-12 06:09:01,520 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,521 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,522 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:01,522 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,522 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,522 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,523 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,523 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,523 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:01,524 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:01,524 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,524 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,525 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.816-0.331, stroke_index=0
2025-08-12 06:09:01,525 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.816, param2=None, param3=0.331
2025-08-12 06:09:01,525 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4734935931605419, 0.5475054775416597), (0.4469871863210838, 0.5950109550833194), (0.42048077948162577, 0.6425164326249789), (0.3939743726421676, 0.6900219101666386), (0.3674679658027096, 0.7375273877082983), (0.3409615589632515, 0.7850328652499579), (0.3144551521237934, 0.8325383427916175), (0.2879487452843353, 0.8800438203332772), (0.2614423384448772, 0.9275492978749369), (0.2349359316054191, 0.9750547754165966), (0.208429524765961, 1.022560252958256), (0.18192311792650295, 1.0700657304999157), (0.15541671108704486, 1.1175712080415754), (0.12891030424758676, 1.165076685583235), (0.10240389740812866, 1.2125821631248948)]
2025-08-12 06:09:01,526 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,527 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:01,527 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:01,527 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,527 - INFO - Computed angular variance: 1.079488 for 16 vertices.
2025-08-12 06:09:01,529 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,529 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,529 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,530 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,530 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,531 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:01,531 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:01,531 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.32, 'num_vertices': 16, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,532 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.32, 'num_vertices': 16, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,532 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.505-0.930, stroke_index=0
2025-08-12 06:09:01,532 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.505, param2=None, param3=0.93
2025-08-12 06:09:01,533 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.55077085127726, 0.4761090508621821), (0.60154170255452, 0.4522181017243641), (0.65231255383178, 0.4283271525865462), (0.70308340510904, 0.40443620344872827), (0.7538542563863, 0.38054525431091035), (0.80462510766356, 0.3566543051730924), (0.85539595894082, 0.33276335603527446), (0.90616681021808, 0.30887240689745654), (0.95693766149534, 0.28498145775963857)]
2025-08-12 06:09:01,533 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,534 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,535 - INFO - Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 06:09:01,536 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,536 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,536 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,536 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,536 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,538 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:01,538 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:01,538 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,539 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,539 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.505-0.313, stroke_index=0
2025-08-12 06:09:01,539 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.505, param2=None, param3=0.313
2025-08-12 06:09:01,540 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4783644537666572, 0.5517721926260454), (0.45672890753331435, 0.6035443852520906), (0.43509336129997156, 0.655316577878136), (0.41345781506662876, 0.7070887705041813), (0.39182226883328597, 0.7588609631302267), (0.3701867225999431, 0.810633155756272), (0.3485511763666003, 0.8624053483823173), (0.32691563013325753, 0.9141775410083626), (0.3052800838999147, 0.965949733634408)]
2025-08-12 06:09:01,540 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,541 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:01,542 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:01,542 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,542 - INFO - Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 06:09:01,543 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,543 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,543 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,544 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,544 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,545 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:01,545 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:01,545 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,546 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,546 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.816-0.930, stroke_index=0
2025-08-12 06:09:01,546 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.816, param2=None, param3=0.93
2025-08-12 06:09:01,546 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5492225916541514, 0.4768376065388601), (0.598445183308303, 0.45367521307772013), (0.6476677749624544, 0.4305128196165802), (0.6968903666166059, 0.4073504261554403), (0.7461129582707573, 0.38418803269430035), (0.7953355499249088, 0.36102563923316044), (0.8445581415790603, 0.33786324577202054), (0.8937807332332117, 0.31470085231088063), (0.9430033248873633, 0.29153845884974067), (0.9922259165415147, 0.26837606538860076), (1.0414485081956661, 0.24521367192746085), (1.0906710998498177, 0.2220512784663209), (1.139893691503969, 0.19888888500518098), (1.1891162831581206, 0.17572649154404107), (1.2383388748122721, 0.1525640980829011)]
2025-08-12 06:09:01,547 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,548 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,548 - INFO - Computed angular variance: 1.079488 for 16 vertices.
2025-08-12 06:09:01,549 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,549 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,549 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,550 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,550 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,552 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:01,552 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:01,553 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.32, 'num_vertices': 16, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,553 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.32, 'num_vertices': 16, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,553 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:01,553 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,553 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,554 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,554 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,555 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,555 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,555 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,555 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,556 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,556 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,556 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 6}
2025-08-12 06:09:01,556 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:01,557 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_pos_2', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'positive', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_1/2.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.447-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)], 'open_stroke_perimeter': 5168.16, 'compactness': 0.3150723302606307, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 643.6800000000001, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5168.16, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.250-0.926', 'features': {'stroke_index': 1, 'analytic_vertices': [(643.6800000000001, 0.0), (321.897087305545, 161.41795779241147)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 321.78291269445504, 'height': 161.41795779241147, 'area': 0.0, 'perimeter': 360.0, 'centroid': [482.78854365277255, 80.70897889620574], 'bounds': [321.897087305545, 0.0, 643.6800000000001, 161.41795779241147], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': 153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.250-0.648', 'features': {'stroke_index': 2, 'analytic_vertices': [(321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 321.7829126944549, 'height': 161.41795779241167, 'area': 0.0, 'perimeter': 360.0, 'centroid': [161.00563095831757, 80.70897889620564], 'bounds': [0.11417461109010674, -1.9895196601282805e-13, 321.897087305545, 161.41795779241147], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': -153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.816-0.331', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671)], 'open_stroke_perimeter': 1175.04, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1175.04, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 971.8527579955812, 'height': 660.4704523113674, 'area': 0.0, 'perimeter': 1175.04, 'centroid': [-485.8122043867005, 330.23522615568345], 'bounds': [-971.7385833844911, -1.9895196601282805e-13, 0.11417461109010674, 660.4704523113671], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1175.04, 'line_angle': 145.8, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.505-0.930', 'features': {'stroke_index': 4, 'analytic_vertices': [(-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445)], 'open_stroke_perimeter': 727.2, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 727.2, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 370.1749175336703, 'height': 625.9316020372677, 'area': 0.0, 'perimeter': 727.2, 'centroid': [-786.651124617656, 347.5046512927333], 'bounds': [-971.7385833844911, 34.538850274099445, -601.5636658508208, 660.4704523113671], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 727.2, 'line_angle': -59.399999999999984, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.505-0.313', 'features': {'stroke_index': 5, 'analytic_vertices': [(-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023)], 'open_stroke_perimeter': 727.1999999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 727.1999999999999, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 434.79650367942736, 'height': 582.8995113981017, 'area': 0.0, 'perimeter': 727.1999999999999, 'centroid': [-818.9619176905345, -256.9109054249514], 'bounds': [-1036.3601695302482, -548.3606611240023, -601.5636658508208, 34.538850274099445], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 727.1999999999999, 'line_angle': -126.71999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.816-0.930', 'features': {'stroke_index': 6, 'analytic_vertices': [(-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395), (0.0, 0.0)], 'open_stroke_perimeter': 1179.7895120851065, 'compactness': 0.006435494515695913, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1179.7895120851065, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1179.7895120851065, 'line_angle': 28.080000000000016, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 7, 'raw_vertices': ['(0.0, 0.0)', '(643.6800000000001, 0.0)', '(321.897087305545, 161.41795779241147)', '(0.11417461109010674, -1.9895196601282805e-13)', '(-971.7385833844911, 660.4704523113671)', '(-601.5636658508208, 34.538850274099445)', '(-1036.3601695302482, -548.3606611240023)', '(0.36731317987914736, 4.735287327550395)'], 'vertices': ['(0.6168663037503574, 0.4536288444509172)', '(1.0, 0.4536288444509172)', '(0.8084671316017236, 0.5871611104542953)', '(0.6169342632034474, 0.45362884445091706)', '(0.03846431015028989, 1.0)', '(0.2588012546158344, 0.4822009500910043)', '(0.0, 0.0)', '(0.6170849373202809, 0.45754608919662304)'], 'num_vertices': 8, 'position_label': ['0.49457727508024163', '0.48597433538683427'], 'rotation_label_degrees': ['-178.4245015238243'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.2975701687946446, 0.4793205709448238], 'width': 0.6146770966929546, 'height': 1.0, 'area_raw': 0.5031497421551394, 'area_normalized': 1.0, 'perimeter_raw': 3.5279341303665115, 'perimeter_normalized': 1.0, 'aspect_ratio': 0.6146770966929546, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.50800288973085, 'polsby_popper_compactness': 0.2059856527133973, 'eccentricity': 0.43324891977483027, 'symmetry_score': 0.5120039399611148, 'horizontal_symmetry': 0.3107937043981435, 'vertical_symmetry': 0.6642645008048678, 'rotational_symmetry': 1.0, 'has_quadrangle': True, 'geometric_complexity': 8.0, 'visual_complexity': 0.5477673301618077, 'curvature_score': 2.0081827854495446, 'angular_variance': 0.46228093900266287, 'moment_of_inertia': 0.2209904384380667, 'irregularity_score': 0.21116504672869696, 'standardized_complexity': 0.508899676012406, 'clustering_heights': [0.0, 0.0, 0.05281590430918022, 0.09535665012100145, 0.23506789341523976, 0.4314974159708205], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 1.3010426069826053e-18, 'perimeter_mean': 0.11953746999960153, 'width_mean': 0.050430987830301297, 'height_mean': 0.02999819309053097, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.2209904384380667, 'center_of_mass': [0.2975701687946446, 0.4793205709448238], 'polsby_popper_compactness': 0.6151491635081936, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.0081827854495446, 'angular_variance': 0.46228093900266287, 'edge_length_variance': 0.06743744630195019}, 'composition_features': {'stroke_type_distribution': {'line': 7}, 'shape_modifier_distribution': {'normal': 7}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 8, 'homogeneity_score': 1.0, 'pattern_regularity': 0.14285714285714285}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)], 'open_stroke_perimeter': 5168.16, 'compactness': 0.3150723302606307, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 643.6800000000001, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5168.16, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(643.6800000000001, 0.0), (321.897087305545, 161.41795779241147)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 321.78291269445504, 'height': 161.41795779241147, 'area': 0.0, 'perimeter': 360.0, 'centroid': [482.78854365277255, 80.70897889620574], 'bounds': [321.897087305545, 0.0, 643.6800000000001, 161.41795779241147], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': 153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 321.7829126944549, 'height': 161.41795779241167, 'area': 0.0, 'perimeter': 360.0, 'centroid': [161.00563095831757, 80.70897889620564], 'bounds': [0.11417461109010674, -1.9895196601282805e-13, 321.897087305545, 161.41795779241147], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': -153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671)], 'open_stroke_perimeter': 1175.04, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1175.04, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 971.8527579955812, 'height': 660.4704523113674, 'area': 0.0, 'perimeter': 1175.04, 'centroid': [-485.8122043867005, 330.23522615568345], 'bounds': [-971.7385833844911, -1.9895196601282805e-13, 0.11417461109010674, 660.4704523113671], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1175.04, 'line_angle': 145.8, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445)], 'open_stroke_perimeter': 727.2, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 727.2, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 370.1749175336703, 'height': 625.9316020372677, 'area': 0.0, 'perimeter': 727.2, 'centroid': [-786.651124617656, 347.5046512927333], 'bounds': [-971.7385833844911, 34.538850274099445, -601.5636658508208, 660.4704523113671], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 727.2, 'line_angle': -59.399999999999984, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023)], 'open_stroke_perimeter': 727.1999999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 727.1999999999999, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 434.79650367942736, 'height': 582.8995113981017, 'area': 0.0, 'perimeter': 727.1999999999999, 'centroid': [-818.9619176905345, -256.9109054249514], 'bounds': [-1036.3601695302482, -548.3606611240023, -601.5636658508208, 34.538850274099445], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 727.1999999999999, 'line_angle': -126.71999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [(-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395), (0.0, 0.0)], 'open_stroke_perimeter': 1179.7895120851065, 'compactness': 0.006435494515695913, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1179.7895120851065, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1179.7895120851065, 'line_angle': 28.080000000000016, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 7}}, 'processing_metadata': {'processing_timestamp': 1754959141.5577142, 'feature_count': 54}, 'actions': ['line_normal_0.447-0.500,line_normal_0.250-0.926,line_normal_0.250-0.648,line_normal_0.816-0.331,line_normal_0.505-0.930,line_normal_0.505-0.313,line_normal_0.816-0.930'], 'action_program': ['line_normal_0.447-0.500,line_normal_0.250-0.926,line_normal_0.250-0.648,line_normal_0.816-0.331,line_normal_0.505-0.930,line_normal_0.505-0.313,line_normal_0.816-0.930'], 'geometry': {'area': 0.17844642282184378, 'perimeter': 2.6678027919662695, 'centroid': [0.2975701687946446, 0.4793205709448238], 'bounds': [0.0, 0.0, 0.6146770966929546, 1.0], 'width': 0.6146770966929546, 'height': 1.0}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 6}, 'analytic_attributes': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], 'analytic_ngram': {'normal|normal': 6}, 'alternation': 0.14285714285714285, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 7}}}, 'topological_features': {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 6, 1: 6, 2: 6, 3: 6, 4: 6, 5: 6, 6: 6}, 'adjacency_clustering': {0: 1.0, 1: 1.0, 2: 1.0, 3: 1.0, 4: 1.0, 5: 1.0, 6: 1.0}, 'intersection_count': 21, 'betweenness_centrality': {0: 0.0, 1: 0.0, 2: 0.0, 3: 0.0, 4: 0.0, 5: 0.0, 6: 0.0}, 'containment_score': 1, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 4724.3839213765605, 'skeleton_graph_features': {'num_nodes': 7, 'num_edges': 21}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.46228093900266287, 'complexity': 4, 'groups': {'group_0': {'size': 2, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 3}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.671831675860858, 'complexity': 4, 'groups': {'group_0': {'size': 2, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 3}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.9184139335093882, 'complexity': 4, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 2}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.46388414738047073, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.161501241559591, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}}
2025-08-12 06:09:01,557 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.49457727508024163, 0.48597433538683427], 'orientation_degrees': -178.4245015238243}
2025-08-12 06:09:01,558 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.17844642282184378, 'perimeter': 2.6678027919662695, 'centroid': [0.2975701687946446, 0.4793205709448238], 'bounds': [0.0, 0.0, 0.6146770966929546, 1.0], 'width': 0.6146770966929546, 'height': 1.0}
2025-08-12 06:09:01,558 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.447-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)], 'open_stroke_perimeter': 5168.16, 'compactness': 0.3150723302606307, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 643.6800000000001, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5168.16, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.250-0.926', 'features': {'stroke_index': 1, 'analytic_vertices': [(643.6800000000001, 0.0), (321.897087305545, 161.41795779241147)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 321.78291269445504, 'height': 161.41795779241147, 'area': 0.0, 'perimeter': 360.0, 'centroid': [482.78854365277255, 80.70897889620574], 'bounds': [321.897087305545, 0.0, 643.6800000000001, 161.41795779241147], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': 153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.250-0.648', 'features': {'stroke_index': 2, 'analytic_vertices': [(321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 321.7829126944549, 'height': 161.41795779241167, 'area': 0.0, 'perimeter': 360.0, 'centroid': [161.00563095831757, 80.70897889620564], 'bounds': [0.11417461109010674, -1.9895196601282805e-13, 321.897087305545, 161.41795779241147], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': -153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.816-0.331', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671)], 'open_stroke_perimeter': 1175.04, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1175.04, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 971.8527579955812, 'height': 660.4704523113674, 'area': 0.0, 'perimeter': 1175.04, 'centroid': [-485.8122043867005, 330.23522615568345], 'bounds': [-971.7385833844911, -1.9895196601282805e-13, 0.11417461109010674, 660.4704523113671], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1175.04, 'line_angle': 145.8, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.505-0.930', 'features': {'stroke_index': 4, 'analytic_vertices': [(-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445)], 'open_stroke_perimeter': 727.2, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 727.2, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 370.1749175336703, 'height': 625.9316020372677, 'area': 0.0, 'perimeter': 727.2, 'centroid': [-786.651124617656, 347.5046512927333], 'bounds': [-971.7385833844911, 34.538850274099445, -601.5636658508208, 660.4704523113671], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 727.2, 'line_angle': -59.399999999999984, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.505-0.313', 'features': {'stroke_index': 5, 'analytic_vertices': [(-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023)], 'open_stroke_perimeter': 727.1999999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 727.1999999999999, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 434.79650367942736, 'height': 582.8995113981017, 'area': 0.0, 'perimeter': 727.1999999999999, 'centroid': [-818.9619176905345, -256.9109054249514], 'bounds': [-1036.3601695302482, -548.3606611240023, -601.5636658508208, 34.538850274099445], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 727.1999999999999, 'line_angle': -126.71999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.816-0.930', 'features': {'stroke_index': 6, 'analytic_vertices': [(-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395), (0.0, 0.0)], 'open_stroke_perimeter': 1179.7895120851065, 'compactness': 0.006435494515695913, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1179.7895120851065, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1179.7895120851065, 'line_angle': 28.080000000000016, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:01,558 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_normal_0.447-0.500', 'line_normal_0.250-0.926', 'line_normal_0.250-0.648', 'line_normal_0.816-0.331', 'line_normal_0.505-0.930', 'line_normal_0.505-0.313', 'line_normal_0.816-0.930']]
2025-08-12 06:09:01,558 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)]
2025-08-12 06:09:01,560 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(0.6168663037503574, 0.4536288444509172), (1.0, 0.4536288444509172), (0.8084671316017236, 0.5871611104542953), (0.6169342632034474, 0.45362884445091706), (0.03846431015028989, 1.0), (0.2588012546158344, 0.4822009500910043), (0.0, 0.0), (0.6170849373202809, 0.45754608919662304)]
2025-08-12 06:09:01,560 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.2975701687946446, 0.4793205709448238], 'width': 0.6146770966929546, 'height': 1.0, 'area_raw': 0.5031497421551394, 'area_normalized': 1.0, 'perimeter_raw': 3.5279341303665115, 'perimeter_normalized': 1.0, 'aspect_ratio': 0.6146770966929546, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.50800288973085, 'polsby_popper_compactness': 0.2059856527133973, 'eccentricity': 0.43324891977483027, 'symmetry_score': 0.5120039399611148, 'horizontal_symmetry': 0.3107937043981435, 'vertical_symmetry': 0.6642645008048678, 'rotational_symmetry': 1.0, 'has_quadrangle': True, 'geometric_complexity': 8.0, 'visual_complexity': 0.5477673301618077, 'curvature_score': 2.0081827854495446, 'angular_variance': 0.46228093900266287, 'moment_of_inertia': 0.2209904384380667, 'irregularity_score': 0.21116504672869696, 'standardized_complexity': 0.508899676012406, 'clustering_heights': [0.0, 0.0, 0.05281590430918022, 0.09535665012100145, 0.23506789341523976, 0.4314974159708205], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:01,560 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.2209904384380667, 'center_of_mass': [0.2975701687946446, 0.4793205709448238], 'polsby_popper_compactness': 0.6151491635081936, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.0081827854495446, 'angular_variance': 0.46228093900266287, 'edge_length_variance': 0.06743744630195019}
2025-08-12 06:09:01,561 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 7}, 'shape_modifier_distribution': {'normal': 7}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 8, 'homogeneity_score': 1.0, 'pattern_regularity': 0.14285714285714285}
2025-08-12 06:09:01,561 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (643.6800000000001, 0.0), (321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395)], 'open_stroke_perimeter': 5168.16, 'compactness': 0.3150723302606307, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 643.6800000000001, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5168.16, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(643.6800000000001, 0.0), (321.897087305545, 161.41795779241147)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 321.78291269445504, 'height': 161.41795779241147, 'area': 0.0, 'perimeter': 360.0, 'centroid': [482.78854365277255, 80.70897889620574], 'bounds': [321.897087305545, 0.0, 643.6800000000001, 161.41795779241147], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': 153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(321.897087305545, 161.41795779241147), (0.11417461109010674, -1.9895196601282805e-13)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 321.7829126944549, 'height': 161.41795779241167, 'area': 0.0, 'perimeter': 360.0, 'centroid': [161.00563095831757, 80.70897889620564], 'bounds': [0.11417461109010674, -1.9895196601282805e-13, 321.897087305545, 161.41795779241147], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': -153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(0.11417461109010674, -1.9895196601282805e-13), (-971.7385833844911, 660.4704523113671)], 'open_stroke_perimeter': 1175.04, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1175.04, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 971.8527579955812, 'height': 660.4704523113674, 'area': 0.0, 'perimeter': 1175.04, 'centroid': [-485.8122043867005, 330.23522615568345], 'bounds': [-971.7385833844911, -1.9895196601282805e-13, 0.11417461109010674, 660.4704523113671], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1175.04, 'line_angle': 145.8, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(-971.7385833844911, 660.4704523113671), (-601.5636658508208, 34.538850274099445)], 'open_stroke_perimeter': 727.2, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 727.2, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 370.1749175336703, 'height': 625.9316020372677, 'area': 0.0, 'perimeter': 727.2, 'centroid': [-786.651124617656, 347.5046512927333], 'bounds': [-971.7385833844911, 34.538850274099445, -601.5636658508208, 660.4704523113671], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 727.2, 'line_angle': -59.399999999999984, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(-601.5636658508208, 34.538850274099445), (-1036.3601695302482, -548.3606611240023)], 'open_stroke_perimeter': 727.1999999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 727.1999999999999, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 434.79650367942736, 'height': 582.8995113981017, 'area': 0.0, 'perimeter': 727.1999999999999, 'centroid': [-818.9619176905345, -256.9109054249514], 'bounds': [-1036.3601695302482, -548.3606611240023, -601.5636658508208, 34.538850274099445], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 727.1999999999999, 'line_angle': -126.71999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [(-1036.3601695302482, -548.3606611240023), (0.36731317987914736, 4.735287327550395), (0.0, 0.0)], 'open_stroke_perimeter': 1179.7895120851065, 'compactness': 0.006435494515695913, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1179.7895120851065, 'avg_stroke_length': 738.9870731550152, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1179.7895120851065, 'line_angle': 28.080000000000016, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 06:09:01,561 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}
2025-08-12 06:09:01,563 - INFO - [INPUT] Processing image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_3, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018, is_positive=True
2025-08-12 06:09:01,563 - INFO - [INPUT] action_commands type: <class 'list'>, value: [['line_normal_1.000-0.500', 'line_normal_0.361-0.054', 'line_normal_0.300-0.594', 'line_normal_0.721-0.094', 'line_normal_0.300-0.906', 'line_normal_0.361-0.406']]
2025-08-12 06:09:01,563 - INFO - [SHAPE SPLIT] Raw action_commands: [['line_normal_1.000-0.500', 'line_normal_0.361-0.054', 'line_normal_0.300-0.594', 'line_normal_0.721-0.094', 'line_normal_0.300-0.906', 'line_normal_0.361-0.406']]
2025-08-12 06:09:01,563 - INFO - [SHAPE SPLIT] Sublist 0: ['line_normal_1.000-0.500', 'line_normal_0.361-0.054', 'line_normal_0.300-0.594', 'line_normal_0.721-0.094', 'line_normal_0.300-0.906', 'line_normal_0.361-0.406']
2025-08-12 06:09:01,564 - INFO - [SHAPE SPLIT] Parsed shapes_commands (multi-object): [['line_normal_1.000-0.500', 'line_normal_0.361-0.054', 'line_normal_0.300-0.594', 'line_normal_0.721-0.094', 'line_normal_0.300-0.906', 'line_normal_0.361-0.406']]
2025-08-12 06:09:01,564 - INFO - ComprehensiveNVLabsParser initialized:
2025-08-12 06:09:01,564 - INFO -   Canvas size: 512x512
2025-08-12 06:09:01,564 - INFO -   Coordinate range: (-360, 360)
2025-08-12 06:09:01,565 - INFO -   Base scaling factor: 1440.0
2025-08-12 06:09:01,565 - INFO - [PARSER] Parsing shape 0 commands: ['line_normal_1.000-0.500', 'line_normal_0.361-0.054', 'line_normal_0.300-0.594', 'line_normal_0.721-0.094', 'line_normal_0.300-0.906', 'line_normal_0.361-0.406']
2025-08-12 06:09:01,565 - INFO - [LOGOPARSER] Input action_commands for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: ['line_normal_1.000-0.500', 'line_normal_0.361-0.054', 'line_normal_0.300-0.594', 'line_normal_0.721-0.094', 'line_normal_0.300-0.906', 'line_normal_0.361-0.406']
2025-08-12 06:09:01,565 - DEBUG - Parsing 6 commands for hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:01,566 - DEBUG - [ACTIONS_JOIN] line_normal_1.000-0.500,line_normal_0.361-0.054,line_normal_0.300-0.594,line_normal_0.721-0.094,line_normal_0.300-0.906,line_normal_0.361-0.406
2025-08-12 06:09:01,566 - DEBUG - [ACTIONS_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:01,566 - DEBUG - [ACTIONS_ATTRS] [{'line_length': 1440.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_1.000-0.500'}, {'line_length': 519.84, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 160.56, 'name': 'line', 'raw_command': 'line_normal_0.361-0.054'}, {'line_length': 432.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 33.84, 'name': 'line', 'raw_command': 'line_normal_0.300-0.594'}, {'line_length': 1038.24, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 146.16, 'name': 'line', 'raw_command': 'line_normal_0.721-0.094'}, {'line_length': 432.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 146.16000000000003, 'name': 'line', 'raw_command': 'line_normal_0.300-0.906'}, {'line_length': 519.84, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 33.84, 'name': 'line', 'raw_command': 'line_normal_0.361-0.406'}]
2025-08-12 06:09:01,566 - INFO - [OneStrokeShape.__init__] basic_actions: [line_normal_1.000-0.500, line_normal_0.361-0.054, line_normal_0.300-0.594, line_normal_0.721-0.094, line_normal_0.300-0.906, line_normal_0.361-0.406], start_coordinates: None, start_orientation: None, scaling_factors: None
2025-08-12 06:09:01,566 - DEBUG - [OUTPUT_SHAPE_ACTIONS] line_normal_1.000-0.500,line_normal_0.361-0.054,line_normal_0.300-0.594,line_normal_0.721-0.094,line_normal_0.300-0.906,line_normal_0.361-0.406
2025-08-12 06:09:01,567 - DEBUG - [OUTPUT_SHAPE_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:01,567 - DEBUG - [OUTPUT_SHAPE_ATTRS] [{'line_length': 1440.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_1.000-0.500'}, {'line_length': 519.84, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 160.56, 'name': 'line', 'raw_command': 'line_normal_0.361-0.054'}, {'line_length': 432.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 33.84, 'name': 'line', 'raw_command': 'line_normal_0.300-0.594'}, {'line_length': 1038.24, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 146.16, 'name': 'line', 'raw_command': 'line_normal_0.721-0.094'}, {'line_length': 432.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 146.16000000000003, 'name': 'line', 'raw_command': 'line_normal_0.300-0.906'}, {'line_length': 519.84, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 33.84, 'name': 'line', 'raw_command': 'line_normal_0.361-0.406'}]
2025-08-12 06:09:01,567 - INFO - [OneStrokeShape._calculate_vertices] INPUT basic_actions: [line_normal_1.000-0.500, line_normal_0.361-0.054, line_normal_0.300-0.594, line_normal_0.721-0.094, line_normal_0.300-0.906, line_normal_0.361-0.406]
2025-08-12 06:09:01,567 - INFO - [OneStrokeShape._calculate_vertices] OUTPUT vertices: [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)]
2025-08-12 06:09:01,567 - INFO - [LOGOPARSER] Shape for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 has 7 vertices.
2025-08-12 06:09:01,567 - INFO - [LOGOPARSER] Parsed vertices (raw): [[0.0, 0.0], [1440.0, 0.0], [949.7957998214533, -173.01291202482932], [691.5008471406052, -519.2898494890479], [743.6665080475693, 517.6388083375836], [485.37155536672134, 171.36187087336475], [-4.8326448118253325, -1.6510411514647956]]
2025-08-12 06:09:01,567 - INFO - [LOGOPARSER] Vertices bounding box: min=(-4.83,-519.29), max=(1440.00,517.64), center=(615.07,-0.71)
2025-08-12 06:09:01,569 - INFO - Successfully created OneStrokeShape with 6 actions using NVLabs implementation
2025-08-12 06:09:01,569 - INFO - [PARSER] Parsed shape 0: type=OneStrokeShape, num_actions=6, action_types=['str', 'str', 'str', 'str', 'str', 'str'], attributes={}
2025-08-12 06:09:01,569 - INFO - [_vertices_from_command] INPUT: command=line_normal_1.000-0.500, stroke_index=0
2025-08-12 06:09:01,569 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=1.0, param2=None, param3=0.5
2025-08-12 06:09:01,570 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4473684210526316, 0.5), (0.39473684210526316, 0.5), (0.34210526315789475, 0.5), (0.2894736842105263, 0.5), (0.2368421052631579, 0.5), (0.1842105263157895, 0.5), (0.13157894736842107, 0.5), (0.07894736842105265, 0.5), (0.026315789473684237, 0.5), (-0.02631578947368418, 0.5000000000000001), (-0.07894736842105265, 0.5000000000000001), (-0.13157894736842102, 0.5000000000000001), (-0.18421052631578938, 0.5000000000000001), (-0.23684210526315785, 0.5000000000000001), (-0.2894736842105263, 0.5000000000000001), (-0.3421052631578947, 0.5000000000000001), (-0.39473684210526305, 0.5000000000000001), (-0.4473684210526315, 0.5000000000000001), (-0.5, 0.5000000000000001)]
2025-08-12 06:09:01,570 - INFO - [_calculate_vertices_from_action] Bounding box: (-0.5, 0.5, 0.5, 0.5000000000000001)
2025-08-12 06:09:01,570 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,571 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:01,572 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:01,572 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,572 - INFO - Computed angular variance: 0.888264 for 20 vertices.
2025-08-12 06:09:01,573 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,573 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,573 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,573 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,574 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,575 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (-0.5, 0.5000000000000001)]
2025-08-12 06:09:01,575 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (-0.5, 0.5000000000000001)]
2025-08-12 06:09:01,576 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,576 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,577 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:01,577 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_3, stroke_idx=0, assigned is_positive=True
2025-08-12 06:09:01,577 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.361-0.054, stroke_index=1
2025-08-12 06:09:01,577 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.361, param2=None, param3=0.054
2025-08-12 06:09:01,577 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.548631369065332, 0.5171639793675425), (0.597262738130664, 0.5343279587350852), (0.645894107195996, 0.5514919381026278), (0.694525476261328, 0.5686559174701704), (0.74315684532666, 0.585819896837713), (0.7917882143919921, 0.6029838762052556), (0.840419583457324, 0.6201478555727982)]
2025-08-12 06:09:01,579 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.5, 0.840419583457324, 0.6201478555727982)
2025-08-12 06:09:01,579 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,580 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:01,580 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:01,580 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,581 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:01,581 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,581 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,582 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:01,582 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,582 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,583 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:01,583 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:01,584 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,584 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,584 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:01,585 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_3, stroke_idx=1, assigned is_positive=True
2025-08-12 06:09:01,585 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.300-0.594, stroke_index=2
2025-08-12 06:09:01,585 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.3, param2=None, param3=0.594
2025-08-12 06:09:01,586 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.46440303289160806, 0.4761339021505062), (0.42880606578321606, 0.4522678043010125), (0.3932090986748241, 0.4284017064515187), (0.3576121315664321, 0.4045356086020249), (0.3220151644580402, 0.3806695107525312), (0.28641819734964824, 0.3568034129030374), (0.25082123024125624, 0.3329373150535436)]
2025-08-12 06:09:01,586 - INFO - [_calculate_vertices_from_action] Bounding box: (0.25082123024125624, 0.3329373150535436, 0.5, 0.5)
2025-08-12 06:09:01,586 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,588 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,588 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:01,588 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,589 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,589 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:01,589 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,590 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,590 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:01,591 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:01,591 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,591 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,592 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_3, stroke_idx=2, assigned is_positive=True
2025-08-12 06:09:01,592 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.721-0.094, stroke_index=3
2025-08-12 06:09:01,592 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.721, param2=None, param3=0.094
2025-08-12 06:09:01,593 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5460661264092447, 0.5308851784221525), (0.5921322528184894, 0.5617703568443052), (0.638198379227734, 0.5926555352664578), (0.6842645056369787, 0.6235407136886103), (0.7303306320462234, 0.6544258921107629), (0.7763967584554681, 0.6853110705329155), (0.8224628848647126, 0.7161962489550681), (0.8685290112739574, 0.7470814273772206), (0.914595137683202, 0.7779666057993733), (0.9606612640924468, 0.8088517842215258), (1.0067273905016914, 0.8397369626436784), (1.0527935169109361, 0.870622141065831), (1.0988596433201807, 0.9015073194879836)]
2025-08-12 06:09:01,593 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.5, 1.0988596433201807, 0.9015073194879836)
2025-08-12 06:09:01,593 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,594 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:01,595 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:01,595 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,595 - INFO - Computed angular variance: 1.208523 for 14 vertices.
2025-08-12 06:09:01,597 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,597 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,597 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:01,598 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,598 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,599 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:01,599 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:01,600 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,600 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,600 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:01,601 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_3, stroke_idx=3, assigned is_positive=True
2025-08-12 06:09:01,601 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.300-0.906, stroke_index=4
2025-08-12 06:09:01,601 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.3, param2=None, param3=0.906
2025-08-12 06:09:01,601 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.535596967108392, 0.4761339021505062), (0.5711939342167839, 0.4522678043010125), (0.6067909013251759, 0.4284017064515187), (0.6423878684335679, 0.4045356086020249), (0.6779848355419598, 0.3806695107525312), (0.7135818026503518, 0.3568034129030374), (0.7491787697587438, 0.3329373150535436)]
2025-08-12 06:09:01,602 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.3329373150535436, 0.7491787697587438, 0.5)
2025-08-12 06:09:01,602 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,605 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,605 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:01,605 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,606 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,607 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:01,607 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,608 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,608 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:01,608 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:01,608 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,609 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,610 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_3, stroke_idx=4, assigned is_positive=True
2025-08-12 06:09:01,610 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.361-0.406, stroke_index=5
2025-08-12 06:09:01,610 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.361, param2=None, param3=0.406
2025-08-12 06:09:01,611 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.45716498291290164, 0.5287188710788908), (0.41432996582580334, 0.5574377421577817), (0.371494948738705, 0.5861566132366726), (0.3286599316516067, 0.6148754843155634), (0.2858249145645083, 0.6435943553944543), (0.24298989747740996, 0.6723132264733451), (0.20015488039031165, 0.7010320975522359)]
2025-08-12 06:09:01,611 - INFO - [_calculate_vertices_from_action] Bounding box: (0.20015488039031165, 0.5, 0.5, 0.7010320975522359)
2025-08-12 06:09:01,611 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,612 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,613 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:01,613 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,613 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,614 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:01,614 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,615 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,615 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:01,615 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:01,616 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,616 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,617 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_3, stroke_idx=5, assigned is_positive=True
2025-08-12 06:09:01,617 - INFO - [ATTR DEBUG] Shape 0 strokes (dicts): [{'command': 'line_normal_1.000-0.500', 'vertices': [(0.5, 0.5), (0.4473684210526316, 0.5), (0.39473684210526316, 0.5), (0.34210526315789475, 0.5), (0.2894736842105263, 0.5), (0.2368421052631579, 0.5), (0.1842105263157895, 0.5), (0.13157894736842107, 0.5), (0.07894736842105265, 0.5), (0.026315789473684237, 0.5), (-0.02631578947368418, 0.5000000000000001), (-0.07894736842105265, 0.5000000000000001), (-0.13157894736842102, 0.5000000000000001), (-0.18421052631578938, 0.5000000000000001), (-0.23684210526315785, 0.5000000000000001), (-0.2894736842105263, 0.5000000000000001), (-0.3421052631578947, 0.5000000000000001), (-0.39473684210526305, 0.5000000000000001), (-0.4473684210526315, 0.5000000000000001), (-0.5, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.4473684210526316, 0.5), (0.39473684210526316, 0.5), (0.34210526315789475, 0.5), (0.2894736842105263, 0.5), (0.2368421052631579, 0.5), (0.1842105263157895, 0.5), (0.13157894736842107, 0.5), (0.07894736842105265, 0.5), (0.026315789473684237, 0.5), (-0.02631578947368418, 0.5000000000000001), (-0.07894736842105265, 0.5000000000000001), (-0.13157894736842102, 0.5000000000000001), (-0.18421052631578938, 0.5000000000000001), (-0.23684210526315785, 0.5000000000000001), (-0.2894736842105263, 0.5000000000000001), (-0.3421052631578947, 0.5000000000000001), (-0.39473684210526305, 0.5000000000000001), (-0.4473684210526315, 0.5000000000000001), (-0.5, 0.5000000000000001)], 'open_stroke_perimeter': 1.0, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.361-0.054', 'vertices': [(0.5, 0.5), (0.548631369065332, 0.5171639793675425), (0.597262738130664, 0.5343279587350852), (0.645894107195996, 0.5514919381026278), (0.694525476261328, 0.5686559174701704), (0.74315684532666, 0.585819896837713), (0.7917882143919921, 0.6029838762052556), (0.840419583457324, 0.6201478555727982)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.548631369065332, 0.5171639793675425), (0.597262738130664, 0.5343279587350852), (0.645894107195996, 0.5514919381026278), (0.694525476261328, 0.5686559174701704), (0.74315684532666, 0.585819896837713), (0.7917882143919921, 0.6029838762052556), (0.840419583457324, 0.6201478555727982)], 'open_stroke_perimeter': 0.361, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.300-0.594', 'vertices': [(0.5, 0.5), (0.46440303289160806, 0.4761339021505062), (0.42880606578321606, 0.4522678043010125), (0.3932090986748241, 0.4284017064515187), (0.3576121315664321, 0.4045356086020249), (0.3220151644580402, 0.3806695107525312), (0.28641819734964824, 0.3568034129030374), (0.25082123024125624, 0.3329373150535436)], 'geometry': {'area': 1.6263032587282567e-18, 'perimeter': 0.19971681978912592, 'centroid': [0.3279907574588725, 0.38467586575553897], 'bounds': [0.2924686293619896, 0.3608599439552069, 0.3754106151206281, 0.4164686575267718], 'width': 0.08294198575863854, 'height': 0.05560871357156494, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.19971681978912592, 'analytic_vertices': [(0.5, 0.5), (0.46440303289160806, 0.4761339021505062), (0.42880606578321606, 0.4522678043010125), (0.3932090986748241, 0.4284017064515187), (0.3576121315664321, 0.4045356086020249), (0.3220151644580402, 0.3806695107525312), (0.28641819734964824, 0.3568034129030374), (0.25082123024125624, 0.3329373150535436)], 'open_stroke_perimeter': 0.3, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.721-0.094', 'vertices': [(0.5, 0.5), (0.5460661264092447, 0.5308851784221525), (0.5921322528184894, 0.5617703568443052), (0.638198379227734, 0.5926555352664578), (0.6842645056369787, 0.6235407136886103), (0.7303306320462234, 0.6544258921107629), (0.7763967584554681, 0.6853110705329155), (0.8224628848647126, 0.7161962489550681), (0.8685290112739574, 0.7470814273772206), (0.914595137683202, 0.7779666057993733), (0.9606612640924468, 0.8088517842215258), (1.0067273905016914, 0.8397369626436784), (1.0527935169109361, 0.870622141065831), (1.0988596433201807, 0.9015073194879836)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5460661264092447, 0.5308851784221525), (0.5921322528184894, 0.5617703568443052), (0.638198379227734, 0.5926555352664578), (0.6842645056369787, 0.6235407136886103), (0.7303306320462234, 0.6544258921107629), (0.7763967584554681, 0.6853110705329155), (0.8224628848647126, 0.7161962489550681), (0.8685290112739574, 0.7470814273772206), (0.914595137683202, 0.7779666057993733), (0.9606612640924468, 0.8088517842215258), (1.0067273905016914, 0.8397369626436784), (1.0527935169109361, 0.870622141065831), (1.0988596433201807, 0.9015073194879836)], 'open_stroke_perimeter': 0.7209999999999998, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.300-0.906', 'vertices': [(0.5, 0.5), (0.535596967108392, 0.4761339021505062), (0.5711939342167839, 0.4522678043010125), (0.6067909013251759, 0.4284017064515187), (0.6423878684335679, 0.4045356086020249), (0.6779848355419598, 0.3806695107525312), (0.7135818026503518, 0.3568034129030374), (0.7491787697587438, 0.3329373150535436)], 'geometry': {'area': 1.6805133673525319e-18, 'perimeter': 0.5999999999999999, 'centroid': [0.5661684800367757, 0.45563713576211745], 'bounds': [0.5, 0.3329373150535436, 0.7491787697587438, 0.5], 'width': 0.24917876975874376, 'height': 0.16706268494645637, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.5999999999999999, 'analytic_vertices': [(0.5, 0.5), (0.535596967108392, 0.4761339021505062), (0.5711939342167839, 0.4522678043010125), (0.6067909013251759, 0.4284017064515187), (0.6423878684335679, 0.4045356086020249), (0.6779848355419598, 0.3806695107525312), (0.7135818026503518, 0.3568034129030374), (0.7491787697587438, 0.3329373150535436)], 'open_stroke_perimeter': 0.29999999999999993, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.361-0.406', 'vertices': [(0.5, 0.5), (0.45716498291290164, 0.5287188710788908), (0.41432996582580334, 0.5574377421577817), (0.371494948738705, 0.5861566132366726), (0.3286599316516067, 0.6148754843155634), (0.2858249145645083, 0.6435943553944543), (0.24298989747740996, 0.6723132264733451), (0.20015488039031165, 0.7010320975522359)], 'geometry': {'area': 3.903127820947816e-18, 'perimeter': 0.30091888678577533, 'centroid': [0.27520008555204484, 0.6507178052117791], 'bounds': [0.20015488039031165, 0.617244902256352, 0.3251258770677286, 0.7010320975522359], 'width': 0.12497099667741696, 'height': 0.08378719529588396, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.30091888678577533, 'analytic_vertices': [(0.5, 0.5), (0.45716498291290164, 0.5287188710788908), (0.41432996582580334, 0.5574377421577817), (0.371494948738705, 0.5861566132366726), (0.3286599316516067, 0.6148754843155634), (0.2858249145645083, 0.6435943553944543), (0.24298989747740996, 0.6723132264733451), (0.20015488039031165, 0.7010320975522359)], 'open_stroke_perimeter': 0.3610000000000001, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}]
2025-08-12 06:09:01,619 - INFO - [PATCH][SHAPE GEOMETRY] idx=0, vertices=[(0.003344778254546384, 0.5007961208994478), (1.0, 0.5007961208994478), (0.6607190445628457, 0.33394480406203036), (0.48194750752127474, 0.0), (0.5180524924787251, 1.0), (0.3392809554371543, 0.6660551959379695), (0.0, 0.4992038791005517)], geometry={'area': 0.08345540989126246, 'perimeter': 1.7579676219235472, 'centroid': [0.633871438341633, 0.36167844330917254], 'bounds': [0.48194750752127474, 0.0, 1.0, 0.5007961208994478], 'width': 0.5180524924787253, 'height': 0.5007961208994478}
2025-08-12 06:09:01,619 - INFO - [robust_curvature] INPUT: [(0.003344778254546384, 0.5007961208994478), (1.0, 0.5007961208994478), (0.6607190445628457, 0.33394480406203036), (0.48194750752127474, 0.0), (0.5180524924787251, 1.0), (0.3392809554371543, 0.6660551959379695), (0.0, 0.4992038791005517)]
2025-08-12 06:09:01,619 - INFO - [robust_curvature] OUTPUT: 1.946405253100283
2025-08-12 06:09:01,620 - INFO - Computed angular variance: 1.245751 for 7 vertices.
2025-08-12 06:09:01,620 - INFO - [PATCH][SHAPE PHYSICS] idx=0, physics features: {'robust_curvature': 1.946405253100283, 'robust_angular_variance': 1.2457510016709787, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 3.032118076064278}
2025-08-12 06:09:01,621 - INFO - [robust_curvature] INPUT: [[   0.            0.        ]
 [1440.            0.        ]
 [ 949.79579982 -173.01291202]
 [ 691.50084714 -519.28984949]
 [ 743.66650805  517.63880834]
 [ 485.37155537  171.36187087]
 [  -4.83264481   -1.65104115]]
2025-08-12 06:09:01,621 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,621 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,622 - INFO - Computed angular variance: 1.284780 for 7 vertices.
2025-08-12 06:09:01,623 - INFO - [robust_curvature] INPUT: [[  0.           0.        ]
 [743.66650805 517.63880834]
 [485.37155537 171.36187087]
 [ -4.83264481  -1.65104115]]
2025-08-12 06:09:01,623 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,623 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,624 - INFO - [robust_curvature] INPUT: [[1440.            0.        ]
 [ 949.79579982 -173.01291202]
 [ 691.50084714 -519.28984949]]
2025-08-12 06:09:01,624 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,624 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,624 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:01,625 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 1.2847801696911554, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,625 - INFO - [robust_curvature] INPUT: [[ 5.50567339e+00 -6.33382115e-03]
 [ 1.43259524e+03 -6.63722306e-01]
 [ 9.50685464e+02 -1.73677598e+02]
 [ 6.92691854e+02 -5.13983515e+02]
 [ 7.42475501e+02  5.12332474e+02]
 [ 4.84481891e+02  1.72026557e+02]
 [-2.93355536e+00 -9.80985024e-01]]
2025-08-12 06:09:01,625 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,626 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,626 - INFO - Computed angular variance: 1.302067 for 7 vertices.
2025-08-12 06:09:01,627 - INFO - [robust_curvature] INPUT: [[ 5.50567339e+00 -6.33382115e-03]
 [ 7.42475501e+02  5.12332474e+02]
 [ 4.84481891e+02  1.72026557e+02]
 [-2.93355536e+00 -9.80985024e-01]]
2025-08-12 06:09:01,627 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,627 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,628 - INFO - [robust_curvature] INPUT: [[ 1.43259524e+03 -6.63722306e-01]
 [ 9.50685464e+02 -1.73677598e+02]
 [ 6.92691854e+02 -5.13983515e+02]]
2025-08-12 06:09:01,628 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,628 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,629 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:01,629 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 1.3020672363887635, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,629 - INFO - [robust_curvature] INPUT: [[ 1.53153363e+02 -1.76190257e-01]
 [ 1.23394953e+03 -1.85548162e+01]
 [ 9.74177710e+02 -1.91229110e+02]
 [ 7.24692732e+02 -3.71727285e+02]
 [ 7.10474624e+02  3.70076244e+02]
 [ 4.60610955e+02  1.89578505e+02]
 [ 4.84431532e+01  1.70795296e+01]]
2025-08-12 06:09:01,629 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,630 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,631 - INFO - Computed angular variance: 1.241834 for 7 vertices.
2025-08-12 06:09:01,631 - INFO - [robust_curvature] INPUT: [[ 1.53153363e+02 -1.76190257e-01]
 [ 7.10474624e+02  3.70076244e+02]
 [ 4.60610955e+02  1.89578505e+02]
 [ 4.84431532e+01  1.70795296e+01]]
2025-08-12 06:09:01,632 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,632 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,632 - INFO - [robust_curvature] INPUT: [[1233.94952915  -18.55481616]
 [ 974.17770998 -191.22911035]
 [ 724.69273159 -371.72728474]]
2025-08-12 06:09:01,632 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,633 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,633 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:01,633 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 1.241833876036452, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,633 - INFO - [robust_curvature] INPUT: [[ 4.31308356e+02 -4.96184533e-01]
 [ 8.46987459e+02 -6.68446054e+01]
 [ 9.37022559e+02 -1.65952937e+02]
 [ 7.89570186e+02 -1.14533185e+02]
 [ 6.39044636e+02  1.12889682e+02]
 [ 4.20658493e+02  1.64391037e+02]
 [ 2.40910377e+02  6.55930691e+01]]
2025-08-12 06:09:01,634 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,634 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,634 - INFO - Computed angular variance: 0.759549 for 7 vertices.
2025-08-12 06:09:01,635 - INFO - [robust_curvature] INPUT: [[ 4.31308356e+02 -4.96184533e-01]
 [ 6.39044636e+02  1.12889682e+02]
 [ 4.20658493e+02  1.64391037e+02]
 [ 2.40910377e+02  6.55930691e+01]]
2025-08-12 06:09:01,635 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,637 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,637 - INFO - [robust_curvature] INPUT: [[ 846.9874586   -66.84460539]
 [ 937.02255893 -165.95293668]
 [ 789.57018643 -114.53318536]]
2025-08-12 06:09:01,637 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,637 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,638 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:01,638 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.7595494275934412, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,638 - INFO - [robust_curvature] INPUT: [[ 5.73817692e+02 -6.60129719e-01]
 [ 6.59734390e+02 -3.52245684e+01]
 [ 7.10959738e+02 -4.45252035e+01]
 [ 6.89893242e+02 -2.05021051e+01]
 [ 6.13589048e+02  1.90025567e+01]
 [ 5.37992078e+02  4.30883879e+01]
 [ 5.19515877e+02  3.38679387e+01]]
2025-08-12 06:09:01,639 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,639 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,639 - INFO - Computed angular variance: 0.823218 for 7 vertices.
2025-08-12 06:09:01,640 - INFO - [robust_curvature] INPUT: [[573.81769232  -0.66012972]
 [613.58904838  19.0025567 ]
 [537.99207837  43.08838791]
 [519.51587658  33.86793866]]
2025-08-12 06:09:01,640 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,641 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,641 - INFO - [robust_curvature] INPUT: [[659.73439003 -35.2245684 ]
 [710.95973761 -44.52520351]
 [689.89324227 -20.5021051 ]]
2025-08-12 06:09:01,641 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,641 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,642 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:01,642 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.8232176828970881, 'complexity': 1, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,642 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 1.2847801696911554, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 1.3020672363887635, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 1.241833876036452, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.7595494275934412, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.8232176828970881, 'complexity': 1, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:01,643 - DEBUG - [extract_image_features] Calculated width: 748.4991528593948, height: 519.2898494890479
2025-08-12 06:09:01,643 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)]
2025-08-12 06:09:01,644 - INFO - [robust_curvature] OUTPUT: 1.8505835023017048
2025-08-12 06:09:01,644 - INFO - Computed angular variance: 1.284780 for 7 vertices.
2025-08-12 06:09:01,645 - INFO - [robust_curvature] INPUT: [[   0.            0.        ]
 [1440.            0.        ]
 [ 949.79579982 -173.01291202]
 [ 691.50084714 -519.28984949]
 [ 743.66650805  517.63880834]
 [ 485.37155537  171.36187087]
 [  -4.83264481   -1.65104115]]
2025-08-12 06:09:01,645 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,645 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,646 - INFO - Computed angular variance: 1.284780 for 7 vertices.
2025-08-12 06:09:01,647 - INFO - [robust_curvature] INPUT: [[  0.           0.        ]
 [743.66650805 517.63880834]
 [485.37155537 171.36187087]
 [ -4.83264481  -1.65104115]]
2025-08-12 06:09:01,647 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,647 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,647 - INFO - [robust_curvature] INPUT: [[1440.            0.        ]
 [ 949.79579982 -173.01291202]
 [ 691.50084714 -519.28984949]]
2025-08-12 06:09:01,648 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,648 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,648 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:01,648 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 1.2847801696911554, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,649 - INFO - [robust_curvature] INPUT: [[ 5.50567339e+00 -6.33382115e-03]
 [ 1.43259524e+03 -6.63722306e-01]
 [ 9.50685464e+02 -1.73677598e+02]
 [ 6.92691854e+02 -5.13983515e+02]
 [ 7.42475501e+02  5.12332474e+02]
 [ 4.84481891e+02  1.72026557e+02]
 [-2.93355536e+00 -9.80985024e-01]]
2025-08-12 06:09:01,649 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,649 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,650 - INFO - Computed angular variance: 1.302067 for 7 vertices.
2025-08-12 06:09:01,651 - INFO - [robust_curvature] INPUT: [[ 5.50567339e+00 -6.33382115e-03]
 [ 7.42475501e+02  5.12332474e+02]
 [ 4.84481891e+02  1.72026557e+02]
 [-2.93355536e+00 -9.80985024e-01]]
2025-08-12 06:09:01,651 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,651 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,652 - INFO - [robust_curvature] INPUT: [[ 1.43259524e+03 -6.63722306e-01]
 [ 9.50685464e+02 -1.73677598e+02]
 [ 6.92691854e+02 -5.13983515e+02]]
2025-08-12 06:09:01,652 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,652 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,653 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:01,653 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 1.3020672363887635, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,653 - INFO - [robust_curvature] INPUT: [[ 1.53153363e+02 -1.76190257e-01]
 [ 1.23394953e+03 -1.85548162e+01]
 [ 9.74177710e+02 -1.91229110e+02]
 [ 7.24692732e+02 -3.71727285e+02]
 [ 7.10474624e+02  3.70076244e+02]
 [ 4.60610955e+02  1.89578505e+02]
 [ 4.84431532e+01  1.70795296e+01]]
2025-08-12 06:09:01,654 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,654 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,654 - INFO - Computed angular variance: 1.241834 for 7 vertices.
2025-08-12 06:09:01,655 - INFO - [robust_curvature] INPUT: [[ 1.53153363e+02 -1.76190257e-01]
 [ 7.10474624e+02  3.70076244e+02]
 [ 4.60610955e+02  1.89578505e+02]
 [ 4.84431532e+01  1.70795296e+01]]
2025-08-12 06:09:01,655 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,656 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,657 - INFO - [robust_curvature] INPUT: [[1233.94952915  -18.55481616]
 [ 974.17770998 -191.22911035]
 [ 724.69273159 -371.72728474]]
2025-08-12 06:09:01,657 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,657 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,658 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:01,658 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 1.241833876036452, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,658 - INFO - [robust_curvature] INPUT: [[ 4.31308356e+02 -4.96184533e-01]
 [ 8.46987459e+02 -6.68446054e+01]
 [ 9.37022559e+02 -1.65952937e+02]
 [ 7.89570186e+02 -1.14533185e+02]
 [ 6.39044636e+02  1.12889682e+02]
 [ 4.20658493e+02  1.64391037e+02]
 [ 2.40910377e+02  6.55930691e+01]]
2025-08-12 06:09:01,659 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,659 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,659 - INFO - Computed angular variance: 0.759549 for 7 vertices.
2025-08-12 06:09:01,660 - INFO - [robust_curvature] INPUT: [[ 4.31308356e+02 -4.96184533e-01]
 [ 6.39044636e+02  1.12889682e+02]
 [ 4.20658493e+02  1.64391037e+02]
 [ 2.40910377e+02  6.55930691e+01]]
2025-08-12 06:09:01,660 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,661 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,661 - INFO - [robust_curvature] INPUT: [[ 846.9874586   -66.84460539]
 [ 937.02255893 -165.95293668]
 [ 789.57018643 -114.53318536]]
2025-08-12 06:09:01,661 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,661 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,663 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:01,663 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.7595494275934412, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,663 - INFO - [robust_curvature] INPUT: [[ 5.73817692e+02 -6.60129719e-01]
 [ 6.59734390e+02 -3.52245684e+01]
 [ 7.10959738e+02 -4.45252035e+01]
 [ 6.89893242e+02 -2.05021051e+01]
 [ 6.13589048e+02  1.90025567e+01]
 [ 5.37992078e+02  4.30883879e+01]
 [ 5.19515877e+02  3.38679387e+01]]
2025-08-12 06:09:01,663 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,664 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,664 - INFO - Computed angular variance: 0.823218 for 7 vertices.
2025-08-12 06:09:01,665 - INFO - [robust_curvature] INPUT: [[573.81769232  -0.66012972]
 [613.58904838  19.0025567 ]
 [537.99207837  43.08838791]
 [519.51587658  33.86793866]]
2025-08-12 06:09:01,665 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,665 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,667 - INFO - [robust_curvature] INPUT: [[659.73439003 -35.2245684 ]
 [710.95973761 -44.52520351]
 [689.89324227 -20.5021051 ]]
2025-08-12 06:09:01,667 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,667 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,667 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:01,668 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.8232176828970881, 'complexity': 1, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,668 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 1.2847801696911554, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 1.3020672363887635, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 1.241833876036452, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.7595494275934412, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.8232176828970881, 'complexity': 1, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:01,669 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:01,670 - DEBUG - [extract_image_features] Stroke 0 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:01,670 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:01,671 - DEBUG - [extract_image_features] Stroke 1 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:01,672 - DEBUG - [extract_image_features] Stroke 2 geometry: {'area': 1.6263032587282567e-18, 'perimeter': 0.19971681978912592, 'centroid': [0.3279907574588725, 0.38467586575553897], 'bounds': [0.2924686293619896, 0.3608599439552069, 0.3754106151206281, 0.4164686575267718], 'width': 0.08294198575863854, 'height': 0.05560871357156494}
2025-08-12 06:09:01,673 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:01,673 - DEBUG - [extract_image_features] Stroke 3 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:01,674 - DEBUG - [extract_image_features] Stroke 4 geometry: {'area': 1.6805133673525319e-18, 'perimeter': 0.5999999999999999, 'centroid': [0.5661684800367757, 0.45563713576211745], 'bounds': [0.5, 0.3329373150535436, 0.7491787697587438, 0.5], 'width': 0.24917876975874376, 'height': 0.16706268494645637}
2025-08-12 06:09:01,675 - DEBUG - [extract_image_features] Stroke 5 geometry: {'area': 3.903127820947816e-18, 'perimeter': 0.30091888678577533, 'centroid': [0.27520008555204484, 0.6507178052117791], 'bounds': [0.20015488039031165, 0.617244902256352, 0.3251258770677286, 0.7010320975522359], 'width': 0.12497099667741696, 'height': 0.08378719529588396}
2025-08-12 06:09:01,675 - INFO - [extract_image_features] stroke_type_distribution INPUT: [{'command': 'line_normal_1.000-0.500', 'vertices': [(0.5, 0.5), (0.4473684210526316, 0.5), (0.39473684210526316, 0.5), (0.34210526315789475, 0.5), (0.2894736842105263, 0.5), (0.2368421052631579, 0.5), (0.1842105263157895, 0.5), (0.13157894736842107, 0.5), (0.07894736842105265, 0.5), (0.026315789473684237, 0.5), (-0.02631578947368418, 0.5000000000000001), (-0.07894736842105265, 0.5000000000000001), (-0.13157894736842102, 0.5000000000000001), (-0.18421052631578938, 0.5000000000000001), (-0.23684210526315785, 0.5000000000000001), (-0.2894736842105263, 0.5000000000000001), (-0.3421052631578947, 0.5000000000000001), (-0.39473684210526305, 0.5000000000000001), (-0.4473684210526315, 0.5000000000000001), (-0.5, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.361-0.054', 'vertices': [(0.5, 0.5), (0.548631369065332, 0.5171639793675425), (0.597262738130664, 0.5343279587350852), (0.645894107195996, 0.5514919381026278), (0.694525476261328, 0.5686559174701704), (0.74315684532666, 0.585819896837713), (0.7917882143919921, 0.6029838762052556), (0.840419583457324, 0.6201478555727982)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.300-0.594', 'vertices': [(0.5, 0.5), (0.46440303289160806, 0.4761339021505062), (0.42880606578321606, 0.4522678043010125), (0.3932090986748241, 0.4284017064515187), (0.3576121315664321, 0.4045356086020249), (0.3220151644580402, 0.3806695107525312), (0.28641819734964824, 0.3568034129030374), (0.25082123024125624, 0.3329373150535436)], 'geometry': {'area': 1.6263032587282567e-18, 'perimeter': 0.19971681978912592, 'centroid': [0.3279907574588725, 0.38467586575553897], 'bounds': [0.2924686293619896, 0.3608599439552069, 0.3754106151206281, 0.4164686575267718], 'width': 0.08294198575863854, 'height': 0.05560871357156494}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.08294198575863854, 'height': 0.05560871357156494}, {'command': 'line_normal_0.721-0.094', 'vertices': [(0.5, 0.5), (0.5460661264092447, 0.5308851784221525), (0.5921322528184894, 0.5617703568443052), (0.638198379227734, 0.5926555352664578), (0.6842645056369787, 0.6235407136886103), (0.7303306320462234, 0.6544258921107629), (0.7763967584554681, 0.6853110705329155), (0.8224628848647126, 0.7161962489550681), (0.8685290112739574, 0.7470814273772206), (0.914595137683202, 0.7779666057993733), (0.9606612640924468, 0.8088517842215258), (1.0067273905016914, 0.8397369626436784), (1.0527935169109361, 0.870622141065831), (1.0988596433201807, 0.9015073194879836)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.300-0.906', 'vertices': [(0.5, 0.5), (0.535596967108392, 0.4761339021505062), (0.5711939342167839, 0.4522678043010125), (0.6067909013251759, 0.4284017064515187), (0.6423878684335679, 0.4045356086020249), (0.6779848355419598, 0.3806695107525312), (0.7135818026503518, 0.3568034129030374), (0.7491787697587438, 0.3329373150535436)], 'geometry': {'area': 1.6805133673525319e-18, 'perimeter': 0.5999999999999999, 'centroid': [0.5661684800367757, 0.45563713576211745], 'bounds': [0.5, 0.3329373150535436, 0.7491787697587438, 0.5], 'width': 0.24917876975874376, 'height': 0.16706268494645637}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.24917876975874376, 'height': 0.16706268494645637}, {'command': 'line_normal_0.361-0.406', 'vertices': [(0.5, 0.5), (0.45716498291290164, 0.5287188710788908), (0.41432996582580334, 0.5574377421577817), (0.371494948738705, 0.5861566132366726), (0.3286599316516067, 0.6148754843155634), (0.2858249145645083, 0.6435943553944543), (0.24298989747740996, 0.6723132264733451), (0.20015488039031165, 0.7010320975522359)], 'geometry': {'area': 3.903127820947816e-18, 'perimeter': 0.30091888678577533, 'centroid': [0.27520008555204484, 0.6507178052117791], 'bounds': [0.20015488039031165, 0.617244902256352, 0.3251258770677286, 0.7010320975522359], 'width': 0.12497099667741696, 'height': 0.08378719529588396}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.12497099667741696, 'height': 0.08378719529588396}]
2025-08-12 06:09:01,675 - INFO - [extract_image_features] stroke_type_distribution OUTPUT: {'line': 6}
2025-08-12 06:09:01,676 - INFO - [extract_image_features] modifier_distribution OUTPUT: {'normal': 6}
2025-08-12 06:09:01,676 - INFO - [extract_image_features] relational INPUT: []
2025-08-12 06:09:01,676 - INFO - [extract_image_features] relational OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:01,677 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:01,677 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,677 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,677 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,677 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,678 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,678 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,678 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,678 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,679 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,679 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-12 06:09:01,679 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:01,679 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,679 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,680 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,680 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,680 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,680 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,680 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,682 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,682 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,682 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,682 - DEBUG - [_detect_alternation] OUTPUT: 0.16666666666666666
2025-08-12 06:09:01,683 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:01,683 - INFO - [extract_image_features] PATCHED ngram: {'normal|normal': 5}
2025-08-12 06:09:01,683 - INFO - [extract_image_features] PATCHED alternation: 0.16666666666666666
2025-08-12 06:09:01,683 - INFO - [extract_image_features] PATCHED regularity: 0.16666666666666666
2025-08-12 06:09:01,684 - INFO - [extract_image_features] PATCHED dominant_shape_functions: line
2025-08-12 06:09:01,684 - INFO - [extract_image_features] PATCHED dominant_modifiers: normal
2025-08-12 06:09:01,684 - INFO - [extract_image_features] PATCHED image_canonical_summary: {'area': 125031.92494403911, 'perimeter': 2194.161356795674, 'compactness': 0.32635754487102175, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.16666666666666666}
2025-08-12 06:09:01,684 - INFO - [extract_image_features] OUTPUT: {'area': 125031.92494403911, 'perimeter': 2194.161356795674, 'convexity_ratio': 0.9984129926631835, 'compactness': 0.32635754487102175, 'aspect_ratio': 1.4413899166253221, 'centroid_x': 911.0055019179919, 'centroid_y': -144.25510670364218, 'width': 748.4991528593948, 'height': 519.2898494890479, 'bounding_box': (-4.8326448118253325, -519.2898494890479, 1440.0, 517.6388083375836), 'num_vertices': 7, 'curvature': 1.8505835023017048, 'angular_variance': 1.2847801696911554, 'complexity': -0.4388638652566107, 'num_strokes': 6, 'stroke_type_distribution': {'line': 6}, 'modifier_distribution': {'normal': 6}, 'avg_stroke_length': 0.0, 'stroke_complexity': -0.4388638652566107, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 1.2847801696911554, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 1.3020672363887635, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 1.241833876036452, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.7595494275934412, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.8232176828970881, 'complexity': 1, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 29307462.045137405, 'center_of_mass_x': 1.0, 'center_of_mass_y': 0.0, 'symmetry_score': 57181.313505165854, 'ngram': {'normal|normal': 5}, 'alternation': 0.16666666666666666, 'regularity': 0.16666666666666666, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 125031.92494403911, 'perimeter': 2194.161356795674, 'compactness': 0.32635754487102175, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.16666666666666666}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 6}}
2025-08-12 06:09:01,684 - DEBUG - [extract_image_features] FINAL OUTPUT bounding_box: (-4.8326448118253325, -519.2898494890479, 1440.0, 517.6388083375836)
2025-08-12 06:09:01,685 - DEBUG - [extract_image_features] FINAL OUTPUT width: 748.4991528593948, height: 519.2898494890479
2025-08-12 06:09:01,685 - DEBUG - [extract_image_features] FINAL OUTPUT curvature: 1.8505835023017048
2025-08-12 06:09:01,685 - INFO - [DIAG] Shape 0 extracted attributes: {'area': 125031.92494403911, 'perimeter': 2194.161356795674, 'convexity_ratio': 0.9984129926631835, 'compactness': 0.32635754487102175, 'aspect_ratio': 1.4413899166253221, 'centroid_x': 911.0055019179919, 'centroid_y': -144.25510670364218, 'width': 748.4991528593948, 'height': 519.2898494890479, 'bounding_box': (-4.8326448118253325, -519.2898494890479, 1440.0, 517.6388083375836), 'num_vertices': 7, 'curvature': 1.8505835023017048, 'angular_variance': 1.2847801696911554, 'complexity': -0.4388638652566107, 'num_strokes': 6, 'stroke_type_distribution': {'line': 6}, 'modifier_distribution': {'normal': 6}, 'avg_stroke_length': 0.0, 'stroke_complexity': -0.4388638652566107, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 1.2847801696911554, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 1.3020672363887635, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 1.241833876036452, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.7595494275934412, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.8232176828970881, 'complexity': 1, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 29307462.045137405, 'center_of_mass_x': 1.0, 'center_of_mass_y': 0.0, 'symmetry_score': 57181.313505165854, 'ngram': {'normal|normal': 5}, 'alternation': 0.16666666666666666, 'regularity': 0.16666666666666666, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 125031.92494403911, 'perimeter': 2194.161356795674, 'compactness': 0.32635754487102175, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.16666666666666666}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 6}}
2025-08-12 06:09:01,686 - INFO - [VALIDATION] expected_strokes=6, actual_shapes=1
2025-08-12 06:09:01,686 - INFO - [VALIDATION] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_3, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: Number of action commands matches number of parsed shapes (6)
2025-08-12 06:09:01,686 - INFO - [standardize_coordinates] INPUT vertices: [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)]
2025-08-12 06:09:01,686 - INFO - [standardize_coordinates] OUTPUT normalized vertices: [[0.003344778254546384, 0.5007961208994478], [1.0, 0.5007961208994478], [0.6607190445628457, 0.33394480406203036], [0.48194750752127474, 0.0], [0.5180524924787251, 1.0], [0.3392809554371543, 0.6660551959379695], [0.0, 0.4992038791005517]]
2025-08-12 06:09:01,688 - DEBUG - [process_single_image] Passing shape_list to extract_relational_features: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)]}]
2025-08-12 06:09:01,688 - INFO - [extract_relational_features] INPUT: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)]}]
2025-08-12 06:09:01,688 - DEBUG - [extract_relational_features] Shape 0 vertices: [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)]
2025-08-12 06:09:01,688 - INFO - [calculate_relationships] INPUT: strokes=[{'vertices': [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)]}], buffer_amt=0.001
2025-08-12 06:09:01,689 - DEBUG - [calculate_relationships] Stroke 0: {'vertices': [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)]}
2025-08-12 06:09:01,689 - DEBUG - [calculate_relationships] Vertices for stroke 0: [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)]
2025-08-12 06:09:01,689 - DEBUG - [calculate_relationships] Created LineString for stroke 0: LINESTRING (0 0, 1440 0, 949.7957998214533 -173.01291202482932, 691.5008471406052 -519.2898494890479, 743.6665080475693 517.6388083375836, 485.37155536672134 171.36187087336475, -4.8326448118253325 -1.6510411514647956)
2025-08-12 06:09:01,690 - DEBUG - [calculate_relationships] Buffered geometries: ['POLYGON ((717.6241561944689 -0.001, 0 -0.001, -9.801714032956045e-5 -0.0009951847266722, -0.0001950903220161 -0.0009807852804032, -0.0002902846772545 -0.0009569403357322, -0.0003826834323651 -0.0009238795325113, -0.000471396736826 -0.0008819212643484, -0.0005555702330196 -0.0008314696123025, -0.0006343932841636 -0.0007730104533627, -0.0007071067811865 -0.0007071067811865, -0.0007730104533627 -0.0006343932841636, -0.0008314696123025 -0.0005555702330196, -0.0008819212643484 -0.000471396736826, -0.0009238795325113 -0.0003826834323651, -0.0009569403357322 -0.0002902846772545, -0.0009807852804032 -0.0001950903220161, -0.0009951847266722 -9.801714032956059e-5, -0.001 0, -0.0009951847266722 9.801714032956083e-5, -0.0009807852804032 0.0001950903220161, -0.0009569403357322 0.0002902846772545, -0.0009238795325113 0.0003826834323651, -0.0008819212643484 0.000471396736826, -0.0008314696123025 0.0005555702330196, -0.0007730104533627 0.0006343932841636, -0.0007071067811865 0.0007071067811865, -0.0006343932841636 0.0007730104533627, -0.0005555702330196 0.0008314696123025, -0.000471396736826 0.0008819212643484, -0.0003826834323651 0.0009238795325113, -0.0002902846772545 0.0009569403357322, -0.0001950903220161 0.0009807852804032, -9.801714032956064e-5 0.0009951847266722, 0 0.001, 717.6242568101873 0.001, 743.6653441443888 517.6355754721319, 485.3723569337062 171.36127296838168, 485.37229429263385 171.36119708668053, 485.3722244973277 171.36112772853926, 485.3721482235415 171.36106556547904, 485.3720662097532 171.36101119935861, 485.3719792500151 171.36096515654737, 485.37188818626583 171.36092788282886, -4.832311992280809 -1.6519841420006884, -4.832406024133571 -1.6520122232635126, -4.832502355642339 -1.652030952574073, -4.832600059082024 -1.652040149558871, -4.832698193515091 -1.6520397256459152, -4.832795813853305 -1.6520296849177187, -4.8328919799594425 -1.6520101240719836, -4.832985765701333 -1.6519812314903466, -4.8330762678710135 -1.6519432854241638, -4.833162614883116 -1.6518966513147957, -4.833243975168712 -1.651841778274208, -4.833319565183776 -1.6517791947597789, -4.833388656955139 -1.6517095034849634, -4.833450585091276 -1.6516333756148354, -4.833504753190382 -1.6515515443023998, -4.8335506395840495 -1.6514647976279289, -4.833587802361225 -1.6513739710093185, -4.8336158836240495 -1.6512799391565567, -4.83363461293461 -1.6511836076477888, -4.833643809919408 -1.6510859042081039, -4.833643386006452 -1.6509877697750368, -4.833633345278256 -1.6508901494368233, -4.83361378443252 -1.6507939833306855, -4.833584891850884 -1.650700197588795, -4.8335469457847005 -1.6506096954191145, -4.833500311675333 -1.650523348407012, -4.833445438634745 -1.6504419881214158, -4.833382855120315 -1.6503663981063526, -4.8333131638455 -1.6502973063349886, -4.8332370359753725 -1.6502353781988517, -4.833155204662937 -1.6501812100997466, -4.833068457988466 -1.6501353237060785, -4.832977631369856 -1.6500981609289027, 485.3709356851576 171.36271261867816, 743.6657064805845 517.6394062425666, 743.6657689045912 517.6394818861401, 743.6658384381976 517.6395510510474, 743.6659144125803 517.6396130720117, 743.6659960969639 517.6396673524714, 743.6660827056503 517.6397133703188, 743.6661734055758 517.6397506829217, 743.6662673243246 517.6397789313809, 743.6663635585197 517.639797843983, 743.6664611825126 517.6398072388131, 743.6665592572868 517.6398070255052, 743.6666568394897 517.6397972061109, 743.6667529905069 517.6397778750802, 743.6668467854896 517.6397492183524, 743.6669373222516 517.6397115115685, 743.6670237299463 517.6396651174188, 743.6671051774433 517.639610482155, 743.6671808813232 517.6395481312978, 743.6672501134125 517.6394786645817, 743.667312207788 517.6394027501867, 743.6673665671821 517.6393211183112, 743.6674126687277 517.6392345541481, 743.6674500689876 517.6391438903329, 743.6674784082196 517.6390499989342, 743.667497413837 517.6389537830657, 743.6675069030304 517.6388561681998, 743.6675067845259 517.6387580932653, 717.6262593394687 0.001, 1440 0.001, 1440.0000964807439 0.0009953348512199, 1440.0001920612938 0.0009813829321058, 1440.0002858498547 0.0009582744182147, 1440.0003769713512 0.0009262249188573, 1440.000464575593 0.0008855334653993, 1440.0005478452063 0.0008365797212096, 1440.0006260032608 0.0007798204392881, 1440.0006983205185 0.0007157852006246, 1440.000764122238 0.00064507147305, 1440.0008227944697 0.0005683390366843, 1440.0008737897842 0.0004863038279912, 1440.0009166323798 0.0003997312598783, 1440.0009509225229 0.0003094290801665, 1440.0009763402757 0.0002162398350631, 1440.0009926484831 0.0001210330079541, 1440.0009996949848 2.4696906866369233e-5, 1440.000997414035 -7.1869623711287e-5, 1440.0009858269154 -0.0001677655893142, 1440.0009650417373 -0.0002620962520484, 1440.0009352524326 -0.0003539814787616, 1440.0008967369445 -0.0004425639529471, 1440.0008498546338 -0.0005270171737623, 1440.0007950429265 -0.0006065531675268, 1440.0007328132322 -0.0006804298397523, 1440.0006637461722 -0.000747957899104, 1440.000588486163 -0.0008085072886946, 1440.0005077354028 -0.000861513064702, 1440.0004222473203 -0.0009064806674638, 1440.0003328195446 -0.0009429905358929, 949.796419503017 -173.01375377014276, 691.50164870759 -519.2904473940309, 691.5015862835833 -519.2905230376044, 691.5015167499769 -519.2905922025118, 691.5014407755942 -519.290654223476, 691.5013590912106 -519.2907085039358, 691.5012724825242 -519.2907545217831, 691.5011817825987 -519.290791834386, 691.5010878638499 -519.2908200828452, 691.5009916296548 -519.2908389954474, 691.5008940056618 -519.2908483902775, 691.5007959308876 -519.2908481769696, 691.5006983486848 -519.2908383575752, 691.5006021976676 -519.2908190265446, 691.5005084026849 -519.2907903698168, 691.5004178659229 -519.2907526630329, 691.5003314582282 -519.2907062688831, 691.5002500107312 -519.2906516336194, 691.5001743068512 -519.2905892827622, 691.500105074762 -519.2905198160461, 691.5000429803865 -519.2904439016511, 691.4999886209924 -519.2903622697755, 691.4999425194468 -519.2902757056124, 691.4999051191869 -519.2901850417973, 691.4998767799549 -519.2900911503986, 691.4998577743374 -519.2899949345301, 691.4998482851441 -519.2898973196642, 691.4998484036486 -519.2897992447297, 717.6241561944689 -0.001), (717.6261587237502 -0.001, 691.5020110437857 -519.2866166235963, 949.7949982544685 -173.01231411984625, 949.7950608955408 -173.01223823814507, 949.795130690847 -173.01216888000383, 949.7952069646332 -173.01210671694358, 949.7952889784215 -173.01205235082318, 949.7953759381596 -173.01200630801193, 949.7954670019088 -173.01196903429343, 1439.9941620299412 -0.001, 717.6261587237502 -0.001))']
2025-08-12 06:09:01,690 - INFO - [calculate_relationships] Intermediate results: adjacency=0, intersections=0, containment=0, overlap=0.0
2025-08-12 06:09:01,690 - INFO - [calculate_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:01,690 - WARNING - [calculate_relationships] All relational features are zero/default. Strokes: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)]}]
2025-08-12 06:09:01,690 - INFO - [extract_relational_features] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:01,690 - DEBUG - [extract_relational_features] Output is JSON serializable.
2025-08-12 06:09:01,692 - INFO - [robust_curvature] INPUT: [[0.00334478 0.50079612]
 [1.         0.50079612]
 [0.66071904 0.3339448 ]
 [0.48194751 0.        ]
 [0.51805249 1.        ]
 [0.33928096 0.6660552 ]
 [0.         0.49920388]]
2025-08-12 06:09:01,692 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,693 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,693 - INFO - Computed angular variance: 1.245751 for 7 vertices.
2025-08-12 06:09:01,694 - INFO - [robust_curvature] INPUT: [[0.00334478 0.50079612]
 [0.51805249 1.        ]
 [0.33928096 0.6660552 ]
 [0.         0.49920388]]
2025-08-12 06:09:01,694 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,695 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,695 - INFO - [robust_curvature] INPUT: [[1.         0.50079612]
 [0.66071904 0.3339448 ]
 [0.48194751 0.        ]]
2025-08-12 06:09:01,695 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,695 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,696 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:01,696 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 1.2457510016709787, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,697 - INFO - [robust_curvature] INPUT: [[0.00715537 0.50079001]
 [0.994875   0.50015604]
 [0.6613348  0.33330379]
 [0.48277183 0.00511736]
 [0.51722817 0.99488264]
 [0.3386652  0.66669621]
 [0.0013144  0.49985007]]
2025-08-12 06:09:01,697 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,697 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,698 - INFO - Computed angular variance: 1.270975 for 7 vertices.
2025-08-12 06:09:01,699 - INFO - [robust_curvature] INPUT: [[0.00715537 0.50079001]
 [0.51722817 0.99488264]
 [0.3386652  0.66669621]
 [0.0013144  0.49985007]]
2025-08-12 06:09:01,699 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,699 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,700 - INFO - [robust_curvature] INPUT: [[0.994875   0.50015604]
 [0.6613348  0.33330379]
 [0.48277183 0.00511736]]
2025-08-12 06:09:01,700 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,700 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,701 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:01,701 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 1.270975050067981, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,702 - INFO - [robust_curvature] INPUT: [[0.10934554 0.50062621]
 [0.857388   0.48290211]
 [0.67759429 0.31637735]
 [0.50492033 0.14230735]
 [0.49507967 0.85769265]
 [0.32214361 0.68362307]
 [0.03687333 0.51726739]]
2025-08-12 06:09:01,703 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,703 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,703 - INFO - Computed angular variance: 1.183081 for 7 vertices.
2025-08-12 06:09:01,704 - INFO - [robust_curvature] INPUT: [[0.10934554 0.50062621]
 [0.49507967 0.85769265]
 [0.32214361 0.68362307]
 [0.03687333 0.51726739]]
2025-08-12 06:09:01,704 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,705 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,705 - INFO - [robust_curvature] INPUT: [[0.857388   0.48290211]
 [0.67759429 0.31637735]
 [0.50492033 0.14230735]]
2025-08-12 06:09:01,705 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,706 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,706 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:01,706 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 1.1830805129711397, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,707 - INFO - [robust_curvature] INPUT: [[0.30186264 0.50031761]
 [0.58956316 0.43633209]
 [0.65187841 0.34075335]
 [0.54982342 0.39034186]
 [0.44564143 0.60966541]
 [0.29449164 0.65933262]
 [0.17008407 0.56405319]]
2025-08-12 06:09:01,707 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,707 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,708 - INFO - Computed angular variance: 0.607182 for 7 vertices.
2025-08-12 06:09:01,709 - INFO - [robust_curvature] INPUT: [[0.30186264 0.50031761]
 [0.44564143 0.60966541]
 [0.29449164 0.65933262]
 [0.17008407 0.56405319]]
2025-08-12 06:09:01,709 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,710 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,710 - INFO - [robust_curvature] INPUT: [[0.58956316 0.43633209]
 [0.65187841 0.34075335]
 [0.54982342 0.39034186]]
2025-08-12 06:09:01,710 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,711 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,711 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:01,711 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.6071820620474782, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,712 - INFO - [robust_curvature] INPUT: [[0.40049644 0.5001595 ]
 [0.45996125 0.46682602]
 [0.49541543 0.45785662]
 [0.48083485 0.48102417]
 [0.42802306 0.51912193]
 [0.37570076 0.54234998]
 [0.36291298 0.5334579 ]]
2025-08-12 06:09:01,712 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,713 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,713 - INFO - Computed angular variance: 0.665067 for 7 vertices.
2025-08-12 06:09:01,714 - INFO - [robust_curvature] INPUT: [[0.40049644 0.5001595 ]
 [0.42802306 0.51912193]
 [0.37570076 0.54234998]
 [0.36291298 0.5334579 ]]
2025-08-12 06:09:01,714 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,714 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,715 - INFO - [robust_curvature] INPUT: [[0.45996125 0.46682602]
 [0.49541543 0.45785662]
 [0.48083485 0.48102417]]
2025-08-12 06:09:01,715 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:01,715 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:01,716 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:01,716 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.6650666150682936, 'complexity': 1, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:01,716 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 1.2457510016709787, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 1.270975050067981, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 1.1830805129711397, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.6071820620474782, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.6650666150682936, 'complexity': 1, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:01,717 - INFO - [_calculate_image_features] INPUTS: vertices=[(0.003344778254546384, 0.5007961208994478), (1.0, 0.5007961208994478), (0.6607190445628457, 0.33394480406203036), (0.48194750752127474, 0.0), (0.5180524924787251, 1.0), (0.3392809554371543, 0.6660551959379695), (0.0, 0.4992038791005517)], strokes=[{'command': 'line_normal_1.000-0.500', 'vertices': [(0.5, 0.5), (0.4473684210526316, 0.5), (0.39473684210526316, 0.5), (0.34210526315789475, 0.5), (0.2894736842105263, 0.5), (0.2368421052631579, 0.5), (0.1842105263157895, 0.5), (0.13157894736842107, 0.5), (0.07894736842105265, 0.5), (0.026315789473684237, 0.5), (-0.02631578947368418, 0.5000000000000001), (-0.07894736842105265, 0.5000000000000001), (-0.13157894736842102, 0.5000000000000001), (-0.18421052631578938, 0.5000000000000001), (-0.23684210526315785, 0.5000000000000001), (-0.2894736842105263, 0.5000000000000001), (-0.3421052631578947, 0.5000000000000001), (-0.39473684210526305, 0.5000000000000001), (-0.4473684210526315, 0.5000000000000001), (-0.5, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.361-0.054', 'vertices': [(0.5, 0.5), (0.548631369065332, 0.5171639793675425), (0.597262738130664, 0.5343279587350852), (0.645894107195996, 0.5514919381026278), (0.694525476261328, 0.5686559174701704), (0.74315684532666, 0.585819896837713), (0.7917882143919921, 0.6029838762052556), (0.840419583457324, 0.6201478555727982)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.300-0.594', 'vertices': [(0.5, 0.5), (0.46440303289160806, 0.4761339021505062), (0.42880606578321606, 0.4522678043010125), (0.3932090986748241, 0.4284017064515187), (0.3576121315664321, 0.4045356086020249), (0.3220151644580402, 0.3806695107525312), (0.28641819734964824, 0.3568034129030374), (0.25082123024125624, 0.3329373150535436)], 'geometry': {'area': 1.6263032587282567e-18, 'perimeter': 0.19971681978912592, 'centroid': [0.3279907574588725, 0.38467586575553897], 'bounds': [0.2924686293619896, 0.3608599439552069, 0.3754106151206281, 0.4164686575267718], 'width': 0.08294198575863854, 'height': 0.05560871357156494}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.08294198575863854, 'height': 0.05560871357156494}, {'command': 'line_normal_0.721-0.094', 'vertices': [(0.5, 0.5), (0.5460661264092447, 0.5308851784221525), (0.5921322528184894, 0.5617703568443052), (0.638198379227734, 0.5926555352664578), (0.6842645056369787, 0.6235407136886103), (0.7303306320462234, 0.6544258921107629), (0.7763967584554681, 0.6853110705329155), (0.8224628848647126, 0.7161962489550681), (0.8685290112739574, 0.7470814273772206), (0.914595137683202, 0.7779666057993733), (0.9606612640924468, 0.8088517842215258), (1.0067273905016914, 0.8397369626436784), (1.0527935169109361, 0.870622141065831), (1.0988596433201807, 0.9015073194879836)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.300-0.906', 'vertices': [(0.5, 0.5), (0.535596967108392, 0.4761339021505062), (0.5711939342167839, 0.4522678043010125), (0.6067909013251759, 0.4284017064515187), (0.6423878684335679, 0.4045356086020249), (0.6779848355419598, 0.3806695107525312), (0.7135818026503518, 0.3568034129030374), (0.7491787697587438, 0.3329373150535436)], 'geometry': {'area': 1.6805133673525319e-18, 'perimeter': 0.5999999999999999, 'centroid': [0.5661684800367757, 0.45563713576211745], 'bounds': [0.5, 0.3329373150535436, 0.7491787697587438, 0.5], 'width': 0.24917876975874376, 'height': 0.16706268494645637}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.24917876975874376, 'height': 0.16706268494645637}, {'command': 'line_normal_0.361-0.406', 'vertices': [(0.5, 0.5), (0.45716498291290164, 0.5287188710788908), (0.41432996582580334, 0.5574377421577817), (0.371494948738705, 0.5861566132366726), (0.3286599316516067, 0.6148754843155634), (0.2858249145645083, 0.6435943553944543), (0.24298989747740996, 0.6723132264733451), (0.20015488039031165, 0.7010320975522359)], 'geometry': {'area': 3.903127820947816e-18, 'perimeter': 0.30091888678577533, 'centroid': [0.27520008555204484, 0.6507178052117791], 'bounds': [0.20015488039031165, 0.617244902256352, 0.3251258770677286, 0.7010320975522359], 'width': 0.12497099667741696, 'height': 0.08378719529588396}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.12497099667741696, 'height': 0.08378719529588396}], geometry={'area': 0.08345540989126246, 'perimeter': 1.7579676219235472, 'centroid': [0.633871438341633, 0.36167844330917254], 'bounds': [0.48194750752127474, 0.0, 1.0, 0.5007961208994478], 'width': 0.5180524924787253, 'height': 0.5007961208994478}
2025-08-12 06:09:01,717 - DEBUG - [POLYGON CREATION] Attempting to create Polygon with vertices: [(0.003344778254546384, 0.5007961208994478), (1.0, 0.5007961208994478), (0.6607190445628457, 0.33394480406203036), (0.48194750752127474, 0.0), (0.5180524924787251, 1.0), (0.3392809554371543, 0.6660551959379695), (0.0, 0.4992038791005517)]
2025-08-12 06:09:01,717 - DEBUG - [POLYGON REPAIR] Final polygon: is_valid=True, is_empty=False, area=0.4999712560669012
2025-08-12 06:09:01,717 - INFO - [_calculate_perimeter] INPUT vertices: [(0.003344778254546384, 0.5007961208994478), (1.0, 0.5007961208994478), (0.6607190445628457, 0.33394480406203036), (0.48194750752127474, 0.0), (0.5180524924787251, 1.0), (0.3392809554371543, 0.6660551959379695), (0.0, 0.4992038791005517)]
2025-08-12 06:09:01,717 - INFO - [_calculate_perimeter] OUTPUT perimeter: 3.5147591006748597
2025-08-12 06:09:01,718 - INFO - [robust_curvature] INPUT: [(0.003344778254546384, 0.5007961208994478), (1.0, 0.5007961208994478), (0.6607190445628457, 0.33394480406203036), (0.48194750752127474, 0.0), (0.5180524924787251, 1.0), (0.3392809554371543, 0.6660551959379695), (0.0, 0.4992038791005517)]
2025-08-12 06:09:01,718 - INFO - [robust_curvature] OUTPUT: 1.946405253100283
2025-08-12 06:09:01,718 - INFO - Computed angular variance: 1.245751 for 7 vertices.
2025-08-12 06:09:01,720 - INFO - [complexity] Calling calculate_complexity with vertices: [(0.003344778254546384, 0.5007961208994478), (1.0, 0.5007961208994478), (0.6607190445628457, 0.33394480406203036), (0.48194750752127474, 0.0), (0.5180524924787251, 1.0), (0.3392809554371543, 0.6660551959379695), (0.0, 0.4992038791005517)]
2025-08-12 06:09:01,721 - INFO - Complexity: n=7, n_norm=0.28, curvature=0.97, irregularity=0.33, result=0.50
2025-08-12 06:09:01,721 - INFO - [complexity] Output for vertices count 7: 0.49681223266082625
2025-08-12 06:09:01,722 - INFO - [_calculate_image_features] polsby_popper: 0.0008071285457254438
2025-08-12 06:09:01,724 - INFO - [_calculate_image_features] OUTPUT: {'bounding_box': (0.0, 0.0, 1.0, 1.0), 'centroid': [0.633871438341633, 0.36167844330917254], 'width': 0.5180524924787253, 'height': 0.5007961208994478, 'area_raw': 0.4999712560669012, 'area_normalized': 1.0, 'perimeter_raw': 3.5147591006748597, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.034457877885085, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.5085852642273041, 'polsby_popper_compactness': 0.0008071285457254438, 'eccentricity': 0.28585147995924876, 'symmetry_score': 39.57642686888218, 'horizontal_symmetry': 0.3812853584497951, 'vertical_symmetry': 0.5297709416653129, 'rotational_symmetry': 1.0, 'has_quadrangle': True, 'geometric_complexity': 7.0, 'visual_complexity': 0.533868010374565, 'curvature_score': 1.946405253100283, 'angular_variance': 1.2457510016709787, 'moment_of_inertia': 0.30125443385407114, 'irregularity_score': 0.3298127790344745, 'standardized_complexity': 0.49681223266082625, 'clustering_heights': [0.0, 0.0, 0.11314735063399803, 0.43356323993543655, 0.7215043238059594], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:01,724 - DEBUG - [_calculate_composition_features] INPUTS: strokes count=6
2025-08-12 06:09:01,724 - DEBUG - [_calculate_composition_features] OUTPUT: {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'normal': 6}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 7, 'homogeneity_score': 1.0, 'pattern_regularity': 0.16666666666666666}
2025-08-12 06:09:01,725 - INFO - [_calculate_physics_features] INPUT vertices: [(0.003344778254546384, 0.5007961208994478), (1.0, 0.5007961208994478), (0.6607190445628457, 0.33394480406203036), (0.48194750752127474, 0.0), (0.5180524924787251, 1.0), (0.3392809554371543, 0.6660551959379695), (0.0, 0.4992038791005517)]
2025-08-12 06:09:01,725 - INFO - [_calculate_physics_features] INPUT centroid: [0.633871438341633, 0.36167844330917254]
2025-08-12 06:09:01,725 - INFO - [_calculate_physics_features] INPUT strokes: ['line_normal_1.000-0.500', 'line_normal_0.361-0.054', 'line_normal_0.300-0.594', 'line_normal_0.721-0.094', 'line_normal_0.300-0.906', 'line_normal_0.361-0.406']
2025-08-12 06:09:01,726 - INFO - [_calculate_physics_features] polsby_popper: 0.7851191348389638
2025-08-12 06:09:01,727 - INFO - Computed angular variance: 1.245751 for 7 vertices.
2025-08-12 06:09:01,727 - INFO - [_calculate_physics_features] OUTPUT: {'moment_of_inertia': 0.30125443385407114, 'center_of_mass': [0.633871438341633, 0.36167844330917254], 'polsby_popper_compactness': 0.7851191348389638, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.946405253100283, 'angular_variance': 1.2457510016709787, 'edge_length_variance': 0.11467247869828885}
2025-08-12 06:09:01,727 - INFO - [calculate_shape_relationships] INPUT: shapes=[{'vertices': [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)]}], buffer_amt=0.001
2025-08-12 06:09:01,728 - DEBUG - [calculate_shape_relationships] Shape 0 vertices: [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)]
2025-08-12 06:09:01,728 - WARNING - calculate_shape_relationships: No valid geometries found.
2025-08-12 06:09:01,728 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal'], n=2
2025-08-12 06:09:01,728 - DEBUG - [ensure_str_list] Converting list: ['normal']
2025-08-12 06:09:01,729 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,729 - DEBUG - [ensure_str_list] Result: ['normal']
2025-08-12 06:09:01,729 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal']
2025-08-12 06:09:01,730 - DEBUG - [_extract_ngram_features] OUTPUT: {}
2025-08-12 06:09:01,730 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:01,730 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal'], n=2
2025-08-12 06:09:01,730 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal']
2025-08-12 06:09:01,731 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,731 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,731 - DEBUG - [ensure_str_list] Result: ['normal', 'normal']
2025-08-12 06:09:01,731 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal']
2025-08-12 06:09:01,731 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 1}
2025-08-12 06:09:01,732 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:01,732 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal'], n=2
2025-08-12 06:09:01,732 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal']
2025-08-12 06:09:01,732 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,733 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,733 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,734 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal']
2025-08-12 06:09:01,734 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal']
2025-08-12 06:09:01,734 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 2}
2025-08-12 06:09:01,734 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:01,734 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:01,735 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,735 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,735 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,735 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,736 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,736 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,736 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,736 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-12 06:09:01,737 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:01,737 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:01,737 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,737 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,738 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,738 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,738 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,738 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,739 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,739 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,739 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 4}
2025-08-12 06:09:01,739 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:01,740 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:01,740 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,740 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,740 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,740 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,741 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,741 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,741 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,741 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,741 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,742 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-12 06:09:01,742 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:01,742 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,742 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,742 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,743 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,743 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,743 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,743 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,744 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,744 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,744 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,744 - DEBUG - [_detect_alternation] OUTPUT: 0.16666666666666666
2025-08-12 06:09:01,744 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:01,745 - INFO - [extract_regularity_features] INPUT: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,745 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,745 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,745 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,746 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,746 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,746 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,746 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,746 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,747 - INFO - [extract_regularity_features] OUTPUT: {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 6}}
2025-08-12 06:09:01,747 - DEBUG - [extract_regularity_features] Output is JSON serializable.
2025-08-12 06:09:01,747 - INFO - [extract_dominant_shape_modifiers] INPUT: {'modifiers': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']}
2025-08-12 06:09:01,747 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,747 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,748 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,748 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,748 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,748 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,748 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,749 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,749 - INFO - [extract_dominant_shape_modifiers] OUTPUT: {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 6}}
2025-08-12 06:09:01,749 - DEBUG - [extract_dominant_shape_modifiers] Output is JSON serializable.
2025-08-12 06:09:01,749 - WARNING - [PATCH] Failed to load canonical summary for image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_3: type object 'FileIO' has no attribute 'load_canonical_features'
2025-08-12 06:09:01,750 - DEBUG - [process_single_image] Passing topo_shape_list to extract_topological_features: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)]}]
2025-08-12 06:09:01,762 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image type: <class 'bongard.bongard.BongardImage'> | problem_id=hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:01,762 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image.one_stroke_shapes: [<src.data_pipeline.logo_parser.OneStrokeShape object at 0x00000259469156D0>]
2025-08-12 06:09:01,762 - INFO - [extract_stroke_features_from_shapes] problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 | num_shapes=1 | total_strokes=6
2025-08-12 06:09:01,763 - INFO - [extract_stroke_features_from_shapes] PATCH: shapes=[<src.data_pipeline.logo_parser.OneStrokeShape object at 0x00000259469156D0>]
2025-08-12 06:09:01,763 - INFO - [extract_stroke_features_from_shapes] Shape 0 actions: [line_normal_1.000-0.500, line_normal_0.361-0.054, line_normal_0.300-0.594, line_normal_0.721-0.094, line_normal_0.300-0.906, line_normal_0.361-0.406]
2025-08-12 06:09:01,763 - INFO - [extract_stroke_features_from_shapes] Shape 0: [line_normal_1.000-0.500, line_normal_0.361-0.054, line_normal_0.300-0.594, line_normal_0.721-0.094, line_normal_0.300-0.906, line_normal_0.361-0.406], None, None, None
2025-08-12 06:09:01,763 - INFO - [extract_stroke_features_from_shapes] Shape 0 geometry: {'area': 0.08345540989126246, 'perimeter': 1.7579676219235472, 'centroid': [0.633871438341633, 0.36167844330917254], 'bounds': [0.48194750752127474, 0.0, 1.0, 0.5007961208994478], 'width': 0.5180524924787253, 'height': 0.5007961208994478, 'robust_curvature': 1.946405253100283, 'robust_angular_variance': 1.2457510016709787, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 3.032118076064278}
2025-08-12 06:09:01,764 - INFO - [extract_stroke_features_from_shapes] Shape 0: num_actions=6 | actions=[line_normal_1.000-0.500, line_normal_0.361-0.054, line_normal_0.300-0.594, line_normal_0.721-0.094, line_normal_0.300-0.906, line_normal_0.361-0.406]
2025-08-12 06:09:01,765 - INFO - [extract_stroke_features_from_shapes] PATCH: Validated/corrected shape_vertices for shape 0: [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956), (0.0, 0.0)]
2025-08-12 06:09:01,765 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=0 | stroke=line_normal_1.000-0.500
2025-08-12 06:09:01,765 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1440.0, 0.0)]
2025-08-12 06:09:01,765 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,765 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,766 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,766 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,766 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,768 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.33934590634458384}
2025-08-12 06:09:01,768 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.33934590634458384, 'is_simple': True}
2025-08-12 06:09:01,768 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 0: {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)], 'open_stroke_perimeter': 4381.919999999999, 'compactness': 0.33934590634458384, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'line_length': 4381.919999999999, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:01,768 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=1 | stroke=line_normal_0.361-0.054
2025-08-12 06:09:01,768 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(1440.0, 0.0), (949.7957998214533, -173.01291202482932)]
2025-08-12 06:09:01,770 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,770 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,770 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_1.000-0.500, line_normal_0.361-0.054, line_normal_0.300-0.594, line_normal_0.721-0.094, line_normal_0.300-0.906, line_normal_0.361-0.406]
2025-08-12 06:09:01,770 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_1.000-0.500
2025-08-12 06:09:01,771 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,771 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,771 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,774 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,775 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,776 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.33934590634458384}
2025-08-12 06:09:01,776 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.33934590634458384, 'is_simple': True}
2025-08-12 06:09:01,777 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.361-0.054
2025-08-12 06:09:01,777 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,777 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,777 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,778 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.8399999999999. Returning 0.0.
2025-08-12 06:09:01,778 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,778 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,779 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,779 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,779 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:01,779 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,781 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,781 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 0.0), (949.7957998214533, -173.01291202482932)]
2025-08-12 06:09:01,781 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,781 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,782 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.594
2025-08-12 06:09:01,782 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,782 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,782 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,784 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.8399999999999. Returning 0.0.
2025-08-12 06:09:01,784 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,784 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,784 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,785 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,785 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:01,785 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,787 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,787 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 0.0), (949.7957998214533, -173.01291202482932)]
2025-08-12 06:09:01,787 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,787 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,788 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.721-0.094
2025-08-12 06:09:01,788 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,788 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,788 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,790 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.8399999999999. Returning 0.0.
2025-08-12 06:09:01,790 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,791 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,791 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,791 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,791 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:01,792 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,792 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,792 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 0.0), (949.7957998214533, -173.01291202482932)]
2025-08-12 06:09:01,793 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,793 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,793 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.906
2025-08-12 06:09:01,794 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,794 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,795 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,795 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.8399999999999. Returning 0.0.
2025-08-12 06:09:01,795 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,796 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,796 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,796 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,796 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:01,797 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,797 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,798 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 0.0), (949.7957998214533, -173.01291202482932)]
2025-08-12 06:09:01,798 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,798 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,799 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.361-0.406
2025-08-12 06:09:01,799 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,799 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,800 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,800 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.8399999999999. Returning 0.0.
2025-08-12 06:09:01,800 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,801 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,801 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,802 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,802 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:01,802 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,803 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,803 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 0.0), (949.7957998214533, -173.01291202482932)]
2025-08-12 06:09:01,804 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,804 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,804 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 06:09:01,804 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 06:09:01,805 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:01,806 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.8399999999999. Returning 0.0.
2025-08-12 06:09:01,806 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,806 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,807 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 433.2, 'var': 37532.448, 'min': 0.0, 'max': 519.8399999999999, 'count': 6}, 'width': {'mean': 408.5035001487889, 'var': 33375.0219267623, 'min': 0.0, 'max': 490.20420017854667, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 144.17742668735778, 'var': 4157.426073237683, 'min': 0.0, 'max': 173.01291202482932, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:01,807 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 433.2, 'var': 37532.448, 'min': 0.0, 'max': 519.8399999999999, 'count': 6}, 'width': {'mean': 408.5035001487889, 'var': 33375.0219267623, 'min': 0.0, 'max': 490.20420017854667, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 144.17742668735778, 'var': 4157.426073237683, 'min': 0.0, 'max': 173.01291202482932, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:01,807 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:01,808 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,808 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,808 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 0.0), (949.7957998214533, -173.01291202482932)]
2025-08-12 06:09:01,809 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,809 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,809 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (949.7957998214533, -173.01291202482932)], 'open_stroke_perimeter': 519.8399999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.8399999999999, 'avg_stroke_length': 519.8399999999999, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 519.8399999999999, 'var': 0.0, 'min': 519.8399999999999, 'max': 519.8399999999999, 'count': 1}, 'width': {'mean': 490.20420017854667, 'var': 0.0, 'min': 490.20420017854667, 'max': 490.20420017854667, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 173.01291202482932, 'var': 0.0, 'min': 173.01291202482932, 'max': 173.01291202482932, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 519.8399999999999, 'var': 0.0, 'min': 519.8399999999999, 'max': 519.8399999999999, 'count': 1}, 'width': {'mean': 490.20420017854667, 'var': 0.0, 'min': 490.20420017854667, 'max': 490.20420017854667, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 173.01291202482932, 'var': 0.0, 'min': 173.01291202482932, 'max': 173.01291202482932, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 490.20420017854667, 'height': 173.01291202482932, 'area': 0.0, 'perimeter': 519.8399999999999, 'centroid': [1194.8978999107267, -86.50645601241466], 'bounds': [949.7957998214533, -173.01291202482932, 1440.0, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.8399999999999, 'line_angle': -160.56, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:01,809 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_normal_0.300-0.594
2025-08-12 06:09:01,811 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479)]
2025-08-12 06:09:01,811 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,811 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,811 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_1.000-0.500, line_normal_0.361-0.054, line_normal_0.300-0.594, line_normal_0.721-0.094, line_normal_0.300-0.906, line_normal_0.361-0.406]
2025-08-12 06:09:01,812 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_1.000-0.500
2025-08-12 06:09:01,812 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,812 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,814 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,814 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,814 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,816 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.33934590634458384}
2025-08-12 06:09:01,816 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.33934590634458384, 'is_simple': True}
2025-08-12 06:09:01,816 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.361-0.054
2025-08-12 06:09:01,816 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,818 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,818 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,818 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=431.99999999999994. Returning 0.0.
2025-08-12 06:09:01,818 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,819 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,819 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,819 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,820 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:01,820 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,820 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,820 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479)]
2025-08-12 06:09:01,821 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,821 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,821 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.594
2025-08-12 06:09:01,823 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,823 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,824 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,824 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=431.99999999999994. Returning 0.0.
2025-08-12 06:09:01,824 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,825 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,825 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,825 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,825 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:01,827 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,827 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,828 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479)]
2025-08-12 06:09:01,828 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,828 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,829 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.721-0.094
2025-08-12 06:09:01,829 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,829 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,830 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,830 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=431.99999999999994. Returning 0.0.
2025-08-12 06:09:01,830 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,831 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,831 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,831 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,831 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:01,832 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,832 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,832 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479)]
2025-08-12 06:09:01,833 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,833 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,833 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.906
2025-08-12 06:09:01,835 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,835 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,835 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,835 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=431.99999999999994. Returning 0.0.
2025-08-12 06:09:01,836 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,837 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,837 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,837 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,838 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:01,838 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,838 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,839 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479)]
2025-08-12 06:09:01,839 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,839 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,839 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.361-0.406
2025-08-12 06:09:01,840 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,840 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,840 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,840 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=431.99999999999994. Returning 0.0.
2025-08-12 06:09:01,842 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,842 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,842 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,843 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,843 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:01,843 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,844 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,844 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479)]
2025-08-12 06:09:01,844 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,844 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,846 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 06:09:01,846 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 06:09:01,847 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:01,847 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=431.99999999999994. Returning 0.0.
2025-08-12 06:09:01,847 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,847 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,848 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 359.99999999999994, 'var': 25919.99999999999, 'min': 0.0, 'max': 431.99999999999994, 'count': 6}, 'width': {'mean': 215.2457939007068, 'var': 9266.150358389112, 'min': 0.0, 'max': 258.29495268084816, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 288.5641145535155, 'var': 16653.84964161088, 'min': 0.0, 'max': 346.2769374642186, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:01,848 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 359.99999999999994, 'var': 25919.99999999999, 'min': 0.0, 'max': 431.99999999999994, 'count': 6}, 'width': {'mean': 215.2457939007068, 'var': 9266.150358389112, 'min': 0.0, 'max': 258.29495268084816, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 288.5641145535155, 'var': 16653.84964161088, 'min': 0.0, 'max': 346.2769374642186, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:01,848 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:01,849 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,849 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,850 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479)]
2025-08-12 06:09:01,850 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,850 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,851 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479)], 'open_stroke_perimeter': 431.99999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 431.99999999999994, 'avg_stroke_length': 431.99999999999994, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 431.99999999999994, 'var': 0.0, 'min': 431.99999999999994, 'max': 431.99999999999994, 'count': 1}, 'width': {'mean': 258.29495268084816, 'var': 0.0, 'min': 258.29495268084816, 'max': 258.29495268084816, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 346.2769374642186, 'var': 0.0, 'min': 346.2769374642186, 'max': 346.2769374642186, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 431.99999999999994, 'var': 0.0, 'min': 431.99999999999994, 'max': 431.99999999999994, 'count': 1}, 'width': {'mean': 258.29495268084816, 'var': 0.0, 'min': 258.29495268084816, 'max': 258.29495268084816, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 346.2769374642186, 'var': 0.0, 'min': 346.2769374642186, 'max': 346.2769374642186, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'geometry': {'width': 258.29495268084816, 'height': 346.2769374642186, 'area': 0.0, 'perimeter': 431.99999999999994, 'centroid': [820.6483234810293, -346.15138075693864], 'bounds': [691.5008471406052, -519.2898494890479, 949.7957998214533, -173.01291202482932], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 431.99999999999994, 'line_angle': -126.72000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:01,851 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_normal_0.721-0.094
2025-08-12 06:09:01,852 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836)]
2025-08-12 06:09:01,852 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,852 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,853 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_1.000-0.500, line_normal_0.361-0.054, line_normal_0.300-0.594, line_normal_0.721-0.094, line_normal_0.300-0.906, line_normal_0.361-0.406]
2025-08-12 06:09:01,853 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_1.000-0.500
2025-08-12 06:09:01,853 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,854 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,854 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,855 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,855 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,858 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.33934590634458384}
2025-08-12 06:09:01,859 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.33934590634458384, 'is_simple': True}
2025-08-12 06:09:01,859 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.361-0.054
2025-08-12 06:09:01,859 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,859 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,860 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,860 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1038.2399999999998. Returning 0.0.
2025-08-12 06:09:01,860 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,860 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,862 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,862 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,862 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:01,863 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,863 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,863 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836)]
2025-08-12 06:09:01,863 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,864 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,864 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.594
2025-08-12 06:09:01,864 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,865 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,865 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,865 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1038.2399999999998. Returning 0.0.
2025-08-12 06:09:01,865 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,866 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,866 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,866 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,867 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:01,868 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,868 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,868 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836)]
2025-08-12 06:09:01,869 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,869 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,869 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.721-0.094
2025-08-12 06:09:01,869 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,869 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,871 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,871 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1038.2399999999998. Returning 0.0.
2025-08-12 06:09:01,871 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,872 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,872 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,872 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,872 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:01,873 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,873 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,874 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836)]
2025-08-12 06:09:01,874 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,874 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,874 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.906
2025-08-12 06:09:01,875 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,875 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,875 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,876 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1038.2399999999998. Returning 0.0.
2025-08-12 06:09:01,876 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,876 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,876 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,878 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,878 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:01,879 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,879 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,879 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836)]
2025-08-12 06:09:01,880 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,880 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,880 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.361-0.406
2025-08-12 06:09:01,880 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,881 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,881 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,881 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1038.2399999999998. Returning 0.0.
2025-08-12 06:09:01,882 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,882 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,882 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,883 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,883 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:01,885 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,885 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,885 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836)]
2025-08-12 06:09:01,886 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,886 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,886 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 06:09:01,886 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 06:09:01,887 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:01,887 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1038.2399999999998. Returning 0.0.
2025-08-12 06:09:01,887 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,888 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,888 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 865.1999999999998, 'var': 149714.20799999998, 'min': 0.0, 'max': 1038.2399999999998, 'count': 6}, 'width': {'mean': 43.47138408913679, 'var': 377.95224692505116, 'min': 0.0, 'max': 52.16566090696415, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 864.1072148555262, 'var': 149336.25575307498, 'min': 0.0, 'max': 1036.9286578266315, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:01,888 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 865.1999999999998, 'var': 149714.20799999998, 'min': 0.0, 'max': 1038.2399999999998, 'count': 6}, 'width': {'mean': 43.47138408913679, 'var': 377.95224692505116, 'min': 0.0, 'max': 52.16566090696415, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 864.1072148555262, 'var': 149336.25575307498, 'min': 0.0, 'max': 1036.9286578266315, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:01,889 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:01,890 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,890 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,890 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836)]
2025-08-12 06:09:01,891 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,891 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,892 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836)], 'open_stroke_perimeter': 1038.2399999999998, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1038.2399999999998, 'avg_stroke_length': 1038.2399999999998, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 1038.2399999999998, 'var': 0.0, 'min': 1038.2399999999998, 'max': 1038.2399999999998, 'count': 1}, 'width': {'mean': 52.16566090696415, 'var': 0.0, 'min': 52.16566090696415, 'max': 52.16566090696415, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1036.9286578266315, 'var': 0.0, 'min': 1036.9286578266315, 'max': 1036.9286578266315, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 1038.2399999999998, 'var': 0.0, 'min': 1038.2399999999998, 'max': 1038.2399999999998, 'count': 1}, 'width': {'mean': 52.16566090696415, 'var': 0.0, 'min': 52.16566090696415, 'max': 52.16566090696415, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1036.9286578266315, 'var': 0.0, 'min': 1036.9286578266315, 'max': 1036.9286578266315, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'geometry': {'width': 52.16566090696415, 'height': 1036.9286578266315, 'area': 0.0, 'perimeter': 1038.2399999999998, 'centroid': [717.5836775940872, -0.8255205757321846], 'bounds': [691.5008471406052, -519.2898494890479, 743.6665080475693, 517.6388083375836], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1038.2399999999998, 'line_angle': 87.11999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:01,892 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=4 | stroke=line_normal_0.300-0.906
2025-08-12 06:09:01,892 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475)]
2025-08-12 06:09:01,893 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,893 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,893 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_1.000-0.500, line_normal_0.361-0.054, line_normal_0.300-0.594, line_normal_0.721-0.094, line_normal_0.300-0.906, line_normal_0.361-0.406]
2025-08-12 06:09:01,894 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_1.000-0.500
2025-08-12 06:09:01,894 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,895 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,895 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,896 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,896 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,897 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.33934590634458384}
2025-08-12 06:09:01,899 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.33934590634458384, 'is_simple': True}
2025-08-12 06:09:01,899 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.361-0.054
2025-08-12 06:09:01,900 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,900 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,900 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,901 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=432.0. Returning 0.0.
2025-08-12 06:09:01,901 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,902 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,902 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,902 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,903 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:01,903 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,903 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,904 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475)]
2025-08-12 06:09:01,904 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,904 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,905 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.594
2025-08-12 06:09:01,905 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,905 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,906 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,906 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=432.0. Returning 0.0.
2025-08-12 06:09:01,907 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,907 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,907 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,908 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,908 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:01,909 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,909 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,910 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475)]
2025-08-12 06:09:01,910 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,910 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,911 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.721-0.094
2025-08-12 06:09:01,911 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,912 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,912 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,912 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=432.0. Returning 0.0.
2025-08-12 06:09:01,913 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,913 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,914 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,914 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,915 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:01,915 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,916 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,916 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475)]
2025-08-12 06:09:01,916 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,916 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,917 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.906
2025-08-12 06:09:01,917 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,917 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,918 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,918 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=432.0. Returning 0.0.
2025-08-12 06:09:01,918 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,919 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,920 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,920 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,920 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:01,921 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,921 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,921 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475)]
2025-08-12 06:09:01,922 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,922 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,922 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.361-0.406
2025-08-12 06:09:01,922 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,923 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,923 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,923 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=432.0. Returning 0.0.
2025-08-12 06:09:01,924 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,924 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,924 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,925 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,925 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:01,926 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,926 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,926 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475)]
2025-08-12 06:09:01,926 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,927 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,927 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 06:09:01,927 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 06:09:01,928 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:01,928 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=432.0. Returning 0.0.
2025-08-12 06:09:01,928 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:01,929 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:01,929 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 360.0, 'var': 25920.0, 'min': 0.0, 'max': 432.0, 'count': 6}, 'width': {'mean': 215.24579390070664, 'var': 9266.150358389097, 'min': 0.0, 'max': 258.294952680848, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 288.5641145535157, 'var': 16653.8496416109, 'min': 0.0, 'max': 346.2769374642188, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:01,929 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 360.0, 'var': 25920.0, 'min': 0.0, 'max': 432.0, 'count': 6}, 'width': {'mean': 215.24579390070664, 'var': 9266.150358389097, 'min': 0.0, 'max': 258.294952680848, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 288.5641145535157, 'var': 16653.8496416109, 'min': 0.0, 'max': 346.2769374642188, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:01,929 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:01,930 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,930 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,930 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475)]
2025-08-12 06:09:01,932 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,932 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,932 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 4: {'stroke_index': 4, 'analytic_vertices': [(743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475)], 'open_stroke_perimeter': 432.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 432.0, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 432.0, 'var': 0.0, 'min': 432.0, 'max': 432.0, 'count': 1}, 'width': {'mean': 258.294952680848, 'var': 0.0, 'min': 258.294952680848, 'max': 258.294952680848, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 346.2769374642188, 'var': 0.0, 'min': 346.2769374642188, 'max': 346.2769374642188, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 432.0, 'var': 0.0, 'min': 432.0, 'max': 432.0, 'count': 1}, 'width': {'mean': 258.294952680848, 'var': 0.0, 'min': 258.294952680848, 'max': 258.294952680848, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 346.2769374642188, 'var': 0.0, 'min': 346.2769374642188, 'max': 346.2769374642188, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'geometry': {'width': 258.294952680848, 'height': 346.2769374642188, 'area': 0.0, 'perimeter': 432.0, 'centroid': [614.5190317071454, 344.50033960547415], 'bounds': [485.37155536672134, 171.36187087336475, 743.6665080475693, 517.6388083375836], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 432.0, 'line_angle': -126.71999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:01,933 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=5 | stroke=line_normal_0.361-0.406
2025-08-12 06:09:01,933 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956), (0.0, 0.0)]
2025-08-12 06:09:01,933 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:01,933 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:01,934 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:01,934 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,934 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,935 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.0002478350925424942}
2025-08-12 06:09:01,935 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.0002478350925424942, 'is_simple': True}
2025-08-12 06:09:01,935 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 5: {'stroke_index': 5, 'analytic_vertices': [(485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956), (0.0, 0.0)], 'open_stroke_perimeter': 524.9468965880554, 'compactness': 0.0002478350925424942, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 524.9468965880554, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'line_length': 524.9468965880554, 'line_angle': -160.56, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:01,936 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=6
2025-08-12 06:09:01,937 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['line_is_long', 'line_angle', 'avg_stroke_length', 'visual_complexity', 'line_is_vertical', 'line_is_short', 'is_normal', 'line_curvature_score', 'is_geometric', 'convexity_ratio', 'compactness', 'stroke_index', 'open_stroke_perimeter', 'arc_curvature_score', 'robust_curvature', 'robust_angular_variance', 'degenerate_case', 'is_simple', 'line_length', 'stroke_length', 'geom_complexity', 'geometric_complexity', 'line_is_horizontal', 'num_vertices', 'is_pattern']
2025-08-12 06:09:01,937 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (6) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-12 06:09:01,937 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=6
2025-08-12 06:09:01,937 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 6
2025-08-12 06:09:01,938 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 6, 'num_arcs': 0, 'line_ratio': 1.0, 'arc_ratio': 0.0, 'stroke_diversity': 0}, 'line_aggregate': {'total_line_length': 7328.946896588054, 'avg_line_length': 1221.4911494313424, 'line_length_variance': 2040995.3808338018, 'line_angle_variance': 8610.868799999998, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'horizontal'}}
2025-08-12 06:09:01,938 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_normal_1.000-0.500,line_normal_0.361-0.054,line_normal_0.300-0.594,line_normal_0.721-0.094,line_normal_0.300-0.906,line_normal_0.361-0.406
2025-08-12 06:09:01,938 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_normal_1.000-0.500', 'line_normal_0.361-0.054', 'line_normal_0.300-0.594', 'line_normal_0.721-0.094', 'line_normal_0.300-0.906', 'line_normal_0.361-0.406']]
2025-08-12 06:09:01,939 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_1.000-0.500', 'line_normal_0.361-0.054', 'line_normal_0.300-0.594', 'line_normal_0.721-0.094', 'line_normal_0.300-0.906', 'line_normal_0.361-0.406']
2025-08-12 06:09:01,939 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_1.000-0.500', 'line_normal_0.361-0.054', 'line_normal_0.300-0.594', 'line_normal_0.721-0.094', 'line_normal_0.300-0.906', 'line_normal_0.361-0.406']
2025-08-12 06:09:01,939 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_normal_1.000-0.500', 'line_normal_0.361-0.054', 'line_normal_0.300-0.594', 'line_normal_0.721-0.094', 'line_normal_0.300-0.906', 'line_normal_0.361-0.406']]
2025-08-12 06:09:01,940 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)], 'open_stroke_perimeter': 4381.919999999999, 'compactness': 0.33934590634458384, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4381.919999999999, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.361-0.054', 'features': {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (949.7957998214533, -173.01291202482932)], 'open_stroke_perimeter': 519.8399999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.8399999999999, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 490.20420017854667, 'height': 173.01291202482932, 'area': 0.0, 'perimeter': 519.8399999999999, 'centroid': [1194.8978999107267, -86.50645601241466], 'bounds': [949.7957998214533, -173.01291202482932, 1440.0, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.8399999999999, 'line_angle': -160.56, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.300-0.594', 'features': {'stroke_index': 2, 'analytic_vertices': [(949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479)], 'open_stroke_perimeter': 431.99999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 431.99999999999994, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 258.29495268084816, 'height': 346.2769374642186, 'area': 0.0, 'perimeter': 431.99999999999994, 'centroid': [820.6483234810293, -346.15138075693864], 'bounds': [691.5008471406052, -519.2898494890479, 949.7957998214533, -173.01291202482932], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 431.99999999999994, 'line_angle': -126.72000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.721-0.094', 'features': {'stroke_index': 3, 'analytic_vertices': [(691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836)], 'open_stroke_perimeter': 1038.2399999999998, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1038.2399999999998, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 52.16566090696415, 'height': 1036.9286578266315, 'area': 0.0, 'perimeter': 1038.2399999999998, 'centroid': [717.5836775940872, -0.8255205757321846], 'bounds': [691.5008471406052, -519.2898494890479, 743.6665080475693, 517.6388083375836], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1038.2399999999998, 'line_angle': 87.11999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.300-0.906', 'features': {'stroke_index': 4, 'analytic_vertices': [(743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475)], 'open_stroke_perimeter': 432.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 258.294952680848, 'height': 346.2769374642188, 'area': 0.0, 'perimeter': 432.0, 'centroid': [614.5190317071454, 344.50033960547415], 'bounds': [485.37155536672134, 171.36187087336475, 743.6665080475693, 517.6388083375836], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 432.0, 'line_angle': -126.71999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.361-0.406', 'features': {'stroke_index': 5, 'analytic_vertices': [(485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956), (0.0, 0.0)], 'open_stroke_perimeter': 524.9468965880554, 'compactness': 0.0002478350925424942, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 524.9468965880554, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 524.9468965880554, 'line_angle': -160.56, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:01,940 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:01,940 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:01,941 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-12 06:09:01,941 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-12 06:09:01,941 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.4290492540363637, 0.5001137315570638], 'orientation_degrees': 170.757412429476}, geometry={'area': 0.08345540989126246, 'perimeter': 1.7579676219235472, 'centroid': [0.633871438341633, 0.36167844330917254], 'bounds': [0.48194750752127474, 0.0, 1.0, 0.5007961208994478], 'width': 0.5180524924787253, 'height': 0.5007961208994478}
2025-08-12 06:09:01,941 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_normal_1.000-0.500', 'line_normal_0.361-0.054', 'line_normal_0.300-0.594', 'line_normal_0.721-0.094', 'line_normal_0.300-0.906', 'line_normal_0.361-0.406']
2025-08-12 06:09:01,942 - DEBUG - [PATCH][actions field] Joined: line_normal_1.000-0.500,line_normal_0.361-0.054,line_normal_0.300-0.594,line_normal_0.721-0.094,line_normal_0.300-0.906,line_normal_0.361-0.406
2025-08-12 06:09:01,942 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)], 'open_stroke_perimeter': 4381.919999999999, 'compactness': 0.33934590634458384, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4381.919999999999, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.361-0.054', 'features': {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (949.7957998214533, -173.01291202482932)], 'open_stroke_perimeter': 519.8399999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.8399999999999, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 490.20420017854667, 'height': 173.01291202482932, 'area': 0.0, 'perimeter': 519.8399999999999, 'centroid': [1194.8978999107267, -86.50645601241466], 'bounds': [949.7957998214533, -173.01291202482932, 1440.0, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.8399999999999, 'line_angle': -160.56, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.300-0.594', 'features': {'stroke_index': 2, 'analytic_vertices': [(949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479)], 'open_stroke_perimeter': 431.99999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 431.99999999999994, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 258.29495268084816, 'height': 346.2769374642186, 'area': 0.0, 'perimeter': 431.99999999999994, 'centroid': [820.6483234810293, -346.15138075693864], 'bounds': [691.5008471406052, -519.2898494890479, 949.7957998214533, -173.01291202482932], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 431.99999999999994, 'line_angle': -126.72000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.721-0.094', 'features': {'stroke_index': 3, 'analytic_vertices': [(691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836)], 'open_stroke_perimeter': 1038.2399999999998, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1038.2399999999998, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 52.16566090696415, 'height': 1036.9286578266315, 'area': 0.0, 'perimeter': 1038.2399999999998, 'centroid': [717.5836775940872, -0.8255205757321846], 'bounds': [691.5008471406052, -519.2898494890479, 743.6665080475693, 517.6388083375836], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1038.2399999999998, 'line_angle': 87.11999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.300-0.906', 'features': {'stroke_index': 4, 'analytic_vertices': [(743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475)], 'open_stroke_perimeter': 432.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 258.294952680848, 'height': 346.2769374642188, 'area': 0.0, 'perimeter': 432.0, 'centroid': [614.5190317071454, 344.50033960547415], 'bounds': [485.37155536672134, 171.36187087336475, 743.6665080475693, 517.6388083375836], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 432.0, 'line_angle': -126.71999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.361-0.406', 'features': {'stroke_index': 5, 'analytic_vertices': [(485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956), (0.0, 0.0)], 'open_stroke_perimeter': 524.9468965880554, 'compactness': 0.0002478350925424942, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 524.9468965880554, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 524.9468965880554, 'line_angle': -160.56, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:01,942 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)]
2025-08-12 06:09:01,943 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(0.003344778254546384, 0.5007961208994478), (1.0, 0.5007961208994478), (0.6607190445628457, 0.33394480406203036), (0.48194750752127474, 0.0), (0.5180524924787251, 1.0), (0.3392809554371543, 0.6660551959379695), (0.0, 0.4992038791005517)]
2025-08-12 06:09:01,943 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_normal_1.000-0.500', 'line_normal_0.361-0.054', 'line_normal_0.300-0.594', 'line_normal_0.721-0.094', 'line_normal_0.300-0.906', 'line_normal_0.361-0.406']]
2025-08-12 06:09:01,943 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:01,944 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:01,944 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|normal': 5}
2025-08-12 06:09:01,944 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)], 'open_stroke_perimeter': 4381.919999999999, 'compactness': 0.33934590634458384, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4381.919999999999, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (949.7957998214533, -173.01291202482932)], 'open_stroke_perimeter': 519.8399999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.8399999999999, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 490.20420017854667, 'height': 173.01291202482932, 'area': 0.0, 'perimeter': 519.8399999999999, 'centroid': [1194.8978999107267, -86.50645601241466], 'bounds': [949.7957998214533, -173.01291202482932, 1440.0, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.8399999999999, 'line_angle': -160.56, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479)], 'open_stroke_perimeter': 431.99999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 431.99999999999994, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 258.29495268084816, 'height': 346.2769374642186, 'area': 0.0, 'perimeter': 431.99999999999994, 'centroid': [820.6483234810293, -346.15138075693864], 'bounds': [691.5008471406052, -519.2898494890479, 949.7957998214533, -173.01291202482932], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 431.99999999999994, 'line_angle': -126.72000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836)], 'open_stroke_perimeter': 1038.2399999999998, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1038.2399999999998, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 52.16566090696415, 'height': 1036.9286578266315, 'area': 0.0, 'perimeter': 1038.2399999999998, 'centroid': [717.5836775940872, -0.8255205757321846], 'bounds': [691.5008471406052, -519.2898494890479, 743.6665080475693, 517.6388083375836], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1038.2399999999998, 'line_angle': 87.11999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475)], 'open_stroke_perimeter': 432.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 258.294952680848, 'height': 346.2769374642188, 'area': 0.0, 'perimeter': 432.0, 'centroid': [614.5190317071454, 344.50033960547415], 'bounds': [485.37155536672134, 171.36187087336475, 743.6665080475693, 517.6388083375836], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 432.0, 'line_angle': -126.71999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956), (0.0, 0.0)], 'open_stroke_perimeter': 524.9468965880554, 'compactness': 0.0002478350925424942, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 524.9468965880554, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 524.9468965880554, 'line_angle': -160.56, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 06:09:01,944 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-12 06:09:01,945 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.633871438341633, 0.36167844330917254], 'width': 0.5180524924787253, 'height': 0.5007961208994478, 'area_raw': 0.4999712560669012, 'area_normalized': 1.0, 'perimeter_raw': 3.5147591006748597, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.034457877885085, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.5085852642273041, 'polsby_popper_compactness': 0.0008071285457254438, 'eccentricity': 0.28585147995924876, 'symmetry_score': 39.57642686888218, 'horizontal_symmetry': 0.3812853584497951, 'vertical_symmetry': 0.5297709416653129, 'rotational_symmetry': 1.0, 'has_quadrangle': True, 'geometric_complexity': 7.0, 'visual_complexity': 0.533868010374565, 'curvature_score': 1.946405253100283, 'angular_variance': 1.2457510016709787, 'moment_of_inertia': 0.30125443385407114, 'irregularity_score': 0.3298127790344745, 'standardized_complexity': 0.49681223266082625, 'clustering_heights': [0.0, 0.0, 0.11314735063399803, 0.43356323993543655, 0.7215043238059594], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:01,945 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:01,945 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-12 06:09:01,945 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-12 06:09:01,946 - INFO - [_vertices_from_command] INPUT: command=line_normal_1.000-0.500, stroke_index=0
2025-08-12 06:09:01,946 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=1.0, param2=None, param3=0.5
2025-08-12 06:09:01,946 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4473684210526316, 0.5), (0.39473684210526316, 0.5), (0.34210526315789475, 0.5), (0.2894736842105263, 0.5), (0.2368421052631579, 0.5), (0.1842105263157895, 0.5), (0.13157894736842107, 0.5), (0.07894736842105265, 0.5), (0.026315789473684237, 0.5), (-0.02631578947368418, 0.5000000000000001), (-0.07894736842105265, 0.5000000000000001), (-0.13157894736842102, 0.5000000000000001), (-0.18421052631578938, 0.5000000000000001), (-0.23684210526315785, 0.5000000000000001), (-0.2894736842105263, 0.5000000000000001), (-0.3421052631578947, 0.5000000000000001), (-0.39473684210526305, 0.5000000000000001), (-0.4473684210526315, 0.5000000000000001), (-0.5, 0.5000000000000001)]
2025-08-12 06:09:01,947 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,949 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:01,949 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:01,949 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,949 - INFO - Computed angular variance: 0.888264 for 20 vertices.
2025-08-12 06:09:01,950 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,950 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,950 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,951 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,951 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,952 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (-0.5, 0.5000000000000001)]
2025-08-12 06:09:01,953 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (-0.5, 0.5000000000000001)]
2025-08-12 06:09:01,953 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,953 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,954 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.361-0.054, stroke_index=0
2025-08-12 06:09:01,954 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.361, param2=None, param3=0.054
2025-08-12 06:09:01,954 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.548631369065332, 0.5171639793675425), (0.597262738130664, 0.5343279587350852), (0.645894107195996, 0.5514919381026278), (0.694525476261328, 0.5686559174701704), (0.74315684532666, 0.585819896837713), (0.7917882143919921, 0.6029838762052556), (0.840419583457324, 0.6201478555727982)]
2025-08-12 06:09:01,955 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,955 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:01,956 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:01,956 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,956 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:01,957 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,957 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,957 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,958 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,958 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,959 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:01,959 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:01,959 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,960 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,961 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.300-0.594, stroke_index=0
2025-08-12 06:09:01,961 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.3, param2=None, param3=0.594
2025-08-12 06:09:01,961 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.46440303289160806, 0.4761339021505062), (0.42880606578321606, 0.4522678043010125), (0.3932090986748241, 0.4284017064515187), (0.3576121315664321, 0.4045356086020249), (0.3220151644580402, 0.3806695107525312), (0.28641819734964824, 0.3568034129030374), (0.25082123024125624, 0.3329373150535436)]
2025-08-12 06:09:01,962 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,963 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,963 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:01,964 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,964 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,964 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,965 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,965 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,966 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:01,966 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:01,966 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,967 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,967 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.721-0.094, stroke_index=0
2025-08-12 06:09:01,967 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.721, param2=None, param3=0.094
2025-08-12 06:09:01,968 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5460661264092447, 0.5308851784221525), (0.5921322528184894, 0.5617703568443052), (0.638198379227734, 0.5926555352664578), (0.6842645056369787, 0.6235407136886103), (0.7303306320462234, 0.6544258921107629), (0.7763967584554681, 0.6853110705329155), (0.8224628848647126, 0.7161962489550681), (0.8685290112739574, 0.7470814273772206), (0.914595137683202, 0.7779666057993733), (0.9606612640924468, 0.8088517842215258), (1.0067273905016914, 0.8397369626436784), (1.0527935169109361, 0.870622141065831), (1.0988596433201807, 0.9015073194879836)]
2025-08-12 06:09:01,968 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,969 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:01,969 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:01,971 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,971 - INFO - Computed angular variance: 1.208523 for 14 vertices.
2025-08-12 06:09:01,972 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,972 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,972 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,973 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,973 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,974 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:01,974 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:01,974 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,975 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,975 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.300-0.906, stroke_index=0
2025-08-12 06:09:01,975 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.3, param2=None, param3=0.906
2025-08-12 06:09:01,976 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.535596967108392, 0.4761339021505062), (0.5711939342167839, 0.4522678043010125), (0.6067909013251759, 0.4284017064515187), (0.6423878684335679, 0.4045356086020249), (0.6779848355419598, 0.3806695107525312), (0.7135818026503518, 0.3568034129030374), (0.7491787697587438, 0.3329373150535436)]
2025-08-12 06:09:01,976 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,978 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,978 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:01,978 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,979 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,979 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,979 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,980 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,980 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:01,981 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:01,981 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,981 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,981 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.361-0.406, stroke_index=0
2025-08-12 06:09:01,982 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.361, param2=None, param3=0.406
2025-08-12 06:09:01,982 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.45716498291290164, 0.5287188710788908), (0.41432996582580334, 0.5574377421577817), (0.371494948738705, 0.5861566132366726), (0.3286599316516067, 0.6148754843155634), (0.2858249145645083, 0.6435943553944543), (0.24298989747740996, 0.6723132264733451), (0.20015488039031165, 0.7010320975522359)]
2025-08-12 06:09:01,982 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:01,983 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:01,984 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:01,984 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,984 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:01,984 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:01,985 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:01,985 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:01,986 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:01,986 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:01,986 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:01,987 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:01,987 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:01,987 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,987 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,988 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,988 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,988 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,988 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,989 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:01,989 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,989 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:01,989 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-12 06:09:01,989 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:01,991 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_pos_3', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'positive', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_1/3.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)], 'open_stroke_perimeter': 4381.919999999999, 'compactness': 0.33934590634458384, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4381.919999999999, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.361-0.054', 'features': {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (949.7957998214533, -173.01291202482932)], 'open_stroke_perimeter': 519.8399999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.8399999999999, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 490.20420017854667, 'height': 173.01291202482932, 'area': 0.0, 'perimeter': 519.8399999999999, 'centroid': [1194.8978999107267, -86.50645601241466], 'bounds': [949.7957998214533, -173.01291202482932, 1440.0, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.8399999999999, 'line_angle': -160.56, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.300-0.594', 'features': {'stroke_index': 2, 'analytic_vertices': [(949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479)], 'open_stroke_perimeter': 431.99999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 431.99999999999994, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 258.29495268084816, 'height': 346.2769374642186, 'area': 0.0, 'perimeter': 431.99999999999994, 'centroid': [820.6483234810293, -346.15138075693864], 'bounds': [691.5008471406052, -519.2898494890479, 949.7957998214533, -173.01291202482932], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 431.99999999999994, 'line_angle': -126.72000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.721-0.094', 'features': {'stroke_index': 3, 'analytic_vertices': [(691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836)], 'open_stroke_perimeter': 1038.2399999999998, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1038.2399999999998, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 52.16566090696415, 'height': 1036.9286578266315, 'area': 0.0, 'perimeter': 1038.2399999999998, 'centroid': [717.5836775940872, -0.8255205757321846], 'bounds': [691.5008471406052, -519.2898494890479, 743.6665080475693, 517.6388083375836], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1038.2399999999998, 'line_angle': 87.11999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.300-0.906', 'features': {'stroke_index': 4, 'analytic_vertices': [(743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475)], 'open_stroke_perimeter': 432.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 258.294952680848, 'height': 346.2769374642188, 'area': 0.0, 'perimeter': 432.0, 'centroid': [614.5190317071454, 344.50033960547415], 'bounds': [485.37155536672134, 171.36187087336475, 743.6665080475693, 517.6388083375836], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 432.0, 'line_angle': -126.71999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.361-0.406', 'features': {'stroke_index': 5, 'analytic_vertices': [(485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956), (0.0, 0.0)], 'open_stroke_perimeter': 524.9468965880554, 'compactness': 0.0002478350925424942, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 524.9468965880554, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 524.9468965880554, 'line_angle': -160.56, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 6, 'raw_vertices': ['(0.0, 0.0)', '(1440.0, 0.0)', '(949.7957998214533, -173.01291202482932)', '(691.5008471406052, -519.2898494890479)', '(743.6665080475693, 517.6388083375836)', '(485.37155536672134, 171.36187087336475)', '(-4.8326448118253325, -1.6510411514647956)'], 'vertices': ['(0.003344778254546384, 0.5007961208994478)', '(1.0, 0.5007961208994478)', '(0.6607190445628457, 0.33394480406203036)', '(0.48194750752127474, 0.0)', '(0.5180524924787251, 1.0)', '(0.3392809554371543, 0.6660551959379695)', '(0.0, 0.4992038791005517)'], 'num_vertices': 7, 'position_label': ['0.4290492540363637', '0.5001137315570638'], 'rotation_label_degrees': ['170.757412429476'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.633871438341633, 0.36167844330917254], 'width': 0.5180524924787253, 'height': 0.5007961208994478, 'area_raw': 0.4999712560669012, 'area_normalized': 1.0, 'perimeter_raw': 3.5147591006748597, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.034457877885085, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.5085852642273041, 'polsby_popper_compactness': 0.0008071285457254438, 'eccentricity': 0.28585147995924876, 'symmetry_score': 39.57642686888218, 'horizontal_symmetry': 0.3812853584497951, 'vertical_symmetry': 0.5297709416653129, 'rotational_symmetry': 1.0, 'has_quadrangle': True, 'geometric_complexity': 7.0, 'visual_complexity': 0.533868010374565, 'curvature_score': 1.946405253100283, 'angular_variance': 1.2457510016709787, 'moment_of_inertia': 0.30125443385407114, 'irregularity_score': 0.3298127790344745, 'standardized_complexity': 0.49681223266082625, 'clustering_heights': [0.0, 0.0, 0.11314735063399803, 0.43356323993543655, 0.7215043238059594], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 1.2016574078381008e-18, 'perimeter_mean': 0.18343928442915017, 'width_mean': 0.0761819586991332, 'height_mean': 0.051076432302317544, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.30125443385407114, 'center_of_mass': [0.633871438341633, 0.36167844330917254], 'polsby_popper_compactness': 0.7851191348389638, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.946405253100283, 'angular_variance': 1.2457510016709787, 'edge_length_variance': 0.11467247869828885}, 'composition_features': {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'normal': 6}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 7, 'homogeneity_score': 1.0, 'pattern_regularity': 0.16666666666666666}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)], 'open_stroke_perimeter': 4381.919999999999, 'compactness': 0.33934590634458384, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4381.919999999999, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (949.7957998214533, -173.01291202482932)], 'open_stroke_perimeter': 519.8399999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.8399999999999, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 490.20420017854667, 'height': 173.01291202482932, 'area': 0.0, 'perimeter': 519.8399999999999, 'centroid': [1194.8978999107267, -86.50645601241466], 'bounds': [949.7957998214533, -173.01291202482932, 1440.0, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.8399999999999, 'line_angle': -160.56, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479)], 'open_stroke_perimeter': 431.99999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 431.99999999999994, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 258.29495268084816, 'height': 346.2769374642186, 'area': 0.0, 'perimeter': 431.99999999999994, 'centroid': [820.6483234810293, -346.15138075693864], 'bounds': [691.5008471406052, -519.2898494890479, 949.7957998214533, -173.01291202482932], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 431.99999999999994, 'line_angle': -126.72000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836)], 'open_stroke_perimeter': 1038.2399999999998, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1038.2399999999998, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 52.16566090696415, 'height': 1036.9286578266315, 'area': 0.0, 'perimeter': 1038.2399999999998, 'centroid': [717.5836775940872, -0.8255205757321846], 'bounds': [691.5008471406052, -519.2898494890479, 743.6665080475693, 517.6388083375836], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1038.2399999999998, 'line_angle': 87.11999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475)], 'open_stroke_perimeter': 432.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 258.294952680848, 'height': 346.2769374642188, 'area': 0.0, 'perimeter': 432.0, 'centroid': [614.5190317071454, 344.50033960547415], 'bounds': [485.37155536672134, 171.36187087336475, 743.6665080475693, 517.6388083375836], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 432.0, 'line_angle': -126.71999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956), (0.0, 0.0)], 'open_stroke_perimeter': 524.9468965880554, 'compactness': 0.0002478350925424942, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 524.9468965880554, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 524.9468965880554, 'line_angle': -160.56, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 6}}, 'processing_metadata': {'processing_timestamp': 1754959141.9897797, 'feature_count': 54}, 'actions': ['line_normal_1.000-0.500,line_normal_0.361-0.054,line_normal_0.300-0.594,line_normal_0.721-0.094,line_normal_0.300-0.906,line_normal_0.361-0.406'], 'action_program': ['line_normal_1.000-0.500,line_normal_0.361-0.054,line_normal_0.300-0.594,line_normal_0.721-0.094,line_normal_0.300-0.906,line_normal_0.361-0.406'], 'geometry': {'area': 0.08345540989126246, 'perimeter': 1.7579676219235472, 'centroid': [0.633871438341633, 0.36167844330917254], 'bounds': [0.48194750752127474, 0.0, 1.0, 0.5007961208994478], 'width': 0.5180524924787253, 'height': 0.5007961208994478}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 5}, 'analytic_attributes': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], 'analytic_ngram': {'normal|normal': 5}, 'alternation': 0.16666666666666666, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 6}}}, 'topological_features': {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 5, 1: 5, 2: 5, 3: 5, 4: 5, 5: 5}, 'adjacency_clustering': {0: 1.0, 1: 1.0, 2: 1.0, 3: 1.0, 4: 1.0, 5: 1.0}, 'intersection_count': 15, 'betweenness_centrality': {0: 0.0, 1: 0.0, 2: 0.0, 3: 0.0, 4: 0.0, 5: 0.0}, 'containment_score': 0, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 3557.306983200476, 'skeleton_graph_features': {'num_nodes': 6, 'num_edges': 15}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 1.2457510016709787, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 1.270975050067981, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 1.1830805129711397, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.6071820620474782, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.6650666150682936, 'complexity': 1, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}}
2025-08-12 06:09:01,991 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.4290492540363637, 0.5001137315570638], 'orientation_degrees': 170.757412429476}
2025-08-12 06:09:01,991 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.08345540989126246, 'perimeter': 1.7579676219235472, 'centroid': [0.633871438341633, 0.36167844330917254], 'bounds': [0.48194750752127474, 0.0, 1.0, 0.5007961208994478], 'width': 0.5180524924787253, 'height': 0.5007961208994478}
2025-08-12 06:09:01,992 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)], 'open_stroke_perimeter': 4381.919999999999, 'compactness': 0.33934590634458384, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4381.919999999999, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.361-0.054', 'features': {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (949.7957998214533, -173.01291202482932)], 'open_stroke_perimeter': 519.8399999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.8399999999999, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 490.20420017854667, 'height': 173.01291202482932, 'area': 0.0, 'perimeter': 519.8399999999999, 'centroid': [1194.8978999107267, -86.50645601241466], 'bounds': [949.7957998214533, -173.01291202482932, 1440.0, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.8399999999999, 'line_angle': -160.56, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.300-0.594', 'features': {'stroke_index': 2, 'analytic_vertices': [(949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479)], 'open_stroke_perimeter': 431.99999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 431.99999999999994, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 258.29495268084816, 'height': 346.2769374642186, 'area': 0.0, 'perimeter': 431.99999999999994, 'centroid': [820.6483234810293, -346.15138075693864], 'bounds': [691.5008471406052, -519.2898494890479, 949.7957998214533, -173.01291202482932], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 431.99999999999994, 'line_angle': -126.72000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.721-0.094', 'features': {'stroke_index': 3, 'analytic_vertices': [(691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836)], 'open_stroke_perimeter': 1038.2399999999998, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1038.2399999999998, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 52.16566090696415, 'height': 1036.9286578266315, 'area': 0.0, 'perimeter': 1038.2399999999998, 'centroid': [717.5836775940872, -0.8255205757321846], 'bounds': [691.5008471406052, -519.2898494890479, 743.6665080475693, 517.6388083375836], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1038.2399999999998, 'line_angle': 87.11999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.300-0.906', 'features': {'stroke_index': 4, 'analytic_vertices': [(743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475)], 'open_stroke_perimeter': 432.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 258.294952680848, 'height': 346.2769374642188, 'area': 0.0, 'perimeter': 432.0, 'centroid': [614.5190317071454, 344.50033960547415], 'bounds': [485.37155536672134, 171.36187087336475, 743.6665080475693, 517.6388083375836], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 432.0, 'line_angle': -126.71999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.361-0.406', 'features': {'stroke_index': 5, 'analytic_vertices': [(485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956), (0.0, 0.0)], 'open_stroke_perimeter': 524.9468965880554, 'compactness': 0.0002478350925424942, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 524.9468965880554, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 524.9468965880554, 'line_angle': -160.56, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:01,992 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_normal_1.000-0.500', 'line_normal_0.361-0.054', 'line_normal_0.300-0.594', 'line_normal_0.721-0.094', 'line_normal_0.300-0.906', 'line_normal_0.361-0.406']]
2025-08-12 06:09:01,992 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)]
2025-08-12 06:09:01,993 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(0.003344778254546384, 0.5007961208994478), (1.0, 0.5007961208994478), (0.6607190445628457, 0.33394480406203036), (0.48194750752127474, 0.0), (0.5180524924787251, 1.0), (0.3392809554371543, 0.6660551959379695), (0.0, 0.4992038791005517)]
2025-08-12 06:09:01,993 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.633871438341633, 0.36167844330917254], 'width': 0.5180524924787253, 'height': 0.5007961208994478, 'area_raw': 0.4999712560669012, 'area_normalized': 1.0, 'perimeter_raw': 3.5147591006748597, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.034457877885085, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.5085852642273041, 'polsby_popper_compactness': 0.0008071285457254438, 'eccentricity': 0.28585147995924876, 'symmetry_score': 39.57642686888218, 'horizontal_symmetry': 0.3812853584497951, 'vertical_symmetry': 0.5297709416653129, 'rotational_symmetry': 1.0, 'has_quadrangle': True, 'geometric_complexity': 7.0, 'visual_complexity': 0.533868010374565, 'curvature_score': 1.946405253100283, 'angular_variance': 1.2457510016709787, 'moment_of_inertia': 0.30125443385407114, 'irregularity_score': 0.3298127790344745, 'standardized_complexity': 0.49681223266082625, 'clustering_heights': [0.0, 0.0, 0.11314735063399803, 0.43356323993543655, 0.7215043238059594], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:01,993 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.30125443385407114, 'center_of_mass': [0.633871438341633, 0.36167844330917254], 'polsby_popper_compactness': 0.7851191348389638, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.946405253100283, 'angular_variance': 1.2457510016709787, 'edge_length_variance': 0.11467247869828885}
2025-08-12 06:09:01,993 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'normal': 6}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 7, 'homogeneity_score': 1.0, 'pattern_regularity': 0.16666666666666666}
2025-08-12 06:09:01,994 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956)], 'open_stroke_perimeter': 4381.919999999999, 'compactness': 0.33934590634458384, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4381.919999999999, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (949.7957998214533, -173.01291202482932)], 'open_stroke_perimeter': 519.8399999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.8399999999999, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 490.20420017854667, 'height': 173.01291202482932, 'area': 0.0, 'perimeter': 519.8399999999999, 'centroid': [1194.8978999107267, -86.50645601241466], 'bounds': [949.7957998214533, -173.01291202482932, 1440.0, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.8399999999999, 'line_angle': -160.56, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(949.7957998214533, -173.01291202482932), (691.5008471406052, -519.2898494890479)], 'open_stroke_perimeter': 431.99999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 431.99999999999994, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 258.29495268084816, 'height': 346.2769374642186, 'area': 0.0, 'perimeter': 431.99999999999994, 'centroid': [820.6483234810293, -346.15138075693864], 'bounds': [691.5008471406052, -519.2898494890479, 949.7957998214533, -173.01291202482932], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 431.99999999999994, 'line_angle': -126.72000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(691.5008471406052, -519.2898494890479), (743.6665080475693, 517.6388083375836)], 'open_stroke_perimeter': 1038.2399999999998, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1038.2399999999998, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 52.16566090696415, 'height': 1036.9286578266315, 'area': 0.0, 'perimeter': 1038.2399999999998, 'centroid': [717.5836775940872, -0.8255205757321846], 'bounds': [691.5008471406052, -519.2898494890479, 743.6665080475693, 517.6388083375836], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1038.2399999999998, 'line_angle': 87.11999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(743.6665080475693, 517.6388083375836), (485.37155536672134, 171.36187087336475)], 'open_stroke_perimeter': 432.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 258.294952680848, 'height': 346.2769374642188, 'area': 0.0, 'perimeter': 432.0, 'centroid': [614.5190317071454, 344.50033960547415], 'bounds': [485.37155536672134, 171.36187087336475, 743.6665080475693, 517.6388083375836], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 432.0, 'line_angle': -126.71999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(485.37155536672134, 171.36187087336475), (-4.8326448118253325, -1.6510411514647956), (0.0, 0.0)], 'open_stroke_perimeter': 524.9468965880554, 'compactness': 0.0002478350925424942, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 524.9468965880554, 'avg_stroke_length': 731.1711494313425, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 524.9468965880554, 'line_angle': -160.56, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 06:09:01,994 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}
2025-08-12 06:09:01,995 - INFO - [INPUT] Processing image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_4, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018, is_positive=True
2025-08-12 06:09:01,995 - INFO - [INPUT] action_commands type: <class 'list'>, value: [['line_normal_0.728-0.500', 'line_normal_0.141-0.081', 'line_normal_0.141-0.750', 'line_normal_0.728-0.081', 'line_normal_0.316-0.596', 'line_normal_0.316-0.898']]
2025-08-12 06:09:01,996 - INFO - [SHAPE SPLIT] Raw action_commands: [['line_normal_0.728-0.500', 'line_normal_0.141-0.081', 'line_normal_0.141-0.750', 'line_normal_0.728-0.081', 'line_normal_0.316-0.596', 'line_normal_0.316-0.898']]
2025-08-12 06:09:01,996 - INFO - [SHAPE SPLIT] Sublist 0: ['line_normal_0.728-0.500', 'line_normal_0.141-0.081', 'line_normal_0.141-0.750', 'line_normal_0.728-0.081', 'line_normal_0.316-0.596', 'line_normal_0.316-0.898']
2025-08-12 06:09:01,996 - INFO - [SHAPE SPLIT] Parsed shapes_commands (multi-object): [['line_normal_0.728-0.500', 'line_normal_0.141-0.081', 'line_normal_0.141-0.750', 'line_normal_0.728-0.081', 'line_normal_0.316-0.596', 'line_normal_0.316-0.898']]
2025-08-12 06:09:01,996 - INFO - ComprehensiveNVLabsParser initialized:
2025-08-12 06:09:01,997 - INFO -   Canvas size: 512x512
2025-08-12 06:09:01,997 - INFO -   Coordinate range: (-360, 360)
2025-08-12 06:09:01,997 - INFO -   Base scaling factor: 1440.0
2025-08-12 06:09:01,997 - INFO - [PARSER] Parsing shape 0 commands: ['line_normal_0.728-0.500', 'line_normal_0.141-0.081', 'line_normal_0.141-0.750', 'line_normal_0.728-0.081', 'line_normal_0.316-0.596', 'line_normal_0.316-0.898']
2025-08-12 06:09:01,997 - INFO - [LOGOPARSER] Input action_commands for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: ['line_normal_0.728-0.500', 'line_normal_0.141-0.081', 'line_normal_0.141-0.750', 'line_normal_0.728-0.081', 'line_normal_0.316-0.596', 'line_normal_0.316-0.898']
2025-08-12 06:09:01,998 - DEBUG - Parsing 6 commands for hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:01,998 - DEBUG - [ACTIONS_JOIN] line_normal_0.728-0.500,line_normal_0.141-0.081,line_normal_0.141-0.750,line_normal_0.728-0.081,line_normal_0.316-0.596,line_normal_0.316-0.898
2025-08-12 06:09:01,998 - DEBUG - [ACTIONS_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:01,998 - DEBUG - [ACTIONS_ATTRS] [{'line_length': 1048.32, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_0.728-0.500'}, {'line_length': 203.04, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 150.84, 'name': 'line', 'raw_command': 'line_normal_0.141-0.081'}, {'line_length': 203.04, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.141-0.750'}, {'line_length': 1048.32, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 150.84, 'name': 'line', 'raw_command': 'line_normal_0.728-0.081'}, {'line_length': 455.04, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 34.56, 'name': 'line', 'raw_command': 'line_normal_0.316-0.596'}, {'line_length': 455.04, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 143.28000000000003, 'name': 'line', 'raw_command': 'line_normal_0.316-0.898'}]
2025-08-12 06:09:01,998 - INFO - [OneStrokeShape.__init__] basic_actions: [line_normal_0.728-0.500, line_normal_0.141-0.081, line_normal_0.141-0.750, line_normal_0.728-0.081, line_normal_0.316-0.596, line_normal_0.316-0.898], start_coordinates: None, start_orientation: None, scaling_factors: None
2025-08-12 06:09:01,998 - DEBUG - [OUTPUT_SHAPE_ACTIONS] line_normal_0.728-0.500,line_normal_0.141-0.081,line_normal_0.141-0.750,line_normal_0.728-0.081,line_normal_0.316-0.596,line_normal_0.316-0.898
2025-08-12 06:09:02,000 - DEBUG - [OUTPUT_SHAPE_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:02,000 - DEBUG - [OUTPUT_SHAPE_ATTRS] [{'line_length': 1048.32, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_0.728-0.500'}, {'line_length': 203.04, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 150.84, 'name': 'line', 'raw_command': 'line_normal_0.141-0.081'}, {'line_length': 203.04, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.141-0.750'}, {'line_length': 1048.32, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 150.84, 'name': 'line', 'raw_command': 'line_normal_0.728-0.081'}, {'line_length': 455.04, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 34.56, 'name': 'line', 'raw_command': 'line_normal_0.316-0.596'}, {'line_length': 455.04, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 143.28000000000003, 'name': 'line', 'raw_command': 'line_normal_0.316-0.898'}]
2025-08-12 06:09:02,000 - INFO - [OneStrokeShape._calculate_vertices] INPUT basic_actions: [line_normal_0.728-0.500, line_normal_0.141-0.081, line_normal_0.141-0.750, line_normal_0.728-0.081, line_normal_0.316-0.596, line_normal_0.316-0.898]
2025-08-12 06:09:02,000 - INFO - [OneStrokeShape._calculate_vertices] OUTPUT vertices: [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)]
2025-08-12 06:09:02,000 - INFO - [LOGOPARSER] Shape for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 has 7 vertices.
2025-08-12 06:09:02,000 - INFO - [LOGOPARSER] Parsed vertices (raw): [[0.0, 0.0], [1048.32, 0.0], [871.0127911753938, -98.93126552727146], [969.9440567026652, -276.23847435187764], [77.82952154765394, 274.312593729148], [-376.6357431863483, 251.44941918462558], [1.318614783714395, -1.951261342159313]]
2025-08-12 06:09:02,001 - INFO - [LOGOPARSER] Vertices bounding box: min=(-376.64,-276.24), max=(1048.32,274.31), center=(370.26,21.23)
2025-08-12 06:09:02,001 - INFO - Successfully created OneStrokeShape with 6 actions using NVLabs implementation
2025-08-12 06:09:02,001 - INFO - [PARSER] Parsed shape 0: type=OneStrokeShape, num_actions=6, action_types=['str', 'str', 'str', 'str', 'str', 'str'], attributes={}
2025-08-12 06:09:02,002 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.728-0.500, stroke_index=0
2025-08-12 06:09:02,002 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.728, param2=None, param3=0.5
2025-08-12 06:09:02,002 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.444, 0.5), (0.388, 0.5), (0.33199999999999996, 0.5), (0.276, 0.5), (0.21999999999999997, 0.5), (0.16399999999999998, 0.5), (0.10799999999999998, 0.5000000000000001), (0.05199999999999999, 0.5000000000000001), (-0.0040000000000000036, 0.5000000000000001), (-0.06000000000000005, 0.5000000000000001), (-0.11599999999999999, 0.5000000000000001), (-0.17200000000000004, 0.5000000000000001), (-0.22799999999999998, 0.5000000000000001)]
2025-08-12 06:09:02,002 - INFO - [_calculate_vertices_from_action] Bounding box: (-0.22799999999999998, 0.5, 0.5, 0.5000000000000001)
2025-08-12 06:09:02,003 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,004 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,004 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:02,005 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,005 - INFO - Computed angular variance: 1.208523 for 14 vertices.
2025-08-12 06:09:02,006 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,006 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,006 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,007 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,007 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,008 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (-0.22799999999999998, 0.5000000000000001)]
2025-08-12 06:09:02,008 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (-0.22799999999999998, 0.5000000000000001)]
2025-08-12 06:09:02,010 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,010 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,011 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,011 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_4, stroke_idx=0, assigned is_positive=True
2025-08-12 06:09:02,011 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.141-0.081, stroke_index=1
2025-08-12 06:09:02,011 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.141, param2=None, param3=0.081
2025-08-12 06:09:02,011 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5175900008754569, 0.5098146096753245), (0.535180001750914, 0.5196292193506491), (0.5527700026263709, 0.5294438290259736), (0.5703600035018278, 0.5392584387012982), (0.5879500043772847, 0.5490730483766227), (0.6055400052527418, 0.5588876580519473), (0.6231300061281987, 0.5687022677272718)]
2025-08-12 06:09:02,011 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.5, 0.6231300061281987, 0.5687022677272718)
2025-08-12 06:09:02,012 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,012 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,013 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:02,013 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,014 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,014 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,014 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,014 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:02,015 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,015 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,016 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:02,016 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:02,016 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,016 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,018 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,018 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_4, stroke_idx=1, assigned is_positive=True
2025-08-12 06:09:02,019 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.141-0.750, stroke_index=2
2025-08-12 06:09:02,019 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.141, param2=None, param3=0.75
2025-08-12 06:09:02,019 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.47985714285714287), (0.5, 0.4597142857142857), (0.5, 0.43957142857142856), (0.5, 0.41942857142857143), (0.5, 0.39928571428571424), (0.5, 0.3791428571428571), (0.5, 0.359)]
2025-08-12 06:09:02,020 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.359, 0.5, 0.5)
2025-08-12 06:09:02,020 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,020 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,020 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:02,022 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,022 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,022 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,023 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,023 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:02,023 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,024 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,024 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.5, 0.359)]
2025-08-12 06:09:02,024 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.5, 0.359)]
2025-08-12 06:09:02,025 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,025 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,025 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,026 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_4, stroke_idx=2, assigned is_positive=True
2025-08-12 06:09:02,026 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.728-0.081, stroke_index=3
2025-08-12 06:09:02,026 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.728, param2=None, param3=0.081
2025-08-12 06:09:02,027 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5489026974693555, 0.5272860070406186), (0.5978053949387111, 0.5545720140812372), (0.6467080924080666, 0.5818580211218558), (0.6956107898774222, 0.6091440281624745), (0.7445134873467777, 0.636430035203093), (0.7934161848161332, 0.6637160422437116), (0.8423188822854888, 0.6910020492843303), (0.8912215797548443, 0.7182880563249489), (0.9401242772241998, 0.7455740633655674), (0.9890269746935554, 0.7728600704061861), (1.0379296721629108, 0.8001460774468047), (1.0868323696322664, 0.8274320844874232), (1.135735067101622, 0.8547180915280419)]
2025-08-12 06:09:02,027 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.5, 1.135735067101622, 0.8547180915280419)
2025-08-12 06:09:02,027 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,028 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,029 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:02,029 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,030 - INFO - Computed angular variance: 1.208523 for 14 vertices.
2025-08-12 06:09:02,030 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,030 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,030 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:02,031 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,031 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,032 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:02,032 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:02,032 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,033 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,033 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,034 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_4, stroke_idx=3, assigned is_positive=True
2025-08-12 06:09:02,034 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.316-0.596, stroke_index=4
2025-08-12 06:09:02,034 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.316, param2=None, param3=0.596
2025-08-12 06:09:02,035 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.46282338559277386, 0.4743918588679921), (0.4256467711855477, 0.44878371773598424), (0.38847015677832153, 0.4231755766039764), (0.35129354237109545, 0.3975674354719685), (0.31411692796386925, 0.37195929433996067), (0.2769403135566431, 0.3463511532079528), (0.23976369914941698, 0.3207430120759449)]
2025-08-12 06:09:02,035 - INFO - [_calculate_vertices_from_action] Bounding box: (0.23976369914941698, 0.3207430120759449, 0.5, 0.5)
2025-08-12 06:09:02,035 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,036 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,036 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:02,036 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,038 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,038 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,038 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,038 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:02,039 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,039 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,039 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:02,040 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:02,040 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,040 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,042 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,042 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_4, stroke_idx=4, assigned is_positive=True
2025-08-12 06:09:02,042 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.316-0.898, stroke_index=5
2025-08-12 06:09:02,042 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.316, param2=None, param3=0.898
2025-08-12 06:09:02,042 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5361850238884568, 0.473008860764832), (0.5723700477769135, 0.44601772152966407), (0.6085550716653703, 0.4190265822944961), (0.6447400955538269, 0.39203544305932814), (0.6809251194422837, 0.36504430382416014), (0.7171101433307405, 0.33805316458899215), (0.7532951672191972, 0.3110620253538242)]
2025-08-12 06:09:02,043 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.3110620253538242, 0.7532951672191972, 0.5)
2025-08-12 06:09:02,043 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,045 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,045 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,046 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,046 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,046 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:02,047 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,047 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,047 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:02,048 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:02,048 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,048 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,049 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_4, stroke_idx=5, assigned is_positive=True
2025-08-12 06:09:02,049 - INFO - [ATTR DEBUG] Shape 0 strokes (dicts): [{'command': 'line_normal_0.728-0.500', 'vertices': [(0.5, 0.5), (0.444, 0.5), (0.388, 0.5), (0.33199999999999996, 0.5), (0.276, 0.5), (0.21999999999999997, 0.5), (0.16399999999999998, 0.5), (0.10799999999999998, 0.5000000000000001), (0.05199999999999999, 0.5000000000000001), (-0.0040000000000000036, 0.5000000000000001), (-0.06000000000000005, 0.5000000000000001), (-0.11599999999999999, 0.5000000000000001), (-0.17200000000000004, 0.5000000000000001), (-0.22799999999999998, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.444, 0.5), (0.388, 0.5), (0.33199999999999996, 0.5), (0.276, 0.5), (0.21999999999999997, 0.5), (0.16399999999999998, 0.5), (0.10799999999999998, 0.5000000000000001), (0.05199999999999999, 0.5000000000000001), (-0.0040000000000000036, 0.5000000000000001), (-0.06000000000000005, 0.5000000000000001), (-0.11599999999999999, 0.5000000000000001), (-0.17200000000000004, 0.5000000000000001), (-0.22799999999999998, 0.5000000000000001)], 'open_stroke_perimeter': 0.728, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.141-0.081', 'vertices': [(0.5, 0.5), (0.5175900008754569, 0.5098146096753245), (0.535180001750914, 0.5196292193506491), (0.5527700026263709, 0.5294438290259736), (0.5703600035018278, 0.5392584387012982), (0.5879500043772847, 0.5490730483766227), (0.6055400052527418, 0.5588876580519473), (0.6231300061281987, 0.5687022677272718)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5175900008754569, 0.5098146096753245), (0.535180001750914, 0.5196292193506491), (0.5527700026263709, 0.5294438290259736), (0.5703600035018278, 0.5392584387012982), (0.5879500043772847, 0.5490730483766227), (0.6055400052527418, 0.5588876580519473), (0.6231300061281987, 0.5687022677272718)], 'open_stroke_perimeter': 0.14099999999999993, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.141-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.47985714285714287), (0.5, 0.4597142857142857), (0.5, 0.43957142857142856), (0.5, 0.41942857142857143), (0.5, 0.39928571428571424), (0.5, 0.3791428571428571), (0.5, 0.359)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.47985714285714287), (0.5, 0.4597142857142857), (0.5, 0.43957142857142856), (0.5, 0.41942857142857143), (0.5, 0.39928571428571424), (0.5, 0.3791428571428571), (0.5, 0.359)], 'open_stroke_perimeter': 0.14100000000000001, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.728-0.081', 'vertices': [(0.5, 0.5), (0.5489026974693555, 0.5272860070406186), (0.5978053949387111, 0.5545720140812372), (0.6467080924080666, 0.5818580211218558), (0.6956107898774222, 0.6091440281624745), (0.7445134873467777, 0.636430035203093), (0.7934161848161332, 0.6637160422437116), (0.8423188822854888, 0.6910020492843303), (0.8912215797548443, 0.7182880563249489), (0.9401242772241998, 0.7455740633655674), (0.9890269746935554, 0.7728600704061861), (1.0379296721629108, 0.8001460774468047), (1.0868323696322664, 0.8274320844874232), (1.135735067101622, 0.8547180915280419)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5489026974693555, 0.5272860070406186), (0.5978053949387111, 0.5545720140812372), (0.6467080924080666, 0.5818580211218558), (0.6956107898774222, 0.6091440281624745), (0.7445134873467777, 0.636430035203093), (0.7934161848161332, 0.6637160422437116), (0.8423188822854888, 0.6910020492843303), (0.8912215797548443, 0.7182880563249489), (0.9401242772241998, 0.7455740633655674), (0.9890269746935554, 0.7728600704061861), (1.0379296721629108, 0.8001460774468047), (1.0868323696322664, 0.8274320844874232), (1.135735067101622, 0.8547180915280419)], 'open_stroke_perimeter': 0.728, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.316-0.596', 'vertices': [(0.5, 0.5), (0.46282338559277386, 0.4743918588679921), (0.4256467711855477, 0.44878371773598424), (0.38847015677832153, 0.4231755766039764), (0.35129354237109545, 0.3975674354719685), (0.31411692796386925, 0.37195929433996067), (0.2769403135566431, 0.3463511532079528), (0.23976369914941698, 0.3207430120759449)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.46282338559277386, 0.4743918588679921), (0.4256467711855477, 0.44878371773598424), (0.38847015677832153, 0.4231755766039764), (0.35129354237109545, 0.3975674354719685), (0.31411692796386925, 0.37195929433996067), (0.2769403135566431, 0.3463511532079528), (0.23976369914941698, 0.3207430120759449)], 'open_stroke_perimeter': 0.316, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.316-0.898', 'vertices': [(0.5, 0.5), (0.5361850238884568, 0.473008860764832), (0.5723700477769135, 0.44601772152966407), (0.6085550716653703, 0.4190265822944961), (0.6447400955538269, 0.39203544305932814), (0.6809251194422837, 0.36504430382416014), (0.7171101433307405, 0.33805316458899215), (0.7532951672191972, 0.3110620253538242)], 'geometry': {'area': 6.505213034913027e-19, 'perimeter': 0.21066666666666672, 'centroid': [0.7171101433307405, 0.33805316458899215], 'bounds': [0.6688634448127981, 0.3110620253538242, 0.7532951672191972, 0.3740413502358828], 'width': 0.08443172240639907, 'height': 0.0629793248820586, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.21066666666666672, 'analytic_vertices': [(0.5, 0.5), (0.5361850238884568, 0.473008860764832), (0.5723700477769135, 0.44601772152966407), (0.6085550716653703, 0.4190265822944961), (0.6447400955538269, 0.39203544305932814), (0.6809251194422837, 0.36504430382416014), (0.7171101433307405, 0.33805316458899215), (0.7532951672191972, 0.3110620253538242)], 'open_stroke_perimeter': 0.3160000000000001, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}]
2025-08-12 06:09:02,050 - INFO - [PATCH][SHAPE GEOMETRY] idx=0, vertices=[(0.2643139936010587, 0.5017490481214053), (1.0, 0.5017490481214053), (0.8755700240709731, 0.3220540638357485), (0.9449976298056261, 0.0), (0.3189328980265527, 1.0), (0.0, 0.958472200182604), (0.2652393660486028, 0.49820485130609354)], geometry={'area': 0.1698957804257793, 'perimeter': 1.8109101077079701, 'centroid': [0.30741887296425535, 0.7379915253929009], 'bounds': [0.0, 0.49820485130609354, 0.6308702465730931, 1.0], 'width': 0.6308702465730931, 'height': 0.5017951486939065}
2025-08-12 06:09:02,050 - INFO - [robust_curvature] INPUT: [(0.2643139936010587, 0.5017490481214053), (1.0, 0.5017490481214053), (0.8755700240709731, 0.3220540638357485), (0.9449976298056261, 0.0), (0.3189328980265527, 1.0), (0.0, 0.958472200182604), (0.2652393660486028, 0.49820485130609354)]
2025-08-12 06:09:02,052 - INFO - [robust_curvature] OUTPUT: 1.9606016740187813
2025-08-12 06:09:02,052 - INFO - Computed angular variance: 0.509984 for 7 vertices.
2025-08-12 06:09:02,053 - INFO - [PATCH][SHAPE PHYSICS] idx=0, physics features: {'robust_curvature': 1.9606016740187813, 'robust_angular_variance': 0.5099842902074164, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 2.489888111426258}
2025-08-12 06:09:02,053 - INFO - [robust_curvature] INPUT: [[   0.            0.        ]
 [1048.32          0.        ]
 [ 871.01279118  -98.93126553]
 [ 969.9440567  -276.23847435]
 [  77.82952155  274.31259373]
 [-376.63574319  251.44941918]
 [   1.31861478   -1.95126134]]
2025-08-12 06:09:02,053 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,053 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,054 - INFO - Computed angular variance: 0.525571 for 7 vertices.
2025-08-12 06:09:02,061 - INFO - [robust_curvature] INPUT: [[   0.            0.        ]
 [  77.82952155  274.31259373]
 [-376.63574319  251.44941918]
 [   1.31861478   -1.95126134]]
2025-08-12 06:09:02,061 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,062 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,062 - INFO - [robust_curvature] INPUT: [[1048.32          0.        ]
 [ 871.01279118  -98.93126553]
 [ 969.9440567  -276.23847435]]
2025-08-12 06:09:02,062 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,063 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,063 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,063 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.5255714865915734, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,063 - INFO - [robust_curvature] INPUT: [[ 4.02668537e+00 -7.48554349e-03]
 [ 1.04361818e+03 -3.79525938e-01]
 [ 8.72072513e+02 -9.92319359e+01]
 [ 9.66142149e+02 -2.73446222e+02]
 [ 7.95084574e+01  2.72112828e+02]
 [-3.73442366e+02  2.50565018e+02]
 [-1.36374495e-01 -9.71665208e-01]]
2025-08-12 06:09:02,064 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,064 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,064 - INFO - Computed angular variance: 0.909872 for 7 vertices.
2025-08-12 06:09:02,065 - INFO - [robust_curvature] INPUT: [[ 4.02668537e+00 -7.48554349e-03]
 [ 7.95084574e+01  2.72112828e+02]
 [-3.73442366e+02  2.50565018e+02]
 [-1.36374495e-01 -9.71665208e-01]]
2025-08-12 06:09:02,066 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,066 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,066 - INFO - [robust_curvature] INPUT: [[ 1.04361818e+03 -3.79525938e-01]
 [ 8.72072513e+02 -9.92319359e+01]
 [ 9.66142149e+02 -2.73446222e+02]]
2025-08-12 06:09:02,066 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,067 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,067 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,067 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.9098718005718232, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,068 - INFO - [robust_curvature] INPUT: [[ 1.11865290e+02 -1.67469061e-01]
 [ 9.17554090e+02 -1.06047141e+01]
 [ 8.99979467e+02 -1.07149855e+02]
 [ 8.64111831e+02 -1.98545271e+02]
 [ 1.24606729e+02  2.13100823e+02]
 [-2.87569335e+02  2.26702937e+02]
 [-3.87588303e+01  2.53045612e+01]]
2025-08-12 06:09:02,068 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,068 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,069 - INFO - Computed angular variance: 0.734330 for 7 vertices.
2025-08-12 06:09:02,069 - INFO - [robust_curvature] INPUT: [[ 1.11865290e+02 -1.67469061e-01]
 [ 1.24606729e+02  2.13100823e+02]
 [-2.87569335e+02  2.26702937e+02]
 [-3.87588303e+01  2.53045612e+01]]
2025-08-12 06:09:02,070 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,070 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,070 - INFO - [robust_curvature] INPUT: [[ 917.55408969  -10.60471415]
 [ 899.97946679 -107.14985467]
 [ 864.11183144 -198.54527079]]
2025-08-12 06:09:02,071 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,071 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,071 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,072 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.7343304069067876, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,072 - INFO - [robust_curvature] INPUT: [[285.45835893   7.75368456]
 [680.05595147 -36.55785126]
 [838.33565739 -90.36022728]
 [652.81660386 -54.19913303]
 [226.49771227  97.99021295]
 [-69.97332511 150.85165262]
 [-21.40171779  73.16267313]]
2025-08-12 06:09:02,072 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,073 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,073 - INFO - Computed angular variance: 1.229452 for 7 vertices.
2025-08-12 06:09:02,074 - INFO - [robust_curvature] INPUT: [[285.45835893   7.75368456]
 [226.49771227  97.99021295]
 [-69.97332511 150.85165262]
 [-21.40171779  73.16267313]]
2025-08-12 06:09:02,074 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,074 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,075 - INFO - [robust_curvature] INPUT: [[680.05595147 -36.55785126]
 [838.33565739 -90.36022728]
 [652.81660386 -54.19913303]]
2025-08-12 06:09:02,075 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,075 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,077 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,077 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 1.2294519254841483, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,077 - INFO - [robust_curvature] INPUT: [[347.45583948  19.26484691]
 [463.95178659  -5.49514205]
 [510.06016057 -10.59360723]
 [450.79521474   8.377088  ]
 [330.76697306  37.44776068]
 [240.61769517  54.02436127]
 [248.14157142  45.6157041 ]]
2025-08-12 06:09:02,077 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,078 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,078 - INFO - Computed angular variance: 1.362449 for 7 vertices.
2025-08-12 06:09:02,079 - INFO - [robust_curvature] INPUT: [[347.45583948  19.26484691]
 [330.76697306  37.44776068]
 [240.61769517  54.02436127]
 [248.14157142  45.6157041 ]]
2025-08-12 06:09:02,079 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,079 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,079 - INFO - [robust_curvature] INPUT: [[463.95178659  -5.49514205]
 [510.06016057 -10.59360723]
 [450.79521474   8.377088  ]]
2025-08-12 06:09:02,080 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,080 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,080 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,081 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 1.362448571506795, 'complexity': 1, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,081 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.5255714865915734, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.9098718005718232, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.7343304069067876, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 1.2294519254841483, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 1.362448571506795, 'complexity': 1, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:02,082 - DEBUG - [extract_image_features] Calculated width: 898.9621810597166, height: 276.26385507130726
2025-08-12 06:09:02,082 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)]
2025-08-12 06:09:02,082 - INFO - [robust_curvature] OUTPUT: 2.041569477355725
2025-08-12 06:09:02,082 - INFO - Computed angular variance: 0.525571 for 7 vertices.
2025-08-12 06:09:02,084 - INFO - [robust_curvature] INPUT: [[   0.            0.        ]
 [1048.32          0.        ]
 [ 871.01279118  -98.93126553]
 [ 969.9440567  -276.23847435]
 [  77.82952155  274.31259373]
 [-376.63574319  251.44941918]
 [   1.31861478   -1.95126134]]
2025-08-12 06:09:02,084 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,084 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,085 - INFO - Computed angular variance: 0.525571 for 7 vertices.
2025-08-12 06:09:02,086 - INFO - [robust_curvature] INPUT: [[   0.            0.        ]
 [  77.82952155  274.31259373]
 [-376.63574319  251.44941918]
 [   1.31861478   -1.95126134]]
2025-08-12 06:09:02,086 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,086 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,086 - INFO - [robust_curvature] INPUT: [[1048.32          0.        ]
 [ 871.01279118  -98.93126553]
 [ 969.9440567  -276.23847435]]
2025-08-12 06:09:02,087 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,087 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,087 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,087 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.5255714865915734, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,088 - INFO - [robust_curvature] INPUT: [[ 4.02668537e+00 -7.48554349e-03]
 [ 1.04361818e+03 -3.79525938e-01]
 [ 8.72072513e+02 -9.92319359e+01]
 [ 9.66142149e+02 -2.73446222e+02]
 [ 7.95084574e+01  2.72112828e+02]
 [-3.73442366e+02  2.50565018e+02]
 [-1.36374495e-01 -9.71665208e-01]]
2025-08-12 06:09:02,088 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,088 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,089 - INFO - Computed angular variance: 0.909872 for 7 vertices.
2025-08-12 06:09:02,089 - INFO - [robust_curvature] INPUT: [[ 4.02668537e+00 -7.48554349e-03]
 [ 7.95084574e+01  2.72112828e+02]
 [-3.73442366e+02  2.50565018e+02]
 [-1.36374495e-01 -9.71665208e-01]]
2025-08-12 06:09:02,090 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,090 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,091 - INFO - [robust_curvature] INPUT: [[ 1.04361818e+03 -3.79525938e-01]
 [ 8.72072513e+02 -9.92319359e+01]
 [ 9.66142149e+02 -2.73446222e+02]]
2025-08-12 06:09:02,091 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,091 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,091 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,092 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.9098718005718232, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,092 - INFO - [robust_curvature] INPUT: [[ 1.11865290e+02 -1.67469061e-01]
 [ 9.17554090e+02 -1.06047141e+01]
 [ 8.99979467e+02 -1.07149855e+02]
 [ 8.64111831e+02 -1.98545271e+02]
 [ 1.24606729e+02  2.13100823e+02]
 [-2.87569335e+02  2.26702937e+02]
 [-3.87588303e+01  2.53045612e+01]]
2025-08-12 06:09:02,092 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,092 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,092 - INFO - Computed angular variance: 0.734330 for 7 vertices.
2025-08-12 06:09:02,094 - INFO - [robust_curvature] INPUT: [[ 1.11865290e+02 -1.67469061e-01]
 [ 1.24606729e+02  2.13100823e+02]
 [-2.87569335e+02  2.26702937e+02]
 [-3.87588303e+01  2.53045612e+01]]
2025-08-12 06:09:02,095 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,095 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,095 - INFO - [robust_curvature] INPUT: [[ 917.55408969  -10.60471415]
 [ 899.97946679 -107.14985467]
 [ 864.11183144 -198.54527079]]
2025-08-12 06:09:02,095 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,096 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,096 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,096 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.7343304069067876, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,097 - INFO - [robust_curvature] INPUT: [[285.45835893   7.75368456]
 [680.05595147 -36.55785126]
 [838.33565739 -90.36022728]
 [652.81660386 -54.19913303]
 [226.49771227  97.99021295]
 [-69.97332511 150.85165262]
 [-21.40171779  73.16267313]]
2025-08-12 06:09:02,097 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,097 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,098 - INFO - Computed angular variance: 1.229452 for 7 vertices.
2025-08-12 06:09:02,098 - INFO - [robust_curvature] INPUT: [[285.45835893   7.75368456]
 [226.49771227  97.99021295]
 [-69.97332511 150.85165262]
 [-21.40171779  73.16267313]]
2025-08-12 06:09:02,099 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,099 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,099 - INFO - [robust_curvature] INPUT: [[680.05595147 -36.55785126]
 [838.33565739 -90.36022728]
 [652.81660386 -54.19913303]]
2025-08-12 06:09:02,100 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,100 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,100 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,100 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 1.2294519254841483, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,101 - INFO - [robust_curvature] INPUT: [[347.45583948  19.26484691]
 [463.95178659  -5.49514205]
 [510.06016057 -10.59360723]
 [450.79521474   8.377088  ]
 [330.76697306  37.44776068]
 [240.61769517  54.02436127]
 [248.14157142  45.6157041 ]]
2025-08-12 06:09:02,101 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,101 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,103 - INFO - Computed angular variance: 1.362449 for 7 vertices.
2025-08-12 06:09:02,103 - INFO - [robust_curvature] INPUT: [[347.45583948  19.26484691]
 [330.76697306  37.44776068]
 [240.61769517  54.02436127]
 [248.14157142  45.6157041 ]]
2025-08-12 06:09:02,103 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,103 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,104 - INFO - [robust_curvature] INPUT: [[463.95178659  -5.49514205]
 [510.06016057 -10.59360723]
 [450.79521474   8.377088  ]]
2025-08-12 06:09:02,104 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,104 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,106 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,106 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 1.362448571506795, 'complexity': 1, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,106 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.5255714865915734, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.9098718005718232, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.7343304069067876, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 1.2294519254841483, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 1.362448571506795, 'complexity': 1, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:02,107 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,108 - DEBUG - [extract_image_features] Stroke 0 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:02,108 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,109 - DEBUG - [extract_image_features] Stroke 1 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:02,109 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,110 - DEBUG - [extract_image_features] Stroke 2 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:02,110 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,111 - DEBUG - [extract_image_features] Stroke 3 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:02,111 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,112 - DEBUG - [extract_image_features] Stroke 4 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:02,113 - DEBUG - [extract_image_features] Stroke 5 geometry: {'area': 6.505213034913027e-19, 'perimeter': 0.21066666666666672, 'centroid': [0.7171101433307405, 0.33805316458899215], 'bounds': [0.6688634448127981, 0.3110620253538242, 0.7532951672191972, 0.3740413502358828], 'width': 0.08443172240639907, 'height': 0.0629793248820586}
2025-08-12 06:09:02,113 - INFO - [extract_image_features] stroke_type_distribution INPUT: [{'command': 'line_normal_0.728-0.500', 'vertices': [(0.5, 0.5), (0.444, 0.5), (0.388, 0.5), (0.33199999999999996, 0.5), (0.276, 0.5), (0.21999999999999997, 0.5), (0.16399999999999998, 0.5), (0.10799999999999998, 0.5000000000000001), (0.05199999999999999, 0.5000000000000001), (-0.0040000000000000036, 0.5000000000000001), (-0.06000000000000005, 0.5000000000000001), (-0.11599999999999999, 0.5000000000000001), (-0.17200000000000004, 0.5000000000000001), (-0.22799999999999998, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.141-0.081', 'vertices': [(0.5, 0.5), (0.5175900008754569, 0.5098146096753245), (0.535180001750914, 0.5196292193506491), (0.5527700026263709, 0.5294438290259736), (0.5703600035018278, 0.5392584387012982), (0.5879500043772847, 0.5490730483766227), (0.6055400052527418, 0.5588876580519473), (0.6231300061281987, 0.5687022677272718)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.141-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.47985714285714287), (0.5, 0.4597142857142857), (0.5, 0.43957142857142856), (0.5, 0.41942857142857143), (0.5, 0.39928571428571424), (0.5, 0.3791428571428571), (0.5, 0.359)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.728-0.081', 'vertices': [(0.5, 0.5), (0.5489026974693555, 0.5272860070406186), (0.5978053949387111, 0.5545720140812372), (0.6467080924080666, 0.5818580211218558), (0.6956107898774222, 0.6091440281624745), (0.7445134873467777, 0.636430035203093), (0.7934161848161332, 0.6637160422437116), (0.8423188822854888, 0.6910020492843303), (0.8912215797548443, 0.7182880563249489), (0.9401242772241998, 0.7455740633655674), (0.9890269746935554, 0.7728600704061861), (1.0379296721629108, 0.8001460774468047), (1.0868323696322664, 0.8274320844874232), (1.135735067101622, 0.8547180915280419)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.316-0.596', 'vertices': [(0.5, 0.5), (0.46282338559277386, 0.4743918588679921), (0.4256467711855477, 0.44878371773598424), (0.38847015677832153, 0.4231755766039764), (0.35129354237109545, 0.3975674354719685), (0.31411692796386925, 0.37195929433996067), (0.2769403135566431, 0.3463511532079528), (0.23976369914941698, 0.3207430120759449)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.316-0.898', 'vertices': [(0.5, 0.5), (0.5361850238884568, 0.473008860764832), (0.5723700477769135, 0.44601772152966407), (0.6085550716653703, 0.4190265822944961), (0.6447400955538269, 0.39203544305932814), (0.6809251194422837, 0.36504430382416014), (0.7171101433307405, 0.33805316458899215), (0.7532951672191972, 0.3110620253538242)], 'geometry': {'area': 6.505213034913027e-19, 'perimeter': 0.21066666666666672, 'centroid': [0.7171101433307405, 0.33805316458899215], 'bounds': [0.6688634448127981, 0.3110620253538242, 0.7532951672191972, 0.3740413502358828], 'width': 0.08443172240639907, 'height': 0.0629793248820586}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.08443172240639907, 'height': 0.0629793248820586}]
2025-08-12 06:09:02,114 - INFO - [extract_image_features] stroke_type_distribution OUTPUT: {'line': 6}
2025-08-12 06:09:02,114 - INFO - [extract_image_features] modifier_distribution OUTPUT: {'normal': 6}
2025-08-12 06:09:02,114 - INFO - [extract_image_features] relational INPUT: []
2025-08-12 06:09:02,114 - INFO - [extract_image_features] relational OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:02,114 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:02,114 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,116 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,116 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,116 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,116 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,117 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,117 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,117 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,117 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,117 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-12 06:09:02,118 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:02,118 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,118 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,118 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,119 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,119 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,119 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,119 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,120 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,120 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,120 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,121 - DEBUG - [_detect_alternation] OUTPUT: 0.16666666666666666
2025-08-12 06:09:02,121 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:02,121 - INFO - [extract_image_features] PATCHED ngram: {'normal|normal': 5}
2025-08-12 06:09:02,121 - INFO - [extract_image_features] PATCHED alternation: 0.16666666666666666
2025-08-12 06:09:02,122 - INFO - [extract_image_features] PATCHED regularity: 0.16666666666666666
2025-08-12 06:09:02,122 - INFO - [extract_image_features] PATCHED dominant_shape_functions: line
2025-08-12 06:09:02,122 - INFO - [extract_image_features] PATCHED dominant_modifiers: normal
2025-08-12 06:09:02,122 - INFO - [extract_image_features] PATCHED image_canonical_summary: {'area': 133285.09269186968, 'perimeter': 1957.0879056347073, 'compactness': 0.43729123868117686, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.16666666666666666}
2025-08-12 06:09:02,123 - INFO - [extract_image_features] OUTPUT: {'area': 133285.09269186968, 'perimeter': 1957.0879056347073, 'convexity_ratio': 0.7685151570091812, 'compactness': 0.43729123868117686, 'aspect_ratio': 3.253998540010538, 'centroid_x': 61.42254540794166, 'centroid_y': 130.06354818792929, 'width': 898.9621810597166, 'height': 276.26385507130726, 'bounding_box': (-376.6357431863483, -276.23847435187764, 1048.32, 274.312593729148), 'num_vertices': 7, 'curvature': 2.041569477355725, 'angular_variance': 0.5255714865915734, 'complexity': -0.11599604467366534, 'num_strokes': 6, 'stroke_type_distribution': {'line': 6}, 'modifier_distribution': {'normal': 6}, 'avg_stroke_length': 0.0, 'stroke_complexity': -0.11599604467366534, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.5255714865915734, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.9098718005718232, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.7343304069067876, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 1.2294519254841483, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 1.362448571506795, 'complexity': 1, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 162505.35730243928, 'center_of_mass_x': 0.0, 'center_of_mass_y': 0.9812217891505517, 'symmetry_score': 1338.6320931774771, 'ngram': {'normal|normal': 5}, 'alternation': 0.16666666666666666, 'regularity': 0.16666666666666666, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 133285.09269186968, 'perimeter': 1957.0879056347073, 'compactness': 0.43729123868117686, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.16666666666666666}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 5, 'vertical': 1}}
2025-08-12 06:09:02,123 - DEBUG - [extract_image_features] FINAL OUTPUT bounding_box: (-376.6357431863483, -276.23847435187764, 1048.32, 274.312593729148)
2025-08-12 06:09:02,123 - DEBUG - [extract_image_features] FINAL OUTPUT width: 898.9621810597166, height: 276.26385507130726
2025-08-12 06:09:02,123 - DEBUG - [extract_image_features] FINAL OUTPUT curvature: 2.041569477355725
2025-08-12 06:09:02,123 - INFO - [DIAG] Shape 0 extracted attributes: {'area': 133285.09269186968, 'perimeter': 1957.0879056347073, 'convexity_ratio': 0.7685151570091812, 'compactness': 0.43729123868117686, 'aspect_ratio': 3.253998540010538, 'centroid_x': 61.42254540794166, 'centroid_y': 130.06354818792929, 'width': 898.9621810597166, 'height': 276.26385507130726, 'bounding_box': (-376.6357431863483, -276.23847435187764, 1048.32, 274.312593729148), 'num_vertices': 7, 'curvature': 2.041569477355725, 'angular_variance': 0.5255714865915734, 'complexity': -0.11599604467366534, 'num_strokes': 6, 'stroke_type_distribution': {'line': 6}, 'modifier_distribution': {'normal': 6}, 'avg_stroke_length': 0.0, 'stroke_complexity': -0.11599604467366534, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.5255714865915734, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.9098718005718232, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.7343304069067876, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 1.2294519254841483, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 1.362448571506795, 'complexity': 1, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 162505.35730243928, 'center_of_mass_x': 0.0, 'center_of_mass_y': 0.9812217891505517, 'symmetry_score': 1338.6320931774771, 'ngram': {'normal|normal': 5}, 'alternation': 0.16666666666666666, 'regularity': 0.16666666666666666, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 133285.09269186968, 'perimeter': 1957.0879056347073, 'compactness': 0.43729123868117686, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.16666666666666666}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 5, 'vertical': 1}}
2025-08-12 06:09:02,125 - INFO - [VALIDATION] expected_strokes=6, actual_shapes=1
2025-08-12 06:09:02,125 - INFO - [VALIDATION] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_4, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: Number of action commands matches number of parsed shapes (6)
2025-08-12 06:09:02,125 - INFO - [standardize_coordinates] INPUT vertices: [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)]
2025-08-12 06:09:02,126 - INFO - [standardize_coordinates] OUTPUT normalized vertices: [[0.2643139936010587, 0.5017490481214053], [1.0, 0.5017490481214053], [0.8755700240709731, 0.3220540638357485], [0.9449976298056261, 0.0], [0.3189328980265527, 1.0], [0.0, 0.958472200182604], [0.2652393660486028, 0.49820485130609354]]
2025-08-12 06:09:02,127 - DEBUG - [process_single_image] Passing shape_list to extract_relational_features: [{'vertices': [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)]}]
2025-08-12 06:09:02,127 - INFO - [extract_relational_features] INPUT: [{'vertices': [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)]}]
2025-08-12 06:09:02,127 - DEBUG - [extract_relational_features] Shape 0 vertices: [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)]
2025-08-12 06:09:02,128 - INFO - [calculate_relationships] INPUT: strokes=[{'vertices': [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)]}], buffer_amt=0.001
2025-08-12 06:09:02,128 - DEBUG - [calculate_relationships] Stroke 0: {'vertices': [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)]}
2025-08-12 06:09:02,128 - DEBUG - [calculate_relationships] Vertices for stroke 0: [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)]
2025-08-12 06:09:02,129 - DEBUG - [calculate_relationships] Created LineString for stroke 0: LINESTRING (0 0, 1048.32 0, 871.0127911753938 -98.93126552727146, 969.9440567026652 -276.23847435187764, 77.82952154765394 274.312593729148, -376.6357431863483 251.44941918462558, 1.318614783714395 -1.951261342159313)
2025-08-12 06:09:02,129 - DEBUG - [calculate_relationships] Buffered geometries: ['POLYGON ((522.3229133419529 0.001, 77.82926110245407 274.3115793620668, -376.6326836151662 251.4485718404611, 1.319171659330883 -1.9504307462601171, 1.3192503904573887 -1.9504893291618441, 1.3193230003435015 -1.9505553469707622, 1.319388789716325 -1.950628163899282, 1.3194471249882356 -1.9507070786805762, 1.3194974443586749 -1.950791331322162, 1.3195392632245984 -1.950880110425044, 1.3195721788474668 -1.950972560997929, 1.3195958742318383 -1.951067792691262, 1.319610121178208 -1.9511648883717776, 1.3196147824806945 -1.9512629129549939, 1.3196098132484066 -1.951360922410589, 1.319595261337768 -1.9514579728539285, 1.3195712668916322 -1.9515531296361894, 1.319538060989633 -1.9516454763455406, 1.3194959634227585 -1.9517341236326895, 1.3194453796135908 -1.9518182177758012, 1.3193867967118638 -1.9518969489023068, 1.3193207789029457 -1.9519695587884196, 1.319247961974426 -1.9520353481612431, 1.3191690471931317 -1.9520936834331537, 1.3190847945515458 -1.952144002803593, 1.318996015448664 -1.9521858216695165, 1.318903564875779 -1.952218737292385, 1.3188083331824458 -1.9522424326767565, 1.3187112375019303 -1.9522566796231262, 1.318613212918714 -1.9522613409256127, 1.318515203463119 -1.9522563716933248, 1.3184181530197794 -1.952241819782686, 1.3183229962375185 -1.9522178253365503, 1.3182306495281673 -1.9521846194345511, 1.3181420022410184 -1.9521425218676767, 1.3180579080979067 -1.952091938058509, -376.6363000619648 251.44858858872638, -376.6363802229553 251.44864835107592, -376.63645401528527 251.4487158196973, -376.63652070122885 251.44879032008492, -376.6365796141052 251.44887110743437, -376.6366301649432 251.44895737408845, -376.6366718483698 251.44904825761154, -376.63670424766246 251.44914284941174, -376.6367270389149 251.44924020382427, -376.63673999427556 251.44933934756565, -376.6367429842256 251.44943928946392, -376.6367359788735 251.44953903036762, -376.636719048254 251.44963757313474, -376.63669236162804 251.44973393260142, -376.6366561857904 251.449827145431, -376.6366108824025 251.44991627974468, -376.63655690437713 251.450000444438, -376.6364947913499 251.45007879808932, -376.63642516428484 251.4501505573719, -376.63634871926615 251.45021500488505, -376.6362662205394 251.45027149632614, -376.63617849287107 251.450319466932, -376.63608641330285 251.450358437125, -376.6359909023839 251.45038801730757, -376.6358929149679 251.45040791175703, -376.63579343066647 251.4504179215822, 77.82947130333577 274.3135924661046, 77.82957179197211 274.3135924661046, 77.82967177324306 274.31358238089274, 77.8297702375411 274.3135623123091, 77.8298661905771 274.31353246300563, 77.82995866342058 274.31349313439955, 77.8300467222839 274.3134447236298, 522.3267215990277 0.001, 1048.32 0.001, 1048.3200973512971 0.0009952500816053, 1048.3201937777728 0.0009810454498708, 1048.3202883633915 0.0009575210464797, 1048.3203802096048 0.0009249003494246, 1048.320468443889 0.0008834932500035, 1048.3205522280327 0.000833693108903, 1048.3206307661003 0.0007759730193355, 1048.3207033119927 0.0007108813127313, 1048.320769176536 0.0006390363496797, 1048.320827734028 0.0005611206456036, 1048.3208784281815 0.0004778743869751, 1048.320920777411 0.0003900883996646, 1048.320954379405 0.0002985966362239, 1048.3209789149505 0.0002042682534732, 1048.320994150964 0.0001079993556532, 1048.3209999427054 1.0704481581238215e-5, 1048.3209962351543 -8.66920833187029e-5, 1048.3209830635317 -0.0001832650875762, 1048.3209605529662 -0.0002780971034125, 1048.3209289173042 -0.0003702872421548, 1048.3208884570795 -0.0004589597125315, 1048.3208395566576 -0.0005432721405463, 1048.3207826805842 -0.0006224235718936, 1048.3207183691732 -0.0006956620808942, 1048.3206472333723 -0.0007622919136657, 1048.32056994896 -0.0008216800976715, 1048.3204872501256 -0.0008732624548099, 871.0141516879743 -98.93165153960057, 969.94492996512 -276.2379871017519, 969.9449732516264 -276.238074429383, 969.9450078310673 -276.2381655562125, 969.9450333749435 -276.23825961655047, 969.9450496405925 -276.23835571683895, 969.9450564734933 -276.238452944141, 969.9450538087344 -276.238550374813, 969.9450416716306 -276.2386470832795, 969.9450201774823 -276.23874215082594, 969.9449895304806 -276.23883467432603, 969.9449500217669 -276.23892377482167, 969.9449020266675 -276.2390086058727, 969.944846001128 -276.239088361598, 969.9447824773819 -276.23916228433114, 969.9447120588945 -276.2392296718183, 969.9446354146298 -276.2392898838892, 969.944553272696 -276.2393423485392, 969.944466413428 -276.23938656736254, 969.9443756619745 -276.23942212028766, 969.9442818804597 -276.23944866956754, 969.9441859597925 -276.23946596298845, 969.9440888112038 -276.2394738362656, 969.9439913575892 -276.2394722146042, 969.9438945247421 -276.23946111340973, 969.9437992325588 -276.23944063814184, 969.9437063862996 -276.2394109833121, 969.9436168679886 -276.2393724306366, 969.9435315280352 -276.23932534635946, 522.3261541477087 -0.001, 0 -0.001, -9.801714032956045e-5 -0.0009951847266722, -0.0001950903220161 -0.0009807852804032, -0.0002902846772545 -0.0009569403357322, -0.0003826834323651 -0.0009238795325113, -0.000471396736826 -0.0008819212643484, -0.0005555702330196 -0.0008314696123025, -0.0006343932841636 -0.0007730104533627, -0.0007071067811865 -0.0007071067811865, -0.0007730104533627 -0.0006343932841636, -0.0008314696123025 -0.0005555702330196, -0.0008819212643484 -0.000471396736826, -0.0009238795325113 -0.0003826834323651, -0.0009569403357322 -0.0002902846772545, -0.0009807852804032 -0.0001950903220161, -0.0009951847266722 -9.801714032956059e-5, -0.001 0, -0.0009951847266722 9.801714032956083e-5, -0.0009807852804032 0.0001950903220161, -0.0009569403357322 0.0002902846772545, -0.0009238795325113 0.0003826834323651, -0.0008819212643484 0.000471396736826, -0.0008314696123025 0.0005555702330196, -0.0007730104533627 0.0006343932841636, -0.0007071067811865 0.0007071067811865, -0.0006343932841636 0.0007730104533627, -0.0005555702330196 0.0008314696123025, -0.000471396736826 0.0008819212643484, -0.0003826834323651 0.0009238795325113, -0.0002902846772545 0.0009569403357322, -0.0001950903220161 0.0009807852804032, -9.801714032956064e-5 0.0009951847266722, 0 0.001, 522.3229133419529 0.001), (522.3299624047836 -0.001, 969.9413101777556 -276.23560429190036, 871.011917912939 -98.9317527773972, 871.0118743590724 -98.9316648364661, 871.0118396346483 -98.93157304996916, 871.0118140740816 -98.93147830186052, 871.0117979235347 -98.93138150461628, 871.0117913385462 -98.93128359044682, 871.0117943825331 -98.93118550231911, 871.0118070261802 -98.93108818487542, 871.0118291477222 -98.93099257533596, 871.0118605341165 -98.93089959447285, 871.0119008830951 -98.93081013774263, 871.0119498060752 -98.9307250666625, 871.0120068319019 -98.9306452005135, 871.012071411385 -98.93057130845027, 871.0121429225891 -98.93050410209379, 871.012220676822 -98.93044422867801, 871.012303925268 -98.93039226481666, 1048.3161554397714 -0.001, 522.3299624047836 -0.001))']
2025-08-12 06:09:02,130 - INFO - [calculate_relationships] Intermediate results: adjacency=0, intersections=0, containment=0, overlap=0.0
2025-08-12 06:09:02,130 - INFO - [calculate_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:02,130 - WARNING - [calculate_relationships] All relational features are zero/default. Strokes: [{'vertices': [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)]}]
2025-08-12 06:09:02,131 - INFO - [extract_relational_features] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:02,131 - DEBUG - [extract_relational_features] Output is JSON serializable.
2025-08-12 06:09:02,132 - INFO - [robust_curvature] INPUT: [[0.26431399 0.50174905]
 [1.         0.50174905]
 [0.87557002 0.32205406]
 [0.94499763 0.        ]
 [0.3189329  1.        ]
 [0.         0.9584722 ]
 [0.26523937 0.49820485]]
2025-08-12 06:09:02,132 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,132 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,133 - INFO - Computed angular variance: 0.509984 for 7 vertices.
2025-08-12 06:09:02,134 - INFO - [robust_curvature] INPUT: [[0.26431399 0.50174905]
 [0.3189329  1.        ]
 [0.         0.9584722 ]
 [0.26523937 0.49820485]]
2025-08-12 06:09:02,134 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,134 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,134 - INFO - [robust_curvature] INPUT: [[1.         0.50174905]
 [0.87557002 0.32205406]
 [0.94499763 0.        ]]
2025-08-12 06:09:02,134 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,135 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,135 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,135 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.5099842902074164, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,136 - INFO - [robust_curvature] INPUT: [[0.26713983 0.50173545]
 [0.99670037 0.50105969]
 [0.87631371 0.32150794]
 [0.94232954 0.00507174]
 [0.32011114 0.99600443]
 [0.00224104 0.95686581]
 [0.26421829 0.49998415]]
2025-08-12 06:09:02,136 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,137 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,137 - INFO - Computed angular variance: 0.548162 for 7 vertices.
2025-08-12 06:09:02,138 - INFO - [robust_curvature] INPUT: [[0.26713983 0.50173545]
 [0.32011114 0.99600443]
 [0.00224104 0.95686581]
 [0.26421829 0.49998415]]
2025-08-12 06:09:02,139 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,139 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,139 - INFO - [robust_curvature] INPUT: [[0.99670037 0.50105969]
 [0.87631371 0.32150794]
 [0.94232954 0.00507174]]
2025-08-12 06:09:02,140 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,140 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,140 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,140 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.5481624816730875, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,141 - INFO - [robust_curvature] INPUT: [[0.34281839 0.50144486]
 [0.9082316  0.48248705]
 [0.89589815 0.30712613]
 [0.87072709 0.14111898]
 [0.35176003 0.88881727]
 [0.06250468 0.91352363]
 [0.23711397 0.54771129]]
2025-08-12 06:09:02,141 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,142 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,142 - INFO - Computed angular variance: 0.662861 for 7 vertices.
2025-08-12 06:09:02,143 - INFO - [robust_curvature] INPUT: [[0.34281839 0.50144486]
 [0.35176003 0.88881727]
 [0.06250468 0.91352363]
 [0.23711397 0.54771129]]
2025-08-12 06:09:02,144 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,144 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,144 - INFO - [robust_curvature] INPUT: [[0.9082316  0.48248705]
 [0.89589815 0.30712613]
 [0.87072709 0.14111898]]
2025-08-12 06:09:02,144 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,146 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,146 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,146 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.6628614494318092, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,147 - INFO - [robust_curvature] INPUT: [[0.46464187 0.51583255]
 [0.74156106 0.43534676]
 [0.85263799 0.33762217]
 [0.72244514 0.40330381]
 [0.42326469 0.67973474]
 [0.21520838 0.77575025]
 [0.24929478 0.63463894]]
2025-08-12 06:09:02,147 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,148 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,148 - INFO - Computed angular variance: 1.005103 for 7 vertices.
2025-08-12 06:09:02,149 - INFO - [robust_curvature] INPUT: [[0.46464187 0.51583255]
 [0.42326469 0.67973474]
 [0.21520838 0.77575025]
 [0.24929478 0.63463894]]
2025-08-12 06:09:02,149 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,150 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,150 - INFO - [robust_curvature] INPUT: [[0.74156106 0.43534676]
 [0.85263799 0.33762217]
 [0.72244514 0.40330381]]
2025-08-12 06:09:02,150 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,150 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,151 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,151 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 1.0051030390659321, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,151 - INFO - [robust_curvature] INPUT: [[0.50815023 0.53674098]
 [0.58990431 0.49176788]
 [0.62226207 0.48250722]
 [0.58067134 0.51696487]
 [0.49643838 0.56976773]
 [0.43317376 0.59987684]
 [0.43845384 0.58460368]]
2025-08-12 06:09:02,151 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,153 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,153 - INFO - Computed angular variance: 1.116095 for 7 vertices.
2025-08-12 06:09:02,154 - INFO - [robust_curvature] INPUT: [[0.50815023 0.53674098]
 [0.49643838 0.56976773]
 [0.43317376 0.59987684]
 [0.43845384 0.58460368]]
2025-08-12 06:09:02,154 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,154 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,155 - INFO - [robust_curvature] INPUT: [[0.58990431 0.49176788]
 [0.62226207 0.48250722]
 [0.58067134 0.51696487]]
2025-08-12 06:09:02,155 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,155 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,156 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,156 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 1.1160952627731218, 'complexity': 1, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,156 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.5099842902074164, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.5481624816730875, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.6628614494318092, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 1.0051030390659321, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 1.1160952627731218, 'complexity': 1, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:02,156 - INFO - [_calculate_image_features] INPUTS: vertices=[(0.2643139936010587, 0.5017490481214053), (1.0, 0.5017490481214053), (0.8755700240709731, 0.3220540638357485), (0.9449976298056261, 0.0), (0.3189328980265527, 1.0), (0.0, 0.958472200182604), (0.2652393660486028, 0.49820485130609354)], strokes=[{'command': 'line_normal_0.728-0.500', 'vertices': [(0.5, 0.5), (0.444, 0.5), (0.388, 0.5), (0.33199999999999996, 0.5), (0.276, 0.5), (0.21999999999999997, 0.5), (0.16399999999999998, 0.5), (0.10799999999999998, 0.5000000000000001), (0.05199999999999999, 0.5000000000000001), (-0.0040000000000000036, 0.5000000000000001), (-0.06000000000000005, 0.5000000000000001), (-0.11599999999999999, 0.5000000000000001), (-0.17200000000000004, 0.5000000000000001), (-0.22799999999999998, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.141-0.081', 'vertices': [(0.5, 0.5), (0.5175900008754569, 0.5098146096753245), (0.535180001750914, 0.5196292193506491), (0.5527700026263709, 0.5294438290259736), (0.5703600035018278, 0.5392584387012982), (0.5879500043772847, 0.5490730483766227), (0.6055400052527418, 0.5588876580519473), (0.6231300061281987, 0.5687022677272718)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.141-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.47985714285714287), (0.5, 0.4597142857142857), (0.5, 0.43957142857142856), (0.5, 0.41942857142857143), (0.5, 0.39928571428571424), (0.5, 0.3791428571428571), (0.5, 0.359)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.728-0.081', 'vertices': [(0.5, 0.5), (0.5489026974693555, 0.5272860070406186), (0.5978053949387111, 0.5545720140812372), (0.6467080924080666, 0.5818580211218558), (0.6956107898774222, 0.6091440281624745), (0.7445134873467777, 0.636430035203093), (0.7934161848161332, 0.6637160422437116), (0.8423188822854888, 0.6910020492843303), (0.8912215797548443, 0.7182880563249489), (0.9401242772241998, 0.7455740633655674), (0.9890269746935554, 0.7728600704061861), (1.0379296721629108, 0.8001460774468047), (1.0868323696322664, 0.8274320844874232), (1.135735067101622, 0.8547180915280419)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.316-0.596', 'vertices': [(0.5, 0.5), (0.46282338559277386, 0.4743918588679921), (0.4256467711855477, 0.44878371773598424), (0.38847015677832153, 0.4231755766039764), (0.35129354237109545, 0.3975674354719685), (0.31411692796386925, 0.37195929433996067), (0.2769403135566431, 0.3463511532079528), (0.23976369914941698, 0.3207430120759449)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.316-0.898', 'vertices': [(0.5, 0.5), (0.5361850238884568, 0.473008860764832), (0.5723700477769135, 0.44601772152966407), (0.6085550716653703, 0.4190265822944961), (0.6447400955538269, 0.39203544305932814), (0.6809251194422837, 0.36504430382416014), (0.7171101433307405, 0.33805316458899215), (0.7532951672191972, 0.3110620253538242)], 'geometry': {'area': 6.505213034913027e-19, 'perimeter': 0.21066666666666672, 'centroid': [0.7171101433307405, 0.33805316458899215], 'bounds': [0.6688634448127981, 0.3110620253538242, 0.7532951672191972, 0.3740413502358828], 'width': 0.08443172240639907, 'height': 0.0629793248820586}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.08443172240639907, 'height': 0.0629793248820586}], geometry={'area': 0.1698957804257793, 'perimeter': 1.8109101077079701, 'centroid': [0.30741887296425535, 0.7379915253929009], 'bounds': [0.0, 0.49820485130609354, 0.6308702465730931, 1.0], 'width': 0.6308702465730931, 'height': 0.5017951486939065}
2025-08-12 06:09:02,156 - DEBUG - [POLYGON CREATION] Attempting to create Polygon with vertices: [(0.2643139936010587, 0.5017490481214053), (1.0, 0.5017490481214053), (0.8755700240709731, 0.3220540638357485), (0.9449976298056261, 0.0), (0.3189328980265527, 1.0), (0.0, 0.958472200182604), (0.2652393660486028, 0.49820485130609354)]
2025-08-12 06:09:02,157 - DEBUG - [POLYGON REPAIR] Final polygon: is_valid=True, is_empty=False, area=0.4473943686605455
2025-08-12 06:09:02,157 - INFO - [_calculate_perimeter] INPUT vertices: [(0.2643139936010587, 0.5017490481214053), (1.0, 0.5017490481214053), (0.8755700240709731, 0.3220540638357485), (0.9449976298056261, 0.0), (0.3189328980265527, 1.0), (0.0, 0.958472200182604), (0.2652393660486028, 0.49820485130609354)]
2025-08-12 06:09:02,157 - INFO - [_calculate_perimeter] OUTPUT perimeter: 3.320032749591309
2025-08-12 06:09:02,158 - INFO - [robust_curvature] INPUT: [(0.2643139936010587, 0.5017490481214053), (1.0, 0.5017490481214053), (0.8755700240709731, 0.3220540638357485), (0.9449976298056261, 0.0), (0.3189328980265527, 1.0), (0.0, 0.958472200182604), (0.2652393660486028, 0.49820485130609354)]
2025-08-12 06:09:02,158 - INFO - [robust_curvature] OUTPUT: 1.9606016740187813
2025-08-12 06:09:02,158 - INFO - Computed angular variance: 0.509984 for 7 vertices.
2025-08-12 06:09:02,160 - INFO - [complexity] Calling calculate_complexity with vertices: [(0.2643139936010587, 0.5017490481214053), (1.0, 0.5017490481214053), (0.8755700240709731, 0.3220540638357485), (0.9449976298056261, 0.0), (0.3189328980265527, 1.0), (0.0, 0.958472200182604), (0.2652393660486028, 0.49820485130609354)]
2025-08-12 06:09:02,161 - INFO - Complexity: n=7, n_norm=0.28, curvature=0.98, irregularity=0.20, result=0.47
2025-08-12 06:09:02,161 - INFO - [complexity] Output for vertices count 7: 0.473678434643966
2025-08-12 06:09:02,161 - INFO - [_calculate_image_features] polsby_popper: 0.1180696298683137
2025-08-12 06:09:02,165 - ERROR - [_calculate_image_features] Exception: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull i Qt
Options selected for Qhull 2020.2.r 2020/08/31:
  run-id 2057891696  incidence  Qtriangulate  _pre-merge  _zero-centrum
  _max-width 0.72  Error-roundoff 6.1e-16  _one-merge 3.1e-15
  _near-inside 1.5e-14  Visible-distance 1.2e-15  U-max-coplanar 1.2e-15
  Width-outside 2.5e-15  _wide-facet 7.4e-15  _maxoutside 3.7e-15

The input to qhull appears to be less than 2 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v3):     0     0
- p5(v2):  0.72  0.34
- p0(v1):     0     0

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 6.1e-16.  The center point, facets and distances
to the center point are as follows:

center point    0.239   0.1127

facet p5 p0 distance= -1.4e-17
facet p1 p0 distance= -0.25
facet p1 p5 distance= -1.4e-17

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:         0    0.7171  difference= 0.7171
  1:         0    0.3381  difference= 0.3381

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 6.1e-16.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.
Traceback (most recent call last):
  File "C:\Users\HP\AI_Projects\BongordSolver\scripts\logo_to_shape.py", line 1314, in _calculate_image_features
    features['nested_convex_hull_levels'] = nested_convex_hull_levels(groups) if groups else 0
                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AI_Projects\BongordSolver\src\Derive_labels\compositional_hierarchical.py", line 69, in nested_convex_hull_levels
    hull = ConvexHull(np.vstack(group))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "scipy/spatial/_qhull.pyx", line 2492, in scipy.spatial._qhull.ConvexHull.__init__
  File "scipy/spatial/_qhull.pyx", line 356, in scipy.spatial._qhull._Qhull.__init__
scipy.spatial._qhull.QhullError: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull i Qt
Options selected for Qhull 2020.2.r 2020/08/31:
  run-id 2057891696  incidence  Qtriangulate  _pre-merge  _zero-centrum
  _max-width 0.72  Error-roundoff 6.1e-16  _one-merge 3.1e-15
  _near-inside 1.5e-14  Visible-distance 1.2e-15  U-max-coplanar 1.2e-15
  Width-outside 2.5e-15  _wide-facet 7.4e-15  _maxoutside 3.7e-15

The input to qhull appears to be less than 2 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v3):     0     0
- p5(v2):  0.72  0.34
- p0(v1):     0     0

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 6.1e-16.  The center point, facets and distances
to the center point are as follows:

center point    0.239   0.1127

facet p5 p0 distance= -1.4e-17
facet p1 p0 distance= -0.25
facet p1 p5 distance= -1.4e-17

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:         0    0.7171  difference= 0.7171
  1:         0    0.3381  difference= 0.3381

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 6.1e-16.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.

2025-08-12 06:09:02,168 - WARNING - [_calculate_image_features] Returning default features due to error.
2025-08-12 06:09:02,168 - DEBUG - [_calculate_composition_features] INPUTS: strokes count=6
2025-08-12 06:09:02,168 - DEBUG - [_calculate_composition_features] OUTPUT: {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'normal': 6}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 7, 'homogeneity_score': 1.0, 'pattern_regularity': 0.16666666666666666}
2025-08-12 06:09:02,170 - INFO - [_calculate_physics_features] INPUT vertices: [(0.2643139936010587, 0.5017490481214053), (1.0, 0.5017490481214053), (0.8755700240709731, 0.3220540638357485), (0.9449976298056261, 0.0), (0.3189328980265527, 1.0), (0.0, 0.958472200182604), (0.2652393660486028, 0.49820485130609354)]
2025-08-12 06:09:02,170 - INFO - [_calculate_physics_features] INPUT centroid: [0.30741887296425535, 0.7379915253929009]
2025-08-12 06:09:02,170 - INFO - [_calculate_physics_features] INPUT strokes: ['line_normal_0.728-0.500', 'line_normal_0.141-0.081', 'line_normal_0.141-0.750', 'line_normal_0.728-0.081', 'line_normal_0.316-0.596', 'line_normal_0.316-0.898']
2025-08-12 06:09:02,171 - INFO - [_calculate_physics_features] polsby_popper: 0.6066530688732191
2025-08-12 06:09:02,173 - INFO - Computed angular variance: 0.509984 for 7 vertices.
2025-08-12 06:09:02,173 - INFO - [_calculate_physics_features] OUTPUT: {'moment_of_inertia': 0.2879208213817111, 'center_of_mass': [0.30741887296425535, 0.7379915253929009], 'polsby_popper_compactness': 0.6066530688732191, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.9606016740187813, 'angular_variance': 0.5099842902074164, 'edge_length_variance': 0.1286425076041296}
2025-08-12 06:09:02,173 - INFO - [calculate_shape_relationships] INPUT: shapes=[{'vertices': [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)]}], buffer_amt=0.001
2025-08-12 06:09:02,174 - DEBUG - [calculate_shape_relationships] Shape 0 vertices: [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)]
2025-08-12 06:09:02,174 - WARNING - calculate_shape_relationships: No valid geometries found.
2025-08-12 06:09:02,174 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal'], n=2
2025-08-12 06:09:02,175 - DEBUG - [ensure_str_list] Converting list: ['normal']
2025-08-12 06:09:02,175 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,175 - DEBUG - [ensure_str_list] Result: ['normal']
2025-08-12 06:09:02,175 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal']
2025-08-12 06:09:02,175 - DEBUG - [_extract_ngram_features] OUTPUT: {}
2025-08-12 06:09:02,177 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:02,177 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal'], n=2
2025-08-12 06:09:02,177 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal']
2025-08-12 06:09:02,178 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,178 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,178 - DEBUG - [ensure_str_list] Result: ['normal', 'normal']
2025-08-12 06:09:02,178 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal']
2025-08-12 06:09:02,179 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 1}
2025-08-12 06:09:02,179 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:02,179 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal'], n=2
2025-08-12 06:09:02,179 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal']
2025-08-12 06:09:02,179 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,180 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,180 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,180 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal']
2025-08-12 06:09:02,181 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal']
2025-08-12 06:09:02,181 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 2}
2025-08-12 06:09:02,181 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:02,181 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:02,182 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,182 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,182 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,183 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,183 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,183 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,183 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,184 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-12 06:09:02,184 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:02,184 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:02,185 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,185 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,185 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,185 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,186 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,186 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,187 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,187 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,187 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 4}
2025-08-12 06:09:02,187 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:02,188 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:02,188 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,188 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,189 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,189 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,189 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,189 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,190 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,190 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,190 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,191 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-12 06:09:02,191 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:02,191 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,191 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,192 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,192 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,192 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,193 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,193 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,193 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,193 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,194 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,194 - DEBUG - [_detect_alternation] OUTPUT: 0.16666666666666666
2025-08-12 06:09:02,194 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:02,194 - INFO - [extract_regularity_features] INPUT: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,194 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,195 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,195 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,195 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,195 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,195 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,195 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,197 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,197 - INFO - [extract_regularity_features] OUTPUT: {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 6}}
2025-08-12 06:09:02,197 - DEBUG - [extract_regularity_features] Output is JSON serializable.
2025-08-12 06:09:02,197 - INFO - [extract_dominant_shape_modifiers] INPUT: {'modifiers': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']}
2025-08-12 06:09:02,197 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,198 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,198 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,198 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,200 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,200 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,200 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,200 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,201 - INFO - [extract_dominant_shape_modifiers] OUTPUT: {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 6}}
2025-08-12 06:09:02,201 - DEBUG - [extract_dominant_shape_modifiers] Output is JSON serializable.
2025-08-12 06:09:02,201 - WARNING - [PATCH] Failed to load canonical summary for image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_4: type object 'FileIO' has no attribute 'load_canonical_features'
2025-08-12 06:09:02,201 - DEBUG - [process_single_image] Passing topo_shape_list to extract_topological_features: [{'vertices': [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)]}]
2025-08-12 06:09:02,212 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image type: <class 'bongard.bongard.BongardImage'> | problem_id=hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:02,213 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image.one_stroke_shapes: [<src.data_pipeline.logo_parser.OneStrokeShape object at 0x000002594A36DF50>]
2025-08-12 06:09:02,213 - INFO - [extract_stroke_features_from_shapes] problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 | num_shapes=1 | total_strokes=6
2025-08-12 06:09:02,213 - INFO - [extract_stroke_features_from_shapes] PATCH: shapes=[<src.data_pipeline.logo_parser.OneStrokeShape object at 0x000002594A36DF50>]
2025-08-12 06:09:02,213 - INFO - [extract_stroke_features_from_shapes] Shape 0 actions: [line_normal_0.728-0.500, line_normal_0.141-0.081, line_normal_0.141-0.750, line_normal_0.728-0.081, line_normal_0.316-0.596, line_normal_0.316-0.898]
2025-08-12 06:09:02,214 - INFO - [extract_stroke_features_from_shapes] Shape 0: [line_normal_0.728-0.500, line_normal_0.141-0.081, line_normal_0.141-0.750, line_normal_0.728-0.081, line_normal_0.316-0.596, line_normal_0.316-0.898], None, None, None
2025-08-12 06:09:02,214 - INFO - [extract_stroke_features_from_shapes] Shape 0 geometry: {'area': 0.1698957804257793, 'perimeter': 1.8109101077079701, 'centroid': [0.30741887296425535, 0.7379915253929009], 'bounds': [0.0, 0.49820485130609354, 0.6308702465730931, 1.0], 'width': 0.6308702465730931, 'height': 0.5017951486939065, 'robust_curvature': 1.9606016740187813, 'robust_angular_variance': 0.5099842902074164, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 2.489888111426258}
2025-08-12 06:09:02,214 - INFO - [extract_stroke_features_from_shapes] Shape 0: num_actions=6 | actions=[line_normal_0.728-0.500, line_normal_0.141-0.081, line_normal_0.141-0.750, line_normal_0.728-0.081, line_normal_0.316-0.596, line_normal_0.316-0.898]
2025-08-12 06:09:02,215 - INFO - [extract_stroke_features_from_shapes] PATCH: Validated/corrected shape_vertices for shape 0: [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313), (0.0, 0.0)]
2025-08-12 06:09:02,215 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=0 | stroke=line_normal_0.728-0.500
2025-08-12 06:09:02,215 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1048.32, 0.0)]
2025-08-12 06:09:02,216 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,216 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,216 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,218 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,218 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,220 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.6510265065317131}
2025-08-12 06:09:02,220 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.6510265065317131, 'is_simple': True}
2025-08-12 06:09:02,220 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 0: {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)], 'open_stroke_perimeter': 3412.7999999999997, 'compactness': 0.6510265065317131, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1048.32, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'line_length': 3412.7999999999997, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:02,221 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=1 | stroke=line_normal_0.141-0.081
2025-08-12 06:09:02,221 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(1048.32, 0.0), (871.0127911753938, -98.93126552727146)]
2025-08-12 06:09:02,221 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,222 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,222 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.728-0.500, line_normal_0.141-0.081, line_normal_0.141-0.750, line_normal_0.728-0.081, line_normal_0.316-0.596, line_normal_0.316-0.898]
2025-08-12 06:09:02,222 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.728-0.500
2025-08-12 06:09:02,223 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,223 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,224 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,224 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,224 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,226 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.6510265065317131}
2025-08-12 06:09:02,227 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.6510265065317131, 'is_simple': True}
2025-08-12 06:09:02,227 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.141-0.081
2025-08-12 06:09:02,227 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,227 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,228 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,228 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=203.03999999999996. Returning 0.0.
2025-08-12 06:09:02,229 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,229 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,229 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,229 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,229 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:02,230 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,230 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,230 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1048.32, 0.0), (871.0127911753938, -98.93126552727146)]
2025-08-12 06:09:02,232 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,232 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,232 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.141-0.750
2025-08-12 06:09:02,232 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,233 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,233 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,233 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=203.03999999999996. Returning 0.0.
2025-08-12 06:09:02,233 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,234 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,234 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,234 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,234 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:02,236 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,236 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,236 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1048.32, 0.0), (871.0127911753938, -98.93126552727146)]
2025-08-12 06:09:02,237 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,237 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,238 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.728-0.081
2025-08-12 06:09:02,239 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,239 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,239 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,240 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=203.03999999999996. Returning 0.0.
2025-08-12 06:09:02,240 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,240 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,240 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,241 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,241 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:02,241 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,241 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,243 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1048.32, 0.0), (871.0127911753938, -98.93126552727146)]
2025-08-12 06:09:02,243 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,243 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,243 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.596
2025-08-12 06:09:02,244 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,244 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,244 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,244 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=203.03999999999996. Returning 0.0.
2025-08-12 06:09:02,246 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,246 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,246 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,246 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,247 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:02,247 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,247 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,247 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1048.32, 0.0), (871.0127911753938, -98.93126552727146)]
2025-08-12 06:09:02,248 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,248 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,249 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.898
2025-08-12 06:09:02,249 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,249 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,250 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,250 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=203.03999999999996. Returning 0.0.
2025-08-12 06:09:02,250 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,251 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,251 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,251 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,252 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:02,252 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,252 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,253 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1048.32, 0.0), (871.0127911753938, -98.93126552727146)]
2025-08-12 06:09:02,253 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,253 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,253 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 06:09:02,255 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 06:09:02,255 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:02,256 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=203.03999999999996. Returning 0.0.
2025-08-12 06:09:02,256 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,256 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,256 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 169.19999999999996, 'var': 5725.727999999998, 'min': 0.0, 'max': 203.03999999999996, 'count': 6}, 'width': {'mean': 147.75600735383847, 'var': 4366.367541829513, 'min': 0.0, 'max': 177.30720882460616, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 82.44272127272622, 'var': 1359.360458170485, 'min': 0.0, 'max': 98.93126552727146, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:02,257 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 169.19999999999996, 'var': 5725.727999999998, 'min': 0.0, 'max': 203.03999999999996, 'count': 6}, 'width': {'mean': 147.75600735383847, 'var': 4366.367541829513, 'min': 0.0, 'max': 177.30720882460616, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 82.44272127272622, 'var': 1359.360458170485, 'min': 0.0, 'max': 98.93126552727146, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:02,257 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:02,257 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,257 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,259 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1048.32, 0.0), (871.0127911753938, -98.93126552727146)]
2025-08-12 06:09:02,259 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,259 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,260 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(1048.32, 0.0), (871.0127911753938, -98.93126552727146)], 'open_stroke_perimeter': 203.03999999999996, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 203.03999999999996, 'avg_stroke_length': 203.03999999999996, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 203.03999999999996, 'var': 0.0, 'min': 203.03999999999996, 'max': 203.03999999999996, 'count': 1}, 'width': {'mean': 177.30720882460616, 'var': 0.0, 'min': 177.30720882460616, 'max': 177.30720882460616, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 98.93126552727146, 'var': 0.0, 'min': 98.93126552727146, 'max': 98.93126552727146, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 203.03999999999996, 'var': 0.0, 'min': 203.03999999999996, 'max': 203.03999999999996, 'count': 1}, 'width': {'mean': 177.30720882460616, 'var': 0.0, 'min': 177.30720882460616, 'max': 177.30720882460616, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 98.93126552727146, 'var': 0.0, 'min': 98.93126552727146, 'max': 98.93126552727146, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 177.30720882460616, 'height': 98.93126552727146, 'area': 0.0, 'perimeter': 203.03999999999996, 'centroid': [959.6663955876968, -49.46563276363573], 'bounds': [871.0127911753938, -98.93126552727146, 1048.32, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 203.03999999999996, 'line_angle': -150.84, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:02,260 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_normal_0.141-0.750
2025-08-12 06:09:02,260 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764)]
2025-08-12 06:09:02,260 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,261 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,261 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.728-0.500, line_normal_0.141-0.081, line_normal_0.141-0.750, line_normal_0.728-0.081, line_normal_0.316-0.596, line_normal_0.316-0.898]
2025-08-12 06:09:02,261 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.728-0.500
2025-08-12 06:09:02,262 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,262 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,263 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,263 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,264 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,266 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.6510265065317131}
2025-08-12 06:09:02,266 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.6510265065317131, 'is_simple': True}
2025-08-12 06:09:02,266 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.141-0.081
2025-08-12 06:09:02,267 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,267 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,267 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,267 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=203.03999999999994. Returning 0.0.
2025-08-12 06:09:02,268 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,268 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,269 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,269 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,270 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:02,270 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,271 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,271 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764)]
2025-08-12 06:09:02,271 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,272 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,272 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.141-0.750
2025-08-12 06:09:02,272 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,272 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,273 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,273 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=203.03999999999994. Returning 0.0.
2025-08-12 06:09:02,273 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,274 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,274 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,275 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,275 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:02,275 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,276 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,276 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764)]
2025-08-12 06:09:02,276 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,276 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,277 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.728-0.081
2025-08-12 06:09:02,277 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,278 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,278 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,278 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=203.03999999999994. Returning 0.0.
2025-08-12 06:09:02,278 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,279 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,279 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,279 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,279 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:02,281 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,281 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,281 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764)]
2025-08-12 06:09:02,282 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,282 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,282 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.596
2025-08-12 06:09:02,282 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,283 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,283 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,283 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=203.03999999999994. Returning 0.0.
2025-08-12 06:09:02,284 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,284 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,284 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,285 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,285 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:02,285 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,286 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,286 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764)]
2025-08-12 06:09:02,286 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,287 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,287 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.898
2025-08-12 06:09:02,287 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,288 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,288 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,288 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=203.03999999999994. Returning 0.0.
2025-08-12 06:09:02,289 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,289 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,289 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,289 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,291 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:02,291 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,291 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,292 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764)]
2025-08-12 06:09:02,292 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,292 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,293 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 06:09:02,293 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 06:09:02,294 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:02,294 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=203.03999999999994. Returning 0.0.
2025-08-12 06:09:02,294 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,295 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,295 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 169.19999999999996, 'var': 5725.727999999996, 'min': 0.0, 'max': 203.03999999999994, 'count': 6}, 'width': {'mean': 82.44272127272619, 'var': 1359.3604581704833, 'min': 0.0, 'max': 98.93126552727142, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 147.75600735383847, 'var': 4366.367541829513, 'min': 0.0, 'max': 177.30720882460616, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:02,295 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 169.19999999999996, 'var': 5725.727999999996, 'min': 0.0, 'max': 203.03999999999994, 'count': 6}, 'width': {'mean': 82.44272127272619, 'var': 1359.3604581704833, 'min': 0.0, 'max': 98.93126552727142, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 147.75600735383847, 'var': 4366.367541829513, 'min': 0.0, 'max': 177.30720882460616, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:02,295 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:02,296 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,296 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,297 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764)]
2025-08-12 06:09:02,297 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,297 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,298 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764)], 'open_stroke_perimeter': 203.03999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 203.03999999999994, 'avg_stroke_length': 203.03999999999994, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 203.03999999999994, 'var': 0.0, 'min': 203.03999999999994, 'max': 203.03999999999994, 'count': 1}, 'width': {'mean': 98.93126552727142, 'var': 0.0, 'min': 98.93126552727142, 'max': 98.93126552727142, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 177.30720882460616, 'var': 0.0, 'min': 177.30720882460616, 'max': 177.30720882460616, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 203.03999999999994, 'var': 0.0, 'min': 203.03999999999994, 'max': 203.03999999999994, 'count': 1}, 'width': {'mean': 98.93126552727142, 'var': 0.0, 'min': 98.93126552727142, 'max': 98.93126552727142, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 177.30720882460616, 'var': 0.0, 'min': 177.30720882460616, 'max': 177.30720882460616, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'geometry': {'width': 98.93126552727142, 'height': 177.30720882460616, 'area': 0.0, 'perimeter': 203.03999999999994, 'centroid': [920.4784239390294, -187.58486993957456], 'bounds': [871.0127911753938, -276.23847435187764, 969.9440567026652, -98.93126552727146], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 203.03999999999994, 'line_angle': -60.84000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:02,298 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_normal_0.728-0.081
2025-08-12 06:09:02,298 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148)]
2025-08-12 06:09:02,298 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,298 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,300 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.728-0.500, line_normal_0.141-0.081, line_normal_0.141-0.750, line_normal_0.728-0.081, line_normal_0.316-0.596, line_normal_0.316-0.898]
2025-08-12 06:09:02,300 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.728-0.500
2025-08-12 06:09:02,300 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,300 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,301 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,301 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,302 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,303 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.6510265065317131}
2025-08-12 06:09:02,303 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.6510265065317131, 'is_simple': True}
2025-08-12 06:09:02,303 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.141-0.081
2025-08-12 06:09:02,304 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,304 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,304 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,304 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1048.32. Returning 0.0.
2025-08-12 06:09:02,305 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,305 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,305 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,306 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,306 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:02,306 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,306 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,307 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148)]
2025-08-12 06:09:02,307 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,307 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,308 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.141-0.750
2025-08-12 06:09:02,308 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,308 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,309 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,309 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1048.32. Returning 0.0.
2025-08-12 06:09:02,309 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,309 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,310 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,310 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,310 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:02,311 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,311 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,311 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148)]
2025-08-12 06:09:02,312 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,312 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,312 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.728-0.081
2025-08-12 06:09:02,312 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,313 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,313 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,313 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1048.32. Returning 0.0.
2025-08-12 06:09:02,313 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,314 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,314 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,314 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,315 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:02,315 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,315 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,316 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148)]
2025-08-12 06:09:02,316 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,317 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,317 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.596
2025-08-12 06:09:02,317 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,317 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,318 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,318 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1048.32. Returning 0.0.
2025-08-12 06:09:02,318 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,319 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,319 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,319 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,320 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:02,321 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,321 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,321 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148)]
2025-08-12 06:09:02,322 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,322 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,322 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.898
2025-08-12 06:09:02,322 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,322 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,323 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,323 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1048.32. Returning 0.0.
2025-08-12 06:09:02,323 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,324 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,324 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,324 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,324 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:02,326 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,326 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,326 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148)]
2025-08-12 06:09:02,327 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,327 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,327 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 06:09:02,327 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 06:09:02,328 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:02,328 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1048.32. Returning 0.0.
2025-08-12 06:09:02,328 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,329 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,329 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 873.5999999999999, 'var': 152635.39199999996, 'min': 0.0, 'max': 1048.32, 'count': 6}, 'width': {'mean': 743.4287792958427, 'var': 110537.26997706141, 'min': 0.0, 'max': 892.1145351550113, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 458.79255673418805, 'var': 42098.12202293863, 'min': 0.0, 'max': 550.5510680810256, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:02,329 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 873.5999999999999, 'var': 152635.39199999996, 'min': 0.0, 'max': 1048.32, 'count': 6}, 'width': {'mean': 743.4287792958427, 'var': 110537.26997706141, 'min': 0.0, 'max': 892.1145351550113, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 458.79255673418805, 'var': 42098.12202293863, 'min': 0.0, 'max': 550.5510680810256, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:02,330 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:02,330 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,330 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,330 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148)]
2025-08-12 06:09:02,332 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,332 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,332 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148)], 'open_stroke_perimeter': 1048.32, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1048.32, 'avg_stroke_length': 1048.32, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 1048.32, 'var': 0.0, 'min': 1048.32, 'max': 1048.32, 'count': 1}, 'width': {'mean': 892.1145351550113, 'var': 0.0, 'min': 892.1145351550113, 'max': 892.1145351550113, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 550.5510680810256, 'var': 0.0, 'min': 550.5510680810256, 'max': 550.5510680810256, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 1048.32, 'var': 0.0, 'min': 1048.32, 'max': 1048.32, 'count': 1}, 'width': {'mean': 892.1145351550113, 'var': 0.0, 'min': 892.1145351550113, 'max': 892.1145351550113, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 550.5510680810256, 'var': 0.0, 'min': 550.5510680810256, 'max': 550.5510680810256, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'geometry': {'width': 892.1145351550113, 'height': 550.5510680810256, 'area': 0.0, 'perimeter': 1048.32, 'centroid': [523.8867891251596, -0.9629403113648323], 'bounds': [77.82952154765394, -276.23847435187764, 969.9440567026652, 274.312593729148], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1048.32, 'line_angle': 148.32, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:02,332 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=4 | stroke=line_normal_0.316-0.596
2025-08-12 06:09:02,333 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558)]
2025-08-12 06:09:02,333 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,333 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,333 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.728-0.500, line_normal_0.141-0.081, line_normal_0.141-0.750, line_normal_0.728-0.081, line_normal_0.316-0.596, line_normal_0.316-0.898]
2025-08-12 06:09:02,334 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.728-0.500
2025-08-12 06:09:02,334 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,334 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,335 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,335 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,335 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,336 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.6510265065317131}
2025-08-12 06:09:02,338 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.6510265065317131, 'is_simple': True}
2025-08-12 06:09:02,338 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.141-0.081
2025-08-12 06:09:02,338 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,339 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,339 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,339 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=455.04. Returning 0.0.
2025-08-12 06:09:02,340 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,340 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,340 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,341 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,341 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:02,341 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,341 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,341 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558)]
2025-08-12 06:09:02,342 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,342 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,342 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.141-0.750
2025-08-12 06:09:02,343 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,343 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,343 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,343 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=455.04. Returning 0.0.
2025-08-12 06:09:02,344 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,344 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,344 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,345 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,345 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:02,345 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,346 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,346 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558)]
2025-08-12 06:09:02,346 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,346 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,347 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.728-0.081
2025-08-12 06:09:02,347 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,347 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,347 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,348 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=455.04. Returning 0.0.
2025-08-12 06:09:02,348 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,348 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,349 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,349 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,349 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:02,349 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,349 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,350 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558)]
2025-08-12 06:09:02,351 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,351 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,351 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.596
2025-08-12 06:09:02,351 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,352 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,352 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,352 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=455.04. Returning 0.0.
2025-08-12 06:09:02,353 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,353 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,353 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,353 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,354 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:02,354 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,354 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,354 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558)]
2025-08-12 06:09:02,355 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,355 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,355 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.898
2025-08-12 06:09:02,356 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,356 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,356 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,356 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=455.04. Returning 0.0.
2025-08-12 06:09:02,357 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,357 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,357 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,359 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,359 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:02,359 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,359 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,360 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558)]
2025-08-12 06:09:02,360 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,360 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,360 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 06:09:02,360 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 06:09:02,361 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:02,361 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=455.04. Returning 0.0.
2025-08-12 06:09:02,361 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,362 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,362 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 379.20000000000005, 'var': 28758.527999999995, 'min': 0.0, 'max': 455.04, 'count': 6}, 'width': {'mean': 378.72105394500187, 'var': 28685.927340242608, 'min': 0.0, 'max': 454.46526473400223, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 19.052645453768662, 'var': 72.60065975740235, 'min': 0.0, 'max': 22.863174544522394, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:02,362 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 379.20000000000005, 'var': 28758.527999999995, 'min': 0.0, 'max': 455.04, 'count': 6}, 'width': {'mean': 378.72105394500187, 'var': 28685.927340242608, 'min': 0.0, 'max': 454.46526473400223, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 19.052645453768662, 'var': 72.60065975740235, 'min': 0.0, 'max': 22.863174544522394, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:02,362 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:02,363 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,363 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,363 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558)]
2025-08-12 06:09:02,364 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,364 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,364 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 4: {'stroke_index': 4, 'analytic_vertices': [(77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558)], 'open_stroke_perimeter': 455.04, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 455.04, 'avg_stroke_length': 455.04, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 455.04, 'var': 0.0, 'min': 455.04, 'max': 455.04, 'count': 1}, 'width': {'mean': 454.46526473400223, 'var': 0.0, 'min': 454.46526473400223, 'max': 454.46526473400223, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 22.863174544522394, 'var': 0.0, 'min': 22.863174544522394, 'max': 22.863174544522394, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 455.04, 'var': 0.0, 'min': 455.04, 'max': 455.04, 'count': 1}, 'width': {'mean': 454.46526473400223, 'var': 0.0, 'min': 454.46526473400223, 'max': 454.46526473400223, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 22.863174544522394, 'var': 0.0, 'min': 22.863174544522394, 'max': 22.863174544522394, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'geometry': {'width': 454.46526473400223, 'height': 22.863174544522394, 'area': 0.0, 'perimeter': 455.04, 'centroid': [-149.40311081934718, 262.8810064568868], 'bounds': [-376.6357431863483, 251.44941918462558, 77.82952154765394, 274.312593729148], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 455.04, 'line_angle': -177.12, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:02,364 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=5 | stroke=line_normal_0.316-0.898
2025-08-12 06:09:02,364 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313), (0.0, 0.0)]
2025-08-12 06:09:02,366 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,366 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,366 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:02,367 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,367 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,367 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.0033064143755231106}
2025-08-12 06:09:02,368 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.0033064143755231106, 'is_simple': True}
2025-08-12 06:09:02,368 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 5: {'stroke_index': 5, 'analytic_vertices': [(-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313), (0.0, 0.0)], 'open_stroke_perimeter': 457.39502988797074, 'compactness': 0.0033064143755231106, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 457.39502988797074, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'line_length': 457.39502988797074, 'line_angle': -33.839999999999975, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:02,368 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=6
2025-08-12 06:09:02,369 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['line_is_long', 'line_angle', 'avg_stroke_length', 'visual_complexity', 'line_is_vertical', 'line_is_short', 'is_normal', 'line_curvature_score', 'is_geometric', 'convexity_ratio', 'compactness', 'stroke_index', 'open_stroke_perimeter', 'arc_curvature_score', 'robust_curvature', 'robust_angular_variance', 'degenerate_case', 'is_simple', 'line_length', 'stroke_length', 'geom_complexity', 'geometric_complexity', 'line_is_horizontal', 'num_vertices', 'is_pattern']
2025-08-12 06:09:02,370 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (6) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-12 06:09:02,370 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=6
2025-08-12 06:09:02,370 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 6
2025-08-12 06:09:02,371 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 6, 'num_arcs': 0, 'line_ratio': 1.0, 'arc_ratio': 0.0, 'stroke_diversity': 0}, 'line_aggregate': {'total_line_length': 5779.635029887971, 'avg_line_length': 963.2725049813284, 'line_length_variance': 1279589.541241366, 'line_angle_variance': 11404.6272, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'diagonal-down'}}
2025-08-12 06:09:02,371 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_normal_0.728-0.500,line_normal_0.141-0.081,line_normal_0.141-0.750,line_normal_0.728-0.081,line_normal_0.316-0.596,line_normal_0.316-0.898
2025-08-12 06:09:02,372 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_normal_0.728-0.500', 'line_normal_0.141-0.081', 'line_normal_0.141-0.750', 'line_normal_0.728-0.081', 'line_normal_0.316-0.596', 'line_normal_0.316-0.898']]
2025-08-12 06:09:02,372 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.728-0.500', 'line_normal_0.141-0.081', 'line_normal_0.141-0.750', 'line_normal_0.728-0.081', 'line_normal_0.316-0.596', 'line_normal_0.316-0.898']
2025-08-12 06:09:02,372 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.728-0.500', 'line_normal_0.141-0.081', 'line_normal_0.141-0.750', 'line_normal_0.728-0.081', 'line_normal_0.316-0.596', 'line_normal_0.316-0.898']
2025-08-12 06:09:02,373 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_normal_0.728-0.500', 'line_normal_0.141-0.081', 'line_normal_0.141-0.750', 'line_normal_0.728-0.081', 'line_normal_0.316-0.596', 'line_normal_0.316-0.898']]
2025-08-12 06:09:02,373 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.728-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)], 'open_stroke_perimeter': 3412.7999999999997, 'compactness': 0.6510265065317131, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1048.32, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3412.7999999999997, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.141-0.081', 'features': {'stroke_index': 1, 'analytic_vertices': [(1048.32, 0.0), (871.0127911753938, -98.93126552727146)], 'open_stroke_perimeter': 203.03999999999996, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 203.03999999999996, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 177.30720882460616, 'height': 98.93126552727146, 'area': 0.0, 'perimeter': 203.03999999999996, 'centroid': [959.6663955876968, -49.46563276363573], 'bounds': [871.0127911753938, -98.93126552727146, 1048.32, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 203.03999999999996, 'line_angle': -150.84, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.141-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764)], 'open_stroke_perimeter': 203.03999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 203.03999999999994, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 98.93126552727142, 'height': 177.30720882460616, 'area': 0.0, 'perimeter': 203.03999999999994, 'centroid': [920.4784239390294, -187.58486993957456], 'bounds': [871.0127911753938, -276.23847435187764, 969.9440567026652, -98.93126552727146], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 203.03999999999994, 'line_angle': -60.84000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.728-0.081', 'features': {'stroke_index': 3, 'analytic_vertices': [(969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148)], 'open_stroke_perimeter': 1048.32, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1048.32, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 892.1145351550113, 'height': 550.5510680810256, 'area': 0.0, 'perimeter': 1048.32, 'centroid': [523.8867891251596, -0.9629403113648323], 'bounds': [77.82952154765394, -276.23847435187764, 969.9440567026652, 274.312593729148], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1048.32, 'line_angle': 148.32, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.316-0.596', 'features': {'stroke_index': 4, 'analytic_vertices': [(77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558)], 'open_stroke_perimeter': 455.04, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 455.04, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 454.46526473400223, 'height': 22.863174544522394, 'area': 0.0, 'perimeter': 455.04, 'centroid': [-149.40311081934718, 262.8810064568868], 'bounds': [-376.6357431863483, 251.44941918462558, 77.82952154765394, 274.312593729148], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 455.04, 'line_angle': -177.12, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.316-0.898', 'features': {'stroke_index': 5, 'analytic_vertices': [(-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313), (0.0, 0.0)], 'open_stroke_perimeter': 457.39502988797074, 'compactness': 0.0033064143755231106, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 457.39502988797074, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 457.39502988797074, 'line_angle': -33.839999999999975, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:02,373 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:02,374 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:02,374 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-12 06:09:02,374 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-12 06:09:02,374 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.5241505587932591, 0.5403184587953225], 'orientation_degrees': 140.6982668355454}, geometry={'area': 0.1698957804257793, 'perimeter': 1.8109101077079701, 'centroid': [0.30741887296425535, 0.7379915253929009], 'bounds': [0.0, 0.49820485130609354, 0.6308702465730931, 1.0], 'width': 0.6308702465730931, 'height': 0.5017951486939065}
2025-08-12 06:09:02,375 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_normal_0.728-0.500', 'line_normal_0.141-0.081', 'line_normal_0.141-0.750', 'line_normal_0.728-0.081', 'line_normal_0.316-0.596', 'line_normal_0.316-0.898']
2025-08-12 06:09:02,375 - DEBUG - [PATCH][actions field] Joined: line_normal_0.728-0.500,line_normal_0.141-0.081,line_normal_0.141-0.750,line_normal_0.728-0.081,line_normal_0.316-0.596,line_normal_0.316-0.898
2025-08-12 06:09:02,375 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.728-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)], 'open_stroke_perimeter': 3412.7999999999997, 'compactness': 0.6510265065317131, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1048.32, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3412.7999999999997, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.141-0.081', 'features': {'stroke_index': 1, 'analytic_vertices': [(1048.32, 0.0), (871.0127911753938, -98.93126552727146)], 'open_stroke_perimeter': 203.03999999999996, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 203.03999999999996, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 177.30720882460616, 'height': 98.93126552727146, 'area': 0.0, 'perimeter': 203.03999999999996, 'centroid': [959.6663955876968, -49.46563276363573], 'bounds': [871.0127911753938, -98.93126552727146, 1048.32, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 203.03999999999996, 'line_angle': -150.84, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.141-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764)], 'open_stroke_perimeter': 203.03999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 203.03999999999994, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 98.93126552727142, 'height': 177.30720882460616, 'area': 0.0, 'perimeter': 203.03999999999994, 'centroid': [920.4784239390294, -187.58486993957456], 'bounds': [871.0127911753938, -276.23847435187764, 969.9440567026652, -98.93126552727146], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 203.03999999999994, 'line_angle': -60.84000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.728-0.081', 'features': {'stroke_index': 3, 'analytic_vertices': [(969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148)], 'open_stroke_perimeter': 1048.32, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1048.32, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 892.1145351550113, 'height': 550.5510680810256, 'area': 0.0, 'perimeter': 1048.32, 'centroid': [523.8867891251596, -0.9629403113648323], 'bounds': [77.82952154765394, -276.23847435187764, 969.9440567026652, 274.312593729148], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1048.32, 'line_angle': 148.32, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.316-0.596', 'features': {'stroke_index': 4, 'analytic_vertices': [(77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558)], 'open_stroke_perimeter': 455.04, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 455.04, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 454.46526473400223, 'height': 22.863174544522394, 'area': 0.0, 'perimeter': 455.04, 'centroid': [-149.40311081934718, 262.8810064568868], 'bounds': [-376.6357431863483, 251.44941918462558, 77.82952154765394, 274.312593729148], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 455.04, 'line_angle': -177.12, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.316-0.898', 'features': {'stroke_index': 5, 'analytic_vertices': [(-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313), (0.0, 0.0)], 'open_stroke_perimeter': 457.39502988797074, 'compactness': 0.0033064143755231106, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 457.39502988797074, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 457.39502988797074, 'line_angle': -33.839999999999975, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:02,376 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)]
2025-08-12 06:09:02,376 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(0.2643139936010587, 0.5017490481214053), (1.0, 0.5017490481214053), (0.8755700240709731, 0.3220540638357485), (0.9449976298056261, 0.0), (0.3189328980265527, 1.0), (0.0, 0.958472200182604), (0.2652393660486028, 0.49820485130609354)]
2025-08-12 06:09:02,376 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_normal_0.728-0.500', 'line_normal_0.141-0.081', 'line_normal_0.141-0.750', 'line_normal_0.728-0.081', 'line_normal_0.316-0.596', 'line_normal_0.316-0.898']]
2025-08-12 06:09:02,377 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:02,377 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:02,377 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|normal': 5}
2025-08-12 06:09:02,378 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)], 'open_stroke_perimeter': 3412.7999999999997, 'compactness': 0.6510265065317131, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1048.32, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3412.7999999999997, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(1048.32, 0.0), (871.0127911753938, -98.93126552727146)], 'open_stroke_perimeter': 203.03999999999996, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 203.03999999999996, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 177.30720882460616, 'height': 98.93126552727146, 'area': 0.0, 'perimeter': 203.03999999999996, 'centroid': [959.6663955876968, -49.46563276363573], 'bounds': [871.0127911753938, -98.93126552727146, 1048.32, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 203.03999999999996, 'line_angle': -150.84, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764)], 'open_stroke_perimeter': 203.03999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 203.03999999999994, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 98.93126552727142, 'height': 177.30720882460616, 'area': 0.0, 'perimeter': 203.03999999999994, 'centroid': [920.4784239390294, -187.58486993957456], 'bounds': [871.0127911753938, -276.23847435187764, 969.9440567026652, -98.93126552727146], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 203.03999999999994, 'line_angle': -60.84000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148)], 'open_stroke_perimeter': 1048.32, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1048.32, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 892.1145351550113, 'height': 550.5510680810256, 'area': 0.0, 'perimeter': 1048.32, 'centroid': [523.8867891251596, -0.9629403113648323], 'bounds': [77.82952154765394, -276.23847435187764, 969.9440567026652, 274.312593729148], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1048.32, 'line_angle': 148.32, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558)], 'open_stroke_perimeter': 455.04, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 455.04, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 454.46526473400223, 'height': 22.863174544522394, 'area': 0.0, 'perimeter': 455.04, 'centroid': [-149.40311081934718, 262.8810064568868], 'bounds': [-376.6357431863483, 251.44941918462558, 77.82952154765394, 274.312593729148], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 455.04, 'line_angle': -177.12, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313), (0.0, 0.0)], 'open_stroke_perimeter': 457.39502988797074, 'compactness': 0.0033064143755231106, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 457.39502988797074, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 457.39502988797074, 'line_angle': -33.839999999999975, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 06:09:02,378 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-12 06:09:02,378 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': {'x': 0, 'y': 0, 'width': 0, 'height': 0}, 'centroid': [0.0, 0.0], 'width': 0.0, 'height': 0.0, 'area_raw': 0.0, 'area_normalized': 0.0, 'perimeter_raw': 0.0, 'perimeter_normalized': 0.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.0, 'is_convex': False, 'compactness': 0.0, 'polsby_popper_compactness': 0.0, 'eccentricity': 0.0, 'symmetry_score': 0.0, 'horizontal_symmetry': 0.0, 'vertical_symmetry': 0.0, 'rotational_symmetry': 0.0, 'has_quadrangle': False, 'geometric_complexity': 0.0, 'visual_complexity': 0.0, 'curvature_score': 0.0, 'angular_variance': 0.0, 'moment_of_inertia': 0.0, 'irregularity_score': 0.0, 'standardized_complexity': 0.0}
2025-08-12 06:09:02,379 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:02,379 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-12 06:09:02,379 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-12 06:09:02,379 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.728-0.500, stroke_index=0
2025-08-12 06:09:02,379 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.728, param2=None, param3=0.5
2025-08-12 06:09:02,380 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.444, 0.5), (0.388, 0.5), (0.33199999999999996, 0.5), (0.276, 0.5), (0.21999999999999997, 0.5), (0.16399999999999998, 0.5), (0.10799999999999998, 0.5000000000000001), (0.05199999999999999, 0.5000000000000001), (-0.0040000000000000036, 0.5000000000000001), (-0.06000000000000005, 0.5000000000000001), (-0.11599999999999999, 0.5000000000000001), (-0.17200000000000004, 0.5000000000000001), (-0.22799999999999998, 0.5000000000000001)]
2025-08-12 06:09:02,380 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,382 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,382 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:02,382 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,382 - INFO - Computed angular variance: 1.208523 for 14 vertices.
2025-08-12 06:09:02,383 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,383 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,383 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,384 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,384 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,385 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (-0.22799999999999998, 0.5000000000000001)]
2025-08-12 06:09:02,385 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (-0.22799999999999998, 0.5000000000000001)]
2025-08-12 06:09:02,385 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,385 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,387 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.141-0.081, stroke_index=0
2025-08-12 06:09:02,387 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.141, param2=None, param3=0.081
2025-08-12 06:09:02,387 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5175900008754569, 0.5098146096753245), (0.535180001750914, 0.5196292193506491), (0.5527700026263709, 0.5294438290259736), (0.5703600035018278, 0.5392584387012982), (0.5879500043772847, 0.5490730483766227), (0.6055400052527418, 0.5588876580519473), (0.6231300061281987, 0.5687022677272718)]
2025-08-12 06:09:02,387 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,388 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,388 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:02,389 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,389 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,389 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,390 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,390 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,390 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,391 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,391 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:02,391 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:02,392 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,392 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,392 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.141-0.750, stroke_index=0
2025-08-12 06:09:02,392 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.141, param2=None, param3=0.75
2025-08-12 06:09:02,393 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.47985714285714287), (0.5, 0.4597142857142857), (0.5, 0.43957142857142856), (0.5, 0.41942857142857143), (0.5, 0.39928571428571424), (0.5, 0.3791428571428571), (0.5, 0.359)]
2025-08-12 06:09:02,393 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,394 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,394 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:02,395 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,395 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,395 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,396 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,396 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,396 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,397 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,397 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.5, 0.359)]
2025-08-12 06:09:02,397 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.5, 0.359)]
2025-08-12 06:09:02,398 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,398 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,398 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.728-0.081, stroke_index=0
2025-08-12 06:09:02,399 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.728, param2=None, param3=0.081
2025-08-12 06:09:02,399 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5489026974693555, 0.5272860070406186), (0.5978053949387111, 0.5545720140812372), (0.6467080924080666, 0.5818580211218558), (0.6956107898774222, 0.6091440281624745), (0.7445134873467777, 0.636430035203093), (0.7934161848161332, 0.6637160422437116), (0.8423188822854888, 0.6910020492843303), (0.8912215797548443, 0.7182880563249489), (0.9401242772241998, 0.7455740633655674), (0.9890269746935554, 0.7728600704061861), (1.0379296721629108, 0.8001460774468047), (1.0868323696322664, 0.8274320844874232), (1.135735067101622, 0.8547180915280419)]
2025-08-12 06:09:02,399 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,400 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,400 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:02,401 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,401 - INFO - Computed angular variance: 1.208523 for 14 vertices.
2025-08-12 06:09:02,402 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,402 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,402 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,402 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,402 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,404 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:02,404 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:02,405 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,405 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,405 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.316-0.596, stroke_index=0
2025-08-12 06:09:02,406 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.316, param2=None, param3=0.596
2025-08-12 06:09:02,406 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.46282338559277386, 0.4743918588679921), (0.4256467711855477, 0.44878371773598424), (0.38847015677832153, 0.4231755766039764), (0.35129354237109545, 0.3975674354719685), (0.31411692796386925, 0.37195929433996067), (0.2769403135566431, 0.3463511532079528), (0.23976369914941698, 0.3207430120759449)]
2025-08-12 06:09:02,406 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,407 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,407 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:02,408 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,408 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,408 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,409 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,409 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,410 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,410 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,410 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:02,411 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:02,411 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,411 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,411 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.316-0.898, stroke_index=0
2025-08-12 06:09:02,411 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.316, param2=None, param3=0.898
2025-08-12 06:09:02,413 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5361850238884568, 0.473008860764832), (0.5723700477769135, 0.44601772152966407), (0.6085550716653703, 0.4190265822944961), (0.6447400955538269, 0.39203544305932814), (0.6809251194422837, 0.36504430382416014), (0.7171101433307405, 0.33805316458899215), (0.7532951672191972, 0.3110620253538242)]
2025-08-12 06:09:02,413 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,414 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,415 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,415 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,415 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,415 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,416 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,416 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,417 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:02,417 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:02,418 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,418 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,418 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:02,418 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,418 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,419 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,419 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,419 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,419 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,419 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,420 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,420 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,420 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-12 06:09:02,420 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:02,421 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_pos_4', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'positive', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_1/4.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.728-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)], 'open_stroke_perimeter': 3412.7999999999997, 'compactness': 0.6510265065317131, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1048.32, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3412.7999999999997, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.141-0.081', 'features': {'stroke_index': 1, 'analytic_vertices': [(1048.32, 0.0), (871.0127911753938, -98.93126552727146)], 'open_stroke_perimeter': 203.03999999999996, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 203.03999999999996, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 177.30720882460616, 'height': 98.93126552727146, 'area': 0.0, 'perimeter': 203.03999999999996, 'centroid': [959.6663955876968, -49.46563276363573], 'bounds': [871.0127911753938, -98.93126552727146, 1048.32, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 203.03999999999996, 'line_angle': -150.84, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.141-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764)], 'open_stroke_perimeter': 203.03999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 203.03999999999994, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 98.93126552727142, 'height': 177.30720882460616, 'area': 0.0, 'perimeter': 203.03999999999994, 'centroid': [920.4784239390294, -187.58486993957456], 'bounds': [871.0127911753938, -276.23847435187764, 969.9440567026652, -98.93126552727146], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 203.03999999999994, 'line_angle': -60.84000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.728-0.081', 'features': {'stroke_index': 3, 'analytic_vertices': [(969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148)], 'open_stroke_perimeter': 1048.32, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1048.32, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 892.1145351550113, 'height': 550.5510680810256, 'area': 0.0, 'perimeter': 1048.32, 'centroid': [523.8867891251596, -0.9629403113648323], 'bounds': [77.82952154765394, -276.23847435187764, 969.9440567026652, 274.312593729148], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1048.32, 'line_angle': 148.32, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.316-0.596', 'features': {'stroke_index': 4, 'analytic_vertices': [(77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558)], 'open_stroke_perimeter': 455.04, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 455.04, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 454.46526473400223, 'height': 22.863174544522394, 'area': 0.0, 'perimeter': 455.04, 'centroid': [-149.40311081934718, 262.8810064568868], 'bounds': [-376.6357431863483, 251.44941918462558, 77.82952154765394, 274.312593729148], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 455.04, 'line_angle': -177.12, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.316-0.898', 'features': {'stroke_index': 5, 'analytic_vertices': [(-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313), (0.0, 0.0)], 'open_stroke_perimeter': 457.39502988797074, 'compactness': 0.0033064143755231106, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 457.39502988797074, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 457.39502988797074, 'line_angle': -33.839999999999975, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 6, 'raw_vertices': ['(0.0, 0.0)', '(1048.32, 0.0)', '(871.0127911753938, -98.93126552727146)', '(969.9440567026652, -276.23847435187764)', '(77.82952154765394, 274.312593729148)', '(-376.6357431863483, 251.44941918462558)', '(1.318614783714395, -1.951261342159313)'], 'vertices': ['(0.2643139936010587, 0.5017490481214053)', '(1.0, 0.5017490481214053)', '(0.8755700240709731, 0.3220540638357485)', '(0.9449976298056261, 0.0)', '(0.3189328980265527, 1.0)', '(0.0, 0.958472200182604)', '(0.2652393660486028, 0.49820485130609354)'], 'num_vertices': 7, 'position_label': ['0.5241505587932591', '0.5403184587953225'], 'rotation_label_degrees': ['140.6982668355454'], 'image_features': {'bounding_box': {'x': 0, 'y': 0, 'width': 0, 'height': 0}, 'centroid': [0.0, 0.0], 'width': 0.0, 'height': 0.0, 'area_raw': 0.0, 'area_normalized': 0.0, 'perimeter_raw': 0.0, 'perimeter_normalized': 0.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.0, 'is_convex': False, 'compactness': 0.0, 'polsby_popper_compactness': 0.0, 'eccentricity': 0.0, 'symmetry_score': 0.0, 'horizontal_symmetry': 0.0, 'vertical_symmetry': 0.0, 'rotational_symmetry': 0.0, 'has_quadrangle': False, 'geometric_complexity': 0.0, 'visual_complexity': 0.0, 'curvature_score': 0.0, 'angular_variance': 0.0, 'moment_of_inertia': 0.0, 'irregularity_score': 0.0, 'standardized_complexity': 0.0}, 'image_level_features': {'area_mean': 1.0842021724855044e-19, 'perimeter_mean': 0.03511111111111112, 'width_mean': 0.014071953734399845, 'height_mean': 0.010496554147009765, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.2879208213817111, 'center_of_mass': [0.30741887296425535, 0.7379915253929009], 'polsby_popper_compactness': 0.6066530688732191, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.9606016740187813, 'angular_variance': 0.5099842902074164, 'edge_length_variance': 0.1286425076041296}, 'composition_features': {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'normal': 6}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 7, 'homogeneity_score': 1.0, 'pattern_regularity': 0.16666666666666666}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)], 'open_stroke_perimeter': 3412.7999999999997, 'compactness': 0.6510265065317131, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1048.32, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3412.7999999999997, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(1048.32, 0.0), (871.0127911753938, -98.93126552727146)], 'open_stroke_perimeter': 203.03999999999996, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 203.03999999999996, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 177.30720882460616, 'height': 98.93126552727146, 'area': 0.0, 'perimeter': 203.03999999999996, 'centroid': [959.6663955876968, -49.46563276363573], 'bounds': [871.0127911753938, -98.93126552727146, 1048.32, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 203.03999999999996, 'line_angle': -150.84, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764)], 'open_stroke_perimeter': 203.03999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 203.03999999999994, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 98.93126552727142, 'height': 177.30720882460616, 'area': 0.0, 'perimeter': 203.03999999999994, 'centroid': [920.4784239390294, -187.58486993957456], 'bounds': [871.0127911753938, -276.23847435187764, 969.9440567026652, -98.93126552727146], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 203.03999999999994, 'line_angle': -60.84000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148)], 'open_stroke_perimeter': 1048.32, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1048.32, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 892.1145351550113, 'height': 550.5510680810256, 'area': 0.0, 'perimeter': 1048.32, 'centroid': [523.8867891251596, -0.9629403113648323], 'bounds': [77.82952154765394, -276.23847435187764, 969.9440567026652, 274.312593729148], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1048.32, 'line_angle': 148.32, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558)], 'open_stroke_perimeter': 455.04, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 455.04, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 454.46526473400223, 'height': 22.863174544522394, 'area': 0.0, 'perimeter': 455.04, 'centroid': [-149.40311081934718, 262.8810064568868], 'bounds': [-376.6357431863483, 251.44941918462558, 77.82952154765394, 274.312593729148], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 455.04, 'line_angle': -177.12, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313), (0.0, 0.0)], 'open_stroke_perimeter': 457.39502988797074, 'compactness': 0.0033064143755231106, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 457.39502988797074, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 457.39502988797074, 'line_angle': -33.839999999999975, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 6}}, 'processing_metadata': {'processing_timestamp': 1754959142.4218454, 'feature_count': 45}, 'actions': ['line_normal_0.728-0.500,line_normal_0.141-0.081,line_normal_0.141-0.750,line_normal_0.728-0.081,line_normal_0.316-0.596,line_normal_0.316-0.898'], 'action_program': ['line_normal_0.728-0.500,line_normal_0.141-0.081,line_normal_0.141-0.750,line_normal_0.728-0.081,line_normal_0.316-0.596,line_normal_0.316-0.898'], 'geometry': {'area': 0.1698957804257793, 'perimeter': 1.8109101077079701, 'centroid': [0.30741887296425535, 0.7379915253929009], 'bounds': [0.0, 0.49820485130609354, 0.6308702465730931, 1.0], 'width': 0.6308702465730931, 'height': 0.5017951486939065}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 5}, 'analytic_attributes': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], 'analytic_ngram': {'normal|normal': 5}, 'alternation': 0.16666666666666666, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 6}}}, 'topological_features': {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 5, 1: 5, 2: 5, 3: 5, 4: 5, 5: 5}, 'adjacency_clustering': {0: 1.0, 1: 1.0, 2: 1.0, 3: 1.0, 4: 1.0, 5: 1.0}, 'intersection_count': 15, 'betweenness_centrality': {0: 0.0, 1: 0.0, 2: 0.0, 3: 0.0, 4: 0.0, 5: 0.0}, 'containment_score': 0, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 3212.4471037032204, 'skeleton_graph_features': {'num_nodes': 6, 'num_edges': 15}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.5099842902074164, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.5481624816730875, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.6628614494318092, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 1.0051030390659321, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 1.1160952627731218, 'complexity': 1, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}}
2025-08-12 06:09:02,421 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.5241505587932591, 0.5403184587953225], 'orientation_degrees': 140.6982668355454}
2025-08-12 06:09:02,422 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.1698957804257793, 'perimeter': 1.8109101077079701, 'centroid': [0.30741887296425535, 0.7379915253929009], 'bounds': [0.0, 0.49820485130609354, 0.6308702465730931, 1.0], 'width': 0.6308702465730931, 'height': 0.5017951486939065}
2025-08-12 06:09:02,422 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.728-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)], 'open_stroke_perimeter': 3412.7999999999997, 'compactness': 0.6510265065317131, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1048.32, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3412.7999999999997, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.141-0.081', 'features': {'stroke_index': 1, 'analytic_vertices': [(1048.32, 0.0), (871.0127911753938, -98.93126552727146)], 'open_stroke_perimeter': 203.03999999999996, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 203.03999999999996, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 177.30720882460616, 'height': 98.93126552727146, 'area': 0.0, 'perimeter': 203.03999999999996, 'centroid': [959.6663955876968, -49.46563276363573], 'bounds': [871.0127911753938, -98.93126552727146, 1048.32, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 203.03999999999996, 'line_angle': -150.84, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.141-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764)], 'open_stroke_perimeter': 203.03999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 203.03999999999994, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 98.93126552727142, 'height': 177.30720882460616, 'area': 0.0, 'perimeter': 203.03999999999994, 'centroid': [920.4784239390294, -187.58486993957456], 'bounds': [871.0127911753938, -276.23847435187764, 969.9440567026652, -98.93126552727146], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 203.03999999999994, 'line_angle': -60.84000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.728-0.081', 'features': {'stroke_index': 3, 'analytic_vertices': [(969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148)], 'open_stroke_perimeter': 1048.32, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1048.32, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 892.1145351550113, 'height': 550.5510680810256, 'area': 0.0, 'perimeter': 1048.32, 'centroid': [523.8867891251596, -0.9629403113648323], 'bounds': [77.82952154765394, -276.23847435187764, 969.9440567026652, 274.312593729148], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1048.32, 'line_angle': 148.32, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.316-0.596', 'features': {'stroke_index': 4, 'analytic_vertices': [(77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558)], 'open_stroke_perimeter': 455.04, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 455.04, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 454.46526473400223, 'height': 22.863174544522394, 'area': 0.0, 'perimeter': 455.04, 'centroid': [-149.40311081934718, 262.8810064568868], 'bounds': [-376.6357431863483, 251.44941918462558, 77.82952154765394, 274.312593729148], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 455.04, 'line_angle': -177.12, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.316-0.898', 'features': {'stroke_index': 5, 'analytic_vertices': [(-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313), (0.0, 0.0)], 'open_stroke_perimeter': 457.39502988797074, 'compactness': 0.0033064143755231106, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 457.39502988797074, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 457.39502988797074, 'line_angle': -33.839999999999975, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:02,422 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_normal_0.728-0.500', 'line_normal_0.141-0.081', 'line_normal_0.141-0.750', 'line_normal_0.728-0.081', 'line_normal_0.316-0.596', 'line_normal_0.316-0.898']]
2025-08-12 06:09:02,423 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)]
2025-08-12 06:09:02,423 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(0.2643139936010587, 0.5017490481214053), (1.0, 0.5017490481214053), (0.8755700240709731, 0.3220540638357485), (0.9449976298056261, 0.0), (0.3189328980265527, 1.0), (0.0, 0.958472200182604), (0.2652393660486028, 0.49820485130609354)]
2025-08-12 06:09:02,423 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': {'x': 0, 'y': 0, 'width': 0, 'height': 0}, 'centroid': [0.0, 0.0], 'width': 0.0, 'height': 0.0, 'area_raw': 0.0, 'area_normalized': 0.0, 'perimeter_raw': 0.0, 'perimeter_normalized': 0.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.0, 'is_convex': False, 'compactness': 0.0, 'polsby_popper_compactness': 0.0, 'eccentricity': 0.0, 'symmetry_score': 0.0, 'horizontal_symmetry': 0.0, 'vertical_symmetry': 0.0, 'rotational_symmetry': 0.0, 'has_quadrangle': False, 'geometric_complexity': 0.0, 'visual_complexity': 0.0, 'curvature_score': 0.0, 'angular_variance': 0.0, 'moment_of_inertia': 0.0, 'irregularity_score': 0.0, 'standardized_complexity': 0.0}
2025-08-12 06:09:02,423 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.2879208213817111, 'center_of_mass': [0.30741887296425535, 0.7379915253929009], 'polsby_popper_compactness': 0.6066530688732191, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.9606016740187813, 'angular_variance': 0.5099842902074164, 'edge_length_variance': 0.1286425076041296}
2025-08-12 06:09:02,423 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'normal': 6}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 7, 'homogeneity_score': 1.0, 'pattern_regularity': 0.16666666666666666}
2025-08-12 06:09:02,425 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1048.32, 0.0), (871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313)], 'open_stroke_perimeter': 3412.7999999999997, 'compactness': 0.6510265065317131, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1048.32, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3412.7999999999997, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(1048.32, 0.0), (871.0127911753938, -98.93126552727146)], 'open_stroke_perimeter': 203.03999999999996, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 203.03999999999996, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 177.30720882460616, 'height': 98.93126552727146, 'area': 0.0, 'perimeter': 203.03999999999996, 'centroid': [959.6663955876968, -49.46563276363573], 'bounds': [871.0127911753938, -98.93126552727146, 1048.32, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 203.03999999999996, 'line_angle': -150.84, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(871.0127911753938, -98.93126552727146), (969.9440567026652, -276.23847435187764)], 'open_stroke_perimeter': 203.03999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 203.03999999999994, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 98.93126552727142, 'height': 177.30720882460616, 'area': 0.0, 'perimeter': 203.03999999999994, 'centroid': [920.4784239390294, -187.58486993957456], 'bounds': [871.0127911753938, -276.23847435187764, 969.9440567026652, -98.93126552727146], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 203.03999999999994, 'line_angle': -60.84000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(969.9440567026652, -276.23847435187764), (77.82952154765394, 274.312593729148)], 'open_stroke_perimeter': 1048.32, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1048.32, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 892.1145351550113, 'height': 550.5510680810256, 'area': 0.0, 'perimeter': 1048.32, 'centroid': [523.8867891251596, -0.9629403113648323], 'bounds': [77.82952154765394, -276.23847435187764, 969.9440567026652, 274.312593729148], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1048.32, 'line_angle': 148.32, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(77.82952154765394, 274.312593729148), (-376.6357431863483, 251.44941918462558)], 'open_stroke_perimeter': 455.04, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 455.04, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 454.46526473400223, 'height': 22.863174544522394, 'area': 0.0, 'perimeter': 455.04, 'centroid': [-149.40311081934718, 262.8810064568868], 'bounds': [-376.6357431863483, 251.44941918462558, 77.82952154765394, 274.312593729148], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 455.04, 'line_angle': -177.12, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(-376.6357431863483, 251.44941918462558), (1.318614783714395, -1.951261342159313), (0.0, 0.0)], 'open_stroke_perimeter': 457.39502988797074, 'compactness': 0.0033064143755231106, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 457.39502988797074, 'avg_stroke_length': 569.1925049813284, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 457.39502988797074, 'line_angle': -33.839999999999975, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 06:09:02,425 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}
2025-08-12 06:09:02,426 - INFO - [INPUT] Processing image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_5, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018, is_positive=True
2025-08-12 06:09:02,426 - INFO - [INPUT] action_commands type: <class 'list'>, value: [['line_normal_1.000-0.500', 'line_normal_0.250-0.898', 'line_normal_0.250-0.705', 'line_normal_0.150-0.148', 'line_normal_0.300-0.750', 'line_normal_0.335-0.574']]
2025-08-12 06:09:02,427 - INFO - [SHAPE SPLIT] Raw action_commands: [['line_normal_1.000-0.500', 'line_normal_0.250-0.898', 'line_normal_0.250-0.705', 'line_normal_0.150-0.148', 'line_normal_0.300-0.750', 'line_normal_0.335-0.574']]
2025-08-12 06:09:02,427 - INFO - [SHAPE SPLIT] Sublist 0: ['line_normal_1.000-0.500', 'line_normal_0.250-0.898', 'line_normal_0.250-0.705', 'line_normal_0.150-0.148', 'line_normal_0.300-0.750', 'line_normal_0.335-0.574']
2025-08-12 06:09:02,427 - INFO - [SHAPE SPLIT] Parsed shapes_commands (multi-object): [['line_normal_1.000-0.500', 'line_normal_0.250-0.898', 'line_normal_0.250-0.705', 'line_normal_0.150-0.148', 'line_normal_0.300-0.750', 'line_normal_0.335-0.574']]
2025-08-12 06:09:02,427 - INFO - ComprehensiveNVLabsParser initialized:
2025-08-12 06:09:02,427 - INFO -   Canvas size: 512x512
2025-08-12 06:09:02,427 - INFO -   Coordinate range: (-360, 360)
2025-08-12 06:09:02,428 - INFO -   Base scaling factor: 1440.0
2025-08-12 06:09:02,428 - INFO - [PARSER] Parsing shape 0 commands: ['line_normal_1.000-0.500', 'line_normal_0.250-0.898', 'line_normal_0.250-0.705', 'line_normal_0.150-0.148', 'line_normal_0.300-0.750', 'line_normal_0.335-0.574']
2025-08-12 06:09:02,428 - INFO - [LOGOPARSER] Input action_commands for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: ['line_normal_1.000-0.500', 'line_normal_0.250-0.898', 'line_normal_0.250-0.705', 'line_normal_0.150-0.148', 'line_normal_0.300-0.750', 'line_normal_0.335-0.574']
2025-08-12 06:09:02,428 - DEBUG - Parsing 6 commands for hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:02,428 - DEBUG - [ACTIONS_JOIN] line_normal_1.000-0.500,line_normal_0.250-0.898,line_normal_0.250-0.705,line_normal_0.150-0.148,line_normal_0.300-0.750,line_normal_0.335-0.574
2025-08-12 06:09:02,428 - DEBUG - [ACTIONS_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:02,429 - DEBUG - [ACTIONS_ATTRS] [{'line_length': 1440.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_1.000-0.500'}, {'line_length': 360.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 143.28000000000003, 'name': 'line', 'raw_command': 'line_normal_0.250-0.898'}, {'line_length': 360.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 73.79999999999998, 'name': 'line', 'raw_command': 'line_normal_0.250-0.705'}, {'line_length': 216.0, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 126.72, 'name': 'line', 'raw_command': 'line_normal_0.150-0.148'}, {'line_length': 432.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.300-0.750'}, {'line_length': 482.40000000000003, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 26.639999999999986, 'name': 'line', 'raw_command': 'line_normal_0.335-0.574'}]
2025-08-12 06:09:02,429 - INFO - [OneStrokeShape.__init__] basic_actions: [line_normal_1.000-0.500, line_normal_0.250-0.898, line_normal_0.250-0.705, line_normal_0.150-0.148, line_normal_0.300-0.750, line_normal_0.335-0.574], start_coordinates: None, start_orientation: None, scaling_factors: None
2025-08-12 06:09:02,430 - DEBUG - [OUTPUT_SHAPE_ACTIONS] line_normal_1.000-0.500,line_normal_0.250-0.898,line_normal_0.250-0.705,line_normal_0.150-0.148,line_normal_0.300-0.750,line_normal_0.335-0.574
2025-08-12 06:09:02,430 - DEBUG - [OUTPUT_SHAPE_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:02,430 - DEBUG - [OUTPUT_SHAPE_ATTRS] [{'line_length': 1440.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_1.000-0.500'}, {'line_length': 360.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 143.28000000000003, 'name': 'line', 'raw_command': 'line_normal_0.250-0.898'}, {'line_length': 360.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 73.79999999999998, 'name': 'line', 'raw_command': 'line_normal_0.250-0.705'}, {'line_length': 216.0, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 126.72, 'name': 'line', 'raw_command': 'line_normal_0.150-0.148'}, {'line_length': 432.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.300-0.750'}, {'line_length': 482.40000000000003, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 26.639999999999986, 'name': 'line', 'raw_command': 'line_normal_0.335-0.574'}]
2025-08-12 06:09:02,430 - INFO - [OneStrokeShape._calculate_vertices] INPUT basic_actions: [line_normal_1.000-0.500, line_normal_0.250-0.898, line_normal_0.250-0.705, line_normal_0.150-0.148, line_normal_0.300-0.750, line_normal_0.335-0.574]
2025-08-12 06:09:02,431 - INFO - [OneStrokeShape._calculate_vertices] OUTPUT vertices: [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)]
2025-08-12 06:09:02,431 - INFO - [LOGOPARSER] Shape for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 has 7 vertices.
2025-08-12 06:09:02,431 - INFO - [LOGOPARSER] Parsed vertices (raw): [[0.0, 0.0], [1440.0, 0.0], [1151.4358854464842, 215.2457939007066], [864.2298872125987, -1.808841107342289], [862.8727281160379, 214.18689523758331], [430.8812554261867, 211.47257704446167], [1.0597081577180347, -7.532440029895639]]
2025-08-12 06:09:02,431 - INFO - [LOGOPARSER] Vertices bounding box: min=(0.00,-7.53), max=(1440.00,215.25), center=(678.64,90.22)
2025-08-12 06:09:02,431 - INFO - Successfully created OneStrokeShape with 6 actions using NVLabs implementation
2025-08-12 06:09:02,432 - INFO - [PARSER] Parsed shape 0: type=OneStrokeShape, num_actions=6, action_types=['str', 'str', 'str', 'str', 'str', 'str'], attributes={}
2025-08-12 06:09:02,432 - INFO - [_vertices_from_command] INPUT: command=line_normal_1.000-0.500, stroke_index=0
2025-08-12 06:09:02,432 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=1.0, param2=None, param3=0.5
2025-08-12 06:09:02,433 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4473684210526316, 0.5), (0.39473684210526316, 0.5), (0.34210526315789475, 0.5), (0.2894736842105263, 0.5), (0.2368421052631579, 0.5), (0.1842105263157895, 0.5), (0.13157894736842107, 0.5), (0.07894736842105265, 0.5), (0.026315789473684237, 0.5), (-0.02631578947368418, 0.5000000000000001), (-0.07894736842105265, 0.5000000000000001), (-0.13157894736842102, 0.5000000000000001), (-0.18421052631578938, 0.5000000000000001), (-0.23684210526315785, 0.5000000000000001), (-0.2894736842105263, 0.5000000000000001), (-0.3421052631578947, 0.5000000000000001), (-0.39473684210526305, 0.5000000000000001), (-0.4473684210526315, 0.5000000000000001), (-0.5, 0.5000000000000001)]
2025-08-12 06:09:02,433 - INFO - [_calculate_vertices_from_action] Bounding box: (-0.5, 0.5, 0.5, 0.5000000000000001)
2025-08-12 06:09:02,433 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,435 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,435 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:02,436 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,436 - INFO - Computed angular variance: 0.888264 for 20 vertices.
2025-08-12 06:09:02,437 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,437 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,437 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,438 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,438 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,439 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (-0.5, 0.5000000000000001)]
2025-08-12 06:09:02,440 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (-0.5, 0.5000000000000001)]
2025-08-12 06:09:02,440 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,440 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,441 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,441 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_5, stroke_idx=0, assigned is_positive=True
2025-08-12 06:09:02,442 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.250-0.898, stroke_index=1
2025-08-12 06:09:02,442 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.25, param2=None, param3=0.898
2025-08-12 06:09:02,442 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.528627392316817, 0.47864625060508864), (0.5572547846336341, 0.4572925012101773), (0.5858821769504511, 0.43593875181526587), (0.6145095692672682, 0.41458500242035456), (0.6431369615840852, 0.39323125302544315), (0.6717643539009022, 0.3718775036305318), (0.7003917462177193, 0.35052375423562043)]
2025-08-12 06:09:02,443 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.35052375423562043, 0.7003917462177193, 0.5)
2025-08-12 06:09:02,443 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,444 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,444 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,445 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,445 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,445 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:02,446 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,446 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,447 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:02,447 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:02,447 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,448 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,449 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_5, stroke_idx=1, assigned is_positive=True
2025-08-12 06:09:02,449 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.250-0.705, stroke_index=2
2025-08-12 06:09:02,449 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.25, param2=None, param3=0.705
2025-08-12 06:09:02,449 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4900360319271704, 0.46570379694010916), (0.48007206385434076, 0.4314075938802184), (0.47010809578151114, 0.39711139082032754), (0.46014412770868146, 0.36281518776043675), (0.45018015963585184, 0.3285189847005459), (0.4402161915630222, 0.2942227816406551), (0.4302522234901926, 0.2599265785807643)]
2025-08-12 06:09:02,450 - INFO - [_calculate_vertices_from_action] Bounding box: (0.4302522234901926, 0.2599265785807643, 0.5, 0.5)
2025-08-12 06:09:02,450 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,451 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,451 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,452 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,452 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,452 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:02,453 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,453 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,453 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:02,454 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:02,454 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,454 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,456 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_5, stroke_idx=2, assigned is_positive=True
2025-08-12 06:09:02,456 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.150-0.148, stroke_index=3
2025-08-12 06:09:02,456 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.15, param2=None, param3=0.148
2025-08-12 06:09:02,456 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5128122496369468, 0.5171764353900902), (0.5256244992738937, 0.5343528707801805), (0.5384367489108405, 0.5515293061702706), (0.5512489985477874, 0.5687057415603608), (0.5640612481847342, 0.585882176950451), (0.5768734978216811, 0.6030586123405413), (0.5896857474586279, 0.6202350477306314)]
2025-08-12 06:09:02,456 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.5, 0.5896857474586279, 0.6202350477306314)
2025-08-12 06:09:02,457 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,458 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,458 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,458 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,459 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,459 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:02,460 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,460 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,460 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:02,461 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:02,461 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,461 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,463 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_5, stroke_idx=3, assigned is_positive=True
2025-08-12 06:09:02,464 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.300-0.750, stroke_index=4
2025-08-12 06:09:02,464 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.3, param2=None, param3=0.75
2025-08-12 06:09:02,464 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.45714285714285713), (0.5, 0.41428571428571426), (0.5, 0.37142857142857144), (0.49999999999999994, 0.32857142857142857), (0.49999999999999994, 0.2857142857142857), (0.49999999999999994, 0.24285714285714288), (0.49999999999999994, 0.2)]
2025-08-12 06:09:02,465 - INFO - [_calculate_vertices_from_action] Bounding box: (0.49999999999999994, 0.2, 0.5, 0.5)
2025-08-12 06:09:02,465 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,466 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,466 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:02,466 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,467 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,467 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,467 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,468 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:02,468 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,468 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,469 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.49999999999999994, 0.2)]
2025-08-12 06:09:02,469 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.49999999999999994, 0.2)]
2025-08-12 06:09:02,470 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,470 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,471 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,471 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_5, stroke_idx=4, assigned is_positive=True
2025-08-12 06:09:02,471 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.335-0.574, stroke_index=5
2025-08-12 06:09:02,471 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.335, param2=None, param3=0.574
2025-08-12 06:09:02,472 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.45722330327276095, 0.4785416603728342), (0.4144466065455219, 0.4570833207456684), (0.37166990981828285, 0.43562498111850256), (0.3288932130910438, 0.41416664149133675), (0.28611651636380475, 0.39270830186417094), (0.24333981963656565, 0.37124996223700507), (0.2005631229093266, 0.34979162260983926)]
2025-08-12 06:09:02,472 - INFO - [_calculate_vertices_from_action] Bounding box: (0.2005631229093266, 0.34979162260983926, 0.5, 0.5)
2025-08-12 06:09:02,472 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,473 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,474 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,474 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,474 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,474 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:02,475 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,475 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,475 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:02,477 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:02,477 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,477 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,478 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_5, stroke_idx=5, assigned is_positive=True
2025-08-12 06:09:02,478 - INFO - [ATTR DEBUG] Shape 0 strokes (dicts): [{'command': 'line_normal_1.000-0.500', 'vertices': [(0.5, 0.5), (0.4473684210526316, 0.5), (0.39473684210526316, 0.5), (0.34210526315789475, 0.5), (0.2894736842105263, 0.5), (0.2368421052631579, 0.5), (0.1842105263157895, 0.5), (0.13157894736842107, 0.5), (0.07894736842105265, 0.5), (0.026315789473684237, 0.5), (-0.02631578947368418, 0.5000000000000001), (-0.07894736842105265, 0.5000000000000001), (-0.13157894736842102, 0.5000000000000001), (-0.18421052631578938, 0.5000000000000001), (-0.23684210526315785, 0.5000000000000001), (-0.2894736842105263, 0.5000000000000001), (-0.3421052631578947, 0.5000000000000001), (-0.39473684210526305, 0.5000000000000001), (-0.4473684210526315, 0.5000000000000001), (-0.5, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.4473684210526316, 0.5), (0.39473684210526316, 0.5), (0.34210526315789475, 0.5), (0.2894736842105263, 0.5), (0.2368421052631579, 0.5), (0.1842105263157895, 0.5), (0.13157894736842107, 0.5), (0.07894736842105265, 0.5), (0.026315789473684237, 0.5), (-0.02631578947368418, 0.5000000000000001), (-0.07894736842105265, 0.5000000000000001), (-0.13157894736842102, 0.5000000000000001), (-0.18421052631578938, 0.5000000000000001), (-0.23684210526315785, 0.5000000000000001), (-0.2894736842105263, 0.5000000000000001), (-0.3421052631578947, 0.5000000000000001), (-0.39473684210526305, 0.5000000000000001), (-0.4473684210526315, 0.5000000000000001), (-0.5, 0.5000000000000001)], 'open_stroke_perimeter': 1.0, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.250-0.898', 'vertices': [(0.5, 0.5), (0.528627392316817, 0.47864625060508864), (0.5572547846336341, 0.4572925012101773), (0.5858821769504511, 0.43593875181526587), (0.6145095692672682, 0.41458500242035456), (0.6431369615840852, 0.39323125302544315), (0.6717643539009022, 0.3718775036305318), (0.7003917462177193, 0.35052375423562043)], 'geometry': {'area': 1.6263032587282567e-18, 'perimeter': 0.16666666666666666, 'centroid': [0.6685296203057817, 0.37429035666950483], 'bounds': [0.6335944974784795, 0.35052375423562043, 0.7003917462177193, 0.4003491694904136], 'width': 0.06679724873923976, 'height': 0.04982541525479317, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.16666666666666666, 'analytic_vertices': [(0.5, 0.5), (0.528627392316817, 0.47864625060508864), (0.5572547846336341, 0.4572925012101773), (0.5858821769504511, 0.43593875181526587), (0.6145095692672682, 0.41458500242035456), (0.6431369615840852, 0.39323125302544315), (0.6717643539009022, 0.3718775036305318), (0.7003917462177193, 0.35052375423562043)], 'open_stroke_perimeter': 0.24999999999999997, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.250-0.705', 'vertices': [(0.5, 0.5), (0.4900360319271704, 0.46570379694010916), (0.48007206385434076, 0.4314075938802184), (0.47010809578151114, 0.39711139082032754), (0.46014412770868146, 0.36281518776043675), (0.45018015963585184, 0.3285189847005459), (0.4402161915630222, 0.2942227816406551), (0.4302522234901926, 0.2599265785807643)], 'geometry': {'area': 3.0899761915836876e-18, 'perimeter': 0.24999999999999997, 'centroid': [0.47938012162706095, 0.42902591311217037], 'bounds': [0.46512611174509627, 0.37996328929038214, 0.5, 0.5], 'width': 0.03487388825490373, 'height': 0.12003671070961786, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.24999999999999997, 'analytic_vertices': [(0.5, 0.5), (0.4900360319271704, 0.46570379694010916), (0.48007206385434076, 0.4314075938802184), (0.47010809578151114, 0.39711139082032754), (0.46014412770868146, 0.36281518776043675), (0.45018015963585184, 0.3285189847005459), (0.4402161915630222, 0.2942227816406551), (0.4302522234901926, 0.2599265785807643)], 'open_stroke_perimeter': 0.24999999999999997, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.150-0.148', 'vertices': [(0.5, 0.5), (0.5128122496369468, 0.5171764353900902), (0.5256244992738937, 0.5343528707801805), (0.5384367489108405, 0.5515293061702706), (0.5512489985477874, 0.5687057415603608), (0.5640612481847342, 0.585882176950451), (0.5768734978216811, 0.6030586123405413), (0.5896857474586279, 0.6202350477306314)], 'geometry': {'area': 3.0899761915836876e-18, 'perimeter': 0.10268605994231948, 'centroid': [0.530360940765205, 0.540702667541855], 'bounds': [0.514144620264286, 0.5189626461371981, 0.544842873729314, 0.5601175238653157], 'width': 0.03069825346502797, 'height': 0.041154877728117545, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.10268605994231948, 'analytic_vertices': [(0.5, 0.5), (0.5128122496369468, 0.5171764353900902), (0.5256244992738937, 0.5343528707801805), (0.5384367489108405, 0.5515293061702706), (0.5512489985477874, 0.5687057415603608), (0.5640612481847342, 0.585882176950451), (0.5768734978216811, 0.6030586123405413), (0.5896857474586279, 0.6202350477306314)], 'open_stroke_perimeter': 0.15000000000000002, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.300-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.45714285714285713), (0.5, 0.41428571428571426), (0.5, 0.37142857142857144), (0.49999999999999994, 0.32857142857142857), (0.49999999999999994, 0.2857142857142857), (0.49999999999999994, 0.24285714285714288), (0.49999999999999994, 0.2)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.45714285714285713), (0.5, 0.41428571428571426), (0.5, 0.37142857142857144), (0.49999999999999994, 0.32857142857142857), (0.49999999999999994, 0.2857142857142857), (0.49999999999999994, 0.24285714285714288), (0.49999999999999994, 0.2)], 'open_stroke_perimeter': 0.3, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.335-0.574', 'vertices': [(0.5, 0.5), (0.45722330327276095, 0.4785416603728342), (0.4144466065455219, 0.4570833207456684), (0.37166990981828285, 0.43562498111850256), (0.3288932130910438, 0.41416664149133675), (0.28611651636380475, 0.39270830186417094), (0.24333981963656565, 0.37124996223700507), (0.2005631229093266, 0.34979162260983926)], 'geometry': {'area': 3.144186300207963e-18, 'perimeter': 0.5583333333333333, 'centroid': [0.34552859515163675, 0.42251155134634566], 'bounds': [0.2504692690911055, 0.37482635217486604, 0.5, 0.5], 'width': 0.2495307309088945, 'height': 0.12517364782513396, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.5583333333333333, 'analytic_vertices': [(0.5, 0.5), (0.45722330327276095, 0.4785416603728342), (0.4144466065455219, 0.4570833207456684), (0.37166990981828285, 0.43562498111850256), (0.3288932130910438, 0.41416664149133675), (0.28611651636380475, 0.39270830186417094), (0.24333981963656565, 0.37124996223700507), (0.2005631229093266, 0.34979162260983926)], 'open_stroke_perimeter': 0.33499999999999996, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}]
2025-08-12 06:09:02,479 - INFO - [PATCH][SHAPE GEOMETRY] idx=0, vertices=[(0.0, 0.033811382274634934), (1.0, 0.033811382274634934), (0.7996082537822807, 1.0), (0.600159643897638, 0.025691912632435678), (0.5992171723028041, 0.995246848651053), (0.299223094045963, 0.9830629016593232), (0.0007359084428597463, 0.0)], geometry={'area': 0.42384379053135135, 'perimeter': 2.8428702691793477, 'centroid': [0.37017482351852105, 0.45927538150433767], 'bounds': [0.011002051453110243, 0.033811382274634934, 0.6001517512355323, 0.995246848651053], 'width': 0.589149699782422, 'height': 0.961435466376418}
2025-08-12 06:09:02,480 - INFO - [robust_curvature] INPUT: [(0.0, 0.033811382274634934), (1.0, 0.033811382274634934), (0.7996082537822807, 1.0), (0.600159643897638, 0.025691912632435678), (0.5992171723028041, 0.995246848651053), (0.299223094045963, 0.9830629016593232), (0.0007359084428597463, 0.0)]
2025-08-12 06:09:02,480 - INFO - [robust_curvature] OUTPUT: 2.169266413898434
2025-08-12 06:09:02,481 - INFO - Computed angular variance: 0.426093 for 7 vertices.
2025-08-12 06:09:02,481 - INFO - [PATCH][SHAPE PHYSICS] idx=0, physics features: {'robust_curvature': 2.169266413898434, 'robust_angular_variance': 0.4260926637231578, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 2.666209161058734}
2025-08-12 06:09:02,481 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 1.44000000e+03  0.00000000e+00]
 [ 1.15143589e+03  2.15245794e+02]
 [ 8.64229887e+02 -1.80884111e+00]
 [ 8.62872728e+02  2.14186895e+02]
 [ 4.30881255e+02  2.11472577e+02]
 [ 1.05970816e+00 -7.53244003e+00]]
2025-08-12 06:09:02,482 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,482 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,483 - INFO - Computed angular variance: 0.378101 for 7 vertices.
2025-08-12 06:09:02,484 - INFO - [robust_curvature] INPUT: [[1440.            0.        ]
 [1151.43588545  215.2457939 ]
 [ 864.22988721   -1.80884111]
 [ 862.87272812  214.18689524]]
2025-08-12 06:09:02,484 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,484 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,485 - INFO - [robust_curvature] INPUT: [[  0.           0.        ]
 [430.88125543 211.47257704]
 [  1.05970816  -7.53244003]]
2025-08-12 06:09:02,485 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,485 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,486 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,486 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.37810057149849996, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,486 - INFO - [robust_curvature] INPUT: [[ 5.52827799e+00 -2.88963893e-02]
 [ 1.43336878e+03  8.25738571e-01]
 [ 1.15144110e+03  2.13587378e+02]
 [ 8.65326477e+02 -1.47547810e-01]
 [ 8.61220703e+02  2.13347867e+02]
 [ 4.30889580e+02  2.10642830e+02]
 [ 2.70454954e+00 -6.66338372e+00]]
2025-08-12 06:09:02,486 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,487 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,487 - INFO - Computed angular variance: 0.488064 for 7 vertices.
2025-08-12 06:09:02,488 - INFO - [robust_curvature] INPUT: [[ 1.43336878e+03  8.25738571e-01]
 [ 1.15144110e+03  2.13587378e+02]
 [ 8.65326477e+02 -1.47547810e-01]
 [ 8.61220703e+02  2.13347867e+02]
 [ 4.30889580e+02  2.10642830e+02]]
2025-08-12 06:09:02,488 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,489 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,489 - INFO - [robust_curvature] INPUT: [[ 5.52827799 -0.02889639]
 [ 2.70454954 -6.66338372]]
2025-08-12 06:09:02,489 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,490 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,490 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,490 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.48806423886382494, 'complexity': 4, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,490 - INFO - [robust_curvature] INPUT: [[ 1.53819437e+02 -6.89237978e-01]
 [ 1.25546140e+03  2.29106161e+01]
 [ 1.15120049e+03  1.69170004e+02]
 [ 8.94696297e+02  4.43464600e+01]
 [ 8.16880112e+02  1.90846817e+02]
 [ 4.31112897e+02  1.88336187e+02]
 [ 4.73088254e+01  1.66431387e+01]]
2025-08-12 06:09:02,492 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,492 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,492 - INFO - Computed angular variance: 0.639417 for 7 vertices.
2025-08-12 06:09:02,493 - INFO - [robust_curvature] INPUT: [[1255.46140387   22.91061609]
 [1151.20049251  169.17000426]
 [ 894.69629686   44.34646004]
 [ 816.88011237  190.84681651]]
2025-08-12 06:09:02,493 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,494 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,494 - INFO - [robust_curvature] INPUT: [[153.81943664  -0.68923798]
 [431.11289672 188.33618743]
 [ 47.30882539  16.6431387 ]]
2025-08-12 06:09:02,494 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,495 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,495 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,495 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.6394170881300534, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,495 - INFO - [robust_curvature] INPUT: [[ 442.01180625   22.18602337]
 [ 905.71804498   53.52241977]
 [1065.47524473   97.92853574]
 [ 933.1998633   114.57207531]
 [ 726.41648852  147.39577852]
 [ 439.43668816  135.25516552]
 [ 238.22132841   60.70398682]]
2025-08-12 06:09:02,495 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,496 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,496 - INFO - Computed angular variance: 1.255014 for 7 vertices.
2025-08-12 06:09:02,497 - INFO - [robust_curvature] INPUT: [[ 905.71804498   53.52241977]
 [1065.47524473   97.92853574]
 [ 933.1998633   114.57207531]
 [ 726.41648852  147.39577852]]
2025-08-12 06:09:02,497 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,498 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,498 - INFO - [robust_curvature] INPUT: [[442.01180625  22.18602337]
 [439.43668816 135.25516552]
 [238.22132841  60.70398682]]
2025-08-12 06:09:02,498 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,498 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,499 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,499 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 1.2550144518381419, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,499 - INFO - [robust_curvature] INPUT: [[620.74813833  73.51123811]
 [724.8050889   76.22705455]
 [793.16667365  89.30521709]
 [775.1823673  102.96125638]
 [685.48357557 107.24990822]
 [590.29606789  98.7336806 ]
 [560.79755272  83.57563009]]
2025-08-12 06:09:02,500 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,500 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,500 - INFO - Computed angular variance: 0.930068 for 7 vertices.
2025-08-12 06:09:02,501 - INFO - [robust_curvature] INPUT: [[724.8050889   76.22705455]
 [793.16667365  89.30521709]
 [775.1823673  102.96125638]
 [685.48357557 107.24990822]]
2025-08-12 06:09:02,501 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,502 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,502 - INFO - [robust_curvature] INPUT: [[620.74813833  73.51123811]
 [590.29606789  98.7336806 ]
 [560.79755272  83.57563009]]
2025-08-12 06:09:02,502 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,502 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,503 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,503 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.9300682198387429, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,503 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.37810057149849996, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.48806423886382494, 'complexity': 4, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.6394170881300534, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 1.2550144518381419, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.9300682198387429, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:02,504 - DEBUG - [extract_image_features] Calculated width: 848.3755676866878, height: 214.18689523758331
2025-08-12 06:09:02,504 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)]
2025-08-12 06:09:02,506 - INFO - [robust_curvature] OUTPUT: 1.751661184796203
2025-08-12 06:09:02,506 - INFO - Computed angular variance: 0.378101 for 7 vertices.
2025-08-12 06:09:02,507 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 1.44000000e+03  0.00000000e+00]
 [ 1.15143589e+03  2.15245794e+02]
 [ 8.64229887e+02 -1.80884111e+00]
 [ 8.62872728e+02  2.14186895e+02]
 [ 4.30881255e+02  2.11472577e+02]
 [ 1.05970816e+00 -7.53244003e+00]]
2025-08-12 06:09:02,507 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,507 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,508 - INFO - Computed angular variance: 0.378101 for 7 vertices.
2025-08-12 06:09:02,509 - INFO - [robust_curvature] INPUT: [[1440.            0.        ]
 [1151.43588545  215.2457939 ]
 [ 864.22988721   -1.80884111]
 [ 862.87272812  214.18689524]]
2025-08-12 06:09:02,509 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,509 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,510 - INFO - [robust_curvature] INPUT: [[  0.           0.        ]
 [430.88125543 211.47257704]
 [  1.05970816  -7.53244003]]
2025-08-12 06:09:02,510 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,510 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,510 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,512 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.37810057149849996, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,512 - INFO - [robust_curvature] INPUT: [[ 5.52827799e+00 -2.88963893e-02]
 [ 1.43336878e+03  8.25738571e-01]
 [ 1.15144110e+03  2.13587378e+02]
 [ 8.65326477e+02 -1.47547810e-01]
 [ 8.61220703e+02  2.13347867e+02]
 [ 4.30889580e+02  2.10642830e+02]
 [ 2.70454954e+00 -6.66338372e+00]]
2025-08-12 06:09:02,512 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,513 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,513 - INFO - Computed angular variance: 0.488064 for 7 vertices.
2025-08-12 06:09:02,514 - INFO - [robust_curvature] INPUT: [[ 1.43336878e+03  8.25738571e-01]
 [ 1.15144110e+03  2.13587378e+02]
 [ 8.65326477e+02 -1.47547810e-01]
 [ 8.61220703e+02  2.13347867e+02]
 [ 4.30889580e+02  2.10642830e+02]]
2025-08-12 06:09:02,514 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,515 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,515 - INFO - [robust_curvature] INPUT: [[ 5.52827799 -0.02889639]
 [ 2.70454954 -6.66338372]]
2025-08-12 06:09:02,515 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,515 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,516 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,516 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.48806423886382494, 'complexity': 4, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,516 - INFO - [robust_curvature] INPUT: [[ 1.53819437e+02 -6.89237978e-01]
 [ 1.25546140e+03  2.29106161e+01]
 [ 1.15120049e+03  1.69170004e+02]
 [ 8.94696297e+02  4.43464600e+01]
 [ 8.16880112e+02  1.90846817e+02]
 [ 4.31112897e+02  1.88336187e+02]
 [ 4.73088254e+01  1.66431387e+01]]
2025-08-12 06:09:02,516 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,518 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,518 - INFO - Computed angular variance: 0.639417 for 7 vertices.
2025-08-12 06:09:02,519 - INFO - [robust_curvature] INPUT: [[1255.46140387   22.91061609]
 [1151.20049251  169.17000426]
 [ 894.69629686   44.34646004]
 [ 816.88011237  190.84681651]]
2025-08-12 06:09:02,519 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,519 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,520 - INFO - [robust_curvature] INPUT: [[153.81943664  -0.68923798]
 [431.11289672 188.33618743]
 [ 47.30882539  16.6431387 ]]
2025-08-12 06:09:02,520 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,520 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,520 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,521 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.6394170881300534, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,521 - INFO - [robust_curvature] INPUT: [[ 442.01180625   22.18602337]
 [ 905.71804498   53.52241977]
 [1065.47524473   97.92853574]
 [ 933.1998633   114.57207531]
 [ 726.41648852  147.39577852]
 [ 439.43668816  135.25516552]
 [ 238.22132841   60.70398682]]
2025-08-12 06:09:02,523 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,523 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,523 - INFO - Computed angular variance: 1.255014 for 7 vertices.
2025-08-12 06:09:02,524 - INFO - [robust_curvature] INPUT: [[ 905.71804498   53.52241977]
 [1065.47524473   97.92853574]
 [ 933.1998633   114.57207531]
 [ 726.41648852  147.39577852]]
2025-08-12 06:09:02,525 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,525 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,525 - INFO - [robust_curvature] INPUT: [[442.01180625  22.18602337]
 [439.43668816 135.25516552]
 [238.22132841  60.70398682]]
2025-08-12 06:09:02,525 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,527 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,527 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,527 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 1.2550144518381419, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,527 - INFO - [robust_curvature] INPUT: [[620.74813833  73.51123811]
 [724.8050889   76.22705455]
 [793.16667365  89.30521709]
 [775.1823673  102.96125638]
 [685.48357557 107.24990822]
 [590.29606789  98.7336806 ]
 [560.79755272  83.57563009]]
2025-08-12 06:09:02,528 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,528 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,528 - INFO - Computed angular variance: 0.930068 for 7 vertices.
2025-08-12 06:09:02,529 - INFO - [robust_curvature] INPUT: [[724.8050889   76.22705455]
 [793.16667365  89.30521709]
 [775.1823673  102.96125638]
 [685.48357557 107.24990822]]
2025-08-12 06:09:02,529 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,530 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,530 - INFO - [robust_curvature] INPUT: [[620.74813833  73.51123811]
 [590.29606789  98.7336806 ]
 [560.79755272  83.57563009]]
2025-08-12 06:09:02,530 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,530 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,531 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,531 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.9300682198387429, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,531 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.37810057149849996, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.48806423886382494, 'complexity': 4, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.6394170881300534, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 1.2550144518381419, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.9300682198387429, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:02,532 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,533 - DEBUG - [extract_image_features] Stroke 0 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:02,534 - DEBUG - [extract_image_features] Stroke 1 geometry: {'area': 1.6263032587282567e-18, 'perimeter': 0.16666666666666666, 'centroid': [0.6685296203057817, 0.37429035666950483], 'bounds': [0.6335944974784795, 0.35052375423562043, 0.7003917462177193, 0.4003491694904136], 'width': 0.06679724873923976, 'height': 0.04982541525479317}
2025-08-12 06:09:02,535 - DEBUG - [extract_image_features] Stroke 2 geometry: {'area': 3.0899761915836876e-18, 'perimeter': 0.24999999999999997, 'centroid': [0.47938012162706095, 0.42902591311217037], 'bounds': [0.46512611174509627, 0.37996328929038214, 0.5, 0.5], 'width': 0.03487388825490373, 'height': 0.12003671070961786}
2025-08-12 06:09:02,535 - DEBUG - [extract_image_features] Stroke 3 geometry: {'area': 3.0899761915836876e-18, 'perimeter': 0.10268605994231948, 'centroid': [0.530360940765205, 0.540702667541855], 'bounds': [0.514144620264286, 0.5189626461371981, 0.544842873729314, 0.5601175238653157], 'width': 0.03069825346502797, 'height': 0.041154877728117545}
2025-08-12 06:09:02,537 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,537 - DEBUG - [extract_image_features] Stroke 4 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:02,538 - DEBUG - [extract_image_features] Stroke 5 geometry: {'area': 3.144186300207963e-18, 'perimeter': 0.5583333333333333, 'centroid': [0.34552859515163675, 0.42251155134634566], 'bounds': [0.2504692690911055, 0.37482635217486604, 0.5, 0.5], 'width': 0.2495307309088945, 'height': 0.12517364782513396}
2025-08-12 06:09:02,538 - INFO - [extract_image_features] stroke_type_distribution INPUT: [{'command': 'line_normal_1.000-0.500', 'vertices': [(0.5, 0.5), (0.4473684210526316, 0.5), (0.39473684210526316, 0.5), (0.34210526315789475, 0.5), (0.2894736842105263, 0.5), (0.2368421052631579, 0.5), (0.1842105263157895, 0.5), (0.13157894736842107, 0.5), (0.07894736842105265, 0.5), (0.026315789473684237, 0.5), (-0.02631578947368418, 0.5000000000000001), (-0.07894736842105265, 0.5000000000000001), (-0.13157894736842102, 0.5000000000000001), (-0.18421052631578938, 0.5000000000000001), (-0.23684210526315785, 0.5000000000000001), (-0.2894736842105263, 0.5000000000000001), (-0.3421052631578947, 0.5000000000000001), (-0.39473684210526305, 0.5000000000000001), (-0.4473684210526315, 0.5000000000000001), (-0.5, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.250-0.898', 'vertices': [(0.5, 0.5), (0.528627392316817, 0.47864625060508864), (0.5572547846336341, 0.4572925012101773), (0.5858821769504511, 0.43593875181526587), (0.6145095692672682, 0.41458500242035456), (0.6431369615840852, 0.39323125302544315), (0.6717643539009022, 0.3718775036305318), (0.7003917462177193, 0.35052375423562043)], 'geometry': {'area': 1.6263032587282567e-18, 'perimeter': 0.16666666666666666, 'centroid': [0.6685296203057817, 0.37429035666950483], 'bounds': [0.6335944974784795, 0.35052375423562043, 0.7003917462177193, 0.4003491694904136], 'width': 0.06679724873923976, 'height': 0.04982541525479317}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.06679724873923976, 'height': 0.04982541525479317}, {'command': 'line_normal_0.250-0.705', 'vertices': [(0.5, 0.5), (0.4900360319271704, 0.46570379694010916), (0.48007206385434076, 0.4314075938802184), (0.47010809578151114, 0.39711139082032754), (0.46014412770868146, 0.36281518776043675), (0.45018015963585184, 0.3285189847005459), (0.4402161915630222, 0.2942227816406551), (0.4302522234901926, 0.2599265785807643)], 'geometry': {'area': 3.0899761915836876e-18, 'perimeter': 0.24999999999999997, 'centroid': [0.47938012162706095, 0.42902591311217037], 'bounds': [0.46512611174509627, 0.37996328929038214, 0.5, 0.5], 'width': 0.03487388825490373, 'height': 0.12003671070961786}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.03487388825490373, 'height': 0.12003671070961786}, {'command': 'line_normal_0.150-0.148', 'vertices': [(0.5, 0.5), (0.5128122496369468, 0.5171764353900902), (0.5256244992738937, 0.5343528707801805), (0.5384367489108405, 0.5515293061702706), (0.5512489985477874, 0.5687057415603608), (0.5640612481847342, 0.585882176950451), (0.5768734978216811, 0.6030586123405413), (0.5896857474586279, 0.6202350477306314)], 'geometry': {'area': 3.0899761915836876e-18, 'perimeter': 0.10268605994231948, 'centroid': [0.530360940765205, 0.540702667541855], 'bounds': [0.514144620264286, 0.5189626461371981, 0.544842873729314, 0.5601175238653157], 'width': 0.03069825346502797, 'height': 0.041154877728117545}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.03069825346502797, 'height': 0.041154877728117545}, {'command': 'line_normal_0.300-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.45714285714285713), (0.5, 0.41428571428571426), (0.5, 0.37142857142857144), (0.49999999999999994, 0.32857142857142857), (0.49999999999999994, 0.2857142857142857), (0.49999999999999994, 0.24285714285714288), (0.49999999999999994, 0.2)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.335-0.574', 'vertices': [(0.5, 0.5), (0.45722330327276095, 0.4785416603728342), (0.4144466065455219, 0.4570833207456684), (0.37166990981828285, 0.43562498111850256), (0.3288932130910438, 0.41416664149133675), (0.28611651636380475, 0.39270830186417094), (0.24333981963656565, 0.37124996223700507), (0.2005631229093266, 0.34979162260983926)], 'geometry': {'area': 3.144186300207963e-18, 'perimeter': 0.5583333333333333, 'centroid': [0.34552859515163675, 0.42251155134634566], 'bounds': [0.2504692690911055, 0.37482635217486604, 0.5, 0.5], 'width': 0.2495307309088945, 'height': 0.12517364782513396}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.2495307309088945, 'height': 0.12517364782513396}]
2025-08-12 06:09:02,538 - INFO - [extract_image_features] stroke_type_distribution OUTPUT: {'line': 6}
2025-08-12 06:09:02,539 - INFO - [extract_image_features] modifier_distribution OUTPUT: {'normal': 6}
2025-08-12 06:09:02,539 - INFO - [extract_image_features] relational INPUT: []
2025-08-12 06:09:02,539 - INFO - [extract_image_features] relational OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:02,539 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:02,540 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,540 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,540 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,540 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,540 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,541 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,541 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,541 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,541 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,542 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-12 06:09:02,542 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:02,542 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,542 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,543 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,543 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,543 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,543 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,544 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,544 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,544 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,544 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,545 - DEBUG - [_detect_alternation] OUTPUT: 0.16666666666666666
2025-08-12 06:09:02,545 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:02,545 - INFO - [extract_image_features] PATCHED ngram: {'normal|normal': 5}
2025-08-12 06:09:02,545 - INFO - [extract_image_features] PATCHED alternation: 0.16666666666666666
2025-08-12 06:09:02,545 - INFO - [extract_image_features] PATCHED regularity: 0.16666666666666666
2025-08-12 06:09:02,546 - INFO - [extract_image_features] PATCHED dominant_shape_functions: line
2025-08-12 06:09:02,546 - INFO - [extract_image_features] PATCHED dominant_modifiers: normal
2025-08-12 06:09:02,547 - INFO - [extract_image_features] PATCHED image_canonical_summary: {'area': 135969.36640851825, 'perimeter': 1960.3750660836822, 'compactness': 0.44460321377728895, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.16666666666666666}
2025-08-12 06:09:02,547 - INFO - [extract_image_features] OUTPUT: {'area': 135969.36640851825, 'perimeter': 1960.3750660836822, 'convexity_ratio': 0.16242803163057234, 'compactness': 0.44460321377728895, 'aspect_ratio': 3.9609125793883937, 'centroid_x': 533.0517458666703, 'centroid_y': 94.78411834944428, 'width': 848.3755676866878, 'height': 214.18689523758331, 'bounding_box': (0.0, -7.532440029895639, 1440.0, 215.2457939007066), 'num_vertices': 7, 'curvature': 1.751661184796203, 'angular_variance': 0.37810057149849996, 'complexity': -0.12902272849606486, 'num_strokes': 6, 'stroke_type_distribution': {'line': 6}, 'modifier_distribution': {'normal': 6}, 'avg_stroke_length': 0.0, 'stroke_complexity': -0.12902272849606486, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.37810057149849996, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.48806423886382494, 'complexity': 4, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.6394170881300534, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 1.2550144518381419, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.9300682198387429, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 327067.7902475596, 'center_of_mass_x': 0.5046508709234808, 'center_of_mass_y': 0.42712345923238626, 'symmetry_score': 730.7156080465627, 'ngram': {'normal|normal': 5}, 'alternation': 0.16666666666666666, 'regularity': 0.16666666666666666, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 135969.36640851825, 'perimeter': 1960.3750660836822, 'compactness': 0.44460321377728895, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.16666666666666666}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 5, 'vertical': 1}}
2025-08-12 06:09:02,547 - DEBUG - [extract_image_features] FINAL OUTPUT bounding_box: (0.0, -7.532440029895639, 1440.0, 215.2457939007066)
2025-08-12 06:09:02,547 - DEBUG - [extract_image_features] FINAL OUTPUT width: 848.3755676866878, height: 214.18689523758331
2025-08-12 06:09:02,548 - DEBUG - [extract_image_features] FINAL OUTPUT curvature: 1.751661184796203
2025-08-12 06:09:02,548 - INFO - [DIAG] Shape 0 extracted attributes: {'area': 135969.36640851825, 'perimeter': 1960.3750660836822, 'convexity_ratio': 0.16242803163057234, 'compactness': 0.44460321377728895, 'aspect_ratio': 3.9609125793883937, 'centroid_x': 533.0517458666703, 'centroid_y': 94.78411834944428, 'width': 848.3755676866878, 'height': 214.18689523758331, 'bounding_box': (0.0, -7.532440029895639, 1440.0, 215.2457939007066), 'num_vertices': 7, 'curvature': 1.751661184796203, 'angular_variance': 0.37810057149849996, 'complexity': -0.12902272849606486, 'num_strokes': 6, 'stroke_type_distribution': {'line': 6}, 'modifier_distribution': {'normal': 6}, 'avg_stroke_length': 0.0, 'stroke_complexity': -0.12902272849606486, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.37810057149849996, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.48806423886382494, 'complexity': 4, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.6394170881300534, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 1.2550144518381419, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.9300682198387429, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 327067.7902475596, 'center_of_mass_x': 0.5046508709234808, 'center_of_mass_y': 0.42712345923238626, 'symmetry_score': 730.7156080465627, 'ngram': {'normal|normal': 5}, 'alternation': 0.16666666666666666, 'regularity': 0.16666666666666666, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 135969.36640851825, 'perimeter': 1960.3750660836822, 'compactness': 0.44460321377728895, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.16666666666666666}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 5, 'vertical': 1}}
2025-08-12 06:09:02,548 - INFO - [VALIDATION] expected_strokes=6, actual_shapes=1
2025-08-12 06:09:02,548 - INFO - [VALIDATION] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_5, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: Number of action commands matches number of parsed shapes (6)
2025-08-12 06:09:02,549 - INFO - [standardize_coordinates] INPUT vertices: [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)]
2025-08-12 06:09:02,549 - INFO - [standardize_coordinates] OUTPUT normalized vertices: [[0.0, 0.033811382274634934], [1.0, 0.033811382274634934], [0.7996082537822807, 1.0], [0.600159643897638, 0.025691912632435678], [0.5992171723028041, 0.995246848651053], [0.299223094045963, 0.9830629016593232], [0.0007359084428597463, 0.0]]
2025-08-12 06:09:02,550 - DEBUG - [process_single_image] Passing shape_list to extract_relational_features: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)]}]
2025-08-12 06:09:02,550 - INFO - [extract_relational_features] INPUT: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)]}]
2025-08-12 06:09:02,550 - DEBUG - [extract_relational_features] Shape 0 vertices: [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)]
2025-08-12 06:09:02,551 - INFO - [calculate_relationships] INPUT: strokes=[{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)]}], buffer_amt=0.001
2025-08-12 06:09:02,551 - DEBUG - [calculate_relationships] Stroke 0: {'vertices': [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)]}
2025-08-12 06:09:02,551 - DEBUG - [calculate_relationships] Vertices for stroke 0: [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)]
2025-08-12 06:09:02,552 - DEBUG - [calculate_relationships] Created LineString for stroke 0: LINESTRING (0 0, 1440 0, 1151.4358854464842 215.2457939007066, 864.2298872125987 -1.808841107342289, 862.8727281160379 214.18689523758331, 430.8812554261867 211.47257704446167, 1.0597081577180347 -7.532440029895639)
2025-08-12 06:09:02,552 - DEBUG - [calculate_relationships] Buffered geometries: ['POLYGON ((15.83878879270866 -0.001, 0 -0.001, -9.801714032956045e-5 -0.0009951847266722, -0.0001950903220161 -0.0009807852804032, -0.0002902846772545 -0.0009569403357322, -0.0003826834323651 -0.0009238795325113, -0.000471396736826 -0.0008819212643484, -0.0005555702330196 -0.0008314696123025, -0.0006343932841636 -0.0007730104533627, -0.0007071067811865 -0.0007071067811865, -0.0007730104533627 -0.0006343932841636, -0.0008314696123025 -0.0005555702330196, -0.0008819212643484 -0.000471396736826, -0.0009238795325113 -0.0003826834323651, -0.0009569403357322 -0.0002902846772545, -0.0009807852804032 -0.0001950903220161, -0.0009951847266722 -9.801714032956059e-5, -0.001 0, -0.0009951847266722 9.801714032956083e-5, -0.0009807852804032 0.0001950903220161, -0.0009569403357322 0.0002902846772545, -0.0009238795325113 0.0003826834323651, -0.0008819212643484 0.000471396736826, -0.0008314696123025 0.0005555702330196, -0.0007730104533627 0.0006343932841636, -0.0007071067811865 0.0007071067811865, -0.0006343932841636 0.0007730104533627, -0.0005555702330196 0.0008314696123025, -0.000471396736826 0.0008819212643484, -0.0003826834323651 0.0009238795325113, -0.0002902846772545 0.0009569403357322, -0.0001950903220161 0.0009807852804032, -9.801714032956064e-5 0.0009951847266722, 0 0.001, 15.84271401371967 0.001, 430.880801435687 211.47346805098587, 430.8808861335334 211.4735063576146, 430.8809740224831 211.4735366339341, 430.88106434307673 211.47355861832293, 430.8811563148431 211.4735721208113, 430.88124914304274 211.47357702472252, 862.872721832894 214.18789521784416, 862.8728198783546 214.1878910185217, 862.8729170400939 214.18787722928445, 862.8730123823913 214.18785398293028, 862.8731049870484 214.18782150333433, 862.8731939622315 214.18778010329285, 862.8732784510612 214.1877301815109, 862.8733576398638 214.18767221876246, 862.8734307660077 214.18760677326054, 862.8734971252484 214.18753447528107, 862.87355607851 214.18745602109314, 862.8736070580403 214.18737216625345, 862.8736495728788 214.18728371832995, 862.8736832135841 214.1871915291245, 862.8737076561779 214.18709648646953, 862.8737226652647 214.1869995056778, 862.8737280962988 214.18690152072728, 864.219515515638 0.001, 866.6230046038015 0.001, 1151.4352825169426 215.24659169514612, 1151.4353643910154 215.24664742352317, 1151.4354513761295 215.24669477968138, 1151.4355426190468 215.24673329910348, 1151.4356372247637 215.24676260395188, 1151.4357342652913 215.2467824067748, 1151.4358327887578 215.24679251332608, 1151.4359318287445 215.24679282447042, 1151.4360304137672 215.24678333715573, 1151.4361275768033 215.2467641444433, 1151.4362223647793 215.24673543459468, 1151.4363138479184 215.24669748922528, 1151.4364011288612 215.24665068054185, 1151.4364833514674 215.24659546769146, 1440.0005979049831 0.0008015669848709, 1440.0006749620084 0.0007378524834328, 1440.0007452712205 0.000666761432551, 1440.0008081297156 0.0005890045523794, 1440.0008629090771 0.000505359203551, 1440.000909061658 0.000416661615621, 1440.000946126056 0.0003237985270101, 1440.0009737317264 0.0002276983199937, 1440.0009916026863 0.0001293217393652, 1440.0009995602743 2.965228755964957e-5, 1440.0009975249352 -7.031360773717568e-5, 1440.0009855170176 -0.0001695765551983, 1440.000963656568 -0.0002671441910932, 1440.0009321621328 -0.0003620411002684, 1440.0008913485717 -0.0004533185676876, 1440.0008416239111 -0.000540064063042, 1440.0007834852647 -0.000621410363611, 1440.000717513863 -0.0006965442241668, 1440.000644369244 -0.0007647145072504, 1440.0005647826572 -0.0008252396925344, 1440.000479549756 -0.0008775146902024, 1440.0003895226412 -0.000921016890227, 1440.0002956013425 -0.0009553113870708, 1440.000198724822 -0.0009800553275777, 1440.0000998615853 -0.0009950013385865, 1440 -0.001, 866.6236753473844 -0.001, 864.2304901421404 -1.8096389017818275, 864.230410758935 -1.809693104545176, 864.2303265383537 -1.8097394351671996, 864.2302382585636 -1.8097774655699352, 864.2301467352378 -1.8098068443664241, 864.230052814018 -1.8098273001073732, 864.229957362702 -1.809838643789246, 864.2298612632247 -1.8098407706005868, 864.2297654035101 -1.8098336608904397, 864.2296706692669 -1.8098173803499162, 864.2295779358044 -1.8097920794052333, 864.229488059946 -1.8097579918278313, 864.2294018721115 -1.8097154325744098, 864.229320168645 -1.8096647948768454, 864.2292437044564 -1.8096065466088724, 864.2291731860468 -1.8095412259631012, 864.2291092649804 -1.809469436478317, 864.2290525318643 -1.8093918414630024, 864.2290035108919 -1.80930915786661, 864.2289626549987 -1.809222149655214, 864.2289303416783 -1.8091316207527437, 864.2289068694938 -1.8090384076130204, 864.2288924553199 -1.8089433714912329, 864.2288872323378 -1.8088473904862545, 864.2175280426949 -0.001, 15.843194171237835 -0.001, 1.0601621482177743 -7.533331036419828, 1.0600726282179138 -7.5333712448303976, 1.0599795981678999 -7.533402485132092, 1.059883953997969 -7.533424456463729, 1.0597866168137626 -7.533436947229372, 1.059688524025574 -7.533439837136121, 1.059590620320577 -7.533433098352594, 1.0594938485649696 -7.53341679577696, 1.0593991407236598 -7.5333910864119344, 1.0593074088849317 -7.533356217852757, 1.0592195364765378 -7.533312525902712, 1.0591363697578071 -7.533260431339165, 1.0590587096697046 -7.533200435861239, 1.0589873041213318 -7.533133117258185, 1.058922840787154 -7.533059123844949, 1.0588659404843184 -7.53297916821855, 1.0588171511938465 -7.5328940203953785, 1.0587769427832758 -7.532804500395518, 1.0587457024815812 -7.532711470345504, 1.058723731149945 -7.532615826175573, 1.0587112403843015 -7.532518488991367, 1.0587083504775527 -7.532420396203179, 1.0587150892610797 -7.5323224924981815, 1.0587313918367138 -7.5322257207425745, 1.0587571012017396 -7.532131012901264, 1.0587919697609176 -7.532039281062536, 1.058835661710962 -7.531951408654142, 1.0588877562745092 -7.5318682419354115, 1.0589477517524346 -7.531790581847309, 1.059015070355489 -7.531719176298936, 1.059089063768725 -7.531654712964758, 1.0591690193951238 -7.531597812661923, 1.0592541672182951 -7.531549023371451, 15.83878879270866 -0.001), (15.847119392248844 0.001, 864.217515476159 0.001, 862.871734418921 214.1858889741785, 430.8814984632425 211.4715785517891, 15.847119392248844 0.001), (864.2195280821741 -0.001, 864.2308746675594 -1.806841387003452, 866.6203582102037 -0.001, 864.2195280821741 -0.001), (866.6263217409822 0.001, 1439.9969868674189 0.001, 1151.435889375017 215.2445434139621, 866.6263217409822 0.001))']
2025-08-12 06:09:02,552 - INFO - [calculate_relationships] Intermediate results: adjacency=0, intersections=0, containment=0, overlap=0.0
2025-08-12 06:09:02,552 - INFO - [calculate_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:02,553 - WARNING - [calculate_relationships] All relational features are zero/default. Strokes: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)]}]
2025-08-12 06:09:02,553 - INFO - [extract_relational_features] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:02,553 - DEBUG - [extract_relational_features] Output is JSON serializable.
2025-08-12 06:09:02,553 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 3.38113823e-02]
 [1.00000000e+00 3.38113823e-02]
 [7.99608254e-01 1.00000000e+00]
 [6.00159644e-01 2.56919126e-02]
 [5.99217172e-01 9.95246849e-01]
 [2.99223094e-01 9.83062902e-01]
 [7.35908443e-04 0.00000000e+00]]
2025-08-12 06:09:02,554 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,554 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,554 - INFO - Computed angular variance: 0.426093 for 7 vertices.
2025-08-12 06:09:02,555 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 3.38113823e-02]
 [1.00000000e+00 3.38113823e-02]
 [6.00159644e-01 2.56919126e-02]
 [7.35908443e-04 0.00000000e+00]]
2025-08-12 06:09:02,555 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,556 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,556 - INFO - [robust_curvature] INPUT: [[0.79960825 1.        ]
 [0.59921717 0.99524685]
 [0.29922309 0.9830629 ]]
2025-08-12 06:09:02,556 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,558 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,558 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,558 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.4260926637231578, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,558 - INFO - [robust_curvature] INPUT: [[0.00383908 0.03368167]
 [0.99539499 0.03751793]
 [0.79961187 0.99255575]
 [0.60092116 0.03314907]
 [0.59806993 0.99148064]
 [0.29922887 0.97933836]
 [0.00187816 0.00390099]]
2025-08-12 06:09:02,558 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,558 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,558 - INFO - Computed angular variance: 0.459613 for 7 vertices.
2025-08-12 06:09:02,560 - INFO - [robust_curvature] INPUT: [[0.00383908 0.03368167]
 [0.99539499 0.03751793]
 [0.60092116 0.03314907]
 [0.00187816 0.00390099]]
2025-08-12 06:09:02,560 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,561 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,561 - INFO - [robust_curvature] INPUT: [[0.79961187 0.99255575]
 [0.59806993 0.99148064]
 [0.29922887 0.97933836]]
2025-08-12 06:09:02,561 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,562 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,562 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,562 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.459613133439785, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,563 - INFO - [robust_curvature] INPUT: [[0.10681905 0.03071755]
 [0.8718482  0.13665184]
 [0.79944479 0.79317643]
 [0.62131687 0.23287239]
 [0.56727786 0.89047863]
 [0.29938396 0.879209  ]
 [0.03285335 0.10851859]]
2025-08-12 06:09:02,563 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,563 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,564 - INFO - Computed angular variance: 0.484832 for 7 vertices.
2025-08-12 06:09:02,565 - INFO - [robust_curvature] INPUT: [[0.10681905 0.03071755]
 [0.8718482  0.13665184]
 [0.62131687 0.23287239]
 [0.03285335 0.10851859]]
2025-08-12 06:09:02,565 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,565 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,566 - INFO - [robust_curvature] INPUT: [[0.79944479 0.79317643]
 [0.56727786 0.89047863]
 [0.29938396 0.879209  ]]
2025-08-12 06:09:02,566 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,566 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,566 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,567 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.48483197106608156, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,567 - INFO - [robust_curvature] INPUT: [[0.30695264 0.13339931]
 [0.62897086 0.27406115]
 [0.73991336 0.47338994]
 [0.64805546 0.54809895]
 [0.50445589 0.69543696]
 [0.30516437 0.64094056]
 [0.16543148 0.30629755]]
2025-08-12 06:09:02,567 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,568 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,568 - INFO - Computed angular variance: 0.162070 for 7 vertices.
2025-08-12 06:09:02,568 - INFO - [robust_curvature] INPUT: [[0.62897086 0.27406115]
 [0.73991336 0.47338994]
 [0.64805546 0.54809895]
 [0.50445589 0.69543696]
 [0.30516437 0.64094056]]
2025-08-12 06:09:02,568 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,569 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,569 - INFO - [robust_curvature] INPUT: [[0.30695264 0.13339931]
 [0.16543148 0.30629755]]
2025-08-12 06:09:02,569 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,570 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,570 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,570 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.16207003807671574, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,571 - INFO - [robust_curvature] INPUT: [[0.4310751  0.36378634]
 [0.50333687 0.37597701]
 [0.55081019 0.43468186]
 [0.53832109 0.49598066]
 [0.47603026 0.51523143]
 [0.40992782 0.47700405]
 [0.38944274 0.40896307]]
2025-08-12 06:09:02,571 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,572 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,572 - INFO - Computed angular variance: 0.016414 for 7 vertices.
2025-08-12 06:09:02,573 - INFO - [robust_curvature] INPUT: [[0.55081019 0.43468186]
 [0.53832109 0.49598066]
 [0.47603026 0.51523143]
 [0.40992782 0.47700405]]
2025-08-12 06:09:02,574 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,574 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,574 - INFO - [robust_curvature] INPUT: [[0.4310751  0.36378634]
 [0.50333687 0.37597701]
 [0.38944274 0.40896307]]
2025-08-12 06:09:02,574 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,575 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,575 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,575 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.016414355594451504, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,575 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.4260926637231578, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.459613133439785, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.48483197106608156, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.16207003807671574, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.016414355594451504, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:02,577 - INFO - [_calculate_image_features] INPUTS: vertices=[(0.0, 0.033811382274634934), (1.0, 0.033811382274634934), (0.7996082537822807, 1.0), (0.600159643897638, 0.025691912632435678), (0.5992171723028041, 0.995246848651053), (0.299223094045963, 0.9830629016593232), (0.0007359084428597463, 0.0)], strokes=[{'command': 'line_normal_1.000-0.500', 'vertices': [(0.5, 0.5), (0.4473684210526316, 0.5), (0.39473684210526316, 0.5), (0.34210526315789475, 0.5), (0.2894736842105263, 0.5), (0.2368421052631579, 0.5), (0.1842105263157895, 0.5), (0.13157894736842107, 0.5), (0.07894736842105265, 0.5), (0.026315789473684237, 0.5), (-0.02631578947368418, 0.5000000000000001), (-0.07894736842105265, 0.5000000000000001), (-0.13157894736842102, 0.5000000000000001), (-0.18421052631578938, 0.5000000000000001), (-0.23684210526315785, 0.5000000000000001), (-0.2894736842105263, 0.5000000000000001), (-0.3421052631578947, 0.5000000000000001), (-0.39473684210526305, 0.5000000000000001), (-0.4473684210526315, 0.5000000000000001), (-0.5, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.250-0.898', 'vertices': [(0.5, 0.5), (0.528627392316817, 0.47864625060508864), (0.5572547846336341, 0.4572925012101773), (0.5858821769504511, 0.43593875181526587), (0.6145095692672682, 0.41458500242035456), (0.6431369615840852, 0.39323125302544315), (0.6717643539009022, 0.3718775036305318), (0.7003917462177193, 0.35052375423562043)], 'geometry': {'area': 1.6263032587282567e-18, 'perimeter': 0.16666666666666666, 'centroid': [0.6685296203057817, 0.37429035666950483], 'bounds': [0.6335944974784795, 0.35052375423562043, 0.7003917462177193, 0.4003491694904136], 'width': 0.06679724873923976, 'height': 0.04982541525479317}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.06679724873923976, 'height': 0.04982541525479317}, {'command': 'line_normal_0.250-0.705', 'vertices': [(0.5, 0.5), (0.4900360319271704, 0.46570379694010916), (0.48007206385434076, 0.4314075938802184), (0.47010809578151114, 0.39711139082032754), (0.46014412770868146, 0.36281518776043675), (0.45018015963585184, 0.3285189847005459), (0.4402161915630222, 0.2942227816406551), (0.4302522234901926, 0.2599265785807643)], 'geometry': {'area': 3.0899761915836876e-18, 'perimeter': 0.24999999999999997, 'centroid': [0.47938012162706095, 0.42902591311217037], 'bounds': [0.46512611174509627, 0.37996328929038214, 0.5, 0.5], 'width': 0.03487388825490373, 'height': 0.12003671070961786}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.03487388825490373, 'height': 0.12003671070961786}, {'command': 'line_normal_0.150-0.148', 'vertices': [(0.5, 0.5), (0.5128122496369468, 0.5171764353900902), (0.5256244992738937, 0.5343528707801805), (0.5384367489108405, 0.5515293061702706), (0.5512489985477874, 0.5687057415603608), (0.5640612481847342, 0.585882176950451), (0.5768734978216811, 0.6030586123405413), (0.5896857474586279, 0.6202350477306314)], 'geometry': {'area': 3.0899761915836876e-18, 'perimeter': 0.10268605994231948, 'centroid': [0.530360940765205, 0.540702667541855], 'bounds': [0.514144620264286, 0.5189626461371981, 0.544842873729314, 0.5601175238653157], 'width': 0.03069825346502797, 'height': 0.041154877728117545}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.03069825346502797, 'height': 0.041154877728117545}, {'command': 'line_normal_0.300-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.45714285714285713), (0.5, 0.41428571428571426), (0.5, 0.37142857142857144), (0.49999999999999994, 0.32857142857142857), (0.49999999999999994, 0.2857142857142857), (0.49999999999999994, 0.24285714285714288), (0.49999999999999994, 0.2)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.335-0.574', 'vertices': [(0.5, 0.5), (0.45722330327276095, 0.4785416603728342), (0.4144466065455219, 0.4570833207456684), (0.37166990981828285, 0.43562498111850256), (0.3288932130910438, 0.41416664149133675), (0.28611651636380475, 0.39270830186417094), (0.24333981963656565, 0.37124996223700507), (0.2005631229093266, 0.34979162260983926)], 'geometry': {'area': 3.144186300207963e-18, 'perimeter': 0.5583333333333333, 'centroid': [0.34552859515163675, 0.42251155134634566], 'bounds': [0.2504692690911055, 0.37482635217486604, 0.5, 0.5], 'width': 0.2495307309088945, 'height': 0.12517364782513396}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.2495307309088945, 'height': 0.12517364782513396}], geometry={'area': 0.42384379053135135, 'perimeter': 2.8428702691793477, 'centroid': [0.37017482351852105, 0.45927538150433767], 'bounds': [0.011002051453110243, 0.033811382274634934, 0.6001517512355323, 0.995246848651053], 'width': 0.589149699782422, 'height': 0.961435466376418}
2025-08-12 06:09:02,577 - DEBUG - [POLYGON CREATION] Attempting to create Polygon with vertices: [(0.0, 0.033811382274634934), (1.0, 0.033811382274634934), (0.7996082537822807, 1.0), (0.600159643897638, 0.025691912632435678), (0.5992171723028041, 0.995246848651053), (0.299223094045963, 0.9830629016593232), (0.0007359084428597463, 0.0)]
2025-08-12 06:09:02,577 - DEBUG - polygon: raw build 7 verts in 0.000s
2025-08-12 06:09:02,577 - WARNING - polygon_from_vertices: Polygon is self-intersecting. Trying convex hull fallback. Vertices: [(0.0, 0.033811382274634934), (1.0, 0.033811382274634934), (0.7996082537822807, 1.0), (0.600159643897638, 0.025691912632435678), (0.5992171723028041, 0.995246848651053), (0.299223094045963, 0.9830629016593232), (0.0007359084428597463, 0.0)]
2025-08-12 06:09:02,578 - DEBUG - [POLYGON REPAIR] Final polygon: is_valid=True, is_empty=False, area=0.735469519622105
2025-08-12 06:09:02,578 - INFO - [_calculate_perimeter] INPUT vertices: [(0.0, 0.033811382274634934), (1.0, 0.033811382274634934), (0.7996082537822807, 1.0), (0.600159643897638, 0.025691912632435678), (0.5992171723028041, 0.995246848651053), (0.299223094045963, 0.9830629016593232), (0.0007359084428597463, 0.0)]
2025-08-12 06:09:02,578 - INFO - [_calculate_perimeter] OUTPUT perimeter: 5.312258837009888
2025-08-12 06:09:02,579 - INFO - [robust_curvature] INPUT: [(0.0, 0.033811382274634934), (1.0, 0.033811382274634934), (0.7996082537822807, 1.0), (0.600159643897638, 0.025691912632435678), (0.5992171723028041, 0.995246848651053), (0.299223094045963, 0.9830629016593232), (0.0007359084428597463, 0.0)]
2025-08-12 06:09:02,579 - INFO - [robust_curvature] OUTPUT: 2.169266413898434
2025-08-12 06:09:02,579 - INFO - Computed angular variance: 0.426093 for 7 vertices.
2025-08-12 06:09:02,581 - INFO - [complexity] Calling calculate_complexity with vertices: [(0.0, 0.033811382274634934), (1.0, 0.033811382274634934), (0.7996082537822807, 1.0), (0.600159643897638, 0.025691912632435678), (0.5992171723028041, 0.995246848651053), (0.299223094045963, 0.9830629016593232), (0.0007359084428597463, 0.0)]
2025-08-12 06:09:02,582 - INFO - Complexity: n=7, n_norm=0.28, curvature=1.00, irregularity=0.21, result=0.48
2025-08-12 06:09:02,582 - INFO - [complexity] Output for vertices count 7: 0.48008016738437476
2025-08-12 06:09:02,582 - INFO - [_calculate_image_features] polsby_popper: 0.2743078407683333
2025-08-12 06:09:02,585 - INFO - [_calculate_image_features] OUTPUT: {'bounding_box': (0.0, 0.0, 1.0, 1.0), 'centroid': [0.37017482351852105, 0.45927538150433767], 'width': 0.589149699782422, 'height': 0.961435466376418, 'area_raw': 0.735469519622105, 'area_normalized': 1.0, 'perimeter_raw': 5.312258837009888, 'perimeter_normalized': 1.0, 'aspect_ratio': 0.6127813258261476, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.3275036070062752, 'polsby_popper_compactness': 0.2743078407683333, 'eccentricity': 0.5395783096423176, 'symmetry_score': 0.5074413944767797, 'horizontal_symmetry': 0.9527809521338552, 'vertical_symmetry': 0.6228363380882115, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 7.0, 'visual_complexity': 0.555149683593099, 'curvature_score': 2.169266413898434, 'angular_variance': 0.4260926637231578, 'moment_of_inertia': 0.28072071819593725, 'irregularity_score': 0.2059563924774295, 'standardized_complexity': 0.48008016738437476, 'clustering_heights': [0.0, 0.07397184408695402, 0.15937049282605045, 0.29744560780713886, 0.6622875095423515], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:02,585 - DEBUG - [_calculate_composition_features] INPUTS: strokes count=6
2025-08-12 06:09:02,585 - DEBUG - [_calculate_composition_features] OUTPUT: {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'normal': 6}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 7, 'homogeneity_score': 1.0, 'pattern_regularity': 0.16666666666666666}
2025-08-12 06:09:02,586 - INFO - [_calculate_physics_features] INPUT vertices: [(0.0, 0.033811382274634934), (1.0, 0.033811382274634934), (0.7996082537822807, 1.0), (0.600159643897638, 0.025691912632435678), (0.5992171723028041, 0.995246848651053), (0.299223094045963, 0.9830629016593232), (0.0007359084428597463, 0.0)]
2025-08-12 06:09:02,586 - INFO - [_calculate_physics_features] INPUT centroid: [0.37017482351852105, 0.45927538150433767]
2025-08-12 06:09:02,586 - INFO - [_calculate_physics_features] INPUT strokes: ['line_normal_1.000-0.500', 'line_normal_0.250-0.898', 'line_normal_0.250-0.705', 'line_normal_0.150-0.148', 'line_normal_0.300-0.750', 'line_normal_0.335-0.574']
2025-08-12 06:09:02,587 - INFO - [_calculate_physics_features] polsby_popper: 0.7474469244094958
2025-08-12 06:09:02,589 - INFO - Computed angular variance: 0.426093 for 7 vertices.
2025-08-12 06:09:02,589 - INFO - [_calculate_physics_features] OUTPUT: {'moment_of_inertia': 0.28072071819593725, 'center_of_mass': [0.37017482351852105, 0.45927538150433767], 'polsby_popper_compactness': 0.7474469244094958, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.169266413898434, 'angular_variance': 0.4260926637231578, 'edge_length_variance': 0.1454464112140345}
2025-08-12 06:09:02,589 - INFO - [calculate_shape_relationships] INPUT: shapes=[{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)]}], buffer_amt=0.001
2025-08-12 06:09:02,589 - DEBUG - [calculate_shape_relationships] Shape 0 vertices: [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)]
2025-08-12 06:09:02,590 - WARNING - calculate_shape_relationships: No valid geometries found.
2025-08-12 06:09:02,590 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal'], n=2
2025-08-12 06:09:02,590 - DEBUG - [ensure_str_list] Converting list: ['normal']
2025-08-12 06:09:02,591 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,591 - DEBUG - [ensure_str_list] Result: ['normal']
2025-08-12 06:09:02,591 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal']
2025-08-12 06:09:02,591 - DEBUG - [_extract_ngram_features] OUTPUT: {}
2025-08-12 06:09:02,592 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:02,592 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal'], n=2
2025-08-12 06:09:02,592 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal']
2025-08-12 06:09:02,592 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,593 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,593 - DEBUG - [ensure_str_list] Result: ['normal', 'normal']
2025-08-12 06:09:02,593 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal']
2025-08-12 06:09:02,593 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 1}
2025-08-12 06:09:02,593 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:02,594 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal'], n=2
2025-08-12 06:09:02,594 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal']
2025-08-12 06:09:02,594 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,594 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,595 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,595 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal']
2025-08-12 06:09:02,595 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal']
2025-08-12 06:09:02,595 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 2}
2025-08-12 06:09:02,596 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:02,596 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:02,596 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,596 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,597 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,597 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,597 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,597 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,598 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,598 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-12 06:09:02,598 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:02,598 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:02,598 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,598 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,598 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,599 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,599 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,599 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,601 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,601 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,601 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 4}
2025-08-12 06:09:02,601 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:02,602 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:02,602 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,602 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,602 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,602 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,603 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,603 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,603 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,604 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,604 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,604 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-12 06:09:02,605 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:02,605 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,605 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,606 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,606 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,606 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,607 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,607 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,607 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,607 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,608 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,608 - DEBUG - [_detect_alternation] OUTPUT: 0.16666666666666666
2025-08-12 06:09:02,608 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:02,609 - INFO - [extract_regularity_features] INPUT: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,609 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,609 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,609 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,610 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,610 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,610 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,610 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,611 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,611 - INFO - [extract_regularity_features] OUTPUT: {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 6}}
2025-08-12 06:09:02,611 - DEBUG - [extract_regularity_features] Output is JSON serializable.
2025-08-12 06:09:02,611 - INFO - [extract_dominant_shape_modifiers] INPUT: {'modifiers': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']}
2025-08-12 06:09:02,612 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,612 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,612 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,613 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,613 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,613 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,614 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,614 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,614 - INFO - [extract_dominant_shape_modifiers] OUTPUT: {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 6}}
2025-08-12 06:09:02,614 - DEBUG - [extract_dominant_shape_modifiers] Output is JSON serializable.
2025-08-12 06:09:02,615 - WARNING - [PATCH] Failed to load canonical summary for image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_5: type object 'FileIO' has no attribute 'load_canonical_features'
2025-08-12 06:09:02,615 - DEBUG - [process_single_image] Passing topo_shape_list to extract_topological_features: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)]}]
2025-08-12 06:09:02,628 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image type: <class 'bongard.bongard.BongardImage'> | problem_id=hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:02,628 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image.one_stroke_shapes: [<src.data_pipeline.logo_parser.OneStrokeShape object at 0x00000259476C78D0>]
2025-08-12 06:09:02,629 - INFO - [extract_stroke_features_from_shapes] problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 | num_shapes=1 | total_strokes=6
2025-08-12 06:09:02,629 - INFO - [extract_stroke_features_from_shapes] PATCH: shapes=[<src.data_pipeline.logo_parser.OneStrokeShape object at 0x00000259476C78D0>]
2025-08-12 06:09:02,629 - INFO - [extract_stroke_features_from_shapes] Shape 0 actions: [line_normal_1.000-0.500, line_normal_0.250-0.898, line_normal_0.250-0.705, line_normal_0.150-0.148, line_normal_0.300-0.750, line_normal_0.335-0.574]
2025-08-12 06:09:02,630 - INFO - [extract_stroke_features_from_shapes] Shape 0: [line_normal_1.000-0.500, line_normal_0.250-0.898, line_normal_0.250-0.705, line_normal_0.150-0.148, line_normal_0.300-0.750, line_normal_0.335-0.574], None, None, None
2025-08-12 06:09:02,631 - INFO - [extract_stroke_features_from_shapes] Shape 0 geometry: {'area': 0.42384379053135135, 'perimeter': 2.8428702691793477, 'centroid': [0.37017482351852105, 0.45927538150433767], 'bounds': [0.011002051453110243, 0.033811382274634934, 0.6001517512355323, 0.995246848651053], 'width': 0.589149699782422, 'height': 0.961435466376418, 'robust_curvature': 2.169266413898434, 'robust_angular_variance': 0.4260926637231578, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 2.666209161058734}
2025-08-12 06:09:02,631 - INFO - [extract_stroke_features_from_shapes] Shape 0: num_actions=6 | actions=[line_normal_1.000-0.500, line_normal_0.250-0.898, line_normal_0.250-0.705, line_normal_0.150-0.148, line_normal_0.300-0.750, line_normal_0.335-0.574]
2025-08-12 06:09:02,631 - INFO - [extract_stroke_features_from_shapes] PATCH: Validated/corrected shape_vertices for shape 0: [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639), (0.0, 0.0)]
2025-08-12 06:09:02,631 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=0 | stroke=line_normal_1.000-0.500
2025-08-12 06:09:02,631 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1440.0, 0.0)]
2025-08-12 06:09:02,631 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,633 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,633 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,634 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,634 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,635 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.659024568854667}
2025-08-12 06:09:02,635 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.659024568854667, 'is_simple': True}
2025-08-12 06:09:02,635 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 0: {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)], 'open_stroke_perimeter': 3290.4, 'compactness': 0.659024568854667, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'line_length': 3290.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:02,635 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=1 | stroke=line_normal_0.250-0.898
2025-08-12 06:09:02,637 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(1440.0, 0.0), (1151.4358854464842, 215.2457939007066)]
2025-08-12 06:09:02,637 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,637 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,637 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_1.000-0.500, line_normal_0.250-0.898, line_normal_0.250-0.705, line_normal_0.150-0.148, line_normal_0.300-0.750, line_normal_0.335-0.574]
2025-08-12 06:09:02,637 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_1.000-0.500
2025-08-12 06:09:02,637 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,639 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,639 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,640 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,640 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,641 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.659024568854667}
2025-08-12 06:09:02,641 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.659024568854667, 'is_simple': True}
2025-08-12 06:09:02,643 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.250-0.898
2025-08-12 06:09:02,643 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,643 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,644 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,644 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.00000000000006. Returning 0.0.
2025-08-12 06:09:02,644 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,645 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,645 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,645 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,645 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:02,646 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,646 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,646 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 0.0), (1151.4358854464842, 215.2457939007066)]
2025-08-12 06:09:02,646 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,647 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,647 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.250-0.705
2025-08-12 06:09:02,647 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,648 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,648 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,648 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.00000000000006. Returning 0.0.
2025-08-12 06:09:02,648 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,650 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,650 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,650 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,651 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:02,652 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,652 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,652 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 0.0), (1151.4358854464842, 215.2457939007066)]
2025-08-12 06:09:02,653 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,653 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,653 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.150-0.148
2025-08-12 06:09:02,654 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,654 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,655 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,655 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.00000000000006. Returning 0.0.
2025-08-12 06:09:02,655 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,656 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,656 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,657 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,657 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:02,658 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,658 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,658 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 0.0), (1151.4358854464842, 215.2457939007066)]
2025-08-12 06:09:02,659 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,659 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,659 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.750
2025-08-12 06:09:02,660 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,660 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,660 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,661 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.00000000000006. Returning 0.0.
2025-08-12 06:09:02,661 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,661 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,661 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,662 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,662 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:02,662 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,663 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,663 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 0.0), (1151.4358854464842, 215.2457939007066)]
2025-08-12 06:09:02,663 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,663 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,665 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.335-0.574
2025-08-12 06:09:02,665 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,665 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,666 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,666 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.00000000000006. Returning 0.0.
2025-08-12 06:09:02,666 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,667 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,667 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,667 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,668 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:02,668 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,668 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,669 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 0.0), (1151.4358854464842, 215.2457939007066)]
2025-08-12 06:09:02,669 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,669 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,670 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 06:09:02,670 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 06:09:02,672 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:02,672 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.00000000000006. Returning 0.0.
2025-08-12 06:09:02,672 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,672 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,672 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 300.00000000000006, 'var': 18000.000000000004, 'min': 0.0, 'max': 360.00000000000006, 'count': 6}, 'width': {'mean': 240.47009546126313, 'var': 11565.173362229803, 'min': 0.0, 'max': 288.56411455351576, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 179.3714949172555, 'var': 6434.826637770202, 'min': 0.0, 'max': 215.2457939007066, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:02,673 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 300.00000000000006, 'var': 18000.000000000004, 'min': 0.0, 'max': 360.00000000000006, 'count': 6}, 'width': {'mean': 240.47009546126313, 'var': 11565.173362229803, 'min': 0.0, 'max': 288.56411455351576, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 179.3714949172555, 'var': 6434.826637770202, 'min': 0.0, 'max': 215.2457939007066, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:02,673 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:02,673 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,673 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,675 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 0.0), (1151.4358854464842, 215.2457939007066)]
2025-08-12 06:09:02,675 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,675 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,676 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (1151.4358854464842, 215.2457939007066)], 'open_stroke_perimeter': 360.00000000000006, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.00000000000006, 'avg_stroke_length': 360.00000000000006, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 360.00000000000006, 'var': 0.0, 'min': 360.00000000000006, 'max': 360.00000000000006, 'count': 1}, 'width': {'mean': 288.56411455351576, 'var': 0.0, 'min': 288.56411455351576, 'max': 288.56411455351576, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 215.2457939007066, 'var': 0.0, 'min': 215.2457939007066, 'max': 215.2457939007066, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 360.00000000000006, 'var': 0.0, 'min': 360.00000000000006, 'max': 360.00000000000006, 'count': 1}, 'width': {'mean': 288.56411455351576, 'var': 0.0, 'min': 288.56411455351576, 'max': 288.56411455351576, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 215.2457939007066, 'var': 0.0, 'min': 215.2457939007066, 'max': 215.2457939007066, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 288.56411455351576, 'height': 215.2457939007066, 'area': 0.0, 'perimeter': 360.00000000000006, 'centroid': [1295.7179427232422, 107.6228969503533], 'bounds': [1151.4358854464842, 0.0, 1440.0, 215.2457939007066], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.00000000000006, 'line_angle': 143.28000000000006, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:02,676 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_normal_0.250-0.705
2025-08-12 06:09:02,676 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289)]
2025-08-12 06:09:02,676 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,676 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,678 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_1.000-0.500, line_normal_0.250-0.898, line_normal_0.250-0.705, line_normal_0.150-0.148, line_normal_0.300-0.750, line_normal_0.335-0.574]
2025-08-12 06:09:02,678 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_1.000-0.500
2025-08-12 06:09:02,678 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,679 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,679 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,679 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,679 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,680 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.659024568854667}
2025-08-12 06:09:02,682 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.659024568854667, 'is_simple': True}
2025-08-12 06:09:02,682 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.250-0.898
2025-08-12 06:09:02,683 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,683 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,683 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,684 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:02,684 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,685 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,685 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,685 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,685 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:02,686 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,686 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,687 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289)]
2025-08-12 06:09:02,688 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,688 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,689 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.250-0.705
2025-08-12 06:09:02,689 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,689 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,690 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,690 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:02,691 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,691 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,692 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,692 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,692 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:02,693 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,693 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,693 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289)]
2025-08-12 06:09:02,694 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,694 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,694 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.150-0.148
2025-08-12 06:09:02,694 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,695 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,695 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,695 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:02,696 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,696 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,696 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,696 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,698 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:02,698 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,698 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,699 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289)]
2025-08-12 06:09:02,699 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,699 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,699 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.750
2025-08-12 06:09:02,700 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,700 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,702 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,702 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:02,702 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,702 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,702 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,703 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,703 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:02,703 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,703 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,703 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289)]
2025-08-12 06:09:02,704 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,704 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,704 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.335-0.574
2025-08-12 06:09:02,706 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,706 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,706 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,707 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:02,707 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,708 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,708 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,708 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,708 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:02,709 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,709 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,709 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289)]
2025-08-12 06:09:02,710 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,710 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,710 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 06:09:02,710 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 06:09:02,711 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:02,711 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=360.0. Returning 0.0.
2025-08-12 06:09:02,713 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,713 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,713 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 300.0, 'var': 18000.0, 'min': 0.0, 'max': 360.0, 'count': 6}, 'width': {'mean': 239.3383318615713, 'var': 11456.567419655927, 'min': 0.0, 'max': 287.20599823388557, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 180.8788625067074, 'var': 6543.43258034407, 'min': 0.0, 'max': 217.05463500804888, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:02,713 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 300.0, 'var': 18000.0, 'min': 0.0, 'max': 360.0, 'count': 6}, 'width': {'mean': 239.3383318615713, 'var': 11456.567419655927, 'min': 0.0, 'max': 287.20599823388557, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 180.8788625067074, 'var': 6543.43258034407, 'min': 0.0, 'max': 217.05463500804888, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:02,713 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:02,714 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,714 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,715 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289)]
2025-08-12 06:09:02,715 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,715 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,716 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 360.0, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 360.0, 'var': 0.0, 'min': 360.0, 'max': 360.0, 'count': 1}, 'width': {'mean': 287.20599823388557, 'var': 0.0, 'min': 287.20599823388557, 'max': 287.20599823388557, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 217.05463500804888, 'var': 0.0, 'min': 217.05463500804888, 'max': 217.05463500804888, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 360.0, 'var': 0.0, 'min': 360.0, 'max': 360.0, 'count': 1}, 'width': {'mean': 287.20599823388557, 'var': 0.0, 'min': 287.20599823388557, 'max': 287.20599823388557, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 217.05463500804888, 'var': 0.0, 'min': 217.05463500804888, 'max': 217.05463500804888, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'geometry': {'width': 287.20599823388557, 'height': 217.05463500804888, 'area': 0.0, 'perimeter': 360.0, 'centroid': [1007.8328863295415, 106.71847639668215], 'bounds': [864.2298872125987, -1.808841107342289, 1151.4358854464842, 215.2457939007066], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': -142.92000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:02,716 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_normal_0.150-0.148
2025-08-12 06:09:02,716 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331)]
2025-08-12 06:09:02,717 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,717 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,717 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_1.000-0.500, line_normal_0.250-0.898, line_normal_0.250-0.705, line_normal_0.150-0.148, line_normal_0.300-0.750, line_normal_0.335-0.574]
2025-08-12 06:09:02,718 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_1.000-0.500
2025-08-12 06:09:02,718 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,718 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,720 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,720 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,721 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,722 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.659024568854667}
2025-08-12 06:09:02,723 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.659024568854667, 'is_simple': True}
2025-08-12 06:09:02,723 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.250-0.898
2025-08-12 06:09:02,723 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,724 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,724 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,724 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=215.99999999999997. Returning 0.0.
2025-08-12 06:09:02,724 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,725 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,725 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,725 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,725 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:02,727 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,727 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,727 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331)]
2025-08-12 06:09:02,728 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,728 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,728 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.250-0.705
2025-08-12 06:09:02,728 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,729 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,729 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,729 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=215.99999999999997. Returning 0.0.
2025-08-12 06:09:02,730 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,730 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,730 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,731 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,731 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:02,732 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,732 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,732 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331)]
2025-08-12 06:09:02,732 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,734 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,734 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.150-0.148
2025-08-12 06:09:02,734 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,735 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,735 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,735 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=215.99999999999997. Returning 0.0.
2025-08-12 06:09:02,736 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,736 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,736 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,736 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,737 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:02,737 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,737 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,737 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331)]
2025-08-12 06:09:02,738 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,738 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,738 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.750
2025-08-12 06:09:02,740 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,740 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,740 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,741 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=215.99999999999997. Returning 0.0.
2025-08-12 06:09:02,742 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,742 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,742 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,743 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,743 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:02,743 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,743 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,744 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331)]
2025-08-12 06:09:02,744 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,744 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,745 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.335-0.574
2025-08-12 06:09:02,745 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,745 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,745 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,747 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=215.99999999999997. Returning 0.0.
2025-08-12 06:09:02,747 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,747 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,748 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,748 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,748 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:02,748 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,750 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,750 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331)]
2025-08-12 06:09:02,750 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,751 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,751 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 06:09:02,751 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 06:09:02,751 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:02,752 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=215.99999999999997. Returning 0.0.
2025-08-12 06:09:02,752 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,752 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,753 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 179.99999999999997, 'var': 6479.999999999997, 'min': 0.0, 'max': 215.99999999999997, 'count': 6}, 'width': {'mean': 1.130965913800613, 'var': 0.25581677963577115, 'min': 0.0, 'max': 1.3571590965607356, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 179.9964469541047, 'var': 6479.744183220363, 'min': 0.0, 'max': 215.9957363449256, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:02,753 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 179.99999999999997, 'var': 6479.999999999997, 'min': 0.0, 'max': 215.99999999999997, 'count': 6}, 'width': {'mean': 1.130965913800613, 'var': 0.25581677963577115, 'min': 0.0, 'max': 1.3571590965607356, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 179.9964469541047, 'var': 6479.744183220363, 'min': 0.0, 'max': 215.9957363449256, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:02,753 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:02,754 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,755 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,755 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331)]
2025-08-12 06:09:02,755 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,755 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,755 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331)], 'open_stroke_perimeter': 215.99999999999997, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 215.99999999999997, 'avg_stroke_length': 215.99999999999997, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 215.99999999999997, 'var': 0.0, 'min': 215.99999999999997, 'max': 215.99999999999997, 'count': 1}, 'width': {'mean': 1.3571590965607356, 'var': 0.0, 'min': 1.3571590965607356, 'max': 1.3571590965607356, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 215.9957363449256, 'var': 0.0, 'min': 215.9957363449256, 'max': 215.9957363449256, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 215.99999999999997, 'var': 0.0, 'min': 215.99999999999997, 'max': 215.99999999999997, 'count': 1}, 'width': {'mean': 1.3571590965607356, 'var': 0.0, 'min': 1.3571590965607356, 'max': 1.3571590965607356, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 215.9957363449256, 'var': 0.0, 'min': 215.9957363449256, 'max': 215.9957363449256, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'geometry': {'width': 1.3571590965607356, 'height': 215.9957363449256, 'area': 0.0, 'perimeter': 215.99999999999997, 'centroid': [863.5513076643183, 106.18902706512051], 'bounds': [862.8727281160379, -1.808841107342289, 864.2298872125987, 214.18689523758331], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 215.99999999999997, 'line_angle': 90.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:02,755 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=4 | stroke=line_normal_0.300-0.750
2025-08-12 06:09:02,755 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167)]
2025-08-12 06:09:02,757 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,757 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,757 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_1.000-0.500, line_normal_0.250-0.898, line_normal_0.250-0.705, line_normal_0.150-0.148, line_normal_0.300-0.750, line_normal_0.335-0.574]
2025-08-12 06:09:02,757 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_1.000-0.500
2025-08-12 06:09:02,758 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,758 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,758 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,760 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,760 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,761 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.659024568854667}
2025-08-12 06:09:02,761 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.659024568854667, 'is_simple': True}
2025-08-12 06:09:02,762 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.250-0.898
2025-08-12 06:09:02,762 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,762 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,762 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,764 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=431.99999999999994. Returning 0.0.
2025-08-12 06:09:02,764 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,765 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,765 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,765 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,765 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:02,765 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,766 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,766 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167)]
2025-08-12 06:09:02,766 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,766 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,767 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.250-0.705
2025-08-12 06:09:02,767 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,767 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,768 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,768 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=431.99999999999994. Returning 0.0.
2025-08-12 06:09:02,768 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,769 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,769 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,769 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,769 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:02,771 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,771 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,771 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167)]
2025-08-12 06:09:02,771 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,772 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,772 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.150-0.148
2025-08-12 06:09:02,772 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,773 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,773 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,773 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=431.99999999999994. Returning 0.0.
2025-08-12 06:09:02,774 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,774 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,774 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,775 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,775 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:02,775 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,775 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,776 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167)]
2025-08-12 06:09:02,776 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,776 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,777 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.750
2025-08-12 06:09:02,777 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,777 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,778 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,778 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=431.99999999999994. Returning 0.0.
2025-08-12 06:09:02,778 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,779 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,779 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,779 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,779 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:02,780 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,780 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,780 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167)]
2025-08-12 06:09:02,781 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,781 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,782 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.335-0.574
2025-08-12 06:09:02,782 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,782 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,783 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,783 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=431.99999999999994. Returning 0.0.
2025-08-12 06:09:02,783 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,784 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,784 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,784 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,785 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:02,785 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,785 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,785 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167)]
2025-08-12 06:09:02,786 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,786 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,786 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 06:09:02,786 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 06:09:02,788 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:02,788 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=431.99999999999994. Returning 0.0.
2025-08-12 06:09:02,788 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:02,789 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:02,789 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 359.99999999999994, 'var': 25919.99999999999, 'min': 0.0, 'max': 431.99999999999994, 'count': 6}, 'width': {'mean': 359.9928939082094, 'var': 25918.976732881452, 'min': 0.0, 'max': 431.9914726898512, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 2.261931827601368, 'var': 1.0232671185432132, 'min': 0.0, 'max': 2.714318193121642, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:02,789 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 359.99999999999994, 'var': 25919.99999999999, 'min': 0.0, 'max': 431.99999999999994, 'count': 6}, 'width': {'mean': 359.9928939082094, 'var': 25918.976732881452, 'min': 0.0, 'max': 431.9914726898512, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 2.261931827601368, 'var': 1.0232671185432132, 'min': 0.0, 'max': 2.714318193121642, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:02,790 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:02,790 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,790 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,791 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167)]
2025-08-12 06:09:02,791 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,791 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,792 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 4: {'stroke_index': 4, 'analytic_vertices': [(862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167)], 'open_stroke_perimeter': 431.99999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 431.99999999999994, 'avg_stroke_length': 431.99999999999994, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 431.99999999999994, 'var': 0.0, 'min': 431.99999999999994, 'max': 431.99999999999994, 'count': 1}, 'width': {'mean': 431.9914726898512, 'var': 0.0, 'min': 431.9914726898512, 'max': 431.9914726898512, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 2.714318193121642, 'var': 0.0, 'min': 2.714318193121642, 'max': 2.714318193121642, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 431.99999999999994, 'var': 0.0, 'min': 431.99999999999994, 'max': 431.99999999999994, 'count': 1}, 'width': {'mean': 431.9914726898512, 'var': 0.0, 'min': 431.9914726898512, 'max': 431.9914726898512, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 2.714318193121642, 'var': 0.0, 'min': 2.714318193121642, 'max': 2.714318193121642, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'geometry': {'width': 431.9914726898512, 'height': 2.714318193121642, 'area': 0.0, 'perimeter': 431.99999999999994, 'centroid': [646.8769917711123, 212.8297361410225], 'bounds': [430.8812554261867, 211.47257704446167, 862.8727281160379, 214.18689523758331], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 431.99999999999994, 'line_angle': -179.63999999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:02,792 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=5 | stroke=line_normal_0.335-0.574
2025-08-12 06:09:02,792 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639), (0.0, 0.0)]
2025-08-12 06:09:02,792 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:02,793 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:02,793 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:02,793 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,793 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,795 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.02870253990271619}
2025-08-12 06:09:02,795 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.02870253990271619, 'is_simple': True}
2025-08-12 06:09:02,795 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 5: {'stroke_index': 5, 'analytic_vertices': [(430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639), (0.0, 0.0)], 'open_stroke_perimeter': 490.0066177887093, 'compactness': 0.02870253990271619, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 490.0066177887093, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'line_length': 490.0066177887093, 'line_angle': -153.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:02,796 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=6
2025-08-12 06:09:02,797 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['line_is_long', 'line_angle', 'avg_stroke_length', 'visual_complexity', 'line_is_vertical', 'line_is_short', 'is_normal', 'line_curvature_score', 'is_geometric', 'convexity_ratio', 'compactness', 'stroke_index', 'open_stroke_perimeter', 'arc_curvature_score', 'robust_curvature', 'robust_angular_variance', 'degenerate_case', 'is_simple', 'line_length', 'stroke_length', 'geom_complexity', 'geometric_complexity', 'line_is_horizontal', 'num_vertices', 'is_pattern']
2025-08-12 06:09:02,797 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (6) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-12 06:09:02,797 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=6
2025-08-12 06:09:02,797 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 6
2025-08-12 06:09:02,798 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 6, 'num_arcs': 0, 'line_ratio': 1.0, 'arc_ratio': 0.0, 'stroke_diversity': 0}, 'line_aggregate': {'total_line_length': 5148.406617788709, 'avg_line_length': 858.0677696314515, 'line_length_variance': 1190272.8102991611, 'line_angle_variance': 15840.921600000007, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'horizontal'}}
2025-08-12 06:09:02,798 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_normal_1.000-0.500,line_normal_0.250-0.898,line_normal_0.250-0.705,line_normal_0.150-0.148,line_normal_0.300-0.750,line_normal_0.335-0.574
2025-08-12 06:09:02,798 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_normal_1.000-0.500', 'line_normal_0.250-0.898', 'line_normal_0.250-0.705', 'line_normal_0.150-0.148', 'line_normal_0.300-0.750', 'line_normal_0.335-0.574']]
2025-08-12 06:09:02,799 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_1.000-0.500', 'line_normal_0.250-0.898', 'line_normal_0.250-0.705', 'line_normal_0.150-0.148', 'line_normal_0.300-0.750', 'line_normal_0.335-0.574']
2025-08-12 06:09:02,799 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_1.000-0.500', 'line_normal_0.250-0.898', 'line_normal_0.250-0.705', 'line_normal_0.150-0.148', 'line_normal_0.300-0.750', 'line_normal_0.335-0.574']
2025-08-12 06:09:02,799 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_normal_1.000-0.500', 'line_normal_0.250-0.898', 'line_normal_0.250-0.705', 'line_normal_0.150-0.148', 'line_normal_0.300-0.750', 'line_normal_0.335-0.574']]
2025-08-12 06:09:02,799 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)], 'open_stroke_perimeter': 3290.4, 'compactness': 0.659024568854667, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3290.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.250-0.898', 'features': {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (1151.4358854464842, 215.2457939007066)], 'open_stroke_perimeter': 360.00000000000006, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.00000000000006, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 288.56411455351576, 'height': 215.2457939007066, 'area': 0.0, 'perimeter': 360.00000000000006, 'centroid': [1295.7179427232422, 107.6228969503533], 'bounds': [1151.4358854464842, 0.0, 1440.0, 215.2457939007066], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.00000000000006, 'line_angle': 143.28000000000006, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.250-0.705', 'features': {'stroke_index': 2, 'analytic_vertices': [(1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 287.20599823388557, 'height': 217.05463500804888, 'area': 0.0, 'perimeter': 360.0, 'centroid': [1007.8328863295415, 106.71847639668215], 'bounds': [864.2298872125987, -1.808841107342289, 1151.4358854464842, 215.2457939007066], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': -142.92000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.150-0.148', 'features': {'stroke_index': 3, 'analytic_vertices': [(864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331)], 'open_stroke_perimeter': 215.99999999999997, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 215.99999999999997, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1.3571590965607356, 'height': 215.9957363449256, 'area': 0.0, 'perimeter': 215.99999999999997, 'centroid': [863.5513076643183, 106.18902706512051], 'bounds': [862.8727281160379, -1.808841107342289, 864.2298872125987, 214.18689523758331], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 215.99999999999997, 'line_angle': 90.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.300-0.750', 'features': {'stroke_index': 4, 'analytic_vertices': [(862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167)], 'open_stroke_perimeter': 431.99999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 431.99999999999994, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.9914726898512, 'height': 2.714318193121642, 'area': 0.0, 'perimeter': 431.99999999999994, 'centroid': [646.8769917711123, 212.8297361410225], 'bounds': [430.8812554261867, 211.47257704446167, 862.8727281160379, 214.18689523758331], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 431.99999999999994, 'line_angle': -179.63999999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.335-0.574', 'features': {'stroke_index': 5, 'analytic_vertices': [(430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639), (0.0, 0.0)], 'open_stroke_perimeter': 490.0066177887093, 'compactness': 0.02870253990271619, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 490.0066177887093, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 490.0066177887093, 'line_angle': -153.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:02,799 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:02,800 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:02,800 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-12 06:09:02,800 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-12 06:09:02,800 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.47127772463879225, 0.43880348964172594], 'orientation_degrees': 70.46045946898218}, geometry={'area': 0.42384379053135135, 'perimeter': 2.8428702691793477, 'centroid': [0.37017482351852105, 0.45927538150433767], 'bounds': [0.011002051453110243, 0.033811382274634934, 0.6001517512355323, 0.995246848651053], 'width': 0.589149699782422, 'height': 0.961435466376418}
2025-08-12 06:09:02,800 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_normal_1.000-0.500', 'line_normal_0.250-0.898', 'line_normal_0.250-0.705', 'line_normal_0.150-0.148', 'line_normal_0.300-0.750', 'line_normal_0.335-0.574']
2025-08-12 06:09:02,802 - DEBUG - [PATCH][actions field] Joined: line_normal_1.000-0.500,line_normal_0.250-0.898,line_normal_0.250-0.705,line_normal_0.150-0.148,line_normal_0.300-0.750,line_normal_0.335-0.574
2025-08-12 06:09:02,802 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)], 'open_stroke_perimeter': 3290.4, 'compactness': 0.659024568854667, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3290.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.250-0.898', 'features': {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (1151.4358854464842, 215.2457939007066)], 'open_stroke_perimeter': 360.00000000000006, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.00000000000006, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 288.56411455351576, 'height': 215.2457939007066, 'area': 0.0, 'perimeter': 360.00000000000006, 'centroid': [1295.7179427232422, 107.6228969503533], 'bounds': [1151.4358854464842, 0.0, 1440.0, 215.2457939007066], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.00000000000006, 'line_angle': 143.28000000000006, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.250-0.705', 'features': {'stroke_index': 2, 'analytic_vertices': [(1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 287.20599823388557, 'height': 217.05463500804888, 'area': 0.0, 'perimeter': 360.0, 'centroid': [1007.8328863295415, 106.71847639668215], 'bounds': [864.2298872125987, -1.808841107342289, 1151.4358854464842, 215.2457939007066], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': -142.92000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.150-0.148', 'features': {'stroke_index': 3, 'analytic_vertices': [(864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331)], 'open_stroke_perimeter': 215.99999999999997, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 215.99999999999997, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1.3571590965607356, 'height': 215.9957363449256, 'area': 0.0, 'perimeter': 215.99999999999997, 'centroid': [863.5513076643183, 106.18902706512051], 'bounds': [862.8727281160379, -1.808841107342289, 864.2298872125987, 214.18689523758331], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 215.99999999999997, 'line_angle': 90.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.300-0.750', 'features': {'stroke_index': 4, 'analytic_vertices': [(862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167)], 'open_stroke_perimeter': 431.99999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 431.99999999999994, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.9914726898512, 'height': 2.714318193121642, 'area': 0.0, 'perimeter': 431.99999999999994, 'centroid': [646.8769917711123, 212.8297361410225], 'bounds': [430.8812554261867, 211.47257704446167, 862.8727281160379, 214.18689523758331], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 431.99999999999994, 'line_angle': -179.63999999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.335-0.574', 'features': {'stroke_index': 5, 'analytic_vertices': [(430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639), (0.0, 0.0)], 'open_stroke_perimeter': 490.0066177887093, 'compactness': 0.02870253990271619, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 490.0066177887093, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 490.0066177887093, 'line_angle': -153.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:02,802 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)]
2025-08-12 06:09:02,803 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(0.0, 0.033811382274634934), (1.0, 0.033811382274634934), (0.7996082537822807, 1.0), (0.600159643897638, 0.025691912632435678), (0.5992171723028041, 0.995246848651053), (0.299223094045963, 0.9830629016593232), (0.0007359084428597463, 0.0)]
2025-08-12 06:09:02,803 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_normal_1.000-0.500', 'line_normal_0.250-0.898', 'line_normal_0.250-0.705', 'line_normal_0.150-0.148', 'line_normal_0.300-0.750', 'line_normal_0.335-0.574']]
2025-08-12 06:09:02,803 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:02,803 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:02,803 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|normal': 5}
2025-08-12 06:09:02,804 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)], 'open_stroke_perimeter': 3290.4, 'compactness': 0.659024568854667, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3290.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (1151.4358854464842, 215.2457939007066)], 'open_stroke_perimeter': 360.00000000000006, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.00000000000006, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 288.56411455351576, 'height': 215.2457939007066, 'area': 0.0, 'perimeter': 360.00000000000006, 'centroid': [1295.7179427232422, 107.6228969503533], 'bounds': [1151.4358854464842, 0.0, 1440.0, 215.2457939007066], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.00000000000006, 'line_angle': 143.28000000000006, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 287.20599823388557, 'height': 217.05463500804888, 'area': 0.0, 'perimeter': 360.0, 'centroid': [1007.8328863295415, 106.71847639668215], 'bounds': [864.2298872125987, -1.808841107342289, 1151.4358854464842, 215.2457939007066], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': -142.92000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331)], 'open_stroke_perimeter': 215.99999999999997, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 215.99999999999997, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1.3571590965607356, 'height': 215.9957363449256, 'area': 0.0, 'perimeter': 215.99999999999997, 'centroid': [863.5513076643183, 106.18902706512051], 'bounds': [862.8727281160379, -1.808841107342289, 864.2298872125987, 214.18689523758331], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 215.99999999999997, 'line_angle': 90.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167)], 'open_stroke_perimeter': 431.99999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 431.99999999999994, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.9914726898512, 'height': 2.714318193121642, 'area': 0.0, 'perimeter': 431.99999999999994, 'centroid': [646.8769917711123, 212.8297361410225], 'bounds': [430.8812554261867, 211.47257704446167, 862.8727281160379, 214.18689523758331], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 431.99999999999994, 'line_angle': -179.63999999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639), (0.0, 0.0)], 'open_stroke_perimeter': 490.0066177887093, 'compactness': 0.02870253990271619, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 490.0066177887093, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 490.0066177887093, 'line_angle': -153.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 06:09:02,804 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-12 06:09:02,804 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.37017482351852105, 0.45927538150433767], 'width': 0.589149699782422, 'height': 0.961435466376418, 'area_raw': 0.735469519622105, 'area_normalized': 1.0, 'perimeter_raw': 5.312258837009888, 'perimeter_normalized': 1.0, 'aspect_ratio': 0.6127813258261476, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.3275036070062752, 'polsby_popper_compactness': 0.2743078407683333, 'eccentricity': 0.5395783096423176, 'symmetry_score': 0.5074413944767797, 'horizontal_symmetry': 0.9527809521338552, 'vertical_symmetry': 0.6228363380882115, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 7.0, 'visual_complexity': 0.555149683593099, 'curvature_score': 2.169266413898434, 'angular_variance': 0.4260926637231578, 'moment_of_inertia': 0.28072071819593725, 'irregularity_score': 0.2059563924774295, 'standardized_complexity': 0.48008016738437476, 'clustering_heights': [0.0, 0.07397184408695402, 0.15937049282605045, 0.29744560780713886, 0.6622875095423515], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:02,805 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:02,805 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-12 06:09:02,805 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-12 06:09:02,806 - INFO - [_vertices_from_command] INPUT: command=line_normal_1.000-0.500, stroke_index=0
2025-08-12 06:09:02,806 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=1.0, param2=None, param3=0.5
2025-08-12 06:09:02,806 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4473684210526316, 0.5), (0.39473684210526316, 0.5), (0.34210526315789475, 0.5), (0.2894736842105263, 0.5), (0.2368421052631579, 0.5), (0.1842105263157895, 0.5), (0.13157894736842107, 0.5), (0.07894736842105265, 0.5), (0.026315789473684237, 0.5), (-0.02631578947368418, 0.5000000000000001), (-0.07894736842105265, 0.5000000000000001), (-0.13157894736842102, 0.5000000000000001), (-0.18421052631578938, 0.5000000000000001), (-0.23684210526315785, 0.5000000000000001), (-0.2894736842105263, 0.5000000000000001), (-0.3421052631578947, 0.5000000000000001), (-0.39473684210526305, 0.5000000000000001), (-0.4473684210526315, 0.5000000000000001), (-0.5, 0.5000000000000001)]
2025-08-12 06:09:02,807 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,808 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,808 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:02,809 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,809 - INFO - Computed angular variance: 0.888264 for 20 vertices.
2025-08-12 06:09:02,809 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,809 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,809 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,811 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,811 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,812 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (-0.5, 0.5000000000000001)]
2025-08-12 06:09:02,812 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (-0.5, 0.5000000000000001)]
2025-08-12 06:09:02,813 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,813 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,813 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.250-0.898, stroke_index=0
2025-08-12 06:09:02,813 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.25, param2=None, param3=0.898
2025-08-12 06:09:02,813 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.528627392316817, 0.47864625060508864), (0.5572547846336341, 0.4572925012101773), (0.5858821769504511, 0.43593875181526587), (0.6145095692672682, 0.41458500242035456), (0.6431369615840852, 0.39323125302544315), (0.6717643539009022, 0.3718775036305318), (0.7003917462177193, 0.35052375423562043)]
2025-08-12 06:09:02,814 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,814 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,815 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,816 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,816 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,816 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,816 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,817 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,817 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:02,817 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:02,818 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,818 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,818 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.250-0.705, stroke_index=0
2025-08-12 06:09:02,819 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.25, param2=None, param3=0.705
2025-08-12 06:09:02,819 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4900360319271704, 0.46570379694010916), (0.48007206385434076, 0.4314075938802184), (0.47010809578151114, 0.39711139082032754), (0.46014412770868146, 0.36281518776043675), (0.45018015963585184, 0.3285189847005459), (0.4402161915630222, 0.2942227816406551), (0.4302522234901926, 0.2599265785807643)]
2025-08-12 06:09:02,819 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,820 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,821 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,821 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,821 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,821 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,822 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,822 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,822 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:02,823 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:02,823 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,823 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,824 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.150-0.148, stroke_index=0
2025-08-12 06:09:02,824 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.15, param2=None, param3=0.148
2025-08-12 06:09:02,824 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5128122496369468, 0.5171764353900902), (0.5256244992738937, 0.5343528707801805), (0.5384367489108405, 0.5515293061702706), (0.5512489985477874, 0.5687057415603608), (0.5640612481847342, 0.585882176950451), (0.5768734978216811, 0.6030586123405413), (0.5896857474586279, 0.6202350477306314)]
2025-08-12 06:09:02,825 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,826 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,826 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,827 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,827 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,827 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,828 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,828 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,829 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:02,829 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:02,829 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,829 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,829 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.300-0.750, stroke_index=0
2025-08-12 06:09:02,830 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.3, param2=None, param3=0.75
2025-08-12 06:09:02,830 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.45714285714285713), (0.5, 0.41428571428571426), (0.5, 0.37142857142857144), (0.49999999999999994, 0.32857142857142857), (0.49999999999999994, 0.2857142857142857), (0.49999999999999994, 0.24285714285714288), (0.49999999999999994, 0.2)]
2025-08-12 06:09:02,831 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,831 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,832 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:02,832 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,833 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,833 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,833 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,833 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,834 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,834 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,835 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.49999999999999994, 0.2)]
2025-08-12 06:09:02,835 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.49999999999999994, 0.2)]
2025-08-12 06:09:02,837 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,837 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,837 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.335-0.574, stroke_index=0
2025-08-12 06:09:02,837 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.335, param2=None, param3=0.574
2025-08-12 06:09:02,838 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.45722330327276095, 0.4785416603728342), (0.4144466065455219, 0.4570833207456684), (0.37166990981828285, 0.43562498111850256), (0.3288932130910438, 0.41416664149133675), (0.28611651636380475, 0.39270830186417094), (0.24333981963656565, 0.37124996223700507), (0.2005631229093266, 0.34979162260983926)]
2025-08-12 06:09:02,838 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,839 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,839 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,840 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,840 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,840 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,841 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,841 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,841 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:02,842 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:02,842 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,842 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,842 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:02,842 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,843 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,843 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,843 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,843 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,843 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,843 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,845 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,845 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,845 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-12 06:09:02,845 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:02,846 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_pos_5', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'positive', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_1/5.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)], 'open_stroke_perimeter': 3290.4, 'compactness': 0.659024568854667, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3290.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.250-0.898', 'features': {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (1151.4358854464842, 215.2457939007066)], 'open_stroke_perimeter': 360.00000000000006, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.00000000000006, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 288.56411455351576, 'height': 215.2457939007066, 'area': 0.0, 'perimeter': 360.00000000000006, 'centroid': [1295.7179427232422, 107.6228969503533], 'bounds': [1151.4358854464842, 0.0, 1440.0, 215.2457939007066], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.00000000000006, 'line_angle': 143.28000000000006, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.250-0.705', 'features': {'stroke_index': 2, 'analytic_vertices': [(1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 287.20599823388557, 'height': 217.05463500804888, 'area': 0.0, 'perimeter': 360.0, 'centroid': [1007.8328863295415, 106.71847639668215], 'bounds': [864.2298872125987, -1.808841107342289, 1151.4358854464842, 215.2457939007066], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': -142.92000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.150-0.148', 'features': {'stroke_index': 3, 'analytic_vertices': [(864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331)], 'open_stroke_perimeter': 215.99999999999997, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 215.99999999999997, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1.3571590965607356, 'height': 215.9957363449256, 'area': 0.0, 'perimeter': 215.99999999999997, 'centroid': [863.5513076643183, 106.18902706512051], 'bounds': [862.8727281160379, -1.808841107342289, 864.2298872125987, 214.18689523758331], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 215.99999999999997, 'line_angle': 90.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.300-0.750', 'features': {'stroke_index': 4, 'analytic_vertices': [(862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167)], 'open_stroke_perimeter': 431.99999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 431.99999999999994, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.9914726898512, 'height': 2.714318193121642, 'area': 0.0, 'perimeter': 431.99999999999994, 'centroid': [646.8769917711123, 212.8297361410225], 'bounds': [430.8812554261867, 211.47257704446167, 862.8727281160379, 214.18689523758331], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 431.99999999999994, 'line_angle': -179.63999999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.335-0.574', 'features': {'stroke_index': 5, 'analytic_vertices': [(430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639), (0.0, 0.0)], 'open_stroke_perimeter': 490.0066177887093, 'compactness': 0.02870253990271619, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 490.0066177887093, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 490.0066177887093, 'line_angle': -153.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 6, 'raw_vertices': ['(0.0, 0.0)', '(1440.0, 0.0)', '(1151.4358854464842, 215.2457939007066)', '(864.2298872125987, -1.808841107342289)', '(862.8727281160379, 214.18689523758331)', '(430.8812554261867, 211.47257704446167)', '(1.0597081577180347, -7.532440029895639)'], 'vertices': ['(0.0, 0.033811382274634934)', '(1.0, 0.033811382274634934)', '(0.7996082537822807, 1.0)', '(0.600159643897638, 0.025691912632435678)', '(0.5992171723028041, 0.995246848651053)', '(0.299223094045963, 0.9830629016593232)', '(0.0007359084428597463, 0.0)'], 'num_vertices': 7, 'position_label': ['0.47127772463879225', '0.43880348964172594'], 'rotation_label_degrees': ['70.46045946898218'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.37017482351852105, 0.45927538150433767], 'width': 0.589149699782422, 'height': 0.961435466376418, 'area_raw': 0.735469519622105, 'area_normalized': 1.0, 'perimeter_raw': 5.312258837009888, 'perimeter_normalized': 1.0, 'aspect_ratio': 0.6127813258261476, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.3275036070062752, 'polsby_popper_compactness': 0.2743078407683333, 'eccentricity': 0.5395783096423176, 'symmetry_score': 0.5074413944767797, 'horizontal_symmetry': 0.9527809521338552, 'vertical_symmetry': 0.6228363380882115, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 7.0, 'visual_complexity': 0.555149683593099, 'curvature_score': 2.169266413898434, 'angular_variance': 0.4260926637231578, 'moment_of_inertia': 0.28072071819593725, 'irregularity_score': 0.2059563924774295, 'standardized_complexity': 0.48008016738437476, 'clustering_heights': [0.0, 0.07397184408695402, 0.15937049282605045, 0.29744560780713886, 0.6622875095423515], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 1.8250736570172657e-18, 'perimeter_mean': 0.17961434332371992, 'width_mean': 0.06365002022801099, 'height_mean': 0.056031775252943755, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.28072071819593725, 'center_of_mass': [0.37017482351852105, 0.45927538150433767], 'polsby_popper_compactness': 0.7474469244094958, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.169266413898434, 'angular_variance': 0.4260926637231578, 'edge_length_variance': 0.1454464112140345}, 'composition_features': {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'normal': 6}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 7, 'homogeneity_score': 1.0, 'pattern_regularity': 0.16666666666666666}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)], 'open_stroke_perimeter': 3290.4, 'compactness': 0.659024568854667, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3290.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (1151.4358854464842, 215.2457939007066)], 'open_stroke_perimeter': 360.00000000000006, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.00000000000006, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 288.56411455351576, 'height': 215.2457939007066, 'area': 0.0, 'perimeter': 360.00000000000006, 'centroid': [1295.7179427232422, 107.6228969503533], 'bounds': [1151.4358854464842, 0.0, 1440.0, 215.2457939007066], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.00000000000006, 'line_angle': 143.28000000000006, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 287.20599823388557, 'height': 217.05463500804888, 'area': 0.0, 'perimeter': 360.0, 'centroid': [1007.8328863295415, 106.71847639668215], 'bounds': [864.2298872125987, -1.808841107342289, 1151.4358854464842, 215.2457939007066], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': -142.92000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331)], 'open_stroke_perimeter': 215.99999999999997, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 215.99999999999997, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1.3571590965607356, 'height': 215.9957363449256, 'area': 0.0, 'perimeter': 215.99999999999997, 'centroid': [863.5513076643183, 106.18902706512051], 'bounds': [862.8727281160379, -1.808841107342289, 864.2298872125987, 214.18689523758331], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 215.99999999999997, 'line_angle': 90.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167)], 'open_stroke_perimeter': 431.99999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 431.99999999999994, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.9914726898512, 'height': 2.714318193121642, 'area': 0.0, 'perimeter': 431.99999999999994, 'centroid': [646.8769917711123, 212.8297361410225], 'bounds': [430.8812554261867, 211.47257704446167, 862.8727281160379, 214.18689523758331], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 431.99999999999994, 'line_angle': -179.63999999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639), (0.0, 0.0)], 'open_stroke_perimeter': 490.0066177887093, 'compactness': 0.02870253990271619, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 490.0066177887093, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 490.0066177887093, 'line_angle': -153.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 6}}, 'processing_metadata': {'processing_timestamp': 1754959142.8463855, 'feature_count': 54}, 'actions': ['line_normal_1.000-0.500,line_normal_0.250-0.898,line_normal_0.250-0.705,line_normal_0.150-0.148,line_normal_0.300-0.750,line_normal_0.335-0.574'], 'action_program': ['line_normal_1.000-0.500,line_normal_0.250-0.898,line_normal_0.250-0.705,line_normal_0.150-0.148,line_normal_0.300-0.750,line_normal_0.335-0.574'], 'geometry': {'area': 0.42384379053135135, 'perimeter': 2.8428702691793477, 'centroid': [0.37017482351852105, 0.45927538150433767], 'bounds': [0.011002051453110243, 0.033811382274634934, 0.6001517512355323, 0.995246848651053], 'width': 0.589149699782422, 'height': 0.961435466376418}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 5}, 'analytic_attributes': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], 'analytic_ngram': {'normal|normal': 5}, 'alternation': 0.16666666666666666, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 6}}}, 'topological_features': {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 5, 1: 5, 2: 5, 3: 5, 4: 5, 5: 5}, 'adjacency_clustering': {0: 1.0, 1: 1.0, 2: 1.0, 3: 1.0, 4: 1.0, 5: 1.0}, 'intersection_count': 15, 'betweenness_centrality': {0: 0.0, 1: 0.0, 2: 0.0, 3: 0.0, 4: 0.0, 5: 0.0}, 'containment_score': 0, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 3007.1101691783074, 'skeleton_graph_features': {'num_nodes': 6, 'num_edges': 15}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.4260926637231578, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.459613133439785, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.48483197106608156, 'complexity': 4, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.16207003807671574, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.016414355594451504, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}}
2025-08-12 06:09:02,846 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.47127772463879225, 0.43880348964172594], 'orientation_degrees': 70.46045946898218}
2025-08-12 06:09:02,847 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.42384379053135135, 'perimeter': 2.8428702691793477, 'centroid': [0.37017482351852105, 0.45927538150433767], 'bounds': [0.011002051453110243, 0.033811382274634934, 0.6001517512355323, 0.995246848651053], 'width': 0.589149699782422, 'height': 0.961435466376418}
2025-08-12 06:09:02,847 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)], 'open_stroke_perimeter': 3290.4, 'compactness': 0.659024568854667, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3290.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.250-0.898', 'features': {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (1151.4358854464842, 215.2457939007066)], 'open_stroke_perimeter': 360.00000000000006, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.00000000000006, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 288.56411455351576, 'height': 215.2457939007066, 'area': 0.0, 'perimeter': 360.00000000000006, 'centroid': [1295.7179427232422, 107.6228969503533], 'bounds': [1151.4358854464842, 0.0, 1440.0, 215.2457939007066], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.00000000000006, 'line_angle': 143.28000000000006, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.250-0.705', 'features': {'stroke_index': 2, 'analytic_vertices': [(1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 287.20599823388557, 'height': 217.05463500804888, 'area': 0.0, 'perimeter': 360.0, 'centroid': [1007.8328863295415, 106.71847639668215], 'bounds': [864.2298872125987, -1.808841107342289, 1151.4358854464842, 215.2457939007066], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': -142.92000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.150-0.148', 'features': {'stroke_index': 3, 'analytic_vertices': [(864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331)], 'open_stroke_perimeter': 215.99999999999997, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 215.99999999999997, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1.3571590965607356, 'height': 215.9957363449256, 'area': 0.0, 'perimeter': 215.99999999999997, 'centroid': [863.5513076643183, 106.18902706512051], 'bounds': [862.8727281160379, -1.808841107342289, 864.2298872125987, 214.18689523758331], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 215.99999999999997, 'line_angle': 90.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.300-0.750', 'features': {'stroke_index': 4, 'analytic_vertices': [(862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167)], 'open_stroke_perimeter': 431.99999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 431.99999999999994, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.9914726898512, 'height': 2.714318193121642, 'area': 0.0, 'perimeter': 431.99999999999994, 'centroid': [646.8769917711123, 212.8297361410225], 'bounds': [430.8812554261867, 211.47257704446167, 862.8727281160379, 214.18689523758331], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 431.99999999999994, 'line_angle': -179.63999999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.335-0.574', 'features': {'stroke_index': 5, 'analytic_vertices': [(430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639), (0.0, 0.0)], 'open_stroke_perimeter': 490.0066177887093, 'compactness': 0.02870253990271619, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 490.0066177887093, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 490.0066177887093, 'line_angle': -153.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:02,847 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_normal_1.000-0.500', 'line_normal_0.250-0.898', 'line_normal_0.250-0.705', 'line_normal_0.150-0.148', 'line_normal_0.300-0.750', 'line_normal_0.335-0.574']]
2025-08-12 06:09:02,847 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)]
2025-08-12 06:09:02,848 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(0.0, 0.033811382274634934), (1.0, 0.033811382274634934), (0.7996082537822807, 1.0), (0.600159643897638, 0.025691912632435678), (0.5992171723028041, 0.995246848651053), (0.299223094045963, 0.9830629016593232), (0.0007359084428597463, 0.0)]
2025-08-12 06:09:02,848 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.37017482351852105, 0.45927538150433767], 'width': 0.589149699782422, 'height': 0.961435466376418, 'area_raw': 0.735469519622105, 'area_normalized': 1.0, 'perimeter_raw': 5.312258837009888, 'perimeter_normalized': 1.0, 'aspect_ratio': 0.6127813258261476, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.3275036070062752, 'polsby_popper_compactness': 0.2743078407683333, 'eccentricity': 0.5395783096423176, 'symmetry_score': 0.5074413944767797, 'horizontal_symmetry': 0.9527809521338552, 'vertical_symmetry': 0.6228363380882115, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 7.0, 'visual_complexity': 0.555149683593099, 'curvature_score': 2.169266413898434, 'angular_variance': 0.4260926637231578, 'moment_of_inertia': 0.28072071819593725, 'irregularity_score': 0.2059563924774295, 'standardized_complexity': 0.48008016738437476, 'clustering_heights': [0.0, 0.07397184408695402, 0.15937049282605045, 0.29744560780713886, 0.6622875095423515], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:02,848 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.28072071819593725, 'center_of_mass': [0.37017482351852105, 0.45927538150433767], 'polsby_popper_compactness': 0.7474469244094958, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.169266413898434, 'angular_variance': 0.4260926637231578, 'edge_length_variance': 0.1454464112140345}
2025-08-12 06:09:02,849 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'normal': 6}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 7, 'homogeneity_score': 1.0, 'pattern_regularity': 0.16666666666666666}
2025-08-12 06:09:02,849 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639)], 'open_stroke_perimeter': 3290.4, 'compactness': 0.659024568854667, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3290.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (1151.4358854464842, 215.2457939007066)], 'open_stroke_perimeter': 360.00000000000006, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.00000000000006, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 288.56411455351576, 'height': 215.2457939007066, 'area': 0.0, 'perimeter': 360.00000000000006, 'centroid': [1295.7179427232422, 107.6228969503533], 'bounds': [1151.4358854464842, 0.0, 1440.0, 215.2457939007066], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.00000000000006, 'line_angle': 143.28000000000006, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(1151.4358854464842, 215.2457939007066), (864.2298872125987, -1.808841107342289)], 'open_stroke_perimeter': 360.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 360.0, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 287.20599823388557, 'height': 217.05463500804888, 'area': 0.0, 'perimeter': 360.0, 'centroid': [1007.8328863295415, 106.71847639668215], 'bounds': [864.2298872125987, -1.808841107342289, 1151.4358854464842, 215.2457939007066], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 360.0, 'line_angle': -142.92000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(864.2298872125987, -1.808841107342289), (862.8727281160379, 214.18689523758331)], 'open_stroke_perimeter': 215.99999999999997, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 215.99999999999997, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1.3571590965607356, 'height': 215.9957363449256, 'area': 0.0, 'perimeter': 215.99999999999997, 'centroid': [863.5513076643183, 106.18902706512051], 'bounds': [862.8727281160379, -1.808841107342289, 864.2298872125987, 214.18689523758331], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 215.99999999999997, 'line_angle': 90.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(862.8727281160379, 214.18689523758331), (430.8812554261867, 211.47257704446167)], 'open_stroke_perimeter': 431.99999999999994, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 431.99999999999994, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.9914726898512, 'height': 2.714318193121642, 'area': 0.0, 'perimeter': 431.99999999999994, 'centroid': [646.8769917711123, 212.8297361410225], 'bounds': [430.8812554261867, 211.47257704446167, 862.8727281160379, 214.18689523758331], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 431.99999999999994, 'line_angle': -179.63999999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(430.8812554261867, 211.47257704446167), (1.0597081577180347, -7.532440029895639), (0.0, 0.0)], 'open_stroke_perimeter': 490.0066177887093, 'compactness': 0.02870253990271619, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 490.0066177887093, 'avg_stroke_length': 549.6677696314515, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 490.0066177887093, 'line_angle': -153.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 06:09:02,849 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}
2025-08-12 06:09:02,851 - INFO - [INPUT] Processing image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_6, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018, is_positive=True
2025-08-12 06:09:02,851 - INFO - [INPUT] action_commands type: <class 'list'>, value: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.583-0.750', 'line_normal_0.500-0.750', 'line_normal_0.292-0.050', 'line_normal_0.153-0.893', 'line_normal_0.153-0.391', 'line_normal_0.292-0.893']]
2025-08-12 06:09:02,852 - INFO - [SHAPE SPLIT] Raw action_commands: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.583-0.750', 'line_normal_0.500-0.750', 'line_normal_0.292-0.050', 'line_normal_0.153-0.893', 'line_normal_0.153-0.391', 'line_normal_0.292-0.893']]
2025-08-12 06:09:02,852 - INFO - [SHAPE SPLIT] Sublist 0: ['line_normal_0.500-0.500', 'arc_normal_0.500_0.583-0.750', 'line_normal_0.500-0.750', 'line_normal_0.292-0.050', 'line_normal_0.153-0.893', 'line_normal_0.153-0.391', 'line_normal_0.292-0.893']
2025-08-12 06:09:02,852 - INFO - [SHAPE SPLIT] Parsed shapes_commands (multi-object): [['line_normal_0.500-0.500', 'arc_normal_0.500_0.583-0.750', 'line_normal_0.500-0.750', 'line_normal_0.292-0.050', 'line_normal_0.153-0.893', 'line_normal_0.153-0.391', 'line_normal_0.292-0.893']]
2025-08-12 06:09:02,852 - INFO - ComprehensiveNVLabsParser initialized:
2025-08-12 06:09:02,852 - INFO -   Canvas size: 512x512
2025-08-12 06:09:02,853 - INFO -   Coordinate range: (-360, 360)
2025-08-12 06:09:02,853 - INFO -   Base scaling factor: 1440.0
2025-08-12 06:09:02,853 - INFO - [PARSER] Parsing shape 0 commands: ['line_normal_0.500-0.500', 'arc_normal_0.500_0.583-0.750', 'line_normal_0.500-0.750', 'line_normal_0.292-0.050', 'line_normal_0.153-0.893', 'line_normal_0.153-0.391', 'line_normal_0.292-0.893']
2025-08-12 06:09:02,853 - INFO - [LOGOPARSER] Input action_commands for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: ['line_normal_0.500-0.500', 'arc_normal_0.500_0.583-0.750', 'line_normal_0.500-0.750', 'line_normal_0.292-0.050', 'line_normal_0.153-0.893', 'line_normal_0.153-0.391', 'line_normal_0.292-0.893']
2025-08-12 06:09:02,853 - DEBUG - Parsing 7 commands for hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:02,854 - DEBUG - [ACTIONS_JOIN] line_normal_0.500-0.500,arc_normal_0.500_0.583-0.750,line_normal_0.500-0.750,line_normal_0.292-0.050,line_normal_0.153-0.893,line_normal_0.153-0.391,line_normal_0.292-0.893
2025-08-12 06:09:02,854 - DEBUG - [ACTIONS_TYPES] ['LineAction', 'ArcAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:02,854 - DEBUG - [ACTIONS_ATTRS] [{'line_length': 720.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_0.500-0.500'}, {'arc_radius': 720.0, 'arc_angle': 59.75999999999999, 'arc_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'arc', 'raw_command': 'arc_normal_0.500_0.583-0.750'}, {'line_length': 720.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.500-0.750'}, {'line_length': 420.47999999999996, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 162.0, 'name': 'line', 'raw_command': 'line_normal_0.292-0.050'}, {'line_length': 220.32, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 141.48000000000002, 'name': 'line', 'raw_command': 'line_normal_0.153-0.893'}, {'line_length': 220.32, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 39.24000000000001, 'name': 'line', 'raw_command': 'line_normal_0.153-0.391'}, {'line_length': 420.47999999999996, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 141.48000000000002, 'name': 'line', 'raw_command': 'line_normal_0.292-0.893'}]
2025-08-12 06:09:02,854 - INFO - [OneStrokeShape.__init__] basic_actions: [line_normal_0.500-0.500, arc_normal_0.500_0.583-0.750, line_normal_0.500-0.750, line_normal_0.292-0.050, line_normal_0.153-0.893, line_normal_0.153-0.391, line_normal_0.292-0.893], start_coordinates: None, start_orientation: None, scaling_factors: None
2025-08-12 06:09:02,855 - DEBUG - [OUTPUT_SHAPE_ACTIONS] line_normal_0.500-0.500,arc_normal_0.500_0.583-0.750,line_normal_0.500-0.750,line_normal_0.292-0.050,line_normal_0.153-0.893,line_normal_0.153-0.391,line_normal_0.292-0.893
2025-08-12 06:09:02,855 - DEBUG - [OUTPUT_SHAPE_TYPES] ['LineAction', 'ArcAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:02,855 - DEBUG - [OUTPUT_SHAPE_ATTRS] [{'line_length': 720.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_0.500-0.500'}, {'arc_radius': 720.0, 'arc_angle': 59.75999999999999, 'arc_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'arc', 'raw_command': 'arc_normal_0.500_0.583-0.750'}, {'line_length': 720.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.500-0.750'}, {'line_length': 420.47999999999996, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 162.0, 'name': 'line', 'raw_command': 'line_normal_0.292-0.050'}, {'line_length': 220.32, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 141.48000000000002, 'name': 'line', 'raw_command': 'line_normal_0.153-0.893'}, {'line_length': 220.32, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 39.24000000000001, 'name': 'line', 'raw_command': 'line_normal_0.153-0.391'}, {'line_length': 420.47999999999996, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 141.48000000000002, 'name': 'line', 'raw_command': 'line_normal_0.292-0.893'}]
2025-08-12 06:09:02,855 - INFO - [OneStrokeShape._calculate_vertices] INPUT basic_actions: [line_normal_0.500-0.500, arc_normal_0.500_0.583-0.750, line_normal_0.500-0.750, line_normal_0.292-0.050, line_normal_0.153-0.893, line_normal_0.153-0.391, line_normal_0.292-0.893]
2025-08-12 06:09:02,856 - INFO - [OneStrokeShape._calculate_vertices] OUTPUT vertices: [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)]
2025-08-12 06:09:02,856 - INFO - [LOGOPARSER] Shape for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 has 12 vertices.
2025-08-12 06:09:02,856 - INFO - [LOGOPARSER] Parsed vertices (raw): [[0.0, 0.0], [720.0, 0.0], [688.896151999682, 146.9372875224623], [628.0370294463379, 284.2478225404378], [540.0613089660903, 405.97821492815257], [428.78336492975075, 506.8505847621706], [299.0278891437828, 582.4913960246282], [-63.580816033965164, -39.53346435421315], [25.563933546060397, 371.3882362437408], [-145.07458067692465, 232.02037817104122], [-365.39458067692465, 232.02037817104124], [-36.414892645680936, -29.849427768600293]]
2025-08-12 06:09:02,857 - INFO - [LOGOPARSER] Vertices bounding box: min=(-365.39,-39.53), max=(720.00,582.49), center=(226.66,224.38)
2025-08-12 06:09:02,857 - INFO - Successfully created OneStrokeShape with 7 actions using NVLabs implementation
2025-08-12 06:09:02,857 - INFO - [PARSER] Parsed shape 0: type=OneStrokeShape, num_actions=7, action_types=['str', 'str', 'str', 'str', 'str', 'str', 'str'], attributes={}
2025-08-12 06:09:02,857 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.500-0.500, stroke_index=0
2025-08-12 06:09:02,858 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.5, param2=None, param3=0.5
2025-08-12 06:09:02,858 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)]
2025-08-12 06:09:02,858 - INFO - [_calculate_vertices_from_action] Bounding box: (0.0, 0.5, 0.5, 0.5000000000000001)
2025-08-12 06:09:02,859 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,859 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,860 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:02,860 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,860 - INFO - Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 06:09:02,860 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,862 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,862 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:02,862 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,863 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,863 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.0, 0.5000000000000001)]
2025-08-12 06:09:02,864 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.0, 0.5000000000000001)]
2025-08-12 06:09:02,864 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,864 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,865 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,865 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_6, stroke_idx=0, assigned is_positive=True
2025-08-12 06:09:02,865 - INFO - [_vertices_from_command] INPUT: command=arc_normal_0.500_0.583-0.750, stroke_index=1
2025-08-12 06:09:02,865 - INFO - [_vertices_from_command] Parsed: action_type=arc, modifier=normal, param1=0.5, param2=0.583, param3=0.75
2025-08-12 06:09:02,866 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.4999999999999999, 0.0), (0.5002543817275045, 6.471006747110764e-08), (0.5005087633891638, 2.58840253175574e-07), (0.5007631449191353, 5.82390506764785e-07), (0.5010175262515745, 1.0353607446389468e-06), (0.5012719073206365, 1.6177508493919746e-06), (0.5015262880604773, 2.329560670422115e-06), (0.501780668405254, 3.170790023376835e-06), (0.5020350482891217, 4.14143869059691e-06), (0.5022894276462369, 5.241506420727848e-06), (0.502543806410756, 6.470992929163977e-06), (0.5027981845168357, 7.829897897548843e-06), (0.5030525618986325, 9.318220974219305e-06), (0.5033069384903033, 1.0935961773927971e-05), (0.5035613142260053, 1.2683119877898719e-05), (0.5038156890398957, 1.4559694833882197e-05), (0.5040700628661325, 1.6565686156211346e-05), (0.5043244356388724, 1.8701093325634854e-05), (0.5045788072922747, 2.096591578942819e-05), (0.5048331777604975, 2.3360152961338088e-05), (0.505087546977699, 2.588380422163805e-05)]
2025-08-12 06:09:02,866 - INFO - [_calculate_vertices_from_action] Bounding box: (0.4999999999999999, 0.0, 0.505087546977699, 2.588380422163805e-05)
2025-08-12 06:09:02,866 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:02,867 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,868 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,869 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:02,869 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:02,870 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.42, 'num_vertices': 21, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,870 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.42, 'num_vertices': 21, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,870 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_6, stroke_idx=1, assigned is_positive=True
2025-08-12 06:09:02,871 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.500-0.750, stroke_index=2
2025-08-12 06:09:02,871 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.5, param2=None, param3=0.75
2025-08-12 06:09:02,871 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)]
2025-08-12 06:09:02,871 - INFO - [_calculate_vertices_from_action] Bounding box: (0.4999999999999999, 0.0, 0.5, 0.5)
2025-08-12 06:09:02,872 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,873 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,873 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:02,874 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,874 - INFO - Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 06:09:02,874 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,874 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,875 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:02,875 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,875 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,876 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.4999999999999999, 0.0)]
2025-08-12 06:09:02,876 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.4999999999999999, 0.0)]
2025-08-12 06:09:02,877 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,877 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,878 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,878 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_6, stroke_idx=2, assigned is_positive=True
2025-08-12 06:09:02,878 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.292-0.050, stroke_index=3
2025-08-12 06:09:02,878 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.292, param2=None, param3=0.05
2025-08-12 06:09:02,878 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5396726432511693, 0.5128904231939264), (0.5793452865023385, 0.5257808463878527), (0.6190179297535078, 0.5386712695817791), (0.658690573004677, 0.5515616927757055), (0.6983632162558463, 0.564452115969632), (0.7380358595070156, 0.5773425391635583), (0.7777085027581848, 0.5902329623574847)]
2025-08-12 06:09:02,879 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.5, 0.7777085027581848, 0.5902329623574847)
2025-08-12 06:09:02,879 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,880 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,880 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,882 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,882 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,882 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:02,882 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,883 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,883 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:02,884 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:02,884 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,884 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,885 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_6, stroke_idx=3, assigned is_positive=True
2025-08-12 06:09:02,886 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.153-0.893, stroke_index=4
2025-08-12 06:09:02,886 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.153, param2=None, param3=0.893
2025-08-12 06:09:02,886 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5171008277168883, 0.4863876385121884), (0.5342016554337766, 0.47277527702437677), (0.5513024831506649, 0.4591629155365652), (0.5684033108675531, 0.4455505540487536), (0.5855041385844414, 0.431938192560942), (0.6026049663013298, 0.41832583107313037), (0.619705794018218, 0.4047134695853188)]
2025-08-12 06:09:02,887 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.4047134695853188, 0.619705794018218, 0.5)
2025-08-12 06:09:02,887 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,887 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,888 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:02,888 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,889 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,890 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,890 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,890 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:02,891 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,891 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,891 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:02,892 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:02,892 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,892 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,894 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,894 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_6, stroke_idx=4, assigned is_positive=True
2025-08-12 06:09:02,895 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.153-0.391, stroke_index=5
2025-08-12 06:09:02,895 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.153, param2=None, param3=0.391
2025-08-12 06:09:02,895 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.48307157596994194, 0.5138261763961012), (0.4661431519398839, 0.5276523527922022), (0.44921472790982586, 0.5414785291883034), (0.43228630387976785, 0.5553047055844046), (0.4153578798497098, 0.5691308819805058), (0.3984294558196517, 0.5829570583766068), (0.3815010317895937, 0.596783234772708)]
2025-08-12 06:09:02,896 - INFO - [_calculate_vertices_from_action] Bounding box: (0.3815010317895937, 0.5, 0.5, 0.596783234772708)
2025-08-12 06:09:02,896 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,897 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,898 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,898 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,898 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,898 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:02,899 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,899 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,899 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:02,900 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:02,900 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,900 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,901 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_6, stroke_idx=5, assigned is_positive=True
2025-08-12 06:09:02,901 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.292-0.893, stroke_index=6
2025-08-12 06:09:02,901 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.292, param2=None, param3=0.893
2025-08-12 06:09:02,902 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5326368738126234, 0.47402085258535304), (0.5652737476252467, 0.448041705170706), (0.5979106214378701, 0.42206255775605905), (0.6305474952504935, 0.3960834103414121), (0.663184369063117, 0.3701042629267651), (0.6958212428757403, 0.3441251155121181), (0.7284581166883637, 0.31814596809747114)]
2025-08-12 06:09:02,902 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.31814596809747114, 0.7284581166883637, 0.5)
2025-08-12 06:09:02,903 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:02,904 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:02,904 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:02,904 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,905 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:02,905 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:02,905 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:02,905 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:02,907 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:02,907 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:02,907 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:02,908 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:02,909 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_6, stroke_idx=6, assigned is_positive=True
2025-08-12 06:09:02,909 - INFO - [ATTR DEBUG] Shape 0 strokes (dicts): [{'command': 'line_normal_0.500-0.500', 'vertices': [(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)], 'open_stroke_perimeter': 0.5, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'arc_normal_0.500_0.583-0.750', 'vertices': [(0.4999999999999999, 0.0), (0.5002543817275045, 6.471006747110764e-08), (0.5005087633891638, 2.58840253175574e-07), (0.5007631449191353, 5.82390506764785e-07), (0.5010175262515745, 1.0353607446389468e-06), (0.5012719073206365, 1.6177508493919746e-06), (0.5015262880604773, 2.329560670422115e-06), (0.501780668405254, 3.170790023376835e-06), (0.5020350482891217, 4.14143869059691e-06), (0.5022894276462369, 5.241506420727848e-06), (0.502543806410756, 6.470992929163977e-06), (0.5027981845168357, 7.829897897548843e-06), (0.5030525618986325, 9.318220974219305e-06), (0.5033069384903033, 1.0935961773927971e-05), (0.5035613142260053, 1.2683119877898719e-05), (0.5038156890398957, 1.4559694833882197e-05), (0.5040700628661325, 1.6565686156211346e-05), (0.5043244356388724, 1.8701093325634854e-05), (0.5045788072922747, 2.096591578942819e-05), (0.5048331777604975, 2.3360152961338088e-05), (0.505087546977699, 2.588380422163805e-05)], 'geometry': {'area': 2.1893095936024528e-08, 'perimeter': 0.010175247536205703, 'centroid': [0.5025437866356732, 1.035785095605166e-05], 'bounds': [0.4999999999999999, 0.0, 0.505087546977699, 2.588380422163805e-05], 'width': 0.005087546977699087, 'height': 2.588380422163805e-05, 'compactness': 1, 'convexity_ratio': 0.0004621784947117294, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.010175247536205703, 'analytic_vertices': [(0.4999999999999999, 0.0), (0.5002543817275045, 6.471006747110764e-08), (0.5005087633891638, 2.58840253175574e-07), (0.5007631449191353, 5.82390506764785e-07), (0.5010175262515745, 1.0353607446389468e-06), (0.5012719073206365, 1.6177508493919746e-06), (0.5015262880604773, 2.329560670422115e-06), (0.501780668405254, 3.170790023376835e-06), (0.5020350482891217, 4.14143869059691e-06), (0.5022894276462369, 5.241506420727848e-06), (0.502543806410756, 6.470992929163977e-06), (0.5027981845168357, 7.829897897548843e-06), (0.5030525618986325, 9.318220974219305e-06), (0.5033069384903033, 1.0935961773927971e-05), (0.5035613142260053, 1.2683119877898719e-05), (0.5038156890398957, 1.4559694833882197e-05), (0.5040700628661325, 1.6565686156211346e-05), (0.5043244356388724, 1.8701093325634854e-05), (0.5045788072922747, 2.096591578942819e-05), (0.5048331777604975, 2.3360152961338088e-05), (0.505087546977699, 2.588380422163805e-05)], 'open_stroke_perimeter': 0.005087634714693427}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.500-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)], 'open_stroke_perimeter': 0.5, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.292-0.050', 'vertices': [(0.5, 0.5), (0.5396726432511693, 0.5128904231939264), (0.5793452865023385, 0.5257808463878527), (0.6190179297535078, 0.5386712695817791), (0.658690573004677, 0.5515616927757055), (0.6983632162558463, 0.564452115969632), (0.7380358595070156, 0.5773425391635583), (0.7777085027581848, 0.5902329623574847)], 'geometry': {'area': 3.74049749507499e-18, 'perimeter': 0.17519999999999983, 'centroid': [0.5933862906333897, 0.5303430451849189], 'bounds': [0.555541700551637, 0.518046592471497, 0.6388542513790924, 0.5451164811787423], 'width': 0.08331255082745537, 'height': 0.02706988870724536, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.17519999999999983, 'analytic_vertices': [(0.5, 0.5), (0.5396726432511693, 0.5128904231939264), (0.5793452865023385, 0.5257808463878527), (0.6190179297535078, 0.5386712695817791), (0.658690573004677, 0.5515616927757055), (0.6983632162558463, 0.564452115969632), (0.7380358595070156, 0.5773425391635583), (0.7777085027581848, 0.5902329623574847)], 'open_stroke_perimeter': 0.2919999999999999, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.153-0.893', 'vertices': [(0.5, 0.5), (0.5171008277168883, 0.4863876385121884), (0.5342016554337766, 0.47277527702437677), (0.5513024831506649, 0.4591629155365652), (0.5684033108675531, 0.4455505540487536), (0.5855041385844414, 0.431938192560942), (0.6026049663013298, 0.41832583107313037), (0.619705794018218, 0.4047134695853188)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5171008277168883, 0.4863876385121884), (0.5342016554337766, 0.47277527702437677), (0.5513024831506649, 0.4591629155365652), (0.5684033108675531, 0.4455505540487536), (0.5855041385844414, 0.431938192560942), (0.6026049663013298, 0.41832583107313037), (0.619705794018218, 0.4047134695853188)], 'open_stroke_perimeter': 0.15300000000000002, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.153-0.391', 'vertices': [(0.5, 0.5), (0.48307157596994194, 0.5138261763961012), (0.4661431519398839, 0.5276523527922022), (0.44921472790982586, 0.5414785291883034), (0.43228630387976785, 0.5553047055844046), (0.4153578798497098, 0.5691308819805058), (0.3984294558196517, 0.5829570583766068), (0.3815010317895937, 0.596783234772708)], 'geometry': {'area': 1.3010426069826053e-18, 'perimeter': 0.08377047944005102, 'centroid': [0.42261460435324727, 0.5632040010809213], 'bounds': [0.4083102695544795, 0.548391617386354, 0.44075051589479686, 0.5748869702578205], 'width': 0.032440246340317336, 'height': 0.026495352871466538, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.08377047944005102, 'analytic_vertices': [(0.5, 0.5), (0.48307157596994194, 0.5138261763961012), (0.4661431519398839, 0.5276523527922022), (0.44921472790982586, 0.5414785291883034), (0.43228630387976785, 0.5553047055844046), (0.4153578798497098, 0.5691308819805058), (0.3984294558196517, 0.5829570583766068), (0.3815010317895937, 0.596783234772708)], 'open_stroke_perimeter': 0.153, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}, {'command': 'line_normal_0.292-0.893', 'vertices': [(0.5, 0.5), (0.5326368738126234, 0.47402085258535304), (0.5652737476252467, 0.448041705170706), (0.5979106214378701, 0.42206255775605905), (0.6305474952504935, 0.3960834103414121), (0.663184369063117, 0.3701042629267651), (0.6958212428757403, 0.3441251155121181), (0.7284581166883637, 0.31814596809747114)], 'geometry': {'area': 4.336808689942018e-18, 'perimeter': 0.2838900278029987, 'centroid': [0.5953396232274462, 0.4241090877605831], 'bounds': [0.5346568113963505, 0.3840113499876254, 0.6457132858800496, 0.4724129701466945], 'width': 0.11105647448369915, 'height': 0.08840162015906905, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.2838900278029987, 'analytic_vertices': [(0.5, 0.5), (0.5326368738126234, 0.47402085258535304), (0.5652737476252467, 0.448041705170706), (0.5979106214378701, 0.42206255775605905), (0.6305474952504935, 0.3960834103414121), (0.663184369063117, 0.3701042629267651), (0.6958212428757403, 0.3441251155121181), (0.7284581166883637, 0.31814596809747114)], 'open_stroke_perimeter': 0.292, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True}]
2025-08-12 06:09:02,910 - INFO - [PATCH][SHAPE GEOMETRY] idx=0, vertices=[(0.33664677084442424, 0.06355608412521563), (1.0, 0.06355608412521563), (0.9713432805414234, 0.2997802238372053), (0.9152723146117904, 0.5205278880613445), (0.8342181781286507, 0.7162280925733883), (0.7316951454754572, 0.8783958390081242), (0.6121483206654018, 1.0), (0.2780682435826501, 0.0), (0.36019943454956, 0.6606194169597722), (0.20298608812160615, 0.4365642915941748), (0.0, 0.4365642915941748), (0.3030968588640547, 0.015568568400489396)], geometry={'area': 0.395363743314549, 'perimeter': 2.8030846704218333, 'centroid': [0.6690909467913465, 0.40671220670463815], 'bounds': [0.2895537923570275, 0.015568568400489396, 1.0, 1.0], 'width': 0.7104462076429725, 'height': 0.9844314315995106}
2025-08-12 06:09:02,910 - INFO - [robust_curvature] INPUT: [(0.33664677084442424, 0.06355608412521563), (1.0, 0.06355608412521563), (0.9713432805414234, 0.2997802238372053), (0.9152723146117904, 0.5205278880613445), (0.8342181781286507, 0.7162280925733883), (0.7316951454754572, 0.8783958390081242), (0.6121483206654018, 1.0), (0.2780682435826501, 0.0), (0.36019943454956, 0.6606194169597722), (0.20298608812160615, 0.4365642915941748), (0.0, 0.4365642915941748), (0.3030968588640547, 0.015568568400489396)]
2025-08-12 06:09:02,913 - INFO - [robust_curvature] OUTPUT: 1.7516840543993508
2025-08-12 06:09:02,913 - INFO - Computed angular variance: 0.982344 for 12 vertices.
2025-08-12 06:09:02,913 - INFO - [PATCH][SHAPE PHYSICS] idx=0, physics features: {'robust_curvature': 1.7516840543993508, 'robust_angular_variance': 0.9823441483442595, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 2.2109996645717676}
2025-08-12 06:09:02,914 - INFO - [robust_curvature] INPUT: [[   0.            0.        ]
 [ 720.            0.        ]
 [ 688.896152    146.93728752]
 [ 628.03702945  284.24782254]
 [ 540.06130897  405.97821493]
 [ 428.78336493  506.85058476]
 [ 299.02788914  582.49139602]
 [ -63.58081603  -39.53346435]
 [  25.56393355  371.38823624]
 [-145.07458068  232.02037817]
 [-365.39458068  232.02037817]
 [ -36.41489265  -29.84942777]]
2025-08-12 06:09:02,914 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,914 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,914 - INFO - Computed angular variance: 0.901916 for 12 vertices.
2025-08-12 06:09:02,915 - INFO - [robust_curvature] INPUT: [[   0.            0.        ]
 [ -63.58081603  -39.53346435]
 [  25.56393355  371.38823624]
 [-145.07458068  232.02037817]
 [-365.39458068  232.02037817]
 [ -36.41489265  -29.84942777]]
2025-08-12 06:09:02,916 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,916 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,916 - INFO - [robust_curvature] INPUT: [[720.           0.        ]
 [688.896152   146.93728752]
 [628.03702945 284.24782254]
 [540.06130897 405.97821493]]
2025-08-12 06:09:02,917 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,917 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,917 - INFO - [robust_curvature] INPUT: [[428.78336493 506.85058476]
 [299.02788914 582.49139602]]
2025-08-12 06:09:02,918 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,918 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,918 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,918 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.9019163124332968, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,919 - INFO - [robust_curvature] INPUT: [[ 2.62240938e+00 -1.14510130e-01]
 [ 7.17118571e+02  5.63689462e-01]
 [ 6.88782003e+02  1.46900357e+02]
 [ 6.27933003e+02  2.84188053e+02]
 [ 5.39971916e+02  4.05898198e+02]
 [ 4.28712480e+02  5.06753790e+02]
 [ 2.98134604e+02  5.79814970e+02]
 [-6.18477729e+01 -3.55708140e+01]
 [ 2.45673377e+01  3.69277183e+02]
 [-1.45265172e+02  2.32555029e+02]
 [-3.63287325e+02  2.31015778e+02]
 [-3.75372469e+01 -2.87303173e+01]]
2025-08-12 06:09:02,919 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,919 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,919 - INFO - Computed angular variance: 0.894681 for 12 vertices.
2025-08-12 06:09:02,921 - INFO - [robust_curvature] INPUT: [[7.17118571e+02 5.63689462e-01]
 [6.88782003e+02 1.46900357e+02]
 [6.27933003e+02 2.84188053e+02]
 [5.39971916e+02 4.05898198e+02]
 [4.28712480e+02 5.06753790e+02]
 [2.98134604e+02 5.79814970e+02]]
2025-08-12 06:09:02,921 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,921 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,922 - INFO - [robust_curvature] INPUT: [[ 2.62240938e+00 -1.14510130e-01]
 [-6.18477729e+01 -3.55708140e+01]
 [ 2.45673377e+01  3.69277183e+02]
 [-1.45265172e+02  2.32555029e+02]
 [-3.63287325e+02  2.31015778e+02]
 [-3.75372469e+01 -2.87303173e+01]]
2025-08-12 06:09:02,922 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,922 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,923 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 2}}
2025-08-12 06:09:02,923 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.8946812743269886, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 2}}}
2025-08-12 06:09:02,923 - INFO - [robust_curvature] INPUT: [[  72.85352316   -3.07750093]
 [ 639.82055825   15.70871454]
 [ 685.50763209  145.94209252]
 [ 625.1221364   282.57303835]
 [ 537.55644129  403.73608613]
 [ 426.73907578  503.96175711]
 [ 274.23192583  508.12206828]
 [ -15.38289768   70.64031972]
 [  -2.12119814  312.82841636]
 [-150.31303833  246.71544238]
 [-306.72162967  204.11968741]
 [ -67.38772099    1.28128438]]
2025-08-12 06:09:02,924 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,924 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,924 - INFO - Computed angular variance: 0.683041 for 12 vertices.
2025-08-12 06:09:02,925 - INFO - [robust_curvature] INPUT: [[639.82055825  15.70871454]
 [685.50763209 145.94209252]
 [625.1221364  282.57303835]
 [537.55644129 403.73608613]
 [426.73907578 503.96175711]
 [274.23192583 508.12206828]]
2025-08-12 06:09:02,925 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,926 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,926 - INFO - [robust_curvature] INPUT: [[  72.85352316   -3.07750093]
 [ -15.38289768   70.64031972]
 [  -2.12119814  312.82841636]
 [-150.31303833  246.71544238]
 [-306.72162967  204.11968741]
 [ -67.38772099    1.28128438]]
2025-08-12 06:09:02,926 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,927 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,927 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 06:09:02,927 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.683041446760292, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}
2025-08-12 06:09:02,929 - INFO - [robust_curvature] INPUT: [[ 185.09041193   15.62970709]
 [ 486.68690961   52.21628907]
 [ 631.90564954  151.54175908]
 [ 611.25986166  277.12624615]
 [ 527.4260039   392.64275609]
 [ 407.81490771  456.926754  ]
 [ 240.38627394  389.76817409]
 [  69.3478343   257.79406026]
 [ -42.06209663  240.88399268]
 [-144.02575792  237.4739622 ]
 [-185.26545286  161.45669441]
 [ -68.6597372    59.09101113]]
2025-08-12 06:09:02,929 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,929 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,929 - INFO - Computed angular variance: 0.133706 for 12 vertices.
2025-08-12 06:09:02,930 - INFO - [robust_curvature] INPUT: [[486.68690961  52.21628907]
 [631.90564954 151.54175908]
 [611.25986166 277.12624615]
 [527.4260039  392.64275609]
 [407.81490771 456.926754  ]
 [240.38627394 389.76817409]]
2025-08-12 06:09:02,930 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,931 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,931 - INFO - [robust_curvature] INPUT: [[ 185.09041193   15.62970709]
 [  69.3478343   257.79406026]
 [ -42.06209663  240.88399268]
 [-144.02575792  237.4739622 ]
 [-185.26545286  161.45669441]
 [ -68.6597372    59.09101113]]
2025-08-12 06:09:02,931 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,932 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,932 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 06:09:02,932 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.13370615364723157, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}
2025-08-12 06:09:02,933 - INFO - [robust_curvature] INPUT: [[210.74450021 101.94701831]
 [358.16503336 126.55906697]
 [461.86791636 184.81689506]
 [493.49557218 257.78017045]
 [453.20544403 318.87476589]
 [359.837522   346.56553091]
 [238.69169851 335.92295096]
 [115.633904   298.9785634 ]
 [ 15.82033327 251.65683553]
 [-36.31424416 201.89510346]
 [-20.37999741 153.06297022]
 [ 69.13712563 114.49153508]]
2025-08-12 06:09:02,933 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,933 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,934 - INFO - Computed angular variance: 0.098598 for 12 vertices.
2025-08-12 06:09:02,935 - INFO - [robust_curvature] INPUT: [[358.16503336 126.55906697]
 [461.86791636 184.81689506]
 [493.49557218 257.78017045]
 [453.20544403 318.87476589]
 [359.837522   346.56553091]
 [238.69169851 335.92295096]]
2025-08-12 06:09:02,935 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,935 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,935 - INFO - [robust_curvature] INPUT: [[210.74450021 101.94701831]
 [115.633904   298.9785634 ]
 [ 15.82033327 251.65683553]
 [-36.31424416 201.89510346]
 [-20.37999741 153.06297022]
 [ 69.13712563 114.49153508]]
2025-08-12 06:09:02,935 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,936 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,936 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 06:09:02,936 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.09859829768200863, 'complexity': 2, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}
2025-08-12 06:09:02,936 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.9019163124332968, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.8946812743269886, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 2}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.683041446760292, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.13370615364723157, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.09859829768200863, 'complexity': 2, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}}
2025-08-12 06:09:02,937 - DEBUG - [extract_image_features] Calculated width: 771.1144636381555, height: 612.3408237932285
2025-08-12 06:09:02,938 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)]
2025-08-12 06:09:02,938 - INFO - [robust_curvature] OUTPUT: 1.565371175342756
2025-08-12 06:09:02,938 - INFO - Computed angular variance: 0.901916 for 12 vertices.
2025-08-12 06:09:02,940 - INFO - [robust_curvature] INPUT: [[   0.            0.        ]
 [ 720.            0.        ]
 [ 688.896152    146.93728752]
 [ 628.03702945  284.24782254]
 [ 540.06130897  405.97821493]
 [ 428.78336493  506.85058476]
 [ 299.02788914  582.49139602]
 [ -63.58081603  -39.53346435]
 [  25.56393355  371.38823624]
 [-145.07458068  232.02037817]
 [-365.39458068  232.02037817]
 [ -36.41489265  -29.84942777]]
2025-08-12 06:09:02,940 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,940 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,941 - INFO - Computed angular variance: 0.901916 for 12 vertices.
2025-08-12 06:09:02,942 - INFO - [robust_curvature] INPUT: [[   0.            0.        ]
 [ -63.58081603  -39.53346435]
 [  25.56393355  371.38823624]
 [-145.07458068  232.02037817]
 [-365.39458068  232.02037817]
 [ -36.41489265  -29.84942777]]
2025-08-12 06:09:02,943 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,943 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,944 - INFO - [robust_curvature] INPUT: [[720.           0.        ]
 [688.896152   146.93728752]
 [628.03702945 284.24782254]
 [540.06130897 405.97821493]]
2025-08-12 06:09:02,944 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,944 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,945 - INFO - [robust_curvature] INPUT: [[428.78336493 506.85058476]
 [299.02788914 582.49139602]]
2025-08-12 06:09:02,945 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,945 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,945 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,946 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.9019163124332968, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,946 - INFO - [robust_curvature] INPUT: [[ 2.62240938e+00 -1.14510130e-01]
 [ 7.17118571e+02  5.63689462e-01]
 [ 6.88782003e+02  1.46900357e+02]
 [ 6.27933003e+02  2.84188053e+02]
 [ 5.39971916e+02  4.05898198e+02]
 [ 4.28712480e+02  5.06753790e+02]
 [ 2.98134604e+02  5.79814970e+02]
 [-6.18477729e+01 -3.55708140e+01]
 [ 2.45673377e+01  3.69277183e+02]
 [-1.45265172e+02  2.32555029e+02]
 [-3.63287325e+02  2.31015778e+02]
 [-3.75372469e+01 -2.87303173e+01]]
2025-08-12 06:09:02,946 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,947 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,947 - INFO - Computed angular variance: 0.894681 for 12 vertices.
2025-08-12 06:09:02,948 - INFO - [robust_curvature] INPUT: [[7.17118571e+02 5.63689462e-01]
 [6.88782003e+02 1.46900357e+02]
 [6.27933003e+02 2.84188053e+02]
 [5.39971916e+02 4.05898198e+02]
 [4.28712480e+02 5.06753790e+02]
 [2.98134604e+02 5.79814970e+02]]
2025-08-12 06:09:02,948 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,948 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,949 - INFO - [robust_curvature] INPUT: [[ 2.62240938e+00 -1.14510130e-01]
 [-6.18477729e+01 -3.55708140e+01]
 [ 2.45673377e+01  3.69277183e+02]
 [-1.45265172e+02  2.32555029e+02]
 [-3.63287325e+02  2.31015778e+02]
 [-3.75372469e+01 -2.87303173e+01]]
2025-08-12 06:09:02,949 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,950 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,950 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 2}}
2025-08-12 06:09:02,950 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.8946812743269886, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 2}}}
2025-08-12 06:09:02,950 - INFO - [robust_curvature] INPUT: [[  72.85352316   -3.07750093]
 [ 639.82055825   15.70871454]
 [ 685.50763209  145.94209252]
 [ 625.1221364   282.57303835]
 [ 537.55644129  403.73608613]
 [ 426.73907578  503.96175711]
 [ 274.23192583  508.12206828]
 [ -15.38289768   70.64031972]
 [  -2.12119814  312.82841636]
 [-150.31303833  246.71544238]
 [-306.72162967  204.11968741]
 [ -67.38772099    1.28128438]]
2025-08-12 06:09:02,951 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,951 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,951 - INFO - Computed angular variance: 0.683041 for 12 vertices.
2025-08-12 06:09:02,953 - INFO - [robust_curvature] INPUT: [[639.82055825  15.70871454]
 [685.50763209 145.94209252]
 [625.1221364  282.57303835]
 [537.55644129 403.73608613]
 [426.73907578 503.96175711]
 [274.23192583 508.12206828]]
2025-08-12 06:09:02,953 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,953 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,954 - INFO - [robust_curvature] INPUT: [[  72.85352316   -3.07750093]
 [ -15.38289768   70.64031972]
 [  -2.12119814  312.82841636]
 [-150.31303833  246.71544238]
 [-306.72162967  204.11968741]
 [ -67.38772099    1.28128438]]
2025-08-12 06:09:02,954 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,954 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,955 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 06:09:02,955 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.683041446760292, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}
2025-08-12 06:09:02,955 - INFO - [robust_curvature] INPUT: [[ 185.09041193   15.62970709]
 [ 486.68690961   52.21628907]
 [ 631.90564954  151.54175908]
 [ 611.25986166  277.12624615]
 [ 527.4260039   392.64275609]
 [ 407.81490771  456.926754  ]
 [ 240.38627394  389.76817409]
 [  69.3478343   257.79406026]
 [ -42.06209663  240.88399268]
 [-144.02575792  237.4739622 ]
 [-185.26545286  161.45669441]
 [ -68.6597372    59.09101113]]
2025-08-12 06:09:02,956 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,956 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,956 - INFO - Computed angular variance: 0.133706 for 12 vertices.
2025-08-12 06:09:02,957 - INFO - [robust_curvature] INPUT: [[486.68690961  52.21628907]
 [631.90564954 151.54175908]
 [611.25986166 277.12624615]
 [527.4260039  392.64275609]
 [407.81490771 456.926754  ]
 [240.38627394 389.76817409]]
2025-08-12 06:09:02,958 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,958 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,958 - INFO - [robust_curvature] INPUT: [[ 185.09041193   15.62970709]
 [  69.3478343   257.79406026]
 [ -42.06209663  240.88399268]
 [-144.02575792  237.4739622 ]
 [-185.26545286  161.45669441]
 [ -68.6597372    59.09101113]]
2025-08-12 06:09:02,958 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,959 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,959 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 06:09:02,959 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.13370615364723157, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}
2025-08-12 06:09:02,960 - INFO - [robust_curvature] INPUT: [[210.74450021 101.94701831]
 [358.16503336 126.55906697]
 [461.86791636 184.81689506]
 [493.49557218 257.78017045]
 [453.20544403 318.87476589]
 [359.837522   346.56553091]
 [238.69169851 335.92295096]
 [115.633904   298.9785634 ]
 [ 15.82033327 251.65683553]
 [-36.31424416 201.89510346]
 [-20.37999741 153.06297022]
 [ 69.13712563 114.49153508]]
2025-08-12 06:09:02,960 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,960 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,961 - INFO - Computed angular variance: 0.098598 for 12 vertices.
2025-08-12 06:09:02,962 - INFO - [robust_curvature] INPUT: [[358.16503336 126.55906697]
 [461.86791636 184.81689506]
 [493.49557218 257.78017045]
 [453.20544403 318.87476589]
 [359.837522   346.56553091]
 [238.69169851 335.92295096]]
2025-08-12 06:09:02,962 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,962 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,962 - INFO - [robust_curvature] INPUT: [[210.74450021 101.94701831]
 [115.633904   298.9785634 ]
 [ 15.82033327 251.65683553]
 [-36.31424416 201.89510346]
 [-20.37999741 153.06297022]
 [ 69.13712563 114.49153508]]
2025-08-12 06:09:02,963 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,963 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,963 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 06:09:02,963 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.09859829768200863, 'complexity': 2, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}
2025-08-12 06:09:02,964 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.9019163124332968, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.8946812743269886, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 2}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.683041446760292, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.13370615364723157, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.09859829768200863, 'complexity': 2, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}}
2025-08-12 06:09:02,965 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,965 - DEBUG - [extract_image_features] Stroke 0 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:02,966 - DEBUG - [extract_image_features] Stroke 1 geometry: {'area': 2.1893095936024528e-08, 'perimeter': 0.010175247536205703, 'centroid': [0.5025437866356732, 1.035785095605166e-05], 'bounds': [0.4999999999999999, 0.0, 0.505087546977699, 2.588380422163805e-05], 'width': 0.005087546977699087, 'height': 2.588380422163805e-05}
2025-08-12 06:09:02,966 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,967 - DEBUG - [extract_image_features] Stroke 2 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:02,967 - DEBUG - [extract_image_features] Stroke 3 geometry: {'area': 3.74049749507499e-18, 'perimeter': 0.17519999999999983, 'centroid': [0.5933862906333897, 0.5303430451849189], 'bounds': [0.555541700551637, 0.518046592471497, 0.6388542513790924, 0.5451164811787423], 'width': 0.08331255082745537, 'height': 0.02706988870724536}
2025-08-12 06:09:02,968 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:02,968 - DEBUG - [extract_image_features] Stroke 4 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:02,970 - DEBUG - [extract_image_features] Stroke 5 geometry: {'area': 1.3010426069826053e-18, 'perimeter': 0.08377047944005102, 'centroid': [0.42261460435324727, 0.5632040010809213], 'bounds': [0.4083102695544795, 0.548391617386354, 0.44075051589479686, 0.5748869702578205], 'width': 0.032440246340317336, 'height': 0.026495352871466538}
2025-08-12 06:09:02,970 - DEBUG - [extract_image_features] Stroke 6 geometry: {'area': 4.336808689942018e-18, 'perimeter': 0.2838900278029987, 'centroid': [0.5953396232274462, 0.4241090877605831], 'bounds': [0.5346568113963505, 0.3840113499876254, 0.6457132858800496, 0.4724129701466945], 'width': 0.11105647448369915, 'height': 0.08840162015906905}
2025-08-12 06:09:02,971 - INFO - [extract_image_features] stroke_type_distribution INPUT: [{'command': 'line_normal_0.500-0.500', 'vertices': [(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'arc_normal_0.500_0.583-0.750', 'vertices': [(0.4999999999999999, 0.0), (0.5002543817275045, 6.471006747110764e-08), (0.5005087633891638, 2.58840253175574e-07), (0.5007631449191353, 5.82390506764785e-07), (0.5010175262515745, 1.0353607446389468e-06), (0.5012719073206365, 1.6177508493919746e-06), (0.5015262880604773, 2.329560670422115e-06), (0.501780668405254, 3.170790023376835e-06), (0.5020350482891217, 4.14143869059691e-06), (0.5022894276462369, 5.241506420727848e-06), (0.502543806410756, 6.470992929163977e-06), (0.5027981845168357, 7.829897897548843e-06), (0.5030525618986325, 9.318220974219305e-06), (0.5033069384903033, 1.0935961773927971e-05), (0.5035613142260053, 1.2683119877898719e-05), (0.5038156890398957, 1.4559694833882197e-05), (0.5040700628661325, 1.6565686156211346e-05), (0.5043244356388724, 1.8701093325634854e-05), (0.5045788072922747, 2.096591578942819e-05), (0.5048331777604975, 2.3360152961338088e-05), (0.505087546977699, 2.588380422163805e-05)], 'geometry': {'area': 2.1893095936024528e-08, 'perimeter': 0.010175247536205703, 'centroid': [0.5025437866356732, 1.035785095605166e-05], 'bounds': [0.4999999999999999, 0.0, 0.505087546977699, 2.588380422163805e-05], 'width': 0.005087546977699087, 'height': 2.588380422163805e-05}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.005087546977699087, 'height': 2.588380422163805e-05}, {'command': 'line_normal_0.500-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.292-0.050', 'vertices': [(0.5, 0.5), (0.5396726432511693, 0.5128904231939264), (0.5793452865023385, 0.5257808463878527), (0.6190179297535078, 0.5386712695817791), (0.658690573004677, 0.5515616927757055), (0.6983632162558463, 0.564452115969632), (0.7380358595070156, 0.5773425391635583), (0.7777085027581848, 0.5902329623574847)], 'geometry': {'area': 3.74049749507499e-18, 'perimeter': 0.17519999999999983, 'centroid': [0.5933862906333897, 0.5303430451849189], 'bounds': [0.555541700551637, 0.518046592471497, 0.6388542513790924, 0.5451164811787423], 'width': 0.08331255082745537, 'height': 0.02706988870724536}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.08331255082745537, 'height': 0.02706988870724536}, {'command': 'line_normal_0.153-0.893', 'vertices': [(0.5, 0.5), (0.5171008277168883, 0.4863876385121884), (0.5342016554337766, 0.47277527702437677), (0.5513024831506649, 0.4591629155365652), (0.5684033108675531, 0.4455505540487536), (0.5855041385844414, 0.431938192560942), (0.6026049663013298, 0.41832583107313037), (0.619705794018218, 0.4047134695853188)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.153-0.391', 'vertices': [(0.5, 0.5), (0.48307157596994194, 0.5138261763961012), (0.4661431519398839, 0.5276523527922022), (0.44921472790982586, 0.5414785291883034), (0.43228630387976785, 0.5553047055844046), (0.4153578798497098, 0.5691308819805058), (0.3984294558196517, 0.5829570583766068), (0.3815010317895937, 0.596783234772708)], 'geometry': {'area': 1.3010426069826053e-18, 'perimeter': 0.08377047944005102, 'centroid': [0.42261460435324727, 0.5632040010809213], 'bounds': [0.4083102695544795, 0.548391617386354, 0.44075051589479686, 0.5748869702578205], 'width': 0.032440246340317336, 'height': 0.026495352871466538}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.032440246340317336, 'height': 0.026495352871466538}, {'command': 'line_normal_0.292-0.893', 'vertices': [(0.5, 0.5), (0.5326368738126234, 0.47402085258535304), (0.5652737476252467, 0.448041705170706), (0.5979106214378701, 0.42206255775605905), (0.6305474952504935, 0.3960834103414121), (0.663184369063117, 0.3701042629267651), (0.6958212428757403, 0.3441251155121181), (0.7284581166883637, 0.31814596809747114)], 'geometry': {'area': 4.336808689942018e-18, 'perimeter': 0.2838900278029987, 'centroid': [0.5953396232274462, 0.4241090877605831], 'bounds': [0.5346568113963505, 0.3840113499876254, 0.6457132858800496, 0.4724129701466945], 'width': 0.11105647448369915, 'height': 0.08840162015906905}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.11105647448369915, 'height': 0.08840162015906905}]
2025-08-12 06:09:02,971 - INFO - [extract_image_features] stroke_type_distribution OUTPUT: {'line': 6, 'arc': 1}
2025-08-12 06:09:02,971 - INFO - [extract_image_features] modifier_distribution OUTPUT: {'normal': 7}
2025-08-12 06:09:02,971 - INFO - [extract_image_features] relational INPUT: []
2025-08-12 06:09:02,972 - INFO - [extract_image_features] relational OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:02,972 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:02,972 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,972 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,972 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,972 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,973 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,973 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,973 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,973 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,973 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,974 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,974 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 6}
2025-08-12 06:09:02,974 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:02,975 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,975 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,975 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,975 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,975 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,976 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,976 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,976 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,976 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:02,976 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,977 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:02,977 - DEBUG - [_detect_alternation] OUTPUT: 0.14285714285714285
2025-08-12 06:09:02,977 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:02,977 - INFO - [extract_image_features] PATCHED ngram: {'normal|normal': 6}
2025-08-12 06:09:02,978 - INFO - [extract_image_features] PATCHED alternation: 0.14285714285714285
2025-08-12 06:09:02,978 - INFO - [extract_image_features] PATCHED regularity: 0.14285714285714285
2025-08-12 06:09:02,978 - INFO - [extract_image_features] PATCHED dominant_shape_functions: line
2025-08-12 06:09:02,978 - INFO - [extract_image_features] PATCHED dominant_modifiers: normal
2025-08-12 06:09:02,979 - INFO - [extract_image_features] PATCHED image_canonical_summary: {'area': 266926.83147701446, 'perimeter': 2232.0863688374084, 'compactness': 0.6732558019171495, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.14285714285714285}
2025-08-12 06:09:02,979 - INFO - [extract_image_features] OUTPUT: {'area': 266926.83147701446, 'perimeter': 2232.0863688374084, 'convexity_ratio': 0.24393581046770382, 'compactness': 0.6732558019171495, 'aspect_ratio': 1.2592896532055171, 'centroid_x': 360.8331069503955, 'centroid_y': 213.4516392356099, 'width': 771.1144636381555, 'height': 612.3408237932285, 'bounding_box': (-365.39458067692465, -39.53346435421315, 720.0, 582.4913960246282), 'num_vertices': 12, 'curvature': 1.565371175342756, 'angular_variance': 0.9019163124332968, 'complexity': -0.10011838602506025, 'num_strokes': 7, 'stroke_type_distribution': {'line': 6, 'arc': 1}, 'modifier_distribution': {'normal': 7}, 'avg_stroke_length': 0.0, 'stroke_complexity': -0.10011838602506025, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.9019163124332968, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.8946812743269886, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 2}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.683041446760292, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.13370615364723157, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.09859829768200863, 'complexity': 2, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}}, 'moment_of_inertia': 98392.85448746337, 'center_of_mass_x': 0.5940526037591461, 'center_of_mass_y': 0.3960694963080845, 'symmetry_score': 504.94262544020575, 'ngram': {'normal|normal': 6}, 'alternation': 0.14285714285714285, 'regularity': 0.14285714285714285, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 266926.83147701446, 'perimeter': 2232.0863688374084, 'compactness': 0.6732558019171495, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.14285714285714285}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 5, 'vertical': 1}}
2025-08-12 06:09:02,979 - DEBUG - [extract_image_features] FINAL OUTPUT bounding_box: (-365.39458067692465, -39.53346435421315, 720.0, 582.4913960246282)
2025-08-12 06:09:02,979 - DEBUG - [extract_image_features] FINAL OUTPUT width: 771.1144636381555, height: 612.3408237932285
2025-08-12 06:09:02,980 - DEBUG - [extract_image_features] FINAL OUTPUT curvature: 1.565371175342756
2025-08-12 06:09:02,980 - INFO - [DIAG] Shape 0 extracted attributes: {'area': 266926.83147701446, 'perimeter': 2232.0863688374084, 'convexity_ratio': 0.24393581046770382, 'compactness': 0.6732558019171495, 'aspect_ratio': 1.2592896532055171, 'centroid_x': 360.8331069503955, 'centroid_y': 213.4516392356099, 'width': 771.1144636381555, 'height': 612.3408237932285, 'bounding_box': (-365.39458067692465, -39.53346435421315, 720.0, 582.4913960246282), 'num_vertices': 12, 'curvature': 1.565371175342756, 'angular_variance': 0.9019163124332968, 'complexity': -0.10011838602506025, 'num_strokes': 7, 'stroke_type_distribution': {'line': 6, 'arc': 1}, 'modifier_distribution': {'normal': 7}, 'avg_stroke_length': 0.0, 'stroke_complexity': -0.10011838602506025, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.9019163124332968, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.8946812743269886, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 2}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.683041446760292, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.13370615364723157, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.09859829768200863, 'complexity': 2, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}}, 'moment_of_inertia': 98392.85448746337, 'center_of_mass_x': 0.5940526037591461, 'center_of_mass_y': 0.3960694963080845, 'symmetry_score': 504.94262544020575, 'ngram': {'normal|normal': 6}, 'alternation': 0.14285714285714285, 'regularity': 0.14285714285714285, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 266926.83147701446, 'perimeter': 2232.0863688374084, 'compactness': 0.6732558019171495, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.14285714285714285}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 5, 'vertical': 1}}
2025-08-12 06:09:02,980 - INFO - [VALIDATION] expected_strokes=7, actual_shapes=1
2025-08-12 06:09:02,980 - INFO - [VALIDATION] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_6, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: Number of action commands matches number of parsed shapes (7)
2025-08-12 06:09:02,981 - INFO - [standardize_coordinates] INPUT vertices: [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)]
2025-08-12 06:09:02,981 - INFO - [standardize_coordinates] OUTPUT normalized vertices: [[0.33664677084442424, 0.06355608412521563], [1.0, 0.06355608412521563], [0.9713432805414234, 0.2997802238372053], [0.9152723146117904, 0.5205278880613445], [0.8342181781286507, 0.7162280925733883], [0.7316951454754572, 0.8783958390081242], [0.6121483206654018, 1.0], [0.2780682435826501, 0.0], [0.36019943454956, 0.6606194169597722], [0.20298608812160615, 0.4365642915941748], [0.0, 0.4365642915941748], [0.3030968588640547, 0.015568568400489396]]
2025-08-12 06:09:02,982 - DEBUG - [process_single_image] Passing shape_list to extract_relational_features: [{'vertices': [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)]}]
2025-08-12 06:09:02,982 - INFO - [extract_relational_features] INPUT: [{'vertices': [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)]}]
2025-08-12 06:09:02,982 - DEBUG - [extract_relational_features] Shape 0 vertices: [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)]
2025-08-12 06:09:02,983 - INFO - [calculate_relationships] INPUT: strokes=[{'vertices': [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)]}], buffer_amt=0.001
2025-08-12 06:09:02,983 - DEBUG - [calculate_relationships] Stroke 0: {'vertices': [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)]}
2025-08-12 06:09:02,983 - DEBUG - [calculate_relationships] Vertices for stroke 0: [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)]
2025-08-12 06:09:02,984 - DEBUG - [calculate_relationships] Created LineString for stroke 0: LINESTRING (0 0, 720 0, 688.896151999682 146.9372875224623, 628.0370294463379 284.2478225404378, 540.0613089660903 405.97821492815257, 428.78336492975075 506.8505847621706, 299.0278891437828 582.4913960246282, -63.580816033965164 -39.53346435421315, 25.563933546060397 371.3882362437408, -145.07458067692465 232.02037817104122, -365.39458067692465 232.02037817104124, -36.414892645680936 -29.849427768600293)
2025-08-12 06:09:02,984 - DEBUG - [calculate_relationships] Buffered geometries: ['POLYGON ((-57.790109944984906 -12.835904655420027, -365.39520346470516 232.01959578023067, -365.3952775817226 232.01966100739006, -365.39534490537164 232.01973322539948, -365.395404779387 232.01981173028392, -365.39545662012193 232.01989575678448, -365.3954999222374 232.01998448581804, -365.39553426362806 232.02007705246152, -365.39555930953696 232.0201725543832, -365.39557481581875 232.0202700606385, -365.39558063131955 232.0203686207448, -365.3955766993502 232.02046727394654, -365.3955630582394 232.02056505858076, -365.39553984095943 232.02066102145122, -365.39550727383033 232.02075422712005, -365.3954656743137 232.02084376702635, -365.39541544791814 232.0209287683427, -365.39535708424626 232.02100840248363, -365.39529115222206 232.02108189318227, -365.3952182945454 232.02114852405757, -365.3951392214265 232.02120764559746, -365.3950547036636 232.02125868149022, -365.39496556512853 232.0213011342423, -365.3948726747361 232.02133459002795, -365.3947769379739 232.02135872272297, -365.39467928807585 232.02137329708395, -365.39458067692465 232.02137817104125, -145.07493715428222 232.02137817104122, 25.563300975898485 371.389010746801, 25.563380433656807 371.389069350378, 25.563465283107604 371.3891198329027, 25.56355469714567 371.38916170227566, 25.563647804170607 371.3891945503579, 25.563743696583078 371.38921805694906, 25.563841439632043 371.38923199290895, 25.563940080526606 371.38923622239093, 25.56403865772375 371.38923070416644, 25.564136210301378 371.38921549202666, 25.56423178732529 371.38919073425825, 25.564324457118822 371.38915667219777, 25.564413316344744 371.3891136378793, 25.564497498810905 371.38906205079763, 25.564576183913818 371.38900241381936, 25.564648604637817 371.3889353082806, 25.56471405503187 371.38886138832044, 25.56477189709113 371.3887813745042, 25.564821566976136 371.3886960467999, 25.564862580509097 371.3886062369747, 25.56489453789359 371.388512820487, 25.564917127611764 371.3884167079528, 25.564930129460976 371.38831883626887, 25.56493341670031 371.38822015948, 25.564926957286033 371.38812163947915, 25.564910814183964 371.3880242366309, -57.78789189365844 -12.835113970344201, -51.114745342214086 -18.146978672056605, 299.0270252203656 582.4918996478299, 299.027078744099 582.4919819020494, 299.0271400724244 582.4920585139489, 299.0272086147164 582.4921287457142, 299.0272837108754 582.492191920975, 299.02736463768423 582.4922474313187, 299.0274506157735 582.4922947421506, 299.02754081712726 582.4923333978415, 299.0276343730571 582.492363026116, 299.0277303825683 582.4923833416375, 299.02782792103676 582.4923941487565, 299.0279260491138 582.4923953433945, 299.02802382177225 582.4923869140464, 299.02812029740807 582.4923689418916, 299.02821454690815 582.4923416000117, 299.0283056625982 582.492305151724, 299.0283927669844 582.4922599480454, 428.78386855295236 506.8514486855878, 428.78395576074115 506.8513915575231, 428.7840365468977 506.8513256605496, 540.0619805832373 405.97895582653155, 540.0620540697118 405.9788818768712, 540.0621194577935 405.9788006782691, 628.0378399380411 284.2484082905544, 628.037896517039 284.2483207255431, 628.0379436720067 284.24822774585056, 688.8970662253508 146.93769272787506, 688.8971034437695 146.93759534408014, 688.8971303211192 146.93749461462923, 720.0009783214372 0.0002070921669356, 720.0009939839164 0.0001095261339862, 720.0009999406952 1.0890639234651298e-5, 720.0009961336092 -8.785119655423072e-5, 720.0009825998321 -0.0001857352142506, 720.0009594715141 -0.0002818056308412, 720.0009269744902 -0.0003751243721195, 720.0008854260757 -0.0004647802324584, 720.0008352319678 -0.0005498977722268, 720.0007768822842 -0.0006296458659709, 720.000710946777 -0.0007032458178921, 720.0006380692696 -0.0007699789653785, 720.0005589613708 -0.0008291936963459, 720.0004743955247 -0.0008803118118675, 720.0003851974702 -0.0009228341719648, 720.0002922381765 -0.0009563455694324, 720.0001964253396 -0.0009805187841048, 720.0000986945183 -0.0009951177779803, 720 -0.001, 0 -0.001, -9.801714032956045e-5 -0.0009951847266722, -0.0001950903220161 -0.0009807852804032, -0.0002902846772545 -0.0009569403357322, -0.0003826834323651 -0.0009238795325113, -0.000471396736826 -0.0008819212643484, -0.0005555702330196 -0.0008314696123025, -0.0006343932841636 -0.0007730104533627, -0.0007071067811865 -0.0007071067811865, -0.0007730104533627 -0.0006343932841636, -0.0008314696123025 -0.0005555702330196, -0.0008819212643484 -0.000471396736826, -0.0009238795325113 -0.0003826834323651, -0.0009569403357322 -0.0002902846772545, -0.0009807852804032 -0.0001950903220161, -0.0009951847266722 -9.801714032956059e-5, -0.001 0, -0.0009951847266722 9.801714032956083e-5, -0.0009807852804032 0.0001950903220161, -0.0009569403357322 0.0002902846772545, -0.0009238795325113 0.0003826834323651, -0.0008819212643484 0.000471396736826, -0.0008314696123025 0.0005555702330196, -0.0007730104533627 0.0006343932841636, -0.0007071067811865 0.0007071067811865, -0.0006343932841636 0.0007730104533627, -0.0005555702330196 0.0008314696123025, -0.000471396736826 0.0008819212643484, -0.0003826834323651 0.0009238795325113, -0.0002902846772545 0.0009569403357322, -0.0001950903220161 0.0009807852804032, -9.801714032956064e-5 0.0009951847266722, 0 0.001, 719.998766159954 0.001, 688.8951953568077 146.93697801887603, 628.0361576378747 284.2473216331986, 540.0605597911474 405.9775443351585, 428.7827708703997 506.84977355840687, 299.02824944399833 582.4900284780093, -51.11316407767896 -18.14823736811602, -36.41426985790045 -29.848645377789715, -36.414196169083965 -29.848710189092593, -36.41412918771784 -29.8487819110784, -36.41406955886925 -29.848859853025203, -36.414017856796605 -29.848943264309447, -36.41397457941912 -29.849031341634873, -36.4139401435216 -29.84912323676868, -36.41391488074057 -29.849218064710502, -36.41389903437042 -29.84931491221542, -36.41389275702034 -29.849412846589015, -36.41389610914467 -29.849510924669737, -36.413909058460604 -29.849608201912055, -36.413931480259144 -29.84970374148294, -36.41396315860613 -29.849796623284107, -36.41400378842176 -29.849885952813032, -36.41405297841869 -29.849970869777522, -36.41411025487036 -29.850050556380783, -36.414175066173236 -29.850124245197264, -36.41424678815904 -29.85019122656339, -36.41432473010585 -29.85025085541198, -36.41440814139009 -29.850302557484625, -36.41449621871551 -29.85034583486211, -36.41458811384933 -29.850380270759626, -36.41468294179115 -29.85040553354066, -36.41477978929606 -29.850421379910813, -36.41487772366966 -29.850427657260884, -36.41497580175038 -29.85042430513656, -36.4150730789927 -29.85041135582063, -36.415168618563584 -29.85038893402208, -36.41526150036475 -29.850357255675096, -36.415350829893676 -29.850316625859474, -36.415435746858165 -29.850267435862545, -36.41551543346142 -29.85021015941087, -51.11418193409681 -18.149983415541687, -63.57995211054797 -39.53396797741479, -63.580005237788676 -39.5340496828048, -63.580066066194 -39.53412582858319, -63.58013401799905 -39.53419569149647, -63.580208447778936 -39.53425860796751, -63.58028864857918 -39.534313980398395, -63.58037385863056 -39.53436128284658, -63.58046326858463 -39.53440006602044, -63.580556029201105 -39.534429961546735, -63.58065125941419 -39.53445068546955, -63.58074805470118 -39.53446204094739, -63.580845495673884 -39.534463920122796, -63.58094265681119 -39.53445630514685, -63.58103861524995 -39.534439268348684, -63.58113245955058 -39.534412971548484, -63.58122329835415 -39.53437766452048, -63.58131026884878 -39.5343336826205, -63.581392544964835 -39.53428144360071, -63.58146934522119 -39.534221443641655, -63.58153994014791 -39.534154252639425, -63.58160365921504 -39.534080508792584, -63.58165989720136 -39.53400091254044, -63.581708119943066 -39.53391621991005, -63.58174786940731 -39.53382723533524, -63.58177876804277 -39.533734804015936, -63.58180052236572 -39.533639803890175, -63.58181292574764 -39.53354313729523, -63.58181586037781 -39.53344572239695, -63.581809298382296 -39.533348484468775, -63.581793302088734 -39.53325234710323, -57.790109944984906 -12.835904655420027), (-57.788364785487445 -12.837293812853021, -63.5785002056302 -39.52750613322765, -51.11576319863194 -18.14872471948227, -57.788364785487445 -12.837293812853021), (-57.7896370531559 -12.833724812911207, 25.562349523057662 371.3856513531313, -145.07394810676274 232.01960366798102, -145.07402678705563 232.01954558109833, -145.07411076512474 232.0194954576674, -145.07419923774728 232.01945377710248, -145.07429135871132 232.01942093806466, -145.0743862469099 232.01939725464857, -145.07448299476826 232.01938295337843, -145.07458067692465 232.0193781710412, -365.3917187215902 232.01937817104124, -57.7896370531559 -12.833724812911207))']
2025-08-12 06:09:02,985 - INFO - [calculate_relationships] Intermediate results: adjacency=0, intersections=0, containment=0, overlap=0.0
2025-08-12 06:09:02,985 - INFO - [calculate_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:02,985 - WARNING - [calculate_relationships] All relational features are zero/default. Strokes: [{'vertices': [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)]}]
2025-08-12 06:09:02,985 - INFO - [extract_relational_features] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:02,986 - DEBUG - [extract_relational_features] Output is JSON serializable.
2025-08-12 06:09:02,986 - INFO - [robust_curvature] INPUT: [[0.33664677 0.06355608]
 [1.         0.06355608]
 [0.97134328 0.29978022]
 [0.91527231 0.52052789]
 [0.83421818 0.71622809]
 [0.73169515 0.87839584]
 [0.61214832 1.        ]
 [0.27806824 0.        ]
 [0.36019943 0.66061942]
 [0.20298609 0.43656429]
 [0.         0.43656429]
 [0.30309686 0.01556857]]
2025-08-12 06:09:02,987 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,987 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,987 - INFO - Computed angular variance: 0.982344 for 12 vertices.
2025-08-12 06:09:02,988 - INFO - [robust_curvature] INPUT: [[0.33664677 0.06355608]
 [0.27806824 0.        ]
 [0.36019943 0.66061942]
 [0.20298609 0.43656429]
 [0.         0.43656429]
 [0.30309686 0.01556857]]
2025-08-12 06:09:02,988 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,989 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,989 - INFO - [robust_curvature] INPUT: [[0.91527231 0.52052789]
 [0.83421818 0.71622809]
 [0.73169515 0.87839584]
 [0.61214832 1.        ]]
2025-08-12 06:09:02,989 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,990 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,990 - INFO - [robust_curvature] INPUT: [[1.         0.06355608]
 [0.97134328 0.29978022]]
2025-08-12 06:09:02,990 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,991 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,991 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:02,992 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.9823441483442595, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:02,992 - INFO - [robust_curvature] INPUT: [[0.33906286 0.06337199]
 [0.99734527 0.0644623 ]
 [0.97123811 0.29972085]
 [0.91517647 0.5204318 ]
 [0.83413582 0.71609945]
 [0.73162984 0.87824023]
 [0.61132532 0.99569724]
 [0.27966494 0.00637057]
 [0.35928125 0.65722558]
 [0.20281049 0.43742383]
 [0.00194147 0.43494924]
 [0.30206281 0.01736771]]
2025-08-12 06:09:02,993 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,993 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,993 - INFO - Computed angular variance: 0.968406 for 12 vertices.
2025-08-12 06:09:02,994 - INFO - [robust_curvature] INPUT: [[0.99734527 0.0644623 ]
 [0.97123811 0.29972085]
 [0.91517647 0.5204318 ]
 [0.83413582 0.71609945]
 [0.73162984 0.87824023]
 [0.61132532 0.99569724]]
2025-08-12 06:09:02,994 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,995 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,995 - INFO - [robust_curvature] INPUT: [[0.33906286 0.06337199]
 [0.27966494 0.00637057]
 [0.35928125 0.65722558]
 [0.20281049 0.43742383]
 [0.00194147 0.43494924]
 [0.30206281 0.01736771]]
2025-08-12 06:09:02,995 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,996 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,996 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 2}}
2025-08-12 06:09:02,997 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.9684057922080954, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 2}}}
2025-08-12 06:09:02,997 - INFO - [robust_curvature] INPUT: [[0.40376847 0.05860853]
 [0.92612876 0.08881024]
 [0.96822136 0.2981803 ]
 [0.91258675 0.51783542]
 [0.83191038 0.71262353]
 [0.72981169 0.87375161]
 [0.58930321 0.88043994]
 [0.32247414 0.17712119]
 [0.33469246 0.56647556]
 [0.19815977 0.46018885]
 [0.05405679 0.39170967]
 [0.27456085 0.06561594]]
2025-08-12 06:09:02,997 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:02,997 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:02,998 - INFO - Computed angular variance: 0.723466 for 12 vertices.
2025-08-12 06:09:02,999 - INFO - [robust_curvature] INPUT: [[0.92612876 0.08881024]
 [0.96822136 0.2981803 ]
 [0.91258675 0.51783542]
 [0.83191038 0.71262353]
 [0.72981169 0.87375161]
 [0.58930321 0.88043994]]
2025-08-12 06:09:03,004 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,004 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,005 - INFO - [robust_curvature] INPUT: [[0.40376847 0.05860853]
 [0.32247414 0.17712119]
 [0.33469246 0.56647556]
 [0.19815977 0.46018885]
 [0.05405679 0.39170967]
 [0.27456085 0.06561594]]
2025-08-12 06:09:03,005 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,005 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,006 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 06:09:03,006 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.7234655051902344, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}
2025-08-12 06:09:03,006 - INFO - [robust_curvature] INPUT: [[0.507175   0.08868323]
 [0.78504307 0.14750175]
 [0.91883657 0.30718262]
 [0.89981511 0.50907887]
 [0.82257697 0.69478931]
 [0.7123764  0.79813565]
 [0.5581204  0.69016798]
 [0.40053859 0.47799942]
 [0.29789395 0.45081391]
 [0.20395239 0.44533176]
 [0.16595728 0.32312239]
 [0.27338891 0.15855391]]
2025-08-12 06:09:03,007 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,007 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,007 - INFO - Computed angular variance: 0.116909 for 12 vertices.
2025-08-12 06:09:03,008 - INFO - [robust_curvature] INPUT: [[0.78504307 0.14750175]
 [0.91883657 0.30718262]
 [0.89981511 0.50907887]
 [0.82257697 0.69478931]
 [0.7123764  0.79813565]
 [0.5581204  0.69016798]]
2025-08-12 06:09:03,009 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,009 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,009 - INFO - [robust_curvature] INPUT: [[0.507175   0.08868323]
 [0.40053859 0.47799942]
 [0.29789395 0.45081391]
 [0.20395239 0.44533176]
 [0.16595728 0.32312239]
 [0.27338891 0.15855391]]
2025-08-12 06:09:03,010 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,010 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,010 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 06:09:03,010 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.11690935241370737, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}
2025-08-12 06:09:03,011 - INFO - [robust_curvature] INPUT: [[0.53081072 0.22745149]
 [0.66663279 0.26701912]
 [0.76217673 0.36067748]
 [0.79131605 0.47797709]
 [0.75419579 0.57619599]
 [0.66817369 0.62071313]
 [0.55655914 0.60360355]
 [0.44318305 0.5442098 ]
 [0.35122242 0.4681329 ]
 [0.30318959 0.38813331]
 [0.31787019 0.30962819]
 [0.40034446 0.24761872]]
2025-08-12 06:09:03,011 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,011 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,013 - INFO - Computed angular variance: 0.027534 for 12 vertices.
2025-08-12 06:09:03,014 - INFO - [robust_curvature] INPUT: [[0.66663279 0.26701912]
 [0.76217673 0.36067748]
 [0.79131605 0.47797709]
 [0.75419579 0.57619599]
 [0.66817369 0.62071313]
 [0.55655914 0.60360355]]
2025-08-12 06:09:03,014 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,014 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,015 - INFO - [robust_curvature] INPUT: [[0.53081072 0.22745149]
 [0.44318305 0.5442098 ]
 [0.35122242 0.4681329 ]
 [0.30318959 0.38813331]
 [0.31787019 0.30962819]
 [0.40034446 0.24761872]]
2025-08-12 06:09:03,015 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,015 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,015 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 06:09:03,016 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.027534423877054945, 'complexity': 2, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}
2025-08-12 06:09:03,016 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.9823441483442595, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.9684057922080954, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 2}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.7234655051902344, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.11690935241370737, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.027534423877054945, 'complexity': 2, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}}
2025-08-12 06:09:03,016 - INFO - [_calculate_image_features] INPUTS: vertices=[(0.33664677084442424, 0.06355608412521563), (1.0, 0.06355608412521563), (0.9713432805414234, 0.2997802238372053), (0.9152723146117904, 0.5205278880613445), (0.8342181781286507, 0.7162280925733883), (0.7316951454754572, 0.8783958390081242), (0.6121483206654018, 1.0), (0.2780682435826501, 0.0), (0.36019943454956, 0.6606194169597722), (0.20298608812160615, 0.4365642915941748), (0.0, 0.4365642915941748), (0.3030968588640547, 0.015568568400489396)], strokes=[{'command': 'line_normal_0.500-0.500', 'vertices': [(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'arc_normal_0.500_0.583-0.750', 'vertices': [(0.4999999999999999, 0.0), (0.5002543817275045, 6.471006747110764e-08), (0.5005087633891638, 2.58840253175574e-07), (0.5007631449191353, 5.82390506764785e-07), (0.5010175262515745, 1.0353607446389468e-06), (0.5012719073206365, 1.6177508493919746e-06), (0.5015262880604773, 2.329560670422115e-06), (0.501780668405254, 3.170790023376835e-06), (0.5020350482891217, 4.14143869059691e-06), (0.5022894276462369, 5.241506420727848e-06), (0.502543806410756, 6.470992929163977e-06), (0.5027981845168357, 7.829897897548843e-06), (0.5030525618986325, 9.318220974219305e-06), (0.5033069384903033, 1.0935961773927971e-05), (0.5035613142260053, 1.2683119877898719e-05), (0.5038156890398957, 1.4559694833882197e-05), (0.5040700628661325, 1.6565686156211346e-05), (0.5043244356388724, 1.8701093325634854e-05), (0.5045788072922747, 2.096591578942819e-05), (0.5048331777604975, 2.3360152961338088e-05), (0.505087546977699, 2.588380422163805e-05)], 'geometry': {'area': 2.1893095936024528e-08, 'perimeter': 0.010175247536205703, 'centroid': [0.5025437866356732, 1.035785095605166e-05], 'bounds': [0.4999999999999999, 0.0, 0.505087546977699, 2.588380422163805e-05], 'width': 0.005087546977699087, 'height': 2.588380422163805e-05}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.005087546977699087, 'height': 2.588380422163805e-05}, {'command': 'line_normal_0.500-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.292-0.050', 'vertices': [(0.5, 0.5), (0.5396726432511693, 0.5128904231939264), (0.5793452865023385, 0.5257808463878527), (0.6190179297535078, 0.5386712695817791), (0.658690573004677, 0.5515616927757055), (0.6983632162558463, 0.564452115969632), (0.7380358595070156, 0.5773425391635583), (0.7777085027581848, 0.5902329623574847)], 'geometry': {'area': 3.74049749507499e-18, 'perimeter': 0.17519999999999983, 'centroid': [0.5933862906333897, 0.5303430451849189], 'bounds': [0.555541700551637, 0.518046592471497, 0.6388542513790924, 0.5451164811787423], 'width': 0.08331255082745537, 'height': 0.02706988870724536}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.08331255082745537, 'height': 0.02706988870724536}, {'command': 'line_normal_0.153-0.893', 'vertices': [(0.5, 0.5), (0.5171008277168883, 0.4863876385121884), (0.5342016554337766, 0.47277527702437677), (0.5513024831506649, 0.4591629155365652), (0.5684033108675531, 0.4455505540487536), (0.5855041385844414, 0.431938192560942), (0.6026049663013298, 0.41832583107313037), (0.619705794018218, 0.4047134695853188)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.153-0.391', 'vertices': [(0.5, 0.5), (0.48307157596994194, 0.5138261763961012), (0.4661431519398839, 0.5276523527922022), (0.44921472790982586, 0.5414785291883034), (0.43228630387976785, 0.5553047055844046), (0.4153578798497098, 0.5691308819805058), (0.3984294558196517, 0.5829570583766068), (0.3815010317895937, 0.596783234772708)], 'geometry': {'area': 1.3010426069826053e-18, 'perimeter': 0.08377047944005102, 'centroid': [0.42261460435324727, 0.5632040010809213], 'bounds': [0.4083102695544795, 0.548391617386354, 0.44075051589479686, 0.5748869702578205], 'width': 0.032440246340317336, 'height': 0.026495352871466538}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.032440246340317336, 'height': 0.026495352871466538}, {'command': 'line_normal_0.292-0.893', 'vertices': [(0.5, 0.5), (0.5326368738126234, 0.47402085258535304), (0.5652737476252467, 0.448041705170706), (0.5979106214378701, 0.42206255775605905), (0.6305474952504935, 0.3960834103414121), (0.663184369063117, 0.3701042629267651), (0.6958212428757403, 0.3441251155121181), (0.7284581166883637, 0.31814596809747114)], 'geometry': {'area': 4.336808689942018e-18, 'perimeter': 0.2838900278029987, 'centroid': [0.5953396232274462, 0.4241090877605831], 'bounds': [0.5346568113963505, 0.3840113499876254, 0.6457132858800496, 0.4724129701466945], 'width': 0.11105647448369915, 'height': 0.08840162015906905}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': True, 'width': 0.11105647448369915, 'height': 0.08840162015906905}], geometry={'area': 0.395363743314549, 'perimeter': 2.8030846704218333, 'centroid': [0.6690909467913465, 0.40671220670463815], 'bounds': [0.2895537923570275, 0.015568568400489396, 1.0, 1.0], 'width': 0.7104462076429725, 'height': 0.9844314315995106}
2025-08-12 06:09:03,017 - DEBUG - [POLYGON CREATION] Attempting to create Polygon with vertices: [(0.33664677084442424, 0.06355608412521563), (1.0, 0.06355608412521563), (0.9713432805414234, 0.2997802238372053), (0.9152723146117904, 0.5205278880613445), (0.8342181781286507, 0.7162280925733883), (0.7316951454754572, 0.8783958390081242), (0.6121483206654018, 1.0), (0.2780682435826501, 0.0), (0.36019943454956, 0.6606194169597722), (0.20298608812160615, 0.4365642915941748), (0.0, 0.4365642915941748), (0.3030968588640547, 0.015568568400489396)]
2025-08-12 06:09:03,017 - DEBUG - [POLYGON REPAIR] Final polygon: is_valid=True, is_empty=False, area=0.6284031099986687
2025-08-12 06:09:03,017 - INFO - [_calculate_perimeter] INPUT vertices: [(0.33664677084442424, 0.06355608412521563), (1.0, 0.06355608412521563), (0.9713432805414234, 0.2997802238372053), (0.9152723146117904, 0.5205278880613445), (0.8342181781286507, 0.7162280925733883), (0.7316951454754572, 0.8783958390081242), (0.6121483206654018, 1.0), (0.2780682435826501, 0.0), (0.36019943454956, 0.6606194169597722), (0.20298608812160615, 0.4365642915941748), (0.0, 0.4365642915941748), (0.3030968588640547, 0.015568568400489396)]
2025-08-12 06:09:03,017 - INFO - [_calculate_perimeter] OUTPUT perimeter: 4.477307027809003
2025-08-12 06:09:03,018 - INFO - [robust_curvature] INPUT: [(0.33664677084442424, 0.06355608412521563), (1.0, 0.06355608412521563), (0.9713432805414234, 0.2997802238372053), (0.9152723146117904, 0.5205278880613445), (0.8342181781286507, 0.7162280925733883), (0.7316951454754572, 0.8783958390081242), (0.6121483206654018, 1.0), (0.2780682435826501, 0.0), (0.36019943454956, 0.6606194169597722), (0.20298608812160615, 0.4365642915941748), (0.0, 0.4365642915941748), (0.3030968588640547, 0.015568568400489396)]
2025-08-12 06:09:03,019 - INFO - [robust_curvature] OUTPUT: 1.7516840543993508
2025-08-12 06:09:03,019 - INFO - Computed angular variance: 0.982344 for 12 vertices.
2025-08-12 06:09:03,020 - INFO - [complexity] Calling calculate_complexity with vertices: [(0.33664677084442424, 0.06355608412521563), (1.0, 0.06355608412521563), (0.9713432805414234, 0.2997802238372053), (0.9152723146117904, 0.5205278880613445), (0.8342181781286507, 0.7162280925733883), (0.7316951454754572, 0.8783958390081242), (0.6121483206654018, 1.0), (0.2780682435826501, 0.0), (0.36019943454956, 0.6606194169597722), (0.20298608812160615, 0.4365642915941748), (0.0, 0.4365642915941748), (0.3030968588640547, 0.015568568400489396)]
2025-08-12 06:09:03,021 - INFO - Complexity: n=12, n_norm=0.56, curvature=0.88, irregularity=0.43, result=0.63
2025-08-12 06:09:03,022 - INFO - [complexity] Output for vertices count 12: 0.6260944191210334
2025-08-12 06:09:03,022 - INFO - [_calculate_image_features] polsby_popper: 0.29783319788355345
2025-08-12 06:09:03,026 - INFO - [_calculate_image_features] OUTPUT: {'bounding_box': (0.0, 0.0, 1.0, 1.0), 'centroid': [0.6690909467913465, 0.40671220670463815], 'width': 0.7104462076429725, 'height': 0.9844314315995106, 'area_raw': 0.6284031099986687, 'area_normalized': 1.0, 'perimeter_raw': 4.477307027809003, 'perimeter_normalized': 1.0, 'aspect_ratio': 0.7216817594788038, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.3939258094842371, 'polsby_popper_compactness': 0.29783319788355345, 'eccentricity': 0.33514258772239724, 'symmetry_score': 0.46521572378340953, 'horizontal_symmetry': 0.561467329580888, 'vertical_symmetry': 0.5972799739100714, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 12.0, 'visual_complexity': 0.5232735055957455, 'curvature_score': 1.7516840543993508, 'angular_variance': 0.9823441483442595, 'moment_of_inertia': 0.3029547183584782, 'irregularity_score': 0.4278201659167648, 'standardized_complexity': 0.6260944191210334, 'clustering_heights': [0.0, 0.0, 0.013933025513783195, 0.10463115542265974, 0.20154688499695694, 0.3684435153733337], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:03,027 - DEBUG - [_calculate_composition_features] INPUTS: strokes count=7
2025-08-12 06:09:03,027 - DEBUG - [_calculate_composition_features] OUTPUT: {'stroke_type_distribution': {'line': 6, 'arc': 1}, 'shape_modifier_distribution': {'normal': 7}, 'stroke_diversity': 2, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 8, 'homogeneity_score': 1.0, 'pattern_regularity': 0.14285714285714285}
2025-08-12 06:09:03,027 - INFO - [_calculate_physics_features] INPUT vertices: [(0.33664677084442424, 0.06355608412521563), (1.0, 0.06355608412521563), (0.9713432805414234, 0.2997802238372053), (0.9152723146117904, 0.5205278880613445), (0.8342181781286507, 0.7162280925733883), (0.7316951454754572, 0.8783958390081242), (0.6121483206654018, 1.0), (0.2780682435826501, 0.0), (0.36019943454956, 0.6606194169597722), (0.20298608812160615, 0.4365642915941748), (0.0, 0.4365642915941748), (0.3030968588640547, 0.015568568400489396)]
2025-08-12 06:09:03,027 - INFO - [_calculate_physics_features] INPUT centroid: [0.6690909467913465, 0.40671220670463815]
2025-08-12 06:09:03,027 - INFO - [_calculate_physics_features] INPUT strokes: ['line_normal_0.500-0.500', 'arc_normal_0.500_0.583-0.750', 'line_normal_0.500-0.750', 'line_normal_0.292-0.050', 'line_normal_0.153-0.893', 'line_normal_0.153-0.391', 'line_normal_0.292-0.893']
2025-08-12 06:09:03,028 - INFO - [_calculate_physics_features] polsby_popper: 0.8142349043001893
2025-08-12 06:09:03,030 - INFO - Computed angular variance: 0.982344 for 12 vertices.
2025-08-12 06:09:03,030 - INFO - [_calculate_physics_features] OUTPUT: {'moment_of_inertia': 0.3029547183584782, 'center_of_mass': [0.6690909467913465, 0.40671220670463815], 'polsby_popper_compactness': 0.8142349043001893, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.7516840543993508, 'angular_variance': 0.9823441483442595, 'edge_length_variance': 0.07768285011441206}
2025-08-12 06:09:03,031 - INFO - [calculate_shape_relationships] INPUT: shapes=[{'vertices': [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)]}], buffer_amt=0.001
2025-08-12 06:09:03,031 - DEBUG - [calculate_shape_relationships] Shape 0 vertices: [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)]
2025-08-12 06:09:03,031 - WARNING - calculate_shape_relationships: No valid geometries found.
2025-08-12 06:09:03,031 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal'], n=2
2025-08-12 06:09:03,032 - DEBUG - [ensure_str_list] Converting list: ['normal']
2025-08-12 06:09:03,032 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,032 - DEBUG - [ensure_str_list] Result: ['normal']
2025-08-12 06:09:03,032 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal']
2025-08-12 06:09:03,032 - DEBUG - [_extract_ngram_features] OUTPUT: {}
2025-08-12 06:09:03,033 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,033 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'arc'], n=2
2025-08-12 06:09:03,033 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc']
2025-08-12 06:09:03,034 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,034 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,034 - DEBUG - [ensure_str_list] Result: ['normal', 'arc']
2025-08-12 06:09:03,035 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'arc']
2025-08-12 06:09:03,035 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|arc': 1}
2025-08-12 06:09:03,035 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,035 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'arc', 'normal'], n=2
2025-08-12 06:09:03,036 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc', 'normal']
2025-08-12 06:09:03,036 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,036 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,036 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,036 - DEBUG - [ensure_str_list] Result: ['normal', 'arc', 'normal']
2025-08-12 06:09:03,037 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'arc', 'normal']
2025-08-12 06:09:03,037 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|arc': 1, 'arc|normal': 1}
2025-08-12 06:09:03,037 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,037 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'arc', 'normal', 'normal'], n=2
2025-08-12 06:09:03,038 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc', 'normal', 'normal']
2025-08-12 06:09:03,038 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,038 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,038 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,038 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,040 - DEBUG - [ensure_str_list] Result: ['normal', 'arc', 'normal', 'normal']
2025-08-12 06:09:03,040 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'arc', 'normal', 'normal']
2025-08-12 06:09:03,040 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 1}
2025-08-12 06:09:03,040 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,040 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'arc', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:03,040 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,041 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,041 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,041 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,042 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,042 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,042 - DEBUG - [ensure_str_list] Result: ['normal', 'arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,042 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,042 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 2}
2025-08-12 06:09:03,042 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,042 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'arc', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:03,043 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,043 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,043 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,043 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,044 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,044 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,044 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,044 - DEBUG - [ensure_str_list] Result: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,044 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,045 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 3}
2025-08-12 06:09:03,045 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,045 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:03,045 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,046 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,046 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,046 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,046 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,046 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,047 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,047 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,047 - DEBUG - [ensure_str_list] Result: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,047 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,048 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 4}
2025-08-12 06:09:03,048 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,048 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,048 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,048 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,049 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,049 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,049 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,049 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,050 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,050 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,050 - DEBUG - [ensure_str_list] Result: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,050 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,050 - DEBUG - [_detect_alternation] OUTPUT: 0.42857142857142855
2025-08-12 06:09:03,051 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:03,051 - INFO - [extract_regularity_features] INPUT: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,051 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,051 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,051 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,051 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,053 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,053 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,053 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,053 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,053 - DEBUG - [ensure_str_list] Result: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,054 - INFO - [extract_regularity_features] OUTPUT: {'regularity_score': 0.8571428571428571, 'most_common_element': 'normal', 'distribution': {'normal': 6, 'arc': 1}}
2025-08-12 06:09:03,054 - DEBUG - [extract_regularity_features] Output is JSON serializable.
2025-08-12 06:09:03,054 - INFO - [extract_dominant_shape_modifiers] INPUT: {'modifiers': ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal']}
2025-08-12 06:09:03,054 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,054 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,055 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,055 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,055 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,055 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,055 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,056 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,056 - DEBUG - [ensure_str_list] Result: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,056 - INFO - [extract_dominant_shape_modifiers] OUTPUT: {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 6, 'arc': 1}}
2025-08-12 06:09:03,056 - DEBUG - [extract_dominant_shape_modifiers] Output is JSON serializable.
2025-08-12 06:09:03,057 - WARNING - [PATCH] Failed to load canonical summary for image_id=hd_has_six_straight_lines-exist_quadrangle_0018_pos_6: type object 'FileIO' has no attribute 'load_canonical_features'
2025-08-12 06:09:03,057 - DEBUG - [process_single_image] Passing topo_shape_list to extract_topological_features: [{'vertices': [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)]}]
2025-08-12 06:09:03,069 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image type: <class 'bongard.bongard.BongardImage'> | problem_id=hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:03,069 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image.one_stroke_shapes: [<src.data_pipeline.logo_parser.OneStrokeShape object at 0x00000259469156D0>]
2025-08-12 06:09:03,069 - INFO - [extract_stroke_features_from_shapes] problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 | num_shapes=1 | total_strokes=7
2025-08-12 06:09:03,069 - INFO - [extract_stroke_features_from_shapes] PATCH: shapes=[<src.data_pipeline.logo_parser.OneStrokeShape object at 0x00000259469156D0>]
2025-08-12 06:09:03,070 - INFO - [extract_stroke_features_from_shapes] Shape 0 actions: [line_normal_0.500-0.500, arc_normal_0.500_0.583-0.750, line_normal_0.500-0.750, line_normal_0.292-0.050, line_normal_0.153-0.893, line_normal_0.153-0.391, line_normal_0.292-0.893]
2025-08-12 06:09:03,070 - INFO - [extract_stroke_features_from_shapes] Shape 0: [line_normal_0.500-0.500, arc_normal_0.500_0.583-0.750, line_normal_0.500-0.750, line_normal_0.292-0.050, line_normal_0.153-0.893, line_normal_0.153-0.391, line_normal_0.292-0.893], None, None, None
2025-08-12 06:09:03,070 - INFO - [extract_stroke_features_from_shapes] Shape 0 geometry: {'area': 0.395363743314549, 'perimeter': 2.8030846704218333, 'centroid': [0.6690909467913465, 0.40671220670463815], 'bounds': [0.2895537923570275, 0.015568568400489396, 1.0, 1.0], 'width': 0.7104462076429725, 'height': 0.9844314315995106, 'robust_curvature': 1.7516840543993508, 'robust_angular_variance': 0.9823441483442595, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 2.2109996645717676}
2025-08-12 06:09:03,071 - INFO - [extract_stroke_features_from_shapes] Shape 0: num_actions=7 | actions=[line_normal_0.500-0.500, arc_normal_0.500_0.583-0.750, line_normal_0.500-0.750, line_normal_0.292-0.050, line_normal_0.153-0.893, line_normal_0.153-0.391, line_normal_0.292-0.893]
2025-08-12 06:09:03,071 - INFO - [extract_stroke_features_from_shapes] PATCH: Validated/corrected shape_vertices for shape 0: [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293), (0.0, 0.0)]
2025-08-12 06:09:03,071 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=0 | stroke=line_normal_0.500-0.500
2025-08-12 06:09:03,071 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (720.0, 0.0)]
2025-08-12 06:09:03,072 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,072 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,073 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,073 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,073 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,076 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.6323161457467248}
2025-08-12 06:09:03,076 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.6323161457467248, 'is_simple': True}
2025-08-12 06:09:03,076 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 0: {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)], 'open_stroke_perimeter': 3472.5663079141045, 'compactness': 0.6323161457467248, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'line_length': 3472.566307914105, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:03,077 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=1 | stroke=arc_normal_0.500_0.583-0.750
2025-08-12 06:09:03,077 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(720.0, 0.0), (688.896151999682, 146.9372875224623)]
2025-08-12 06:09:03,077 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,077 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,078 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.500-0.500, arc_normal_0.500_0.583-0.750, line_normal_0.500-0.750, line_normal_0.292-0.050, line_normal_0.153-0.893, line_normal_0.153-0.391, line_normal_0.292-0.893]
2025-08-12 06:09:03,078 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.500
2025-08-12 06:09:03,078 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,079 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,079 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,080 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,080 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,082 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.6323161457467248}
2025-08-12 06:09:03,082 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.6323161457467248, 'is_simple': True}
2025-08-12 06:09:03,082 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.ArcAction'>, value=arc_normal_0.500_0.583-0.750
2025-08-12 06:09:03,082 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,083 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,083 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,083 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.1932615828208. Returning 0.0.
2025-08-12 06:09:03,084 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,084 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,084 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,085 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,085 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:03,085 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,085 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,086 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(720.0, 0.0), (688.896151999682, 146.9372875224623)]
2025-08-12 06:09:03,086 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,086 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,087 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.750
2025-08-12 06:09:03,087 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,087 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,088 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,088 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.1932615828208. Returning 0.0.
2025-08-12 06:09:03,088 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,089 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,089 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,089 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,090 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:03,090 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,090 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,091 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(720.0, 0.0), (688.896151999682, 146.9372875224623)]
2025-08-12 06:09:03,091 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,091 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,092 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.292-0.050
2025-08-12 06:09:03,092 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,092 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,093 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,093 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.1932615828208. Returning 0.0.
2025-08-12 06:09:03,093 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,094 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,094 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,095 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,095 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:03,095 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,095 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,096 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(720.0, 0.0), (688.896151999682, 146.9372875224623)]
2025-08-12 06:09:03,096 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,096 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,097 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.153-0.893
2025-08-12 06:09:03,097 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,097 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,098 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,098 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.1932615828208. Returning 0.0.
2025-08-12 06:09:03,098 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,098 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,099 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,099 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,099 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:03,100 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,100 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,100 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(720.0, 0.0), (688.896151999682, 146.9372875224623)]
2025-08-12 06:09:03,100 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,101 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,101 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.153-0.391
2025-08-12 06:09:03,101 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,101 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,102 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,102 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.1932615828208. Returning 0.0.
2025-08-12 06:09:03,102 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,102 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,103 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,103 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,103 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:03,104 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,104 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,104 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(720.0, 0.0), (688.896151999682, 146.9372875224623)]
2025-08-12 06:09:03,104 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,105 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,105 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.292-0.893
2025-08-12 06:09:03,105 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,107 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,107 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,107 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.1932615828208. Returning 0.0.
2025-08-12 06:09:03,107 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,108 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,108 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,108 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,109 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:03,109 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,109 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,109 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(720.0, 0.0), (688.896151999682, 146.9372875224623)]
2025-08-12 06:09:03,110 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,110 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,110 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:03,110 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:03,111 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:03,111 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.1932615828208. Returning 0.0.
2025-08-12 06:09:03,111 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,112 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,112 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 128.73708135670356, 'var': 2762.2060193737525, 'min': 0.0, 'max': 150.1932615828208, 'count': 7}, 'width': {'mean': 26.660441143129674, 'var': 118.46318699104692, 'min': 0.0, 'max': 31.103848000317953, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 125.94624644782482, 'var': 2643.7428323827044, 'min': 0.0, 'max': 146.9372875224623, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:03,112 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 128.73708135670356, 'var': 2762.2060193737525, 'min': 0.0, 'max': 150.1932615828208, 'count': 7}, 'width': {'mean': 26.660441143129674, 'var': 118.46318699104692, 'min': 0.0, 'max': 31.103848000317953, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 125.94624644782482, 'var': 2643.7428323827044, 'min': 0.0, 'max': 146.9372875224623, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:03,112 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:03,113 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,113 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,113 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(720.0, 0.0), (688.896151999682, 146.9372875224623)]
2025-08-12 06:09:03,114 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,114 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,114 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(720.0, 0.0), (688.896151999682, 146.9372875224623)], 'open_stroke_perimeter': 150.1932615828208, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.05050167190821018, 'degenerate_case': True, 'stroke_length': 150.1932615828208, 'avg_stroke_length': 150.1932615828208, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 150.1932615828208, 'var': 0.0, 'min': 150.1932615828208, 'max': 150.1932615828208, 'count': 1}, 'width': {'mean': 31.103848000317953, 'var': 0.0, 'min': 31.103848000317953, 'max': 31.103848000317953, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 146.9372875224623, 'var': 0.0, 'min': 146.9372875224623, 'max': 146.9372875224623, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 150.1932615828208, 'var': 0.0, 'min': 150.1932615828208, 'max': 150.1932615828208, 'count': 1}, 'width': {'mean': 31.103848000317953, 'var': 0.0, 'min': 31.103848000317953, 'max': 31.103848000317953, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 146.9372875224623, 'var': 0.0, 'min': 146.9372875224623, 'max': 146.9372875224623, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 31.103848000317953, 'height': 146.9372875224623, 'area': 0.0, 'perimeter': 150.1932615828208, 'centroid': [704.448075999841, 73.46864376123115], 'bounds': [688.896151999682, 0.0, 720.0, 146.9372875224623], 'num_vertices': 2, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:03,114 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_normal_0.500-0.750
2025-08-12 06:09:03,116 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378)]
2025-08-12 06:09:03,116 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,116 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,116 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.500-0.500, arc_normal_0.500_0.583-0.750, line_normal_0.500-0.750, line_normal_0.292-0.050, line_normal_0.153-0.893, line_normal_0.153-0.391, line_normal_0.292-0.893]
2025-08-12 06:09:03,116 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.500
2025-08-12 06:09:03,118 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,118 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,118 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,119 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,119 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,121 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.6323161457467248}
2025-08-12 06:09:03,121 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.6323161457467248, 'is_simple': True}
2025-08-12 06:09:03,121 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.ArcAction'>, value=arc_normal_0.500_0.583-0.750
2025-08-12 06:09:03,122 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,122 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,122 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,123 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,123 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,123 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,124 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,124 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,124 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:03,125 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,125 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,125 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378)]
2025-08-12 06:09:03,125 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,125 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,125 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.750
2025-08-12 06:09:03,126 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,126 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,126 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,126 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,127 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,127 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,127 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,128 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,128 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:03,128 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,128 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,129 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378)]
2025-08-12 06:09:03,129 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,129 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,129 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.292-0.050
2025-08-12 06:09:03,130 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,130 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,130 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,132 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,132 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,132 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,132 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,133 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,133 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:03,133 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,134 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,134 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378)]
2025-08-12 06:09:03,134 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,135 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,135 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.153-0.893
2025-08-12 06:09:03,136 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,136 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,137 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,137 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,137 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,137 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,137 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,138 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,138 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:03,138 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,139 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,139 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378)]
2025-08-12 06:09:03,139 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,139 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,140 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.153-0.391
2025-08-12 06:09:03,140 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,140 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,141 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,141 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,141 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,142 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,142 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,142 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,143 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:03,143 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,143 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,144 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378)]
2025-08-12 06:09:03,144 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,144 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,144 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.292-0.893
2025-08-12 06:09:03,145 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,145 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,145 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,146 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,146 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,146 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,147 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,147 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,147 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:03,147 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,148 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,148 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378)]
2025-08-12 06:09:03,148 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,149 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,149 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:03,149 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:03,149 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:03,150 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,150 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,150 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,151 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 128.73708135670356, 'var': 2762.2060193737525, 'min': 0.0, 'max': 150.19326158282084, 'count': 7}, 'width': {'mean': 52.1649621885807, 'var': 453.53054668934226, 'min': 0.0, 'max': 60.85912255334415, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 117.69474430112189, 'var': 2308.6754726844106, 'min': 0.0, 'max': 137.31053501797552, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:03,151 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 128.73708135670356, 'var': 2762.2060193737525, 'min': 0.0, 'max': 150.19326158282084, 'count': 7}, 'width': {'mean': 52.1649621885807, 'var': 453.53054668934226, 'min': 0.0, 'max': 60.85912255334415, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 117.69474430112189, 'var': 2308.6754726844106, 'min': 0.0, 'max': 137.31053501797552, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:03,151 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:03,152 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,152 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,152 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378)]
2025-08-12 06:09:03,153 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,153 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,153 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 150.19326158282084, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 150.19326158282084, 'var': 0.0, 'min': 150.19326158282084, 'max': 150.19326158282084, 'count': 1}, 'width': {'mean': 60.85912255334415, 'var': 0.0, 'min': 60.85912255334415, 'max': 60.85912255334415, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 137.31053501797552, 'var': 0.0, 'min': 137.31053501797552, 'max': 137.31053501797552, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 150.19326158282084, 'var': 0.0, 'min': 150.19326158282084, 'max': 150.19326158282084, 'count': 1}, 'width': {'mean': 60.85912255334415, 'var': 0.0, 'min': 60.85912255334415, 'max': 60.85912255334415, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 137.31053501797552, 'var': 0.0, 'min': 137.31053501797552, 'max': 137.31053501797552, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'geometry': {'width': 60.85912255334415, 'height': 137.31053501797552, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [658.46659072301, 215.59255503145005], 'bounds': [628.0370294463379, 146.9372875224623, 688.896151999682, 284.2478225404378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 113.904, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:03,153 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_normal_0.292-0.050
2025-08-12 06:09:03,154 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257)]
2025-08-12 06:09:03,154 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,154 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,155 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.500-0.500, arc_normal_0.500_0.583-0.750, line_normal_0.500-0.750, line_normal_0.292-0.050, line_normal_0.153-0.893, line_normal_0.153-0.391, line_normal_0.292-0.893]
2025-08-12 06:09:03,155 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.500
2025-08-12 06:09:03,155 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,155 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,156 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,156 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,156 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,159 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.6323161457467248}
2025-08-12 06:09:03,159 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.6323161457467248, 'is_simple': True}
2025-08-12 06:09:03,159 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.ArcAction'>, value=arc_normal_0.500_0.583-0.750
2025-08-12 06:09:03,160 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,160 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,161 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,161 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,161 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,162 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,162 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,162 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,162 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:03,163 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,163 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,163 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257)]
2025-08-12 06:09:03,163 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,164 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,164 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.750
2025-08-12 06:09:03,164 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,164 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,165 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,165 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,165 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,166 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,166 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,166 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,166 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:03,168 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,168 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,168 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257)]
2025-08-12 06:09:03,169 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,169 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,169 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.292-0.050
2025-08-12 06:09:03,170 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,170 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,170 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,170 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,171 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,171 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,171 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,172 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,172 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:03,172 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,173 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,173 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257)]
2025-08-12 06:09:03,173 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,174 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,174 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.153-0.893
2025-08-12 06:09:03,174 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,174 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,175 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,175 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,176 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,176 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,176 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,176 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,176 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:03,177 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,177 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,178 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257)]
2025-08-12 06:09:03,178 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,179 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,179 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.153-0.391
2025-08-12 06:09:03,179 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,179 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,180 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,180 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,180 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,181 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,181 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,181 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,181 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:03,182 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,182 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,182 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257)]
2025-08-12 06:09:03,183 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,183 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,183 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.292-0.893
2025-08-12 06:09:03,183 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,184 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,184 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,184 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,184 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,185 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,185 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,185 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,186 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:03,187 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,187 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,187 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257)]
2025-08-12 06:09:03,187 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,189 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,189 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:03,189 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:03,189 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:03,190 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,190 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,190 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,191 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 128.73708135670356, 'var': 2762.2060193737525, 'min': 0.0, 'max': 150.19326158282084, 'count': 7}, 'width': {'mean': 75.40776041164077, 'var': 947.721721716569, 'min': 0.0, 'max': 87.97572048024756, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 104.34033633232694, 'var': 1814.4842976571833, 'min': 0.0, 'max': 121.73039238771474, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:03,191 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 128.73708135670356, 'var': 2762.2060193737525, 'min': 0.0, 'max': 150.19326158282084, 'count': 7}, 'width': {'mean': 75.40776041164077, 'var': 947.721721716569, 'min': 0.0, 'max': 87.97572048024756, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 104.34033633232694, 'var': 1814.4842976571833, 'min': 0.0, 'max': 121.73039238771474, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:03,191 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:03,192 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,192 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,192 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257)]
2025-08-12 06:09:03,192 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,193 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,193 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 150.19326158282084, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 150.19326158282084, 'var': 0.0, 'min': 150.19326158282084, 'max': 150.19326158282084, 'count': 1}, 'width': {'mean': 87.97572048024756, 'var': 0.0, 'min': 87.97572048024756, 'max': 87.97572048024756, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 121.73039238771474, 'var': 0.0, 'min': 121.73039238771474, 'max': 121.73039238771474, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 150.19326158282084, 'var': 0.0, 'min': 150.19326158282084, 'max': 150.19326158282084, 'count': 1}, 'width': {'mean': 87.97572048024756, 'var': 0.0, 'min': 87.97572048024756, 'max': 87.97572048024756, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 121.73039238771474, 'var': 0.0, 'min': 121.73039238771474, 'max': 121.73039238771474, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'geometry': {'width': 87.97572048024756, 'height': 121.73039238771474, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [584.0491692062142, 345.1130187342952], 'bounds': [540.0613089660903, 284.2478225404378, 628.0370294463379, 405.97821492815257], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 125.856, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:03,193 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=4 | stroke=line_normal_0.153-0.893
2025-08-12 06:09:03,193 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706)]
2025-08-12 06:09:03,194 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,194 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,194 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.500-0.500, arc_normal_0.500_0.583-0.750, line_normal_0.500-0.750, line_normal_0.292-0.050, line_normal_0.153-0.893, line_normal_0.153-0.391, line_normal_0.292-0.893]
2025-08-12 06:09:03,194 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.500
2025-08-12 06:09:03,195 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,195 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,195 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,196 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,196 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,198 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.6323161457467248}
2025-08-12 06:09:03,198 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.6323161457467248, 'is_simple': True}
2025-08-12 06:09:03,199 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.ArcAction'>, value=arc_normal_0.500_0.583-0.750
2025-08-12 06:09:03,199 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,199 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,200 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,200 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,200 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,201 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,201 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,201 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,201 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:03,202 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,202 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,202 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706)]
2025-08-12 06:09:03,203 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,203 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,203 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.750
2025-08-12 06:09:03,203 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,204 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,204 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,204 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,204 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,205 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,205 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,205 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,206 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:03,206 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,206 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,206 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706)]
2025-08-12 06:09:03,208 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,208 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,208 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.292-0.050
2025-08-12 06:09:03,208 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,208 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,209 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,209 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,209 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,209 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,209 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,211 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,211 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:03,211 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,212 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,212 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706)]
2025-08-12 06:09:03,212 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,212 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,212 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.153-0.893
2025-08-12 06:09:03,213 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,213 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,213 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,214 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,214 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,214 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,214 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,214 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,215 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:03,215 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,216 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,216 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706)]
2025-08-12 06:09:03,216 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,216 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,216 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.153-0.391
2025-08-12 06:09:03,217 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,217 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,217 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,218 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,218 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,218 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,219 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,219 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,219 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:03,221 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,221 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,221 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706)]
2025-08-12 06:09:03,222 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,222 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,222 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.292-0.893
2025-08-12 06:09:03,222 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,223 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,223 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,223 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,224 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,224 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,224 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,224 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,225 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:03,225 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,225 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,226 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706)]
2025-08-12 06:09:03,226 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,226 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,226 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:03,227 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:03,227 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:03,227 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282084. Returning 0.0.
2025-08-12 06:09:03,228 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,228 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,228 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 128.73708135670356, 'var': 2762.2060193737525, 'min': 0.0, 'max': 150.19326158282084, 'count': 7}, 'width': {'mean': 95.38109488829107, 'var': 1516.2588770148639, 'min': 0.0, 'max': 111.27794403633959, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 86.4620312863012, 'var': 1245.9471423588877, 'min': 0.0, 'max': 100.87236983401806, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:03,229 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 128.73708135670356, 'var': 2762.2060193737525, 'min': 0.0, 'max': 150.19326158282084, 'count': 7}, 'width': {'mean': 95.38109488829107, 'var': 1516.2588770148639, 'min': 0.0, 'max': 111.27794403633959, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 86.4620312863012, 'var': 1245.9471423588877, 'min': 0.0, 'max': 100.87236983401806, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:03,229 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:03,229 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,230 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,230 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706)]
2025-08-12 06:09:03,230 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,230 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,230 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 4: {'stroke_index': 4, 'analytic_vertices': [(540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 150.19326158282084, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 150.19326158282084, 'var': 0.0, 'min': 150.19326158282084, 'max': 150.19326158282084, 'count': 1}, 'width': {'mean': 111.27794403633959, 'var': 0.0, 'min': 111.27794403633959, 'max': 111.27794403633959, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 100.87236983401806, 'var': 0.0, 'min': 100.87236983401806, 'max': 100.87236983401806, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 150.19326158282084, 'var': 0.0, 'min': 150.19326158282084, 'max': 150.19326158282084, 'count': 1}, 'width': {'mean': 111.27794403633959, 'var': 0.0, 'min': 111.27794403633959, 'max': 111.27794403633959, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 100.87236983401806, 'var': 0.0, 'min': 100.87236983401806, 'max': 100.87236983401806, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'geometry': {'width': 111.27794403633959, 'height': 100.87236983401806, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [484.42233694792054, 456.4143998451616], 'bounds': [428.78336492975075, 405.97821492815257, 540.0613089660903, 506.8505847621706], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 137.80799999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:03,231 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=5 | stroke=line_normal_0.153-0.391
2025-08-12 06:09:03,231 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282)]
2025-08-12 06:09:03,231 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,231 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,231 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.500-0.500, arc_normal_0.500_0.583-0.750, line_normal_0.500-0.750, line_normal_0.292-0.050, line_normal_0.153-0.893, line_normal_0.153-0.391, line_normal_0.292-0.893]
2025-08-12 06:09:03,232 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.500
2025-08-12 06:09:03,232 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,232 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,233 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,233 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,233 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,236 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.6323161457467248}
2025-08-12 06:09:03,236 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.6323161457467248, 'is_simple': True}
2025-08-12 06:09:03,236 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.ArcAction'>, value=arc_normal_0.500_0.583-0.750
2025-08-12 06:09:03,236 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,237 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,237 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,237 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282087. Returning 0.0.
2025-08-12 06:09:03,238 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,238 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,238 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,238 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,238 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:03,238 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,240 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,240 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282)]
2025-08-12 06:09:03,240 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,240 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,241 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.750
2025-08-12 06:09:03,241 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,241 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,242 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,242 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282087. Returning 0.0.
2025-08-12 06:09:03,242 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,243 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,243 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,243 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,243 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:03,244 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,244 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,244 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282)]
2025-08-12 06:09:03,245 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,245 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,245 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.292-0.050
2025-08-12 06:09:03,245 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,245 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,246 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,246 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282087. Returning 0.0.
2025-08-12 06:09:03,246 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,247 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,247 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,247 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,247 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:03,248 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,248 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,249 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282)]
2025-08-12 06:09:03,249 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,249 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,249 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.153-0.893
2025-08-12 06:09:03,250 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,250 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,251 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,251 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282087. Returning 0.0.
2025-08-12 06:09:03,251 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,252 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,252 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,252 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,252 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:03,253 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,253 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,253 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282)]
2025-08-12 06:09:03,253 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,254 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,254 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.153-0.391
2025-08-12 06:09:03,254 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,254 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,255 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,255 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282087. Returning 0.0.
2025-08-12 06:09:03,255 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,256 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,256 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,256 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,257 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:03,257 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,257 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,258 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282)]
2025-08-12 06:09:03,258 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,258 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,259 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.292-0.893
2025-08-12 06:09:03,259 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,259 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,259 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,259 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282087. Returning 0.0.
2025-08-12 06:09:03,261 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,261 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,261 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,262 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,262 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:03,262 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,262 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,263 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282)]
2025-08-12 06:09:03,263 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,263 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,264 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:03,264 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:03,265 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:03,265 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=150.19326158282087. Returning 0.0.
2025-08-12 06:09:03,265 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,265 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,266 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 128.7370813567036, 'var': 2762.2060193737548, 'min': 0.0, 'max': 150.19326158282087, 'count': 7}, 'width': {'mean': 111.2189792451154, 'var': 2061.6102240542355, 'min': 0.0, 'max': 129.75547578596797, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 64.83498108210651, 'var': 700.5957953195177, 'min': 0.0, 'max': 75.64081126245759, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:03,266 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 128.7370813567036, 'var': 2762.2060193737548, 'min': 0.0, 'max': 150.19326158282087, 'count': 7}, 'width': {'mean': 111.2189792451154, 'var': 2061.6102240542355, 'min': 0.0, 'max': 129.75547578596797, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 64.83498108210651, 'var': 700.5957953195177, 'min': 0.0, 'max': 75.64081126245759, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:03,266 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:03,268 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,268 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,268 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282)]
2025-08-12 06:09:03,268 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,269 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,269 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 5: {'stroke_index': 5, 'analytic_vertices': [(428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282)], 'open_stroke_perimeter': 150.19326158282087, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282087, 'avg_stroke_length': 150.19326158282087, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 150.19326158282087, 'var': 0.0, 'min': 150.19326158282087, 'max': 150.19326158282087, 'count': 1}, 'width': {'mean': 129.75547578596797, 'var': 0.0, 'min': 129.75547578596797, 'max': 129.75547578596797, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 75.64081126245759, 'var': 0.0, 'min': 75.64081126245759, 'max': 75.64081126245759, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 150.19326158282087, 'var': 0.0, 'min': 150.19326158282087, 'max': 150.19326158282087, 'count': 1}, 'width': {'mean': 129.75547578596797, 'var': 0.0, 'min': 129.75547578596797, 'max': 129.75547578596797, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 75.64081126245759, 'var': 0.0, 'min': 75.64081126245759, 'max': 75.64081126245759, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'geometry': {'width': 129.75547578596797, 'height': 75.64081126245759, 'area': 0.0, 'perimeter': 150.19326158282087, 'centroid': [363.90562703676676, 544.6709903933994], 'bounds': [299.0278891437828, 506.8505847621706, 428.78336492975075, 582.4913960246282], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282087, 'line_angle': 149.76, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:03,269 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=6 | stroke=line_normal_0.292-0.893
2025-08-12 06:09:03,269 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293), (0.0, 0.0)]
2025-08-12 06:09:03,270 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,270 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,270 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:03,270 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,271 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,272 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.4494323643623693}
2025-08-12 06:09:03,272 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.4494323643623693, 'is_simple': True}
2025-08-12 06:09:03,273 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 6: {'stroke_index': 6, 'analytic_vertices': [(299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293), (0.0, 0.0)], 'open_stroke_perimeter': 2048.6853771834667, 'compactness': 0.4494323643623693, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 2048.6853771834667, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}}}, 'line_length': 2048.6853771834667, 'line_angle': -120.24000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:03,273 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=7
2025-08-12 06:09:03,275 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['arc_is_major', 'line_is_long', 'line_angle', 'avg_stroke_length', 'arc_is_small', 'visual_complexity', 'line_is_vertical', 'arc_span_angle', 'line_is_short', 'is_normal', 'line_curvature_score', 'is_geometric', 'arc_radius', 'convexity_ratio', 'arc_length', 'compactness', 'stroke_index', 'open_stroke_perimeter', 'arc_curvature_score', 'robust_curvature', 'arc_is_full_circle', 'robust_angular_variance', 'degenerate_case', 'is_simple', 'line_length', 'stroke_length', 'geom_complexity', 'arc_is_large', 'geometric_complexity', 'line_is_horizontal', 'arc_curvature', 'num_vertices', 'is_pattern']
2025-08-12 06:09:03,275 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (7) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-12 06:09:03,275 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=7
2025-08-12 06:09:03,275 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 7
2025-08-12 06:09:03,276 - WARNING - Variance: only one value, returning None
2025-08-12 06:09:03,276 - WARNING - Variance: only one value, returning None
2025-08-12 06:09:03,277 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 6, 'num_arcs': 1, 'line_ratio': 0.8571428571428571, 'arc_ratio': 0.14285714285714285, 'stroke_diversity': 1}, 'line_aggregate': {'total_line_length': 6122.024731428855, 'avg_line_length': 1020.3374552381425, 'line_length_variance': 1683254.9109123359, 'line_angle_variance': 9511.751232, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'diagonal-down'}, 'arc_aggregate': {'total_arc_length': 0.7853981633974483, 'avg_arc_radius': 0.5, 'avg_arc_span': 90.0, 'arc_radius_variance': None, 'arc_span_variance': None, 'total_curvature': 2.0, 'has_full_circles': False, 'has_major_arcs': False, 'curvature_complexity': 1}}
2025-08-12 06:09:03,277 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_normal_0.500-0.500,arc_normal_0.500_0.583-0.750,line_normal_0.500-0.750,line_normal_0.292-0.050,line_normal_0.153-0.893,line_normal_0.153-0.391,line_normal_0.292-0.893
2025-08-12 06:09:03,277 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.583-0.750', 'line_normal_0.500-0.750', 'line_normal_0.292-0.050', 'line_normal_0.153-0.893', 'line_normal_0.153-0.391', 'line_normal_0.292-0.893']]
2025-08-12 06:09:03,278 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.500-0.500', 'arc_normal_0.500_0.583-0.750', 'line_normal_0.500-0.750', 'line_normal_0.292-0.050', 'line_normal_0.153-0.893', 'line_normal_0.153-0.391', 'line_normal_0.292-0.893']
2025-08-12 06:09:03,278 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.500-0.500', 'arc_normal_0.500_0.583-0.750', 'line_normal_0.500-0.750', 'line_normal_0.292-0.050', 'line_normal_0.153-0.893', 'line_normal_0.153-0.391', 'line_normal_0.292-0.893']
2025-08-12 06:09:03,278 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.583-0.750', 'line_normal_0.500-0.750', 'line_normal_0.292-0.050', 'line_normal_0.153-0.893', 'line_normal_0.153-0.391', 'line_normal_0.292-0.893']]
2025-08-12 06:09:03,279 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.500-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)], 'open_stroke_perimeter': 3472.5663079141045, 'compactness': 0.6323161457467248, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3472.566307914105, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'arc_normal_0.500_0.583-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(720.0, 0.0), (688.896151999682, 146.9372875224623)], 'open_stroke_perimeter': 150.1932615828208, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.05050167190821018, 'degenerate_case': True, 'stroke_length': 150.1932615828208, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 31.103848000317953, 'height': 146.9372875224623, 'area': 0.0, 'perimeter': 150.1932615828208, 'centroid': [704.448075999841, 73.46864376123115], 'bounds': [688.896151999682, 0.0, 720.0, 146.9372875224623], 'num_vertices': 2, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.500-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 60.85912255334415, 'height': 137.31053501797552, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [658.46659072301, 215.59255503145005], 'bounds': [628.0370294463379, 146.9372875224623, 688.896151999682, 284.2478225404378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 113.904, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.292-0.050', 'features': {'stroke_index': 3, 'analytic_vertices': [(628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 87.97572048024756, 'height': 121.73039238771474, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [584.0491692062142, 345.1130187342952], 'bounds': [540.0613089660903, 284.2478225404378, 628.0370294463379, 405.97821492815257], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 125.856, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.153-0.893', 'features': {'stroke_index': 4, 'analytic_vertices': [(540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 111.27794403633959, 'height': 100.87236983401806, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [484.42233694792054, 456.4143998451616], 'bounds': [428.78336492975075, 405.97821492815257, 540.0613089660903, 506.8505847621706], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 137.80799999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.153-0.391', 'features': {'stroke_index': 5, 'analytic_vertices': [(428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282)], 'open_stroke_perimeter': 150.19326158282087, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282087, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 129.75547578596797, 'height': 75.64081126245759, 'area': 0.0, 'perimeter': 150.19326158282087, 'centroid': [363.90562703676676, 544.6709903933994], 'bounds': [299.0278891437828, 506.8505847621706, 428.78336492975075, 582.4913960246282], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282087, 'line_angle': 149.76, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.292-0.893', 'features': {'stroke_index': 6, 'analytic_vertices': [(299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293), (0.0, 0.0)], 'open_stroke_perimeter': 2048.6853771834667, 'compactness': 0.4494323643623693, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 2048.6853771834667, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2048.6853771834667, 'line_angle': -120.24000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:03,279 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:03,279 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:03,280 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-12 06:09:03,280 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-12 06:09:03,280 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.5454728862820849, 0.42428006502325877], 'orientation_degrees': 47.25706832479788}, geometry={'area': 0.395363743314549, 'perimeter': 2.8030846704218333, 'centroid': [0.6690909467913465, 0.40671220670463815], 'bounds': [0.2895537923570275, 0.015568568400489396, 1.0, 1.0], 'width': 0.7104462076429725, 'height': 0.9844314315995106}
2025-08-12 06:09:03,280 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_normal_0.500-0.500', 'arc_normal_0.500_0.583-0.750', 'line_normal_0.500-0.750', 'line_normal_0.292-0.050', 'line_normal_0.153-0.893', 'line_normal_0.153-0.391', 'line_normal_0.292-0.893']
2025-08-12 06:09:03,282 - DEBUG - [PATCH][actions field] Joined: line_normal_0.500-0.500,arc_normal_0.500_0.583-0.750,line_normal_0.500-0.750,line_normal_0.292-0.050,line_normal_0.153-0.893,line_normal_0.153-0.391,line_normal_0.292-0.893
2025-08-12 06:09:03,282 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.500-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)], 'open_stroke_perimeter': 3472.5663079141045, 'compactness': 0.6323161457467248, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3472.566307914105, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'arc_normal_0.500_0.583-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(720.0, 0.0), (688.896151999682, 146.9372875224623)], 'open_stroke_perimeter': 150.1932615828208, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.05050167190821018, 'degenerate_case': True, 'stroke_length': 150.1932615828208, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 31.103848000317953, 'height': 146.9372875224623, 'area': 0.0, 'perimeter': 150.1932615828208, 'centroid': [704.448075999841, 73.46864376123115], 'bounds': [688.896151999682, 0.0, 720.0, 146.9372875224623], 'num_vertices': 2, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.500-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 60.85912255334415, 'height': 137.31053501797552, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [658.46659072301, 215.59255503145005], 'bounds': [628.0370294463379, 146.9372875224623, 688.896151999682, 284.2478225404378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 113.904, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.292-0.050', 'features': {'stroke_index': 3, 'analytic_vertices': [(628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 87.97572048024756, 'height': 121.73039238771474, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [584.0491692062142, 345.1130187342952], 'bounds': [540.0613089660903, 284.2478225404378, 628.0370294463379, 405.97821492815257], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 125.856, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.153-0.893', 'features': {'stroke_index': 4, 'analytic_vertices': [(540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 111.27794403633959, 'height': 100.87236983401806, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [484.42233694792054, 456.4143998451616], 'bounds': [428.78336492975075, 405.97821492815257, 540.0613089660903, 506.8505847621706], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 137.80799999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.153-0.391', 'features': {'stroke_index': 5, 'analytic_vertices': [(428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282)], 'open_stroke_perimeter': 150.19326158282087, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282087, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 129.75547578596797, 'height': 75.64081126245759, 'area': 0.0, 'perimeter': 150.19326158282087, 'centroid': [363.90562703676676, 544.6709903933994], 'bounds': [299.0278891437828, 506.8505847621706, 428.78336492975075, 582.4913960246282], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282087, 'line_angle': 149.76, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.292-0.893', 'features': {'stroke_index': 6, 'analytic_vertices': [(299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293), (0.0, 0.0)], 'open_stroke_perimeter': 2048.6853771834667, 'compactness': 0.4494323643623693, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 2048.6853771834667, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2048.6853771834667, 'line_angle': -120.24000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:03,283 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)]
2025-08-12 06:09:03,283 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(0.33664677084442424, 0.06355608412521563), (1.0, 0.06355608412521563), (0.9713432805414234, 0.2997802238372053), (0.9152723146117904, 0.5205278880613445), (0.8342181781286507, 0.7162280925733883), (0.7316951454754572, 0.8783958390081242), (0.6121483206654018, 1.0), (0.2780682435826501, 0.0), (0.36019943454956, 0.6606194169597722), (0.20298608812160615, 0.4365642915941748), (0.0, 0.4365642915941748), (0.3030968588640547, 0.015568568400489396)]
2025-08-12 06:09:03,283 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.583-0.750', 'line_normal_0.500-0.750', 'line_normal_0.292-0.050', 'line_normal_0.153-0.893', 'line_normal_0.153-0.391', 'line_normal_0.292-0.893']]
2025-08-12 06:09:03,284 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:03,284 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:03,284 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 4}
2025-08-12 06:09:03,285 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)], 'open_stroke_perimeter': 3472.5663079141045, 'compactness': 0.6323161457467248, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3472.566307914105, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 60.85912255334415, 'height': 137.31053501797552, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [658.46659072301, 215.59255503145005], 'bounds': [628.0370294463379, 146.9372875224623, 688.896151999682, 284.2478225404378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 113.904, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 87.97572048024756, 'height': 121.73039238771474, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [584.0491692062142, 345.1130187342952], 'bounds': [540.0613089660903, 284.2478225404378, 628.0370294463379, 405.97821492815257], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 125.856, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 111.27794403633959, 'height': 100.87236983401806, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [484.42233694792054, 456.4143998451616], 'bounds': [428.78336492975075, 405.97821492815257, 540.0613089660903, 506.8505847621706], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 137.80799999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282)], 'open_stroke_perimeter': 150.19326158282087, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282087, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 129.75547578596797, 'height': 75.64081126245759, 'area': 0.0, 'perimeter': 150.19326158282087, 'centroid': [363.90562703676676, 544.6709903933994], 'bounds': [299.0278891437828, 506.8505847621706, 428.78336492975075, 582.4913960246282], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282087, 'line_angle': 149.76, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [(299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293), (0.0, 0.0)], 'open_stroke_perimeter': 2048.6853771834667, 'compactness': 0.4494323643623693, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 2048.6853771834667, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2048.6853771834667, 'line_angle': -120.24000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': [{'stroke_index': 1, 'analytic_vertices': [(720.0, 0.0), (688.896151999682, 146.9372875224623)], 'open_stroke_perimeter': 150.1932615828208, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.05050167190821018, 'degenerate_case': True, 'stroke_length': 150.1932615828208, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 31.103848000317953, 'height': 146.9372875224623, 'area': 0.0, 'perimeter': 150.1932615828208, 'centroid': [704.448075999841, 73.46864376123115], 'bounds': [688.896151999682, 0.0, 720.0, 146.9372875224623], 'num_vertices': 2, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}]}
2025-08-12 06:09:03,286 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-12 06:09:03,286 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.6690909467913465, 0.40671220670463815], 'width': 0.7104462076429725, 'height': 0.9844314315995106, 'area_raw': 0.6284031099986687, 'area_normalized': 1.0, 'perimeter_raw': 4.477307027809003, 'perimeter_normalized': 1.0, 'aspect_ratio': 0.7216817594788038, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.3939258094842371, 'polsby_popper_compactness': 0.29783319788355345, 'eccentricity': 0.33514258772239724, 'symmetry_score': 0.46521572378340953, 'horizontal_symmetry': 0.561467329580888, 'vertical_symmetry': 0.5972799739100714, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 12.0, 'visual_complexity': 0.5232735055957455, 'curvature_score': 1.7516840543993508, 'angular_variance': 0.9823441483442595, 'moment_of_inertia': 0.3029547183584782, 'irregularity_score': 0.4278201659167648, 'standardized_complexity': 0.6260944191210334, 'clustering_heights': [0.0, 0.0, 0.013933025513783195, 0.10463115542265974, 0.20154688499695694, 0.3684435153733337], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:03,286 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:03,286 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-12 06:09:03,287 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-12 06:09:03,287 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.500-0.500, stroke_index=0
2025-08-12 06:09:03,288 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.5, param2=None, param3=0.5
2025-08-12 06:09:03,288 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)]
2025-08-12 06:09:03,288 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,290 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:03,291 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:03,291 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:03,291 - INFO - Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 06:09:03,291 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,292 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,292 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,293 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,293 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,295 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.0, 0.5000000000000001)]
2025-08-12 06:09:03,295 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.0, 0.5000000000000001)]
2025-08-12 06:09:03,296 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,296 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,296 - INFO - [_vertices_from_command] INPUT: command=arc_normal_0.500_0.583-0.750, stroke_index=0
2025-08-12 06:09:03,296 - INFO - [_vertices_from_command] Parsed: action_type=arc, modifier=normal, param1=0.5, param2=0.583, param3=0.75
2025-08-12 06:09:03,296 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.4999999999999999, 0.0), (0.5002543817275045, 6.471006747110764e-08), (0.5005087633891638, 2.58840253175574e-07), (0.5007631449191353, 5.82390506764785e-07), (0.5010175262515745, 1.0353607446389468e-06), (0.5012719073206365, 1.6177508493919746e-06), (0.5015262880604773, 2.329560670422115e-06), (0.501780668405254, 3.170790023376835e-06), (0.5020350482891217, 4.14143869059691e-06), (0.5022894276462369, 5.241506420727848e-06), (0.502543806410756, 6.470992929163977e-06), (0.5027981845168357, 7.829897897548843e-06), (0.5030525618986325, 9.318220974219305e-06), (0.5033069384903033, 1.0935961773927971e-05), (0.5035613142260053, 1.2683119877898719e-05), (0.5038156890398957, 1.4559694833882197e-05), (0.5040700628661325, 1.6565686156211346e-05), (0.5043244356388724, 1.8701093325634854e-05), (0.5045788072922747, 2.096591578942819e-05), (0.5048331777604975, 2.3360152961338088e-05), (0.505087546977699, 2.588380422163805e-05)]
2025-08-12 06:09:03,297 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,298 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,298 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,300 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:03,300 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:03,301 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.42, 'num_vertices': 21, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,301 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.42, 'num_vertices': 21, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,301 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.500-0.750, stroke_index=0
2025-08-12 06:09:03,302 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.5, param2=None, param3=0.75
2025-08-12 06:09:03,303 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)]
2025-08-12 06:09:03,303 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,304 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:03,305 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:03,305 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:03,306 - INFO - Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 06:09:03,306 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,306 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,307 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,308 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,308 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,309 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.4999999999999999, 0.0)]
2025-08-12 06:09:03,309 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.4999999999999999, 0.0)]
2025-08-12 06:09:03,310 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,310 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,310 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.292-0.050, stroke_index=0
2025-08-12 06:09:03,311 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.292, param2=None, param3=0.05
2025-08-12 06:09:03,311 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5396726432511693, 0.5128904231939264), (0.5793452865023385, 0.5257808463878527), (0.6190179297535078, 0.5386712695817791), (0.658690573004677, 0.5515616927757055), (0.6983632162558463, 0.564452115969632), (0.7380358595070156, 0.5773425391635583), (0.7777085027581848, 0.5902329623574847)]
2025-08-12 06:09:03,311 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,313 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:03,313 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:03,314 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,314 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,314 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,315 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,315 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,316 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:03,317 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:03,317 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,317 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,318 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.153-0.893, stroke_index=0
2025-08-12 06:09:03,318 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.153, param2=None, param3=0.893
2025-08-12 06:09:03,318 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5171008277168883, 0.4863876385121884), (0.5342016554337766, 0.47277527702437677), (0.5513024831506649, 0.4591629155365652), (0.5684033108675531, 0.4455505540487536), (0.5855041385844414, 0.431938192560942), (0.6026049663013298, 0.41832583107313037), (0.619705794018218, 0.4047134695853188)]
2025-08-12 06:09:03,319 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,319 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:03,320 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:03,320 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:03,320 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:03,322 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,322 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,322 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,323 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,323 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,324 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:03,324 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:03,324 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,325 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,325 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.153-0.391, stroke_index=0
2025-08-12 06:09:03,325 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.153, param2=None, param3=0.391
2025-08-12 06:09:03,325 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.48307157596994194, 0.5138261763961012), (0.4661431519398839, 0.5276523527922022), (0.44921472790982586, 0.5414785291883034), (0.43228630387976785, 0.5553047055844046), (0.4153578798497098, 0.5691308819805058), (0.3984294558196517, 0.5829570583766068), (0.3815010317895937, 0.596783234772708)]
2025-08-12 06:09:03,326 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,328 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:03,328 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:03,328 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,329 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,329 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,329 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,331 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,332 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:03,332 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:03,332 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,332 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,332 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.292-0.893, stroke_index=0
2025-08-12 06:09:03,333 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.292, param2=None, param3=0.893
2025-08-12 06:09:03,333 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5326368738126234, 0.47402085258535304), (0.5652737476252467, 0.448041705170706), (0.5979106214378701, 0.42206255775605905), (0.6305474952504935, 0.3960834103414121), (0.663184369063117, 0.3701042629267651), (0.6958212428757403, 0.3441251155121181), (0.7284581166883637, 0.31814596809747114)]
2025-08-12 06:09:03,333 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,334 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:03,336 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:03,336 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,336 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,337 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,337 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,338 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,339 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:03,339 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:03,340 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,340 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,340 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:03,341 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,341 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,341 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,342 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,342 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,342 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,342 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,342 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,342 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,343 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,343 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 6}
2025-08-12 06:09:03,343 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,344 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_pos_6', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'positive', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_1/6.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.500-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)], 'open_stroke_perimeter': 3472.5663079141045, 'compactness': 0.6323161457467248, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3472.566307914105, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'arc_normal_0.500_0.583-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(720.0, 0.0), (688.896151999682, 146.9372875224623)], 'open_stroke_perimeter': 150.1932615828208, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.05050167190821018, 'degenerate_case': True, 'stroke_length': 150.1932615828208, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 31.103848000317953, 'height': 146.9372875224623, 'area': 0.0, 'perimeter': 150.1932615828208, 'centroid': [704.448075999841, 73.46864376123115], 'bounds': [688.896151999682, 0.0, 720.0, 146.9372875224623], 'num_vertices': 2, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.500-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 60.85912255334415, 'height': 137.31053501797552, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [658.46659072301, 215.59255503145005], 'bounds': [628.0370294463379, 146.9372875224623, 688.896151999682, 284.2478225404378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 113.904, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.292-0.050', 'features': {'stroke_index': 3, 'analytic_vertices': [(628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 87.97572048024756, 'height': 121.73039238771474, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [584.0491692062142, 345.1130187342952], 'bounds': [540.0613089660903, 284.2478225404378, 628.0370294463379, 405.97821492815257], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 125.856, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.153-0.893', 'features': {'stroke_index': 4, 'analytic_vertices': [(540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 111.27794403633959, 'height': 100.87236983401806, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [484.42233694792054, 456.4143998451616], 'bounds': [428.78336492975075, 405.97821492815257, 540.0613089660903, 506.8505847621706], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 137.80799999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.153-0.391', 'features': {'stroke_index': 5, 'analytic_vertices': [(428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282)], 'open_stroke_perimeter': 150.19326158282087, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282087, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 129.75547578596797, 'height': 75.64081126245759, 'area': 0.0, 'perimeter': 150.19326158282087, 'centroid': [363.90562703676676, 544.6709903933994], 'bounds': [299.0278891437828, 506.8505847621706, 428.78336492975075, 582.4913960246282], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282087, 'line_angle': 149.76, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.292-0.893', 'features': {'stroke_index': 6, 'analytic_vertices': [(299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293), (0.0, 0.0)], 'open_stroke_perimeter': 2048.6853771834667, 'compactness': 0.4494323643623693, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 2048.6853771834667, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2048.6853771834667, 'line_angle': -120.24000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 7, 'raw_vertices': ['(0.0, 0.0)', '(720.0, 0.0)', '(688.896151999682, 146.9372875224623)', '(628.0370294463379, 284.2478225404378)', '(540.0613089660903, 405.97821492815257)', '(428.78336492975075, 506.8505847621706)', '(299.0278891437828, 582.4913960246282)', '(-63.580816033965164, -39.53346435421315)', '(25.563933546060397, 371.3882362437408)', '(-145.07458067692465, 232.02037817104122)', '(-365.39458067692465, 232.02037817104124)', '(-36.414892645680936, -29.849427768600293)'], 'vertices': ['(0.33664677084442424, 0.06355608412521563)', '(1.0, 0.06355608412521563)', '(0.9713432805414234, 0.2997802238372053)', '(0.9152723146117904, 0.5205278880613445)', '(0.8342181781286507, 0.7162280925733883)', '(0.7316951454754572, 0.8783958390081242)', '(0.6121483206654018, 1.0)', '(0.2780682435826501, 0.0)', '(0.36019943454956, 0.6606194169597722)', '(0.20298608812160615, 0.4365642915941748)', '(0.0, 0.4365642915941748)', '(0.3030968588640547, 0.015568568400489396)'], 'num_vertices': 12, 'position_label': ['0.5454728862820849', '0.42428006502325877'], 'rotation_label_degrees': ['47.25706832479788'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.6690909467913465, 0.40671220670463815], 'width': 0.7104462076429725, 'height': 0.9844314315995106, 'area_raw': 0.6284031099986687, 'area_normalized': 1.0, 'perimeter_raw': 4.477307027809003, 'perimeter_normalized': 1.0, 'aspect_ratio': 0.7216817594788038, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.3939258094842371, 'polsby_popper_compactness': 0.29783319788355345, 'eccentricity': 0.33514258772239724, 'symmetry_score': 0.46521572378340953, 'horizontal_symmetry': 0.561467329580888, 'vertical_symmetry': 0.5972799739100714, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 12.0, 'visual_complexity': 0.5232735055957455, 'curvature_score': 1.7516840543993508, 'angular_variance': 0.9823441483442595, 'moment_of_inertia': 0.3029547183584782, 'irregularity_score': 0.4278201659167648, 'standardized_complexity': 0.6260944191210334, 'clustering_heights': [0.0, 0.0, 0.013933025513783195, 0.10463115542265974, 0.20154688499695694, 0.3684435153733337], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 3.127585135057554e-09, 'perimeter_mean': 0.07900510782560789, 'width_mean': 0.03312811694702442, 'height_mean': 0.0202846779345718, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.3029547183584782, 'center_of_mass': [0.6690909467913465, 0.40671220670463815], 'polsby_popper_compactness': 0.8142349043001893, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.7516840543993508, 'angular_variance': 0.9823441483442595, 'edge_length_variance': 0.07768285011441206}, 'composition_features': {'stroke_type_distribution': {'line': 6, 'arc': 1}, 'shape_modifier_distribution': {'normal': 7}, 'stroke_diversity': 2, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 8, 'homogeneity_score': 1.0, 'pattern_regularity': 0.14285714285714285}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)], 'open_stroke_perimeter': 3472.5663079141045, 'compactness': 0.6323161457467248, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3472.566307914105, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 60.85912255334415, 'height': 137.31053501797552, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [658.46659072301, 215.59255503145005], 'bounds': [628.0370294463379, 146.9372875224623, 688.896151999682, 284.2478225404378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 113.904, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 87.97572048024756, 'height': 121.73039238771474, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [584.0491692062142, 345.1130187342952], 'bounds': [540.0613089660903, 284.2478225404378, 628.0370294463379, 405.97821492815257], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 125.856, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 111.27794403633959, 'height': 100.87236983401806, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [484.42233694792054, 456.4143998451616], 'bounds': [428.78336492975075, 405.97821492815257, 540.0613089660903, 506.8505847621706], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 137.80799999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282)], 'open_stroke_perimeter': 150.19326158282087, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282087, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 129.75547578596797, 'height': 75.64081126245759, 'area': 0.0, 'perimeter': 150.19326158282087, 'centroid': [363.90562703676676, 544.6709903933994], 'bounds': [299.0278891437828, 506.8505847621706, 428.78336492975075, 582.4913960246282], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282087, 'line_angle': 149.76, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [(299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293), (0.0, 0.0)], 'open_stroke_perimeter': 2048.6853771834667, 'compactness': 0.4494323643623693, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 2048.6853771834667, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2048.6853771834667, 'line_angle': -120.24000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': [{'stroke_index': 1, 'analytic_vertices': [(720.0, 0.0), (688.896151999682, 146.9372875224623)], 'open_stroke_perimeter': 150.1932615828208, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.05050167190821018, 'degenerate_case': True, 'stroke_length': 150.1932615828208, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 31.103848000317953, 'height': 146.9372875224623, 'area': 0.0, 'perimeter': 150.1932615828208, 'centroid': [704.448075999841, 73.46864376123115], 'bounds': [688.896151999682, 0.0, 720.0, 146.9372875224623], 'num_vertices': 2, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}]}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 6, 'arc': 1}}, 'processing_metadata': {'processing_timestamp': 1754959143.3449268, 'feature_count': 54}, 'actions': ['line_normal_0.500-0.500,arc_normal_0.500_0.583-0.750,line_normal_0.500-0.750,line_normal_0.292-0.050,line_normal_0.153-0.893,line_normal_0.153-0.391,line_normal_0.292-0.893'], 'action_program': ['line_normal_0.500-0.500,arc_normal_0.500_0.583-0.750,line_normal_0.500-0.750,line_normal_0.292-0.050,line_normal_0.153-0.893,line_normal_0.153-0.391,line_normal_0.292-0.893'], 'geometry': {'area': 0.395363743314549, 'perimeter': 2.8030846704218333, 'centroid': [0.6690909467913465, 0.40671220670463815], 'bounds': [0.2895537923570275, 0.015568568400489396, 1.0, 1.0], 'width': 0.7104462076429725, 'height': 0.9844314315995106}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 4}, 'analytic_attributes': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], 'analytic_ngram': {'normal|normal': 6}, 'alternation': 0.42857142857142855, 'regularity': {'regularity_score': 0.8571428571428571, 'most_common_element': 'normal', 'distribution': {'normal': 6, 'arc': 1}}}, 'topological_features': {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 5, 2: 6, 3: 5, 4: 5, 5: 5, 6: 5, 1: 1}, 'adjacency_clustering': {0: 1.0, 2: 0.6666666666666666, 3: 1.0, 4: 1.0, 5: 1.0, 6: 1.0, 1: 0}, 'intersection_count': 16, 'betweenness_centrality': {0: 0.0, 2: 0.3333333333333333, 3: 0.0, 4: 0.0, 5: 0.0, 6: 0.0, 1: 0.0}, 'containment_score': 0, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 2692.730609907687, 'skeleton_graph_features': {'num_nodes': 7, 'num_edges': 16}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.9823441483442595, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.9684057922080954, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 2}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.7234655051902344, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.11690935241370737, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.027534423877054945, 'complexity': 2, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}}}
2025-08-12 06:09:03,346 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.5454728862820849, 0.42428006502325877], 'orientation_degrees': 47.25706832479788}
2025-08-12 06:09:03,346 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.395363743314549, 'perimeter': 2.8030846704218333, 'centroid': [0.6690909467913465, 0.40671220670463815], 'bounds': [0.2895537923570275, 0.015568568400489396, 1.0, 1.0], 'width': 0.7104462076429725, 'height': 0.9844314315995106}
2025-08-12 06:09:03,346 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.500-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)], 'open_stroke_perimeter': 3472.5663079141045, 'compactness': 0.6323161457467248, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3472.566307914105, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'arc_normal_0.500_0.583-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(720.0, 0.0), (688.896151999682, 146.9372875224623)], 'open_stroke_perimeter': 150.1932615828208, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.05050167190821018, 'degenerate_case': True, 'stroke_length': 150.1932615828208, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 31.103848000317953, 'height': 146.9372875224623, 'area': 0.0, 'perimeter': 150.1932615828208, 'centroid': [704.448075999841, 73.46864376123115], 'bounds': [688.896151999682, 0.0, 720.0, 146.9372875224623], 'num_vertices': 2, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.500-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 60.85912255334415, 'height': 137.31053501797552, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [658.46659072301, 215.59255503145005], 'bounds': [628.0370294463379, 146.9372875224623, 688.896151999682, 284.2478225404378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 113.904, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.292-0.050', 'features': {'stroke_index': 3, 'analytic_vertices': [(628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 87.97572048024756, 'height': 121.73039238771474, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [584.0491692062142, 345.1130187342952], 'bounds': [540.0613089660903, 284.2478225404378, 628.0370294463379, 405.97821492815257], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 125.856, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.153-0.893', 'features': {'stroke_index': 4, 'analytic_vertices': [(540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 111.27794403633959, 'height': 100.87236983401806, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [484.42233694792054, 456.4143998451616], 'bounds': [428.78336492975075, 405.97821492815257, 540.0613089660903, 506.8505847621706], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 137.80799999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.153-0.391', 'features': {'stroke_index': 5, 'analytic_vertices': [(428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282)], 'open_stroke_perimeter': 150.19326158282087, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282087, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 129.75547578596797, 'height': 75.64081126245759, 'area': 0.0, 'perimeter': 150.19326158282087, 'centroid': [363.90562703676676, 544.6709903933994], 'bounds': [299.0278891437828, 506.8505847621706, 428.78336492975075, 582.4913960246282], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282087, 'line_angle': 149.76, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.292-0.893', 'features': {'stroke_index': 6, 'analytic_vertices': [(299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293), (0.0, 0.0)], 'open_stroke_perimeter': 2048.6853771834667, 'compactness': 0.4494323643623693, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 2048.6853771834667, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2048.6853771834667, 'line_angle': -120.24000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:03,347 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.583-0.750', 'line_normal_0.500-0.750', 'line_normal_0.292-0.050', 'line_normal_0.153-0.893', 'line_normal_0.153-0.391', 'line_normal_0.292-0.893']]
2025-08-12 06:09:03,347 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)]
2025-08-12 06:09:03,347 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(0.33664677084442424, 0.06355608412521563), (1.0, 0.06355608412521563), (0.9713432805414234, 0.2997802238372053), (0.9152723146117904, 0.5205278880613445), (0.8342181781286507, 0.7162280925733883), (0.7316951454754572, 0.8783958390081242), (0.6121483206654018, 1.0), (0.2780682435826501, 0.0), (0.36019943454956, 0.6606194169597722), (0.20298608812160615, 0.4365642915941748), (0.0, 0.4365642915941748), (0.3030968588640547, 0.015568568400489396)]
2025-08-12 06:09:03,348 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.6690909467913465, 0.40671220670463815], 'width': 0.7104462076429725, 'height': 0.9844314315995106, 'area_raw': 0.6284031099986687, 'area_normalized': 1.0, 'perimeter_raw': 4.477307027809003, 'perimeter_normalized': 1.0, 'aspect_ratio': 0.7216817594788038, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.3939258094842371, 'polsby_popper_compactness': 0.29783319788355345, 'eccentricity': 0.33514258772239724, 'symmetry_score': 0.46521572378340953, 'horizontal_symmetry': 0.561467329580888, 'vertical_symmetry': 0.5972799739100714, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 12.0, 'visual_complexity': 0.5232735055957455, 'curvature_score': 1.7516840543993508, 'angular_variance': 0.9823441483442595, 'moment_of_inertia': 0.3029547183584782, 'irregularity_score': 0.4278201659167648, 'standardized_complexity': 0.6260944191210334, 'clustering_heights': [0.0, 0.0, 0.013933025513783195, 0.10463115542265974, 0.20154688499695694, 0.3684435153733337], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:03,348 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.3029547183584782, 'center_of_mass': [0.6690909467913465, 0.40671220670463815], 'polsby_popper_compactness': 0.8142349043001893, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.7516840543993508, 'angular_variance': 0.9823441483442595, 'edge_length_variance': 0.07768285011441206}
2025-08-12 06:09:03,348 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 6, 'arc': 1}, 'shape_modifier_distribution': {'normal': 7}, 'stroke_diversity': 2, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 8, 'homogeneity_score': 1.0, 'pattern_regularity': 0.14285714285714285}
2025-08-12 06:09:03,349 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293)], 'open_stroke_perimeter': 3472.5663079141045, 'compactness': 0.6323161457467248, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 3472.566307914105, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(688.896151999682, 146.9372875224623), (628.0370294463379, 284.2478225404378)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 60.85912255334415, 'height': 137.31053501797552, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [658.46659072301, 215.59255503145005], 'bounds': [628.0370294463379, 146.9372875224623, 688.896151999682, 284.2478225404378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 113.904, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(628.0370294463379, 284.2478225404378), (540.0613089660903, 405.97821492815257)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 87.97572048024756, 'height': 121.73039238771474, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [584.0491692062142, 345.1130187342952], 'bounds': [540.0613089660903, 284.2478225404378, 628.0370294463379, 405.97821492815257], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 125.856, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(540.0613089660903, 405.97821492815257), (428.78336492975075, 506.8505847621706)], 'open_stroke_perimeter': 150.19326158282084, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282084, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 111.27794403633959, 'height': 100.87236983401806, 'area': 0.0, 'perimeter': 150.19326158282084, 'centroid': [484.42233694792054, 456.4143998451616], 'bounds': [428.78336492975075, 405.97821492815257, 540.0613089660903, 506.8505847621706], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282084, 'line_angle': 137.80799999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(428.78336492975075, 506.8505847621706), (299.0278891437828, 582.4913960246282)], 'open_stroke_perimeter': 150.19326158282087, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 150.19326158282087, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 129.75547578596797, 'height': 75.64081126245759, 'area': 0.0, 'perimeter': 150.19326158282087, 'centroid': [363.90562703676676, 544.6709903933994], 'bounds': [299.0278891437828, 506.8505847621706, 428.78336492975075, 582.4913960246282], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 150.19326158282087, 'line_angle': 149.76, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [(299.0278891437828, 582.4913960246282), (-63.580816033965164, -39.53346435421315), (25.563933546060397, 371.3882362437408), (-145.07458067692465, 232.02037817104122), (-365.39458067692465, 232.02037817104124), (-36.414892645680936, -29.849427768600293), (0.0, 0.0)], 'open_stroke_perimeter': 2048.6853771834667, 'compactness': 0.4494323643623693, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 2048.6853771834667, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2048.6853771834667, 'line_angle': -120.24000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': [{'stroke_index': 1, 'analytic_vertices': [(720.0, 0.0), (688.896151999682, 146.9372875224623)], 'open_stroke_perimeter': 150.1932615828208, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.05050167190821018, 'degenerate_case': True, 'stroke_length': 150.1932615828208, 'avg_stroke_length': 502.80738358536735, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 31.103848000317953, 'height': 146.9372875224623, 'area': 0.0, 'perimeter': 150.1932615828208, 'centroid': [704.448075999841, 73.46864376123115], 'bounds': [688.896151999682, 0.0, 720.0, 146.9372875224623], 'num_vertices': 2, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}]}
2025-08-12 06:09:03,349 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}
2025-08-12 06:09:03,352 - INFO - [INPUT] Processing image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018, is_positive=False
2025-08-12 06:09:03,352 - INFO - [INPUT] action_commands type: <class 'list'>, value: [['arc_zigzag_0.500_0.625-0.500', 'line_normal_0.217-0.750', 'line_normal_0.400-0.375', 'line_triangle_0.269-0.333', 'arc_circle_0.500_0.667-0.750', 'line_zigzag_0.269-0.750', 'line_triangle_0.400-0.333', 'line_triangle_0.217-0.375']]
2025-08-12 06:09:03,352 - INFO - [SHAPE SPLIT] Raw action_commands: [['arc_zigzag_0.500_0.625-0.500', 'line_normal_0.217-0.750', 'line_normal_0.400-0.375', 'line_triangle_0.269-0.333', 'arc_circle_0.500_0.667-0.750', 'line_zigzag_0.269-0.750', 'line_triangle_0.400-0.333', 'line_triangle_0.217-0.375']]
2025-08-12 06:09:03,352 - INFO - [SHAPE SPLIT] Sublist 0: ['arc_zigzag_0.500_0.625-0.500', 'line_normal_0.217-0.750', 'line_normal_0.400-0.375', 'line_triangle_0.269-0.333', 'arc_circle_0.500_0.667-0.750', 'line_zigzag_0.269-0.750', 'line_triangle_0.400-0.333', 'line_triangle_0.217-0.375']
2025-08-12 06:09:03,352 - INFO - [SHAPE SPLIT] Parsed shapes_commands (multi-object): [['arc_zigzag_0.500_0.625-0.500', 'line_normal_0.217-0.750', 'line_normal_0.400-0.375', 'line_triangle_0.269-0.333', 'arc_circle_0.500_0.667-0.750', 'line_zigzag_0.269-0.750', 'line_triangle_0.400-0.333', 'line_triangle_0.217-0.375']]
2025-08-12 06:09:03,352 - INFO - ComprehensiveNVLabsParser initialized:
2025-08-12 06:09:03,353 - INFO -   Canvas size: 512x512
2025-08-12 06:09:03,353 - INFO -   Coordinate range: (-360, 360)
2025-08-12 06:09:03,353 - INFO -   Base scaling factor: 1440.0
2025-08-12 06:09:03,353 - INFO - [PARSER] Parsing shape 0 commands: ['arc_zigzag_0.500_0.625-0.500', 'line_normal_0.217-0.750', 'line_normal_0.400-0.375', 'line_triangle_0.269-0.333', 'arc_circle_0.500_0.667-0.750', 'line_zigzag_0.269-0.750', 'line_triangle_0.400-0.333', 'line_triangle_0.217-0.375']
2025-08-12 06:09:03,355 - INFO - [LOGOPARSER] Input action_commands for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: ['arc_zigzag_0.500_0.625-0.500', 'line_normal_0.217-0.750', 'line_normal_0.400-0.375', 'line_triangle_0.269-0.333', 'arc_circle_0.500_0.667-0.750', 'line_zigzag_0.269-0.750', 'line_triangle_0.400-0.333', 'line_triangle_0.217-0.375']
2025-08-12 06:09:03,355 - DEBUG - Parsing 8 commands for hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:03,355 - DEBUG - [ACTIONS_JOIN] arc_zigzag_0.500_0.625-0.500,line_normal_0.217-0.750,line_normal_0.400-0.375,line_triangle_0.269-0.333,arc_circle_0.500_0.667-0.750,line_zigzag_0.269-0.750,line_triangle_0.400-0.333,line_triangle_0.217-0.375
2025-08-12 06:09:03,355 - DEBUG - [ACTIONS_TYPES] ['ArcAction', 'LineAction', 'LineAction', 'LineAction', 'ArcAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:03,355 - DEBUG - [ACTIONS_ATTRS] [{'arc_radius': 720.0, 'arc_angle': 90.0, 'arc_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'arc', 'raw_command': 'arc_zigzag_0.500_0.625-0.500'}, {'line_length': 312.48, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.217-0.750'}, {'line_length': 576.0, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 45.0, 'name': 'line', 'raw_command': 'line_normal_0.400-0.375'}, {'line_length': 387.36, 'line_type': 'triangle', 'turn_direction': 'R', 'turn_angle': 60.11999999999999, 'name': 'line', 'raw_command': 'line_triangle_0.269-0.333'}, {'arc_radius': 720.0, 'arc_angle': 120.24000000000001, 'arc_type': 'circle', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'arc', 'raw_command': 'arc_circle_0.500_0.667-0.750'}, {'line_length': 387.36, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_zigzag_0.269-0.750'}, {'line_length': 576.0, 'line_type': 'triangle', 'turn_direction': 'R', 'turn_angle': 60.11999999999999, 'name': 'line', 'raw_command': 'line_triangle_0.400-0.333'}, {'line_length': 312.48, 'line_type': 'triangle', 'turn_direction': 'R', 'turn_angle': 45.0, 'name': 'line', 'raw_command': 'line_triangle_0.217-0.375'}]
2025-08-12 06:09:03,356 - INFO - [OneStrokeShape.__init__] basic_actions: [arc_zigzag_0.500_0.625-0.500, line_normal_0.217-0.750, line_normal_0.400-0.375, line_triangle_0.269-0.333, arc_circle_0.500_0.667-0.750, line_zigzag_0.269-0.750, line_triangle_0.400-0.333, line_triangle_0.217-0.375], start_coordinates: None, start_orientation: None, scaling_factors: None
2025-08-12 06:09:03,356 - DEBUG - [OUTPUT_SHAPE_ACTIONS] arc_zigzag_0.500_0.625-0.500,line_normal_0.217-0.750,line_normal_0.400-0.375,line_triangle_0.269-0.333,arc_circle_0.500_0.667-0.750,line_zigzag_0.269-0.750,line_triangle_0.400-0.333,line_triangle_0.217-0.375
2025-08-12 06:09:03,356 - DEBUG - [OUTPUT_SHAPE_TYPES] ['ArcAction', 'LineAction', 'LineAction', 'LineAction', 'ArcAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:03,357 - DEBUG - [OUTPUT_SHAPE_ATTRS] [{'arc_radius': 720.0, 'arc_angle': 90.0, 'arc_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'arc', 'raw_command': 'arc_zigzag_0.500_0.625-0.500'}, {'line_length': 312.48, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.217-0.750'}, {'line_length': 576.0, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 45.0, 'name': 'line', 'raw_command': 'line_normal_0.400-0.375'}, {'line_length': 387.36, 'line_type': 'triangle', 'turn_direction': 'R', 'turn_angle': 60.11999999999999, 'name': 'line', 'raw_command': 'line_triangle_0.269-0.333'}, {'arc_radius': 720.0, 'arc_angle': 120.24000000000001, 'arc_type': 'circle', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'arc', 'raw_command': 'arc_circle_0.500_0.667-0.750'}, {'line_length': 387.36, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_zigzag_0.269-0.750'}, {'line_length': 576.0, 'line_type': 'triangle', 'turn_direction': 'R', 'turn_angle': 60.11999999999999, 'name': 'line', 'raw_command': 'line_triangle_0.400-0.333'}, {'line_length': 312.48, 'line_type': 'triangle', 'turn_direction': 'R', 'turn_angle': 45.0, 'name': 'line', 'raw_command': 'line_triangle_0.217-0.375'}]
2025-08-12 06:09:03,357 - INFO - [OneStrokeShape._calculate_vertices] INPUT basic_actions: [arc_zigzag_0.500_0.625-0.500, line_normal_0.217-0.750, line_normal_0.400-0.375, line_triangle_0.269-0.333, arc_circle_0.500_0.667-0.750, line_zigzag_0.269-0.750, line_triangle_0.400-0.333, line_triangle_0.217-0.375]
2025-08-12 06:09:03,357 - INFO - [OneStrokeShape._calculate_vertices] OUTPUT vertices: [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)]
2025-08-12 06:09:03,357 - INFO - [LOGOPARSER] Shape for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 has 28 vertices.
2025-08-12 06:09:03,358 - INFO - [LOGOPARSER] Parsed vertices (raw): [[0.0, 0.0], [123.75459208245697, 21.82127357070734], [241.83984944619894, 64.8007923567733], [350.667811300252, 127.63264542856916], [446.9317950932866, 208.40771872496015], [527.7068683896777, 304.67170251799473], [590.5387214614735, 413.4996643720478], [633.5182402475396, 531.5849217357897], [655.3395138182469, 655.3395138182467], [655.3395138182469, 781.0032199618385], [342.8595138182469, 781.0032199618385], [-64.43399214520446, 1188.2967259252898], [36.60557373124996, 1562.2469575437467], [-88.81097044298049, 1573.440085916611], [-214.26205990390582, 1562.6410198252759], [-335.92070337881006, 1530.179193887349], [-450.07560135782364, 1477.0448834770395], [-553.244362415087, 1404.858995539802], [-642.2797364957808, 1315.8236214591084], [-714.4656244330182, 1212.6548604018449], [-767.5999348433276, 1098.4999624228312], [-800.0617607812544, 976.841318947927], [-810.8608268725894, 851.3902294870016], [-799.6676984997251, 725.9736853127712], [-766.8238314824667, 604.4176238648502], [-392.87359986400975, 705.4571897413047], [14.419906099441505, 298.1636837778532], [14.419906099441448, -14.316316222146838]]
2025-08-12 06:09:03,358 - INFO - [LOGOPARSER] Vertices bounding box: min=(-810.86,-14.32), max=(655.34,1573.44), center=(-98.84,784.41)
2025-08-12 06:09:03,358 - INFO - Successfully created OneStrokeShape with 8 actions using NVLabs implementation
2025-08-12 06:09:03,359 - INFO - [PARSER] Parsed shape 0: type=OneStrokeShape, num_actions=8, action_types=['str', 'str', 'str', 'str', 'str', 'str', 'str', 'str'], attributes={}
2025-08-12 06:09:03,359 - INFO - [_vertices_from_command] INPUT: command=arc_zigzag_0.500_0.625-0.500, stroke_index=0
2025-08-12 06:09:03,359 - INFO - [_vertices_from_command] Parsed: action_type=arc, modifier=zigzag, param1=0.5, param2=0.625, param3=0.5
2025-08-12 06:09:03,359 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.0, 0.5000000000000001), (7.436948540329169e-08, 0.49972729231789664), (2.9747791951972857e-07, 0.4994545847169178), (6.693252359579738e-07, 0.4991818772781879), (1.1899113240843029e-06, 0.49890917008283175), (1.8592360290781151e-06, 0.4986364632119732), (2.6772991517654e-06, 0.4983637567467367), (3.6441004488962925e-06, 0.49809105076824656), (4.759639632756496e-06, 0.4978183453576267), (6.02391637155586e-06, 0.4975456405960009), (7.436930289206334e-06, 0.4972729365644932), (8.998680965377481e-06, 0.49700023334422644), (1.0709167935385455e-05, 0.4967275310163241), (1.2568390690526066e-05, 0.4964548296619091), (1.457634867763069e-05, 0.4961821293621041), (1.6733041299454854e-05, 0.49590943019803135), (1.903846791434516e-05, 0.4956367322508131), (2.1492627836572353e-05, 0.4953640356015706), (2.4095520335998266e-05, 0.4950913403314252), (2.684714463835336e-05, 0.4948186465214978), (2.974749992512571e-05, 0.49454595425290876)]
2025-08-12 06:09:03,360 - INFO - [_calculate_vertices_from_action] Bounding box: (0.0, 0.49454595425290876, 2.974749992512571e-05, 0.5000000000000001)
2025-08-12 06:09:03,360 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,361 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,361 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:03,363 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:03,364 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:03,365 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.42, 'num_vertices': 21, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,365 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.42, 'num_vertices': 21, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:03,365 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0, stroke_idx=0, assigned is_positive=False
2025-08-12 06:09:03,366 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0, stroke_idx=0, stroke_dict: {'command': 'arc_zigzag_0.500_0.625-0.500', 'vertices': [(0.0, 0.5000000000000001), (7.436948540329169e-08, 0.49972729231789664), (2.9747791951972857e-07, 0.4994545847169178), (6.693252359579738e-07, 0.4991818772781879), (1.1899113240843029e-06, 0.49890917008283175), (1.8592360290781151e-06, 0.4986364632119732), (2.6772991517654e-06, 0.4983637567467367), (3.6441004488962925e-06, 0.49809105076824656), (4.759639632756496e-06, 0.4978183453576267), (6.02391637155586e-06, 0.4975456405960009), (7.436930289206334e-06, 0.4972729365644932), (8.998680965377481e-06, 0.49700023334422644), (1.0709167935385455e-05, 0.4967275310163241), (1.2568390690526066e-05, 0.4964548296619091), (1.457634867763069e-05, 0.4961821293621041), (1.6733041299454854e-05, 0.49590943019803135), (1.903846791434516e-05, 0.4956367322508131), (2.1492627836572353e-05, 0.4953640356015706), (2.4095520335998266e-05, 0.4950913403314252), (2.684714463835336e-05, 0.4948186465214978), (2.974749992512571e-05, 0.49454595425290876)], 'geometry': {'area': 2.6973744002661607e-08, 'perimeter': 0.010908280715892681, 'centroid': [1.1903978095375257e-05, 0.4972729609286995], 'bounds': [0.0, 0.49454595425290876, 2.974749992512571e-05, 0.5000000000000001], 'width': 2.974749992512571e-05, 'height': 0.005454045747091352, 'compactness': 1, 'convexity_ratio': 2.702413323571884e-06, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.010908280715892681, 'analytic_vertices': [(0.0, 0.5000000000000001), (7.436948540329169e-08, 0.49972729231789664), (2.9747791951972857e-07, 0.4994545847169178), (6.693252359579738e-07, 0.4991818772781879), (1.1899113240843029e-06, 0.49890917008283175), (1.8592360290781151e-06, 0.4986364632119732), (2.6772991517654e-06, 0.4983637567467367), (3.6441004488962925e-06, 0.49809105076824656), (4.759639632756496e-06, 0.4978183453576267), (6.02391637155586e-06, 0.4975456405960009), (7.436930289206334e-06, 0.4972729365644932), (8.998680965377481e-06, 0.49700023334422644), (1.0709167935385455e-05, 0.4967275310163241), (1.2568390690526066e-05, 0.4964548296619091), (1.457634867763069e-05, 0.4961821293621041), (1.6733041299454854e-05, 0.49590943019803135), (1.903846791434516e-05, 0.4956367322508131), (2.1492627836572353e-05, 0.4953640356015706), (2.4095520335998266e-05, 0.4950913403314252), (2.684714463835336e-05, 0.4948186465214978), (2.974749992512571e-05, 0.49454595425290876)], 'open_stroke_perimeter': 0.005454153844878673}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:03,366 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.217-0.750, stroke_index=1
2025-08-12 06:09:03,366 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.217, param2=None, param3=0.75
2025-08-12 06:09:03,366 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.46900000000000003), (0.5, 0.438), (0.5, 0.40700000000000003), (0.49999999999999994, 0.376), (0.49999999999999994, 0.34500000000000003), (0.49999999999999994, 0.31400000000000006), (0.49999999999999994, 0.28300000000000003)]
2025-08-12 06:09:03,367 - INFO - [_calculate_vertices_from_action] Bounding box: (0.49999999999999994, 0.28300000000000003, 0.5, 0.5)
2025-08-12 06:09:03,367 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,369 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:03,369 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:03,369 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:03,369 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:03,370 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,370 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,370 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:03,370 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,372 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,372 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.49999999999999994, 0.28300000000000003)]
2025-08-12 06:09:03,373 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.49999999999999994, 0.28300000000000003)]
2025-08-12 06:09:03,373 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,373 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,374 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:03,374 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0, stroke_idx=1, assigned is_positive=False
2025-08-12 06:09:03,374 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0, stroke_idx=1, stroke_dict: {'command': 'line_normal_0.217-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.46900000000000003), (0.5, 0.438), (0.5, 0.40700000000000003), (0.49999999999999994, 0.376), (0.49999999999999994, 0.34500000000000003), (0.49999999999999994, 0.31400000000000006), (0.49999999999999994, 0.28300000000000003)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.46900000000000003), (0.5, 0.438), (0.5, 0.40700000000000003), (0.49999999999999994, 0.376), (0.49999999999999994, 0.34500000000000003), (0.49999999999999994, 0.31400000000000006), (0.49999999999999994, 0.28300000000000003)], 'open_stroke_perimeter': 0.21699999999999997, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:03,376 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.400-0.375, stroke_index=2
2025-08-12 06:09:03,376 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.4, param2=None, param3=0.375
2025-08-12 06:09:03,376 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4595938982179116, 0.5404061017820885), (0.41918779643582316, 0.5808122035641768), (0.3787816946537347, 0.6212183053462653), (0.3383755928716463, 0.6616244071283538), (0.29796949108955784, 0.7020305089104422), (0.2575633893074694, 0.7424366106925306), (0.217157287525381, 0.7828427124746191)]
2025-08-12 06:09:03,376 - INFO - [_calculate_vertices_from_action] Bounding box: (0.217157287525381, 0.5, 0.5, 0.7828427124746191)
2025-08-12 06:09:03,377 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,378 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:03,378 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:03,378 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,378 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,380 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:03,380 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,380 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,381 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:03,381 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:03,381 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,382 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,382 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0, stroke_idx=2, assigned is_positive=False
2025-08-12 06:09:03,384 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0, stroke_idx=2, stroke_dict: {'command': 'line_normal_0.400-0.375', 'vertices': [(0.5, 0.5), (0.4595938982179116, 0.5404061017820885), (0.41918779643582316, 0.5808122035641768), (0.3787816946537347, 0.6212183053462653), (0.3383755928716463, 0.6616244071283538), (0.29796949108955784, 0.7020305089104422), (0.2575633893074694, 0.7424366106925306), (0.217157287525381, 0.7828427124746191)], 'geometry': {'area': 5.854691731421724e-18, 'perimeter': 0.30000000000000004, 'centroid': [0.27945002777276734, 0.7205499722272328], 'bounds': [0.217157287525381, 0.676776695296637, 0.32322330470336313, 0.7828427124746191], 'width': 0.10606601717798214, 'height': 0.10606601717798214, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.30000000000000004, 'analytic_vertices': [(0.5, 0.5), (0.4595938982179116, 0.5404061017820885), (0.41918779643582316, 0.5808122035641768), (0.3787816946537347, 0.6212183053462653), (0.3383755928716463, 0.6616244071283538), (0.29796949108955784, 0.7020305089104422), (0.2575633893074694, 0.7424366106925306), (0.217157287525381, 0.7828427124746191)], 'open_stroke_perimeter': 0.4000000000000001, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:03,384 - INFO - [_vertices_from_command] INPUT: command=line_triangle_0.269-0.333, stroke_index=3
2025-08-12 06:09:03,384 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=0.269, param2=None, param3=0.333
2025-08-12 06:09:03,385 - INFO - [_vertices_from_command] Triangle vertices: [(0.769, 0.5), (0.36550000000000005, 0.732960833618014), (0.3654999999999999, 0.267039166381986), (0.769, 0.5)]
2025-08-12 06:09:03,385 - INFO - [_calculate_vertices_from_action] Bounding box: (0.3654999999999999, 0.267039166381986, 0.769, 0.732960833618014)
2025-08-12 06:09:03,385 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,386 - INFO - Convexity: poly_area=0.0940, hull_area=0.0940, ratio=1.0000
2025-08-12 06:09:03,386 - INFO - Computed angular variance: 0.068539 for 4 vertices.
2025-08-12 06:09:03,386 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,387 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,387 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:03,387 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,389 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:03,390 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-12 06:09:03,390 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-12 06:09:03,390 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0, stroke_idx=3, assigned is_positive=False
2025-08-12 06:09:03,391 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0, stroke_idx=3, stroke_dict: {'command': 'line_triangle_0.269-0.333', 'vertices': [(0.769, 0.5), (0.36550000000000005, 0.732960833618014), (0.3654999999999999, 0.267039166381986), (0.769, 0.5)], 'geometry': {'area': 0.09399969636486866, 'perimeter': 1.397765001708084, 'centroid': [0.5, 0.5], 'bounds': [0.3654999999999999, 0.267039166381986, 0.769, 0.732960833618014], 'width': 0.40350000000000014, 'height': 0.465921667236028, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.769, 0.5), (0.36550000000000005, 0.732960833618014), (0.3654999999999999, 0.267039166381986), (0.769, 0.5)], 'open_stroke_perimeter': 1.397765001708084, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:03,391 - INFO - [_vertices_from_command] INPUT: command=arc_circle_0.500_0.667-0.750, stroke_index=4
2025-08-12 06:09:03,391 - INFO - [_vertices_from_command] Parsed: action_type=arc, modifier=circle, param1=0.5, param2=0.667, param3=0.75
2025-08-12 06:09:03,392 - INFO - [_vertices_from_command] Circle vertices: [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)]
2025-08-12 06:09:03,392 - INFO - [_calculate_vertices_from_action] Bounding box: (0.0, 0.0, 1.0, 1.0)
2025-08-12 06:09:03,393 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:03,394 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,394 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:03,396 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275}
2025-08-12 06:09:03,397 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275, 'has_curved_edges': True}
2025-08-12 06:09:03,397 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0, stroke_idx=4, assigned is_positive=False
2025-08-12 06:09:03,397 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0, stroke_idx=4, stroke_dict: {'command': 'arc_circle_0.500_0.667-0.750', 'vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'geometry': {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'compactness': 1, 'convexity_ratio': 0.09084505690810465, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'open_stroke_perimeter': 2.972254835764386}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:03,398 - INFO - [_vertices_from_command] INPUT: command=line_zigzag_0.269-0.750, stroke_index=5
2025-08-12 06:09:03,398 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.269, param2=None, param3=0.75
2025-08-12 06:09:03,398 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.4615714285714286), (0.5, 0.42314285714285715), (0.5, 0.3847142857142857), (0.49999999999999994, 0.3462857142857143), (0.49999999999999994, 0.30785714285714283), (0.49999999999999994, 0.2694285714285714), (0.49999999999999994, 0.23099999999999998)]
2025-08-12 06:09:03,398 - INFO - [_calculate_vertices_from_action] Bounding box: (0.49999999999999994, 0.23099999999999998, 0.5, 0.5)
2025-08-12 06:09:03,400 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,400 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:03,400 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:03,401 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:03,401 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:03,401 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,403 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,403 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:03,403 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,404 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:03,404 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.49999999999999994, 0.23099999999999998)]
2025-08-12 06:09:03,405 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.49999999999999994, 0.23099999999999998)]
2025-08-12 06:09:03,405 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,405 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:03,407 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:03,407 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0, stroke_idx=5, assigned is_positive=False
2025-08-12 06:09:03,407 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0, stroke_idx=5, stroke_dict: {'command': 'line_zigzag_0.269-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4615714285714286), (0.5, 0.42314285714285715), (0.5, 0.3847142857142857), (0.49999999999999994, 0.3462857142857143), (0.49999999999999994, 0.30785714285714283), (0.49999999999999994, 0.2694285714285714), (0.49999999999999994, 0.23099999999999998)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4615714285714286), (0.5, 0.42314285714285715), (0.5, 0.3847142857142857), (0.49999999999999994, 0.3462857142857143), (0.49999999999999994, 0.30785714285714283), (0.49999999999999994, 0.2694285714285714), (0.49999999999999994, 0.23099999999999998)], 'open_stroke_perimeter': 0.269, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:03,407 - INFO - [_vertices_from_command] INPUT: command=line_triangle_0.400-0.333, stroke_index=6
2025-08-12 06:09:03,408 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=0.4, param2=None, param3=0.333
2025-08-12 06:09:03,408 - INFO - [_vertices_from_command] Triangle vertices: [(0.9, 0.5), (0.30000000000000004, 0.8464101615137756), (0.2999999999999998, 0.1535898384862246), (0.9, 0.5)]
2025-08-12 06:09:03,408 - INFO - [_calculate_vertices_from_action] Bounding box: (0.2999999999999998, 0.1535898384862246, 0.9, 0.8464101615137756)
2025-08-12 06:09:03,408 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,410 - INFO - Convexity: poly_area=0.2078, hull_area=0.2078, ratio=1.0000
2025-08-12 06:09:03,410 - INFO - Computed angular variance: 0.068539 for 4 vertices.
2025-08-12 06:09:03,410 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,411 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,417 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:03,417 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,418 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:03,419 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-12 06:09:03,419 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-12 06:09:03,420 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0, stroke_idx=6, assigned is_positive=False
2025-08-12 06:09:03,420 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0, stroke_idx=6, stroke_dict: {'command': 'line_triangle_0.400-0.333', 'vertices': [(0.9, 0.5), (0.30000000000000004, 0.8464101615137756), (0.2999999999999998, 0.1535898384862246), (0.9, 0.5)], 'geometry': {'area': 0.20784609690826533, 'perimeter': 2.078460969082653, 'centroid': [0.49999999999999994, 0.5000000000000001], 'bounds': [0.2999999999999998, 0.1535898384862246, 0.9, 0.8464101615137756], 'width': 0.6000000000000002, 'height': 0.6928203230275509, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9, 0.5), (0.30000000000000004, 0.8464101615137756), (0.2999999999999998, 0.1535898384862246), (0.9, 0.5)], 'open_stroke_perimeter': 2.078460969082653, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:03,420 - INFO - [_vertices_from_command] INPUT: command=line_triangle_0.217-0.375, stroke_index=7
2025-08-12 06:09:03,420 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=0.217, param2=None, param3=0.375
2025-08-12 06:09:03,421 - INFO - [_vertices_from_command] Triangle vertices: [(0.717, 0.5), (0.39150000000000007, 0.6879275126212232), (0.3914999999999999, 0.31207248737877685), (0.717, 0.5)]
2025-08-12 06:09:03,421 - INFO - [_calculate_vertices_from_action] Bounding box: (0.3914999999999999, 0.31207248737877685, 0.717, 0.6879275126212232)
2025-08-12 06:09:03,422 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,422 - INFO - Convexity: poly_area=0.0612, hull_area=0.0612, ratio=1.0000
2025-08-12 06:09:03,423 - INFO - Computed angular variance: 0.068539 for 4 vertices.
2025-08-12 06:09:03,423 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,423 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,423 - INFO - [compute_feature_statistics] INPUT: label=stroke_7, num_features=1
2025-08-12 06:09:03,424 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_7: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,424 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:03,425 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-12 06:09:03,425 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-12 06:09:03,426 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0, stroke_idx=7, assigned is_positive=False
2025-08-12 06:09:03,426 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0, stroke_idx=7, stroke_dict: {'command': 'line_triangle_0.217-0.375', 'vertices': [(0.717, 0.5), (0.39150000000000007, 0.6879275126212232), (0.3914999999999999, 0.31207248737877685), (0.717, 0.5)], 'geometry': {'area': 0.06117040535820814, 'perimeter': 1.127565075727339, 'centroid': [0.5, 0.5], 'bounds': [0.3914999999999999, 0.31207248737877685, 0.717, 0.6879275126212232], 'width': 0.32550000000000007, 'height': 0.37585502524244635, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.717, 0.5), (0.39150000000000007, 0.6879275126212232), (0.3914999999999999, 0.31207248737877685), (0.717, 0.5)], 'open_stroke_perimeter': 1.127565075727339, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:03,426 - INFO - [ATTR DEBUG] Shape 0 strokes (dicts): [{'command': 'arc_zigzag_0.500_0.625-0.500', 'vertices': [(0.0, 0.5000000000000001), (7.436948540329169e-08, 0.49972729231789664), (2.9747791951972857e-07, 0.4994545847169178), (6.693252359579738e-07, 0.4991818772781879), (1.1899113240843029e-06, 0.49890917008283175), (1.8592360290781151e-06, 0.4986364632119732), (2.6772991517654e-06, 0.4983637567467367), (3.6441004488962925e-06, 0.49809105076824656), (4.759639632756496e-06, 0.4978183453576267), (6.02391637155586e-06, 0.4975456405960009), (7.436930289206334e-06, 0.4972729365644932), (8.998680965377481e-06, 0.49700023334422644), (1.0709167935385455e-05, 0.4967275310163241), (1.2568390690526066e-05, 0.4964548296619091), (1.457634867763069e-05, 0.4961821293621041), (1.6733041299454854e-05, 0.49590943019803135), (1.903846791434516e-05, 0.4956367322508131), (2.1492627836572353e-05, 0.4953640356015706), (2.4095520335998266e-05, 0.4950913403314252), (2.684714463835336e-05, 0.4948186465214978), (2.974749992512571e-05, 0.49454595425290876)], 'geometry': {'area': 2.6973744002661607e-08, 'perimeter': 0.010908280715892681, 'centroid': [1.1903978095375257e-05, 0.4972729609286995], 'bounds': [0.0, 0.49454595425290876, 2.974749992512571e-05, 0.5000000000000001], 'width': 2.974749992512571e-05, 'height': 0.005454045747091352, 'compactness': 1, 'convexity_ratio': 2.702413323571884e-06, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.010908280715892681, 'analytic_vertices': [(0.0, 0.5000000000000001), (7.436948540329169e-08, 0.49972729231789664), (2.9747791951972857e-07, 0.4994545847169178), (6.693252359579738e-07, 0.4991818772781879), (1.1899113240843029e-06, 0.49890917008283175), (1.8592360290781151e-06, 0.4986364632119732), (2.6772991517654e-06, 0.4983637567467367), (3.6441004488962925e-06, 0.49809105076824656), (4.759639632756496e-06, 0.4978183453576267), (6.02391637155586e-06, 0.4975456405960009), (7.436930289206334e-06, 0.4972729365644932), (8.998680965377481e-06, 0.49700023334422644), (1.0709167935385455e-05, 0.4967275310163241), (1.2568390690526066e-05, 0.4964548296619091), (1.457634867763069e-05, 0.4961821293621041), (1.6733041299454854e-05, 0.49590943019803135), (1.903846791434516e-05, 0.4956367322508131), (2.1492627836572353e-05, 0.4953640356015706), (2.4095520335998266e-05, 0.4950913403314252), (2.684714463835336e-05, 0.4948186465214978), (2.974749992512571e-05, 0.49454595425290876)], 'open_stroke_perimeter': 0.005454153844878673}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.217-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.46900000000000003), (0.5, 0.438), (0.5, 0.40700000000000003), (0.49999999999999994, 0.376), (0.49999999999999994, 0.34500000000000003), (0.49999999999999994, 0.31400000000000006), (0.49999999999999994, 0.28300000000000003)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.46900000000000003), (0.5, 0.438), (0.5, 0.40700000000000003), (0.49999999999999994, 0.376), (0.49999999999999994, 0.34500000000000003), (0.49999999999999994, 0.31400000000000006), (0.49999999999999994, 0.28300000000000003)], 'open_stroke_perimeter': 0.21699999999999997, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.400-0.375', 'vertices': [(0.5, 0.5), (0.4595938982179116, 0.5404061017820885), (0.41918779643582316, 0.5808122035641768), (0.3787816946537347, 0.6212183053462653), (0.3383755928716463, 0.6616244071283538), (0.29796949108955784, 0.7020305089104422), (0.2575633893074694, 0.7424366106925306), (0.217157287525381, 0.7828427124746191)], 'geometry': {'area': 5.854691731421724e-18, 'perimeter': 0.30000000000000004, 'centroid': [0.27945002777276734, 0.7205499722272328], 'bounds': [0.217157287525381, 0.676776695296637, 0.32322330470336313, 0.7828427124746191], 'width': 0.10606601717798214, 'height': 0.10606601717798214, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.30000000000000004, 'analytic_vertices': [(0.5, 0.5), (0.4595938982179116, 0.5404061017820885), (0.41918779643582316, 0.5808122035641768), (0.3787816946537347, 0.6212183053462653), (0.3383755928716463, 0.6616244071283538), (0.29796949108955784, 0.7020305089104422), (0.2575633893074694, 0.7424366106925306), (0.217157287525381, 0.7828427124746191)], 'open_stroke_perimeter': 0.4000000000000001, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_triangle_0.269-0.333', 'vertices': [(0.769, 0.5), (0.36550000000000005, 0.732960833618014), (0.3654999999999999, 0.267039166381986), (0.769, 0.5)], 'geometry': {'area': 0.09399969636486866, 'perimeter': 1.397765001708084, 'centroid': [0.5, 0.5], 'bounds': [0.3654999999999999, 0.267039166381986, 0.769, 0.732960833618014], 'width': 0.40350000000000014, 'height': 0.465921667236028, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.769, 0.5), (0.36550000000000005, 0.732960833618014), (0.3654999999999999, 0.267039166381986), (0.769, 0.5)], 'open_stroke_perimeter': 1.397765001708084, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'arc_circle_0.500_0.667-0.750', 'vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'geometry': {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'compactness': 1, 'convexity_ratio': 0.09084505690810465, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'open_stroke_perimeter': 2.972254835764386}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_zigzag_0.269-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4615714285714286), (0.5, 0.42314285714285715), (0.5, 0.3847142857142857), (0.49999999999999994, 0.3462857142857143), (0.49999999999999994, 0.30785714285714283), (0.49999999999999994, 0.2694285714285714), (0.49999999999999994, 0.23099999999999998)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4615714285714286), (0.5, 0.42314285714285715), (0.5, 0.3847142857142857), (0.49999999999999994, 0.3462857142857143), (0.49999999999999994, 0.30785714285714283), (0.49999999999999994, 0.2694285714285714), (0.49999999999999994, 0.23099999999999998)], 'open_stroke_perimeter': 0.269, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_triangle_0.400-0.333', 'vertices': [(0.9, 0.5), (0.30000000000000004, 0.8464101615137756), (0.2999999999999998, 0.1535898384862246), (0.9, 0.5)], 'geometry': {'area': 0.20784609690826533, 'perimeter': 2.078460969082653, 'centroid': [0.49999999999999994, 0.5000000000000001], 'bounds': [0.2999999999999998, 0.1535898384862246, 0.9, 0.8464101615137756], 'width': 0.6000000000000002, 'height': 0.6928203230275509, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9, 0.5), (0.30000000000000004, 0.8464101615137756), (0.2999999999999998, 0.1535898384862246), (0.9, 0.5)], 'open_stroke_perimeter': 2.078460969082653, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_triangle_0.217-0.375', 'vertices': [(0.717, 0.5), (0.39150000000000007, 0.6879275126212232), (0.3914999999999999, 0.31207248737877685), (0.717, 0.5)], 'geometry': {'area': 0.06117040535820814, 'perimeter': 1.127565075727339, 'centroid': [0.5, 0.5], 'bounds': [0.3914999999999999, 0.31207248737877685, 0.717, 0.6879275126212232], 'width': 0.32550000000000007, 'height': 0.37585502524244635, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.717, 0.5), (0.39150000000000007, 0.6879275126212232), (0.3914999999999999, 0.31207248737877685), (0.717, 0.5)], 'open_stroke_perimeter': 1.127565075727339, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-12 06:09:03,430 - INFO - [PATCH][SHAPE GEOMETRY] idx=0, vertices=[(0.5530354920600635, 0.00901669563596929), (0.63744045954503, 0.02276016002465851), (0.7179787421293208, 0.04982950059111517), (0.7922032248509496, 0.08940222911997475), (0.8578586343618201, 0.14027594827965467), (0.9129500642671846, 0.2009048858568321), (0.9558035893469777, 0.2694468622629473), (0.9851171269265797, 0.3438192642288139), (1.0, 0.42176232395495056), (1.0, 0.5009077810126698), (0.7868776924081415, 0.5009077810126698), (0.5090892520020065, 0.7574291878322639), (0.5780017758040724, 0.9929503490851701), (0.4924632987667956, 1.0), (0.4069012606337149, 0.9931985372083599), (0.3239258035296866, 0.972753445068155), (0.24606816374409854, 0.9392884183557854), (0.17570345423335534, 0.8938243359310502), (0.11497820979728975, 0.837748117966657), (0.06574490522499282, 0.7727704167788099), (0.029505443989242586, 0.7008734319357676), (0.007365341414561925, 0.6242504415884913), (0.0, 0.5452388946711312), (0.00763410569635414, 0.4662491050501979), (0.030034773671770917, 0.3896907228675273), (0.2850819328084692, 0.45332741533518234), (0.5628703732146042, 0.19680600851558816), (0.5628703732146042, 0.0)], geometry={'area': 0.48782667451747613, 'perimeter': 3.381252275842524, 'centroid': [0.4845896891227935, 0.5216708635214542], 'bounds': [0.0, 0.010618086442007986, 1.0, 1.0], 'width': 1.0, 'height': 0.989381913557992}
2025-08-12 06:09:03,430 - INFO - [robust_curvature] INPUT: [(0.5530354920600635, 0.00901669563596929), (0.63744045954503, 0.02276016002465851), (0.7179787421293208, 0.04982950059111517), (0.7922032248509496, 0.08940222911997475), (0.8578586343618201, 0.14027594827965467), (0.9129500642671846, 0.2009048858568321), (0.9558035893469777, 0.2694468622629473), (0.9851171269265797, 0.3438192642288139), (1.0, 0.42176232395495056), (1.0, 0.5009077810126698), (0.7868776924081415, 0.5009077810126698), (0.5090892520020065, 0.7574291878322639), (0.5780017758040724, 0.9929503490851701), (0.4924632987667956, 1.0), (0.4069012606337149, 0.9931985372083599), (0.3239258035296866, 0.972753445068155), (0.24606816374409854, 0.9392884183557854), (0.17570345423335534, 0.8938243359310502), (0.11497820979728975, 0.837748117966657), (0.06574490522499282, 0.7727704167788099), (0.029505443989242586, 0.7008734319357676), (0.007365341414561925, 0.6242504415884913), (0.0, 0.5452388946711312), (0.00763410569635414, 0.4662491050501979), (0.030034773671770917, 0.3896907228675273), (0.2850819328084692, 0.45332741533518234), (0.5628703732146042, 0.19680600851558816), (0.5628703732146042, 0.0)]
2025-08-12 06:09:03,434 - INFO - [robust_curvature] OUTPUT: 0.7422198943105947
2025-08-12 06:09:03,434 - INFO - Computed angular variance: 0.453460 for 28 vertices.
2025-08-12 06:09:03,434 - INFO - [PATCH][SHAPE PHYSICS] idx=0, physics features: {'robust_curvature': 0.7422198943105947, 'robust_angular_variance': 0.4534596802988458, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 1.5707963267948966}
2025-08-12 06:09:03,435 - INFO - [robust_curvature] INPUT: [[   0.            0.        ]
 [ 123.75459208   21.82127357]
 [ 241.83984945   64.80079236]
 [ 350.6678113   127.63264543]
 [ 446.93179509  208.40771872]
 [ 527.70686839  304.67170252]
 [ 590.53872146  413.49966437]
 [ 633.51824025  531.58492174]
 [ 655.33951382  655.33951382]
 [ 655.33951382  781.00321996]
 [ 342.85951382  781.00321996]
 [ -64.43399215 1188.29672593]
 [  36.60557373 1562.24695754]
 [ -88.81097044 1573.44008592]
 [-214.2620599  1562.64101983]
 [-335.92070338 1530.17919389]
 [-450.07560136 1477.04488348]
 [-553.24436242 1404.85899554]
 [-642.2797365  1315.82362146]
 [-714.46562443 1212.6548604 ]
 [-767.59993484 1098.49996242]
 [-800.06176078  976.84131895]
 [-810.86082687  851.39022949]
 [-799.6676985   725.97368531]
 [-766.82383148  604.41762386]
 [-392.87359986  705.45718974]
 [  14.4199061   298.16368378]
 [  14.4199061   -14.31631622]]
2025-08-12 06:09:03,435 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,435 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,436 - INFO - Computed angular variance: 0.453051 for 28 vertices.
2025-08-12 06:09:03,437 - INFO - [robust_curvature] INPUT: [[ -64.43399215 1188.29672593]
 [  36.60557373 1562.24695754]
 [ -88.81097044 1573.44008592]
 [-214.2620599  1562.64101983]]
2025-08-12 06:09:03,437 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,438 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,438 - INFO - [robust_curvature] INPUT: [[633.51824025 531.58492174]
 [655.33951382 655.33951382]
 [655.33951382 781.00321996]
 [342.85951382 781.00321996]]
2025-08-12 06:09:03,438 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,438 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,439 - INFO - [robust_curvature] INPUT: [[-335.92070338 1530.17919389]
 [-450.07560136 1477.04488348]
 [-553.24436242 1404.85899554]
 [-642.2797365  1315.82362146]]
2025-08-12 06:09:03,439 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,439 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,440 - INFO - [robust_curvature] INPUT: [[  0.           0.        ]
 [123.75459208  21.82127357]
 [241.83984945  64.80079236]
 [ 14.4199061  298.16368378]
 [ 14.4199061  -14.31631622]]
2025-08-12 06:09:03,440 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,440 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,441 - INFO - [robust_curvature] INPUT: [[-800.06176078  976.84131895]
 [-810.86082687  851.39022949]
 [-799.6676985   725.97368531]
 [-766.82383148  604.41762386]]
2025-08-12 06:09:03,441 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,441 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,442 - INFO - [robust_curvature] INPUT: [[350.6678113  127.63264543]
 [446.93179509 208.40771872]
 [527.70686839 304.67170252]
 [590.53872146 413.49966437]]
2025-08-12 06:09:03,442 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,442 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,442 - INFO - [robust_curvature] INPUT: [[-714.46562443 1212.6548604 ]
 [-767.59993484 1098.49996242]]
2025-08-12 06:09:03,442 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,444 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,444 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_5': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_6': {'size': 2, 'curvature': 0.0, 'complexity': 0}, 'group_7': {'size': 1, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,444 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.4530510525561109, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_5': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_6': {'size': 2, 'curvature': 0.0, 'complexity': 0}, 'group_7': {'size': 1, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,445 - INFO - [robust_curvature] INPUT: [[ 5.30073134e-01  2.87909587e-02]
 [ 1.23732843e+02  2.19024421e+01]
 [ 2.41804336e+02  6.48769510e+01]
 [ 3.50619613e+02  1.27701480e+02]
 [ 4.46872376e+02  2.08467138e+02]
 [ 5.27638034e+02  3.04719901e+02]
 [ 5.90462563e+02  4.13535178e+02]
 [ 6.33437072e+02  5.31606671e+02]
 [ 6.55255802e+02  6.55346838e+02]
 [ 6.54140760e+02  7.80521141e+02]
 [ 3.42495785e+02  7.82565703e+02]
 [-6.24838949e+01  1.18816881e+03]
 [ 3.57368295e+01  1.56085533e+03]
 [-8.88111030e+01  1.57335572e+03]
 [-2.14247511e+02  1.56255792e+03]
 [-3.35891917e+02  1.53009989e+03]
 [-4.50033456e+02  1.47697180e+03]
 [-5.53190143e+02  1.40479436e+03]
 [-6.42215098e+02  1.31576940e+03]
 [-7.14392538e+02  1.21261271e+03]
 [-7.67520630e+02  1.09847118e+03]
 [-7.99978657e+02  9.76826770e+02]
 [-8.10776459e+02  8.51390362e+02]
 [-7.99584641e+02  7.25988495e+02]
 [-7.65515259e+02  6.05271558e+02]
 [-3.92745686e+02  7.03507093e+02]
 [ 1.28574228e+01  2.98527413e+02]
 [ 1.43645876e+01 -1.30626410e+01]]
2025-08-12 06:09:03,445 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,445 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,446 - INFO - Computed angular variance: 0.448097 for 28 vertices.
2025-08-12 06:09:03,447 - INFO - [robust_curvature] INPUT: [[-335.89191707 1530.09988889]
 [-450.03345569 1476.9717967 ]
 [-553.19014308 1404.79435655]
 [-642.21509751 1315.76940213]
 [-714.39253765 1212.61271474]
 [-767.52062984 1098.47117611]]
2025-08-12 06:09:03,447 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,447 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,448 - INFO - [robust_curvature] INPUT: [[ -62.48389493 1188.1688125 ]
 [  35.73682949 1560.85532741]
 [ -88.81110297 1573.35571817]
 [-214.2475111  1562.55791587]]
2025-08-12 06:09:03,448 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,449 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,449 - INFO - [robust_curvature] INPUT: [[-799.97865683  976.82677014]
 [-810.77645912  851.39036201]
 [-799.58464066  725.98849512]
 [-765.51525919  605.2715583 ]
 [-392.74568643  703.50709252]]
2025-08-12 06:09:03,449 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,450 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,450 - INFO - [robust_curvature] INPUT: [[590.46256277 413.53517775]
 [633.43707174 531.60667077]
 [655.25580177 655.34683767]
 [654.14075967 780.52114146]
 [342.49578467 782.56570326]]
2025-08-12 06:09:03,450 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,451 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,451 - INFO - [robust_curvature] INPUT: [[ 5.30073134e-01  2.87909587e-02]
 [ 1.23732843e+02  2.19024421e+01]
 [ 2.41804336e+02  6.48769510e+01]
 [ 1.28574228e+01  2.98527413e+02]
 [ 1.43645876e+01 -1.30626410e+01]]
2025-08-12 06:09:03,451 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,452 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,452 - INFO - [robust_curvature] INPUT: [[350.61961263 127.70148027]
 [446.87237562 208.46713819]
 [527.63803355 304.71990119]]
2025-08-12 06:09:03,452 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,453 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,453 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_5': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,453 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.4480968718173113, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_5': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,455 - INFO - [robust_curvature] INPUT: [[ 1.47764000e+01  8.94682155e-01]
 [ 1.23182112e+02  2.40919696e+01]
 [ 2.40844707e+02  6.69348829e+01]
 [ 3.49317206e+02  1.29561510e+02]
 [ 4.45266765e+02  2.10072749e+02]
 [ 5.25778004e+02  3.06022308e+02]
 [ 5.88404631e+02  4.14494807e+02]
 [ 6.31243767e+02  5.32194365e+02]
 [ 6.52917071e+02  6.55512086e+02]
 [ 6.21880096e+02  7.67667879e+02]
 [ 3.32768186e+02  8.24532913e+02]
 [-1.01380534e+01  1.18474146e+03]
 [ 1.25137605e+01  1.52342514e+03]
 [-8.88734192e+01  1.57098596e+03]
 [-2.13854379e+02  1.56031231e+03]
 [-3.35114064e+02  1.52795694e+03]
 [-4.48894612e+02  1.47499687e+03]
 [-5.51725049e+02  1.40304771e+03]
 [-6.40468447e+02  1.31430431e+03]
 [-7.12417614e+02  1.21147387e+03]
 [-7.65377680e+02  1.09769332e+03]
 [-7.97733053e+02  9.76433638e+02]
 [-8.08496706e+02  8.51393943e+02]
 [-7.97255726e+02  7.26445418e+02]
 [-7.30318273e+02  6.28097458e+02]
 [-3.89324051e+02  6.51160232e+02]
 [-2.91467499e+01  3.08258789e+02]
 [ 1.28062750e+01  2.06708625e+01]]
2025-08-12 06:09:03,455 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,455 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,455 - INFO - Computed angular variance: 0.164989 for 28 vertices.
2025-08-12 06:09:03,456 - INFO - [robust_curvature] INPUT: [[445.26676486 210.07274895]
 [525.77800425 306.02230773]
 [588.40463096 414.49480711]
 [631.24376666 532.1943651 ]
 [652.91707117 655.51208566]
 [621.88009562 767.66787919]
 [332.76818575 824.53291277]]
2025-08-12 06:09:03,456 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,456 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,457 - INFO - [robust_curvature] INPUT: [[-335.11406437 1527.95693937]
 [-448.8946116  1474.99687351]
 [-551.725049   1403.0477064 ]
 [-640.46844735 1314.30430804]
 [-712.41761447 1211.47387065]]
2025-08-12 06:09:03,457 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,457 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,459 - INFO - [robust_curvature] INPUT: [[-765.37768033 1097.69332342]
 [-797.73305346  976.4336379 ]
 [-808.49670593  851.39394304]
 [-797.25572588  726.4454183 ]
 [-730.31827253  628.09745796]
 [-389.32405079  651.16023232]]
2025-08-12 06:09:03,459 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,459 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,460 - INFO - [robust_curvature] INPUT: [[ 14.7764       0.89468215]
 [123.18211189  24.09196959]
 [240.8447067   66.93488285]
 [349.31720609 129.56150957]
 [-29.14674988 308.25878942]
 [ 12.80627503  20.67086246]]
2025-08-12 06:09:03,460 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,460 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,461 - INFO - [robust_curvature] INPUT: [[ -10.13805337 1184.74146398]
 [  12.51376051 1523.4251449 ]
 [ -88.87341921 1570.98595892]
 [-213.85437885 1560.31231251]]
2025-08-12 06:09:03,461 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,461 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,462 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 06:09:03,462 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.16498873014990048, 'complexity': 5, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}
2025-08-12 06:09:03,463 - INFO - [robust_curvature] INPUT: [[  47.04017463   25.21376645]
 [ 129.66361349   32.8837129 ]
 [ 237.8910477    74.6496587 ]
 [ 344.43674237  136.55639231]
 [ 439.22700235  216.11251146]
 [ 518.78120555  310.92151892]
 [ 580.62449122  418.08804478]
 [ 621.61748297  533.87875115]
 [ 625.82328969  650.39842418]
 [ 536.54273562  760.99599559]
 [ 319.58714724  917.41413041]
 [  98.69633212 1178.28760996]
 [ -14.09113847 1428.57388387]
 [-100.49545824 1540.92077991]
 [-213.3526362  1550.26059373]
 [-332.21791112 1519.8504453 ]
 [-444.61077569 1467.56807187]
 [-546.21400256 1396.47756856]
 [-633.89830952 1308.79326161]
 [-704.98881283 1207.19003473]
 [-757.31683674 1094.76738005]
 [-789.24318372  974.98362264]
 [-798.41335153  852.34842869]
 [-768.61644582  739.0657791 ]
 [-641.06562928  653.97236436]
 [-384.8751697   542.16652161]
 [-130.29564901  322.2567379 ]
 [  -7.67485204  108.78240301]]
2025-08-12 06:09:03,463 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,463 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,464 - INFO - Computed angular variance: 0.054381 for 28 vertices.
2025-08-12 06:09:03,465 - INFO - [robust_curvature] INPUT: [[  47.04017463   25.21376645]
 [ 129.66361349   32.8837129 ]
 [ 237.8910477    74.6496587 ]
 [ 344.43674237  136.55639231]
 [ 439.22700235  216.11251146]
 [ 518.78120555  310.92151892]
 [ 580.62449122  418.08804478]
 [ 621.61748297  533.87875115]
 [ 625.82328969  650.39842418]
 [ 536.54273562  760.99599559]
 [ 319.58714724  917.41413041]
 [  98.69633212 1178.28760996]
 [-384.8751697   542.16652161]
 [-130.29564901  322.2567379 ]
 [  -7.67485204  108.78240301]]
2025-08-12 06:09:03,465 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,465 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,465 - INFO - [robust_curvature] INPUT: [[ -14.09113847 1428.57388387]
 [-100.49545824 1540.92077991]
 [-213.3526362  1550.26059373]
 [-332.21791112 1519.8504453 ]
 [-444.61077569 1467.56807187]
 [-546.21400256 1396.47756856]
 [-633.89830952 1308.79326161]]
2025-08-12 06:09:03,465 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,467 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,467 - INFO - [robust_curvature] INPUT: [[-704.98881283 1207.19003473]
 [-757.31683674 1094.76738005]
 [-789.24318372  974.98362264]
 [-798.41335153  852.34842869]
 [-768.61644582  739.0657791 ]
 [-641.06562928  653.97236436]]
2025-08-12 06:09:03,467 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,468 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,468 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 15, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,468 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.05438063491238952, 'complexity': 5, 'groups': {'group_0': {'size': 15, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,469 - INFO - [robust_curvature] INPUT: [[  41.00688472  133.74054543]
 [ 142.95572846  102.02796374]
 [ 239.03665919  116.86569687]
 [ 331.96019654  166.18124043]
 [ 417.63005241  239.15371428]
 [ 488.98804985  328.72928522]
 [ 537.06436272  430.74543394]
 [ 550.10055936  543.72195308]
 [ 515.82666616  670.08215639]
 [ 429.70892085  815.33675274]
 [ 303.12085485  981.00405023]
 [ 160.15230916 1154.79700456]
 [  22.59675024 1310.13575484]
 [-101.77489369 1419.98206609]
 [-216.47083747 1472.41229424]
 [-326.00830625 1472.97142452]
 [-430.37261061 1435.15475723]
 [-526.18478114 1371.00949726]
 [-609.4253192  1288.23433544]
 [-676.40159984 1191.6865073 ]
 [-722.86562749 1085.44407629]
 [-742.06539223  973.68615783]
 [-723.47324813  859.65310259]
 [-655.91764437  742.90027236]
 [-537.00456202  618.27899523]
 [-382.09336659  481.74992121]
 [-220.38859272  340.78299265]
 [ -77.14011027  216.91044173]]
2025-08-12 06:09:03,469 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,470 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,470 - INFO - Computed angular variance: 0.015382 for 28 vertices.
2025-08-12 06:09:03,471 - INFO - [robust_curvature] INPUT: [[ 160.15230916 1154.79700456]
 [  22.59675024 1310.13575484]
 [-101.77489369 1419.98206609]
 [-216.47083747 1472.41229424]
 [-326.00830625 1472.97142452]
 [-430.37261061 1435.15475723]
 [-526.18478114 1371.00949726]
 [-609.4253192  1288.23433544]
 [-676.40159984 1191.6865073 ]
 [-722.86562749 1085.44407629]
 [-742.06539223  973.68615783]
 [-723.47324813  859.65310259]
 [-655.91764437  742.90027236]
 [-537.00456202  618.27899523]
 [-382.09336659  481.74992121]]
2025-08-12 06:09:03,471 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,472 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,472 - INFO - [robust_curvature] INPUT: [[  41.00688472  133.74054543]
 [ 142.95572846  102.02796374]
 [ 239.03665919  116.86569687]
 [ 331.96019654  166.18124043]
 [ 417.63005241  239.15371428]
 [ 488.98804985  328.72928522]
 [ 537.06436272  430.74543394]
 [ 550.10055936  543.72195308]
 [ 515.82666616  670.08215639]
 [ 429.70892085  815.33675274]
 [ 303.12085485  981.00405023]
 [-220.38859272  340.78299265]
 [ -77.14011027  216.91044173]]
2025-08-12 06:09:03,472 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,473 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,473 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 15, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 13, 'curvature': 0.0, 'complexity': 2}}
2025-08-12 06:09:03,473 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.015382298605587614, 'complexity': 2, 'groups': {'group_0': {'size': 15, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 13, 'curvature': 0.0, 'complexity': 2}}}
2025-08-12 06:09:03,473 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.4530510525561109, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_5': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_6': {'size': 2, 'curvature': 0.0, 'complexity': 0}, 'group_7': {'size': 1, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.4480968718173113, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_5': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.16498873014990048, 'complexity': 5, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.05438063491238952, 'complexity': 5, 'groups': {'group_0': {'size': 15, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.015382298605587614, 'complexity': 2, 'groups': {'group_0': {'size': 15, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 13, 'curvature': 0.0, 'complexity': 2}}}}
2025-08-12 06:09:03,475 - DEBUG - [extract_image_features] Calculated width: 1466.2003406908364, height: 1570.897467411997
2025-08-12 06:09:03,475 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)]
2025-08-12 06:09:03,477 - INFO - [robust_curvature] OUTPUT: 0.742731035080789
2025-08-12 06:09:03,478 - INFO - Computed angular variance: 0.453051 for 28 vertices.
2025-08-12 06:09:03,479 - INFO - [robust_curvature] INPUT: [[   0.            0.        ]
 [ 123.75459208   21.82127357]
 [ 241.83984945   64.80079236]
 [ 350.6678113   127.63264543]
 [ 446.93179509  208.40771872]
 [ 527.70686839  304.67170252]
 [ 590.53872146  413.49966437]
 [ 633.51824025  531.58492174]
 [ 655.33951382  655.33951382]
 [ 655.33951382  781.00321996]
 [ 342.85951382  781.00321996]
 [ -64.43399215 1188.29672593]
 [  36.60557373 1562.24695754]
 [ -88.81097044 1573.44008592]
 [-214.2620599  1562.64101983]
 [-335.92070338 1530.17919389]
 [-450.07560136 1477.04488348]
 [-553.24436242 1404.85899554]
 [-642.2797365  1315.82362146]
 [-714.46562443 1212.6548604 ]
 [-767.59993484 1098.49996242]
 [-800.06176078  976.84131895]
 [-810.86082687  851.39022949]
 [-799.6676985   725.97368531]
 [-766.82383148  604.41762386]
 [-392.87359986  705.45718974]
 [  14.4199061   298.16368378]
 [  14.4199061   -14.31631622]]
2025-08-12 06:09:03,479 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,479 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,480 - INFO - Computed angular variance: 0.453051 for 28 vertices.
2025-08-12 06:09:03,481 - INFO - [robust_curvature] INPUT: [[ -64.43399215 1188.29672593]
 [  36.60557373 1562.24695754]
 [ -88.81097044 1573.44008592]
 [-214.2620599  1562.64101983]]
2025-08-12 06:09:03,481 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,481 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,482 - INFO - [robust_curvature] INPUT: [[633.51824025 531.58492174]
 [655.33951382 655.33951382]
 [655.33951382 781.00321996]
 [342.85951382 781.00321996]]
2025-08-12 06:09:03,482 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,482 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,483 - INFO - [robust_curvature] INPUT: [[-335.92070338 1530.17919389]
 [-450.07560136 1477.04488348]
 [-553.24436242 1404.85899554]
 [-642.2797365  1315.82362146]]
2025-08-12 06:09:03,483 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,483 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,484 - INFO - [robust_curvature] INPUT: [[  0.           0.        ]
 [123.75459208  21.82127357]
 [241.83984945  64.80079236]
 [ 14.4199061  298.16368378]
 [ 14.4199061  -14.31631622]]
2025-08-12 06:09:03,484 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,484 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,485 - INFO - [robust_curvature] INPUT: [[-800.06176078  976.84131895]
 [-810.86082687  851.39022949]
 [-799.6676985   725.97368531]
 [-766.82383148  604.41762386]]
2025-08-12 06:09:03,485 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,485 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,486 - INFO - [robust_curvature] INPUT: [[350.6678113  127.63264543]
 [446.93179509 208.40771872]
 [527.70686839 304.67170252]
 [590.53872146 413.49966437]]
2025-08-12 06:09:03,486 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,486 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,486 - INFO - [robust_curvature] INPUT: [[-714.46562443 1212.6548604 ]
 [-767.59993484 1098.49996242]]
2025-08-12 06:09:03,486 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,488 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,488 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_5': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_6': {'size': 2, 'curvature': 0.0, 'complexity': 0}, 'group_7': {'size': 1, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,489 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.4530510525561109, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_5': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_6': {'size': 2, 'curvature': 0.0, 'complexity': 0}, 'group_7': {'size': 1, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,489 - INFO - [robust_curvature] INPUT: [[ 5.30073134e-01  2.87909587e-02]
 [ 1.23732843e+02  2.19024421e+01]
 [ 2.41804336e+02  6.48769510e+01]
 [ 3.50619613e+02  1.27701480e+02]
 [ 4.46872376e+02  2.08467138e+02]
 [ 5.27638034e+02  3.04719901e+02]
 [ 5.90462563e+02  4.13535178e+02]
 [ 6.33437072e+02  5.31606671e+02]
 [ 6.55255802e+02  6.55346838e+02]
 [ 6.54140760e+02  7.80521141e+02]
 [ 3.42495785e+02  7.82565703e+02]
 [-6.24838949e+01  1.18816881e+03]
 [ 3.57368295e+01  1.56085533e+03]
 [-8.88111030e+01  1.57335572e+03]
 [-2.14247511e+02  1.56255792e+03]
 [-3.35891917e+02  1.53009989e+03]
 [-4.50033456e+02  1.47697180e+03]
 [-5.53190143e+02  1.40479436e+03]
 [-6.42215098e+02  1.31576940e+03]
 [-7.14392538e+02  1.21261271e+03]
 [-7.67520630e+02  1.09847118e+03]
 [-7.99978657e+02  9.76826770e+02]
 [-8.10776459e+02  8.51390362e+02]
 [-7.99584641e+02  7.25988495e+02]
 [-7.65515259e+02  6.05271558e+02]
 [-3.92745686e+02  7.03507093e+02]
 [ 1.28574228e+01  2.98527413e+02]
 [ 1.43645876e+01 -1.30626410e+01]]
2025-08-12 06:09:03,490 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,490 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,490 - INFO - Computed angular variance: 0.448097 for 28 vertices.
2025-08-12 06:09:03,491 - INFO - [robust_curvature] INPUT: [[-335.89191707 1530.09988889]
 [-450.03345569 1476.9717967 ]
 [-553.19014308 1404.79435655]
 [-642.21509751 1315.76940213]
 [-714.39253765 1212.61271474]
 [-767.52062984 1098.47117611]]
2025-08-12 06:09:03,492 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,492 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,492 - INFO - [robust_curvature] INPUT: [[ -62.48389493 1188.1688125 ]
 [  35.73682949 1560.85532741]
 [ -88.81110297 1573.35571817]
 [-214.2475111  1562.55791587]]
2025-08-12 06:09:03,492 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,493 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,493 - INFO - [robust_curvature] INPUT: [[-799.97865683  976.82677014]
 [-810.77645912  851.39036201]
 [-799.58464066  725.98849512]
 [-765.51525919  605.2715583 ]
 [-392.74568643  703.50709252]]
2025-08-12 06:09:03,493 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,494 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,494 - INFO - [robust_curvature] INPUT: [[590.46256277 413.53517775]
 [633.43707174 531.60667077]
 [655.25580177 655.34683767]
 [654.14075967 780.52114146]
 [342.49578467 782.56570326]]
2025-08-12 06:09:03,495 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,495 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,495 - INFO - [robust_curvature] INPUT: [[ 5.30073134e-01  2.87909587e-02]
 [ 1.23732843e+02  2.19024421e+01]
 [ 2.41804336e+02  6.48769510e+01]
 [ 1.28574228e+01  2.98527413e+02]
 [ 1.43645876e+01 -1.30626410e+01]]
2025-08-12 06:09:03,495 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,496 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,496 - INFO - [robust_curvature] INPUT: [[350.61961263 127.70148027]
 [446.87237562 208.46713819]
 [527.63803355 304.71990119]]
2025-08-12 06:09:03,496 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,497 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,497 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_5': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,497 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.4480968718173113, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_5': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,499 - INFO - [robust_curvature] INPUT: [[ 1.47764000e+01  8.94682155e-01]
 [ 1.23182112e+02  2.40919696e+01]
 [ 2.40844707e+02  6.69348829e+01]
 [ 3.49317206e+02  1.29561510e+02]
 [ 4.45266765e+02  2.10072749e+02]
 [ 5.25778004e+02  3.06022308e+02]
 [ 5.88404631e+02  4.14494807e+02]
 [ 6.31243767e+02  5.32194365e+02]
 [ 6.52917071e+02  6.55512086e+02]
 [ 6.21880096e+02  7.67667879e+02]
 [ 3.32768186e+02  8.24532913e+02]
 [-1.01380534e+01  1.18474146e+03]
 [ 1.25137605e+01  1.52342514e+03]
 [-8.88734192e+01  1.57098596e+03]
 [-2.13854379e+02  1.56031231e+03]
 [-3.35114064e+02  1.52795694e+03]
 [-4.48894612e+02  1.47499687e+03]
 [-5.51725049e+02  1.40304771e+03]
 [-6.40468447e+02  1.31430431e+03]
 [-7.12417614e+02  1.21147387e+03]
 [-7.65377680e+02  1.09769332e+03]
 [-7.97733053e+02  9.76433638e+02]
 [-8.08496706e+02  8.51393943e+02]
 [-7.97255726e+02  7.26445418e+02]
 [-7.30318273e+02  6.28097458e+02]
 [-3.89324051e+02  6.51160232e+02]
 [-2.91467499e+01  3.08258789e+02]
 [ 1.28062750e+01  2.06708625e+01]]
2025-08-12 06:09:03,499 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,499 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,500 - INFO - Computed angular variance: 0.164989 for 28 vertices.
2025-08-12 06:09:03,501 - INFO - [robust_curvature] INPUT: [[445.26676486 210.07274895]
 [525.77800425 306.02230773]
 [588.40463096 414.49480711]
 [631.24376666 532.1943651 ]
 [652.91707117 655.51208566]
 [621.88009562 767.66787919]
 [332.76818575 824.53291277]]
2025-08-12 06:09:03,501 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,501 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,502 - INFO - [robust_curvature] INPUT: [[-335.11406437 1527.95693937]
 [-448.8946116  1474.99687351]
 [-551.725049   1403.0477064 ]
 [-640.46844735 1314.30430804]
 [-712.41761447 1211.47387065]]
2025-08-12 06:09:03,502 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,502 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,503 - INFO - [robust_curvature] INPUT: [[-765.37768033 1097.69332342]
 [-797.73305346  976.4336379 ]
 [-808.49670593  851.39394304]
 [-797.25572588  726.4454183 ]
 [-730.31827253  628.09745796]
 [-389.32405079  651.16023232]]
2025-08-12 06:09:03,503 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,503 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,504 - INFO - [robust_curvature] INPUT: [[ 14.7764       0.89468215]
 [123.18211189  24.09196959]
 [240.8447067   66.93488285]
 [349.31720609 129.56150957]
 [-29.14674988 308.25878942]
 [ 12.80627503  20.67086246]]
2025-08-12 06:09:03,504 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,504 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,505 - INFO - [robust_curvature] INPUT: [[ -10.13805337 1184.74146398]
 [  12.51376051 1523.4251449 ]
 [ -88.87341921 1570.98595892]
 [-213.85437885 1560.31231251]]
2025-08-12 06:09:03,505 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,505 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,506 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 06:09:03,506 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.16498873014990048, 'complexity': 5, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}
2025-08-12 06:09:03,506 - INFO - [robust_curvature] INPUT: [[  47.04017463   25.21376645]
 [ 129.66361349   32.8837129 ]
 [ 237.8910477    74.6496587 ]
 [ 344.43674237  136.55639231]
 [ 439.22700235  216.11251146]
 [ 518.78120555  310.92151892]
 [ 580.62449122  418.08804478]
 [ 621.61748297  533.87875115]
 [ 625.82328969  650.39842418]
 [ 536.54273562  760.99599559]
 [ 319.58714724  917.41413041]
 [  98.69633212 1178.28760996]
 [ -14.09113847 1428.57388387]
 [-100.49545824 1540.92077991]
 [-213.3526362  1550.26059373]
 [-332.21791112 1519.8504453 ]
 [-444.61077569 1467.56807187]
 [-546.21400256 1396.47756856]
 [-633.89830952 1308.79326161]
 [-704.98881283 1207.19003473]
 [-757.31683674 1094.76738005]
 [-789.24318372  974.98362264]
 [-798.41335153  852.34842869]
 [-768.61644582  739.0657791 ]
 [-641.06562928  653.97236436]
 [-384.8751697   542.16652161]
 [-130.29564901  322.2567379 ]
 [  -7.67485204  108.78240301]]
2025-08-12 06:09:03,507 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,507 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,507 - INFO - Computed angular variance: 0.054381 for 28 vertices.
2025-08-12 06:09:03,508 - INFO - [robust_curvature] INPUT: [[  47.04017463   25.21376645]
 [ 129.66361349   32.8837129 ]
 [ 237.8910477    74.6496587 ]
 [ 344.43674237  136.55639231]
 [ 439.22700235  216.11251146]
 [ 518.78120555  310.92151892]
 [ 580.62449122  418.08804478]
 [ 621.61748297  533.87875115]
 [ 625.82328969  650.39842418]
 [ 536.54273562  760.99599559]
 [ 319.58714724  917.41413041]
 [  98.69633212 1178.28760996]
 [-384.8751697   542.16652161]
 [-130.29564901  322.2567379 ]
 [  -7.67485204  108.78240301]]
2025-08-12 06:09:03,508 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,508 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,508 - INFO - [robust_curvature] INPUT: [[ -14.09113847 1428.57388387]
 [-100.49545824 1540.92077991]
 [-213.3526362  1550.26059373]
 [-332.21791112 1519.8504453 ]
 [-444.61077569 1467.56807187]
 [-546.21400256 1396.47756856]
 [-633.89830952 1308.79326161]]
2025-08-12 06:09:03,510 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,510 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,510 - INFO - [robust_curvature] INPUT: [[-704.98881283 1207.19003473]
 [-757.31683674 1094.76738005]
 [-789.24318372  974.98362264]
 [-798.41335153  852.34842869]
 [-768.61644582  739.0657791 ]
 [-641.06562928  653.97236436]]
2025-08-12 06:09:03,510 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,510 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,510 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 15, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,510 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.05438063491238952, 'complexity': 5, 'groups': {'group_0': {'size': 15, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,511 - INFO - [robust_curvature] INPUT: [[  41.00688472  133.74054543]
 [ 142.95572846  102.02796374]
 [ 239.03665919  116.86569687]
 [ 331.96019654  166.18124043]
 [ 417.63005241  239.15371428]
 [ 488.98804985  328.72928522]
 [ 537.06436272  430.74543394]
 [ 550.10055936  543.72195308]
 [ 515.82666616  670.08215639]
 [ 429.70892085  815.33675274]
 [ 303.12085485  981.00405023]
 [ 160.15230916 1154.79700456]
 [  22.59675024 1310.13575484]
 [-101.77489369 1419.98206609]
 [-216.47083747 1472.41229424]
 [-326.00830625 1472.97142452]
 [-430.37261061 1435.15475723]
 [-526.18478114 1371.00949726]
 [-609.4253192  1288.23433544]
 [-676.40159984 1191.6865073 ]
 [-722.86562749 1085.44407629]
 [-742.06539223  973.68615783]
 [-723.47324813  859.65310259]
 [-655.91764437  742.90027236]
 [-537.00456202  618.27899523]
 [-382.09336659  481.74992121]
 [-220.38859272  340.78299265]
 [ -77.14011027  216.91044173]]
2025-08-12 06:09:03,511 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,512 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,512 - INFO - Computed angular variance: 0.015382 for 28 vertices.
2025-08-12 06:09:03,513 - INFO - [robust_curvature] INPUT: [[ 160.15230916 1154.79700456]
 [  22.59675024 1310.13575484]
 [-101.77489369 1419.98206609]
 [-216.47083747 1472.41229424]
 [-326.00830625 1472.97142452]
 [-430.37261061 1435.15475723]
 [-526.18478114 1371.00949726]
 [-609.4253192  1288.23433544]
 [-676.40159984 1191.6865073 ]
 [-722.86562749 1085.44407629]
 [-742.06539223  973.68615783]
 [-723.47324813  859.65310259]
 [-655.91764437  742.90027236]
 [-537.00456202  618.27899523]
 [-382.09336659  481.74992121]]
2025-08-12 06:09:03,513 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,513 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,515 - INFO - [robust_curvature] INPUT: [[  41.00688472  133.74054543]
 [ 142.95572846  102.02796374]
 [ 239.03665919  116.86569687]
 [ 331.96019654  166.18124043]
 [ 417.63005241  239.15371428]
 [ 488.98804985  328.72928522]
 [ 537.06436272  430.74543394]
 [ 550.10055936  543.72195308]
 [ 515.82666616  670.08215639]
 [ 429.70892085  815.33675274]
 [ 303.12085485  981.00405023]
 [-220.38859272  340.78299265]
 [ -77.14011027  216.91044173]]
2025-08-12 06:09:03,515 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,515 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,515 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 15, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 13, 'curvature': 0.0, 'complexity': 2}}
2025-08-12 06:09:03,516 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.015382298605587614, 'complexity': 2, 'groups': {'group_0': {'size': 15, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 13, 'curvature': 0.0, 'complexity': 2}}}
2025-08-12 06:09:03,516 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.4530510525561109, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_5': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_6': {'size': 2, 'curvature': 0.0, 'complexity': 0}, 'group_7': {'size': 1, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.4480968718173113, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_5': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.16498873014990048, 'complexity': 5, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.05438063491238952, 'complexity': 5, 'groups': {'group_0': {'size': 15, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.015382298605587614, 'complexity': 2, 'groups': {'group_0': {'size': 15, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 13, 'curvature': 0.0, 'complexity': 2}}}}
2025-08-12 06:09:03,519 - DEBUG - [extract_image_features] Stroke 0 geometry: {'area': 2.6973744002661607e-08, 'perimeter': 0.010908280715892681, 'centroid': [1.1903978095375257e-05, 0.4972729609286995], 'bounds': [0.0, 0.49454595425290876, 2.974749992512571e-05, 0.5000000000000001], 'width': 2.974749992512571e-05, 'height': 0.005454045747091352}
2025-08-12 06:09:03,519 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:03,520 - DEBUG - [extract_image_features] Stroke 1 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:03,521 - DEBUG - [extract_image_features] Stroke 2 geometry: {'area': 5.854691731421724e-18, 'perimeter': 0.30000000000000004, 'centroid': [0.27945002777276734, 0.7205499722272328], 'bounds': [0.217157287525381, 0.676776695296637, 0.32322330470336313, 0.7828427124746191], 'width': 0.10606601717798214, 'height': 0.10606601717798214}
2025-08-12 06:09:03,521 - DEBUG - [extract_image_features] Stroke 3 geometry: {'area': 0.09399969636486866, 'perimeter': 1.397765001708084, 'centroid': [0.5, 0.5], 'bounds': [0.3654999999999999, 0.267039166381986, 0.769, 0.732960833618014], 'width': 0.40350000000000014, 'height': 0.465921667236028}
2025-08-12 06:09:03,521 - DEBUG - [extract_image_features] Stroke 4 geometry: {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 06:09:03,522 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:03,522 - DEBUG - [extract_image_features] Stroke 5 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:03,523 - DEBUG - [extract_image_features] Stroke 6 geometry: {'area': 0.20784609690826533, 'perimeter': 2.078460969082653, 'centroid': [0.49999999999999994, 0.5000000000000001], 'bounds': [0.2999999999999998, 0.1535898384862246, 0.9, 0.8464101615137756], 'width': 0.6000000000000002, 'height': 0.6928203230275509}
2025-08-12 06:09:03,523 - DEBUG - [extract_image_features] Stroke 7 geometry: {'area': 0.06117040535820814, 'perimeter': 1.127565075727339, 'centroid': [0.5, 0.5], 'bounds': [0.3914999999999999, 0.31207248737877685, 0.717, 0.6879275126212232], 'width': 0.32550000000000007, 'height': 0.37585502524244635}
2025-08-12 06:09:03,524 - INFO - [extract_image_features] stroke_type_distribution INPUT: [{'command': 'arc_zigzag_0.500_0.625-0.500', 'vertices': [(0.0, 0.5000000000000001), (7.436948540329169e-08, 0.49972729231789664), (2.9747791951972857e-07, 0.4994545847169178), (6.693252359579738e-07, 0.4991818772781879), (1.1899113240843029e-06, 0.49890917008283175), (1.8592360290781151e-06, 0.4986364632119732), (2.6772991517654e-06, 0.4983637567467367), (3.6441004488962925e-06, 0.49809105076824656), (4.759639632756496e-06, 0.4978183453576267), (6.02391637155586e-06, 0.4975456405960009), (7.436930289206334e-06, 0.4972729365644932), (8.998680965377481e-06, 0.49700023334422644), (1.0709167935385455e-05, 0.4967275310163241), (1.2568390690526066e-05, 0.4964548296619091), (1.457634867763069e-05, 0.4961821293621041), (1.6733041299454854e-05, 0.49590943019803135), (1.903846791434516e-05, 0.4956367322508131), (2.1492627836572353e-05, 0.4953640356015706), (2.4095520335998266e-05, 0.4950913403314252), (2.684714463835336e-05, 0.4948186465214978), (2.974749992512571e-05, 0.49454595425290876)], 'geometry': {'area': 2.6973744002661607e-08, 'perimeter': 0.010908280715892681, 'centroid': [1.1903978095375257e-05, 0.4972729609286995], 'bounds': [0.0, 0.49454595425290876, 2.974749992512571e-05, 0.5000000000000001], 'width': 2.974749992512571e-05, 'height': 0.005454045747091352}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 2.974749992512571e-05, 'height': 0.005454045747091352}, {'command': 'line_normal_0.217-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.46900000000000003), (0.5, 0.438), (0.5, 0.40700000000000003), (0.49999999999999994, 0.376), (0.49999999999999994, 0.34500000000000003), (0.49999999999999994, 0.31400000000000006), (0.49999999999999994, 0.28300000000000003)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.400-0.375', 'vertices': [(0.5, 0.5), (0.4595938982179116, 0.5404061017820885), (0.41918779643582316, 0.5808122035641768), (0.3787816946537347, 0.6212183053462653), (0.3383755928716463, 0.6616244071283538), (0.29796949108955784, 0.7020305089104422), (0.2575633893074694, 0.7424366106925306), (0.217157287525381, 0.7828427124746191)], 'geometry': {'area': 5.854691731421724e-18, 'perimeter': 0.30000000000000004, 'centroid': [0.27945002777276734, 0.7205499722272328], 'bounds': [0.217157287525381, 0.676776695296637, 0.32322330470336313, 0.7828427124746191], 'width': 0.10606601717798214, 'height': 0.10606601717798214}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.10606601717798214, 'height': 0.10606601717798214}, {'command': 'line_triangle_0.269-0.333', 'vertices': [(0.769, 0.5), (0.36550000000000005, 0.732960833618014), (0.3654999999999999, 0.267039166381986), (0.769, 0.5)], 'geometry': {'area': 0.09399969636486866, 'perimeter': 1.397765001708084, 'centroid': [0.5, 0.5], 'bounds': [0.3654999999999999, 0.267039166381986, 0.769, 0.732960833618014], 'width': 0.40350000000000014, 'height': 0.465921667236028}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.40350000000000014, 'height': 0.465921667236028}, {'command': 'arc_circle_0.500_0.667-0.750', 'vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'geometry': {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 1.0, 'height': 1.0}, {'command': 'line_zigzag_0.269-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4615714285714286), (0.5, 0.42314285714285715), (0.5, 0.3847142857142857), (0.49999999999999994, 0.3462857142857143), (0.49999999999999994, 0.30785714285714283), (0.49999999999999994, 0.2694285714285714), (0.49999999999999994, 0.23099999999999998)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_triangle_0.400-0.333', 'vertices': [(0.9, 0.5), (0.30000000000000004, 0.8464101615137756), (0.2999999999999998, 0.1535898384862246), (0.9, 0.5)], 'geometry': {'area': 0.20784609690826533, 'perimeter': 2.078460969082653, 'centroid': [0.49999999999999994, 0.5000000000000001], 'bounds': [0.2999999999999998, 0.1535898384862246, 0.9, 0.8464101615137756], 'width': 0.6000000000000002, 'height': 0.6928203230275509}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.6000000000000002, 'height': 0.6928203230275509}, {'command': 'line_triangle_0.217-0.375', 'vertices': [(0.717, 0.5), (0.39150000000000007, 0.6879275126212232), (0.3914999999999999, 0.31207248737877685), (0.717, 0.5)], 'geometry': {'area': 0.06117040535820814, 'perimeter': 1.127565075727339, 'centroid': [0.5, 0.5], 'bounds': [0.3914999999999999, 0.31207248737877685, 0.717, 0.6879275126212232], 'width': 0.32550000000000007, 'height': 0.37585502524244635}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.32550000000000007, 'height': 0.37585502524244635}]
2025-08-12 06:09:03,524 - INFO - [extract_image_features] stroke_type_distribution OUTPUT: {'arc': 2, 'line': 6}
2025-08-12 06:09:03,524 - INFO - [extract_image_features] modifier_distribution OUTPUT: {'zigzag': 2, 'normal': 2, 'triangle': 3, 'circle': 1}
2025-08-12 06:09:03,524 - INFO - [extract_image_features] relational INPUT: []
2025-08-12 06:09:03,524 - INFO - [extract_image_features] relational OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:03,525 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:03,525 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,525 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,525 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,526 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,526 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,526 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,526 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,526 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,527 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,527 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,527 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,528 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 7}
2025-08-12 06:09:03,528 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,528 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,528 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,529 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,529 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,529 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,529 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,529 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,529 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,530 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,530 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,530 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,530 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,530 - DEBUG - [_detect_alternation] OUTPUT: 0.125
2025-08-12 06:09:03,532 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:03,532 - INFO - [extract_image_features] PATCHED ngram: {'normal|normal': 7}
2025-08-12 06:09:03,532 - INFO - [extract_image_features] PATCHED alternation: 0.125
2025-08-12 06:09:03,533 - INFO - [extract_image_features] PATCHED regularity: 0.125
2025-08-12 06:09:03,533 - INFO - [extract_image_features] PATCHED dominant_shape_functions: line
2025-08-12 06:09:03,533 - INFO - [extract_image_features] PATCHED dominant_modifiers: triangle
2025-08-12 06:09:03,533 - INFO - [extract_image_features] PATCHED image_canonical_summary: {'area': 1135645.3647955838, 'perimeter': 5162.132466841845, 'compactness': 0.5355429504122412, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'triangle', 'regularity': 0.125}
2025-08-12 06:09:03,533 - INFO - [extract_image_features] OUTPUT: {'area': 1135645.3647955838, 'perimeter': 5162.132466841845, 'convexity_ratio': 0.2786433341557613, 'compactness': 0.5355429504122412, 'aspect_ratio': 0.9333520303564778, 'centroid_x': -100.35525958548324, 'centroid_y': 813.969937143296, 'width': 1466.2003406908364, 'height': 1570.897467411997, 'bounding_box': (-810.8608268725894, -14.316316222146838, 655.3395138182469, 1573.440085916611), 'num_vertices': 28, 'curvature': 0.742731035080789, 'angular_variance': 0.4530510525561109, 'complexity': 0.09346933097127061, 'num_strokes': 8, 'stroke_type_distribution': {'arc': 2, 'line': 6}, 'modifier_distribution': {'zigzag': 2, 'normal': 2, 'triangle': 3, 'circle': 1}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.09346933097127061, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.4530510525561109, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_5': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_6': {'size': 2, 'curvature': 0.0, 'complexity': 0}, 'group_7': {'size': 1, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.4480968718173113, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_5': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.16498873014990048, 'complexity': 5, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.05438063491238952, 'complexity': 5, 'groups': {'group_0': {'size': 15, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.015382298605587614, 'complexity': 2, 'groups': {'group_0': {'size': 15, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 13, 'curvature': 0.0, 'complexity': 2}}}}, 'moment_of_inertia': 467175.9621901139, 'center_of_mass_x': 0.48458166049314955, 'center_of_mass_y': 0.5217260051688171, 'symmetry_score': 707.1534562536634, 'ngram': {'normal|normal': 7}, 'alternation': 0.125, 'regularity': 0.125, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'triangle', 'image_canonical_summary': {'area': 1135645.3647955838, 'perimeter': 5162.132466841845, 'compactness': 0.5355429504122412, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'triangle', 'regularity': 0.125}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'vertical': 2, 'normal': 4}}
2025-08-12 06:09:03,533 - DEBUG - [extract_image_features] FINAL OUTPUT bounding_box: (-810.8608268725894, -14.316316222146838, 655.3395138182469, 1573.440085916611)
2025-08-12 06:09:03,533 - DEBUG - [extract_image_features] FINAL OUTPUT width: 1466.2003406908364, height: 1570.897467411997
2025-08-12 06:09:03,533 - DEBUG - [extract_image_features] FINAL OUTPUT curvature: 0.742731035080789
2025-08-12 06:09:03,535 - INFO - [DIAG] Shape 0 extracted attributes: {'area': 1135645.3647955838, 'perimeter': 5162.132466841845, 'convexity_ratio': 0.2786433341557613, 'compactness': 0.5355429504122412, 'aspect_ratio': 0.9333520303564778, 'centroid_x': -100.35525958548324, 'centroid_y': 813.969937143296, 'width': 1466.2003406908364, 'height': 1570.897467411997, 'bounding_box': (-810.8608268725894, -14.316316222146838, 655.3395138182469, 1573.440085916611), 'num_vertices': 28, 'curvature': 0.742731035080789, 'angular_variance': 0.4530510525561109, 'complexity': 0.09346933097127061, 'num_strokes': 8, 'stroke_type_distribution': {'arc': 2, 'line': 6}, 'modifier_distribution': {'zigzag': 2, 'normal': 2, 'triangle': 3, 'circle': 1}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.09346933097127061, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.4530510525561109, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_5': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_6': {'size': 2, 'curvature': 0.0, 'complexity': 0}, 'group_7': {'size': 1, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.4480968718173113, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_5': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.16498873014990048, 'complexity': 5, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.05438063491238952, 'complexity': 5, 'groups': {'group_0': {'size': 15, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.015382298605587614, 'complexity': 2, 'groups': {'group_0': {'size': 15, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 13, 'curvature': 0.0, 'complexity': 2}}}}, 'moment_of_inertia': 467175.9621901139, 'center_of_mass_x': 0.48458166049314955, 'center_of_mass_y': 0.5217260051688171, 'symmetry_score': 707.1534562536634, 'ngram': {'normal|normal': 7}, 'alternation': 0.125, 'regularity': 0.125, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'triangle', 'image_canonical_summary': {'area': 1135645.3647955838, 'perimeter': 5162.132466841845, 'compactness': 0.5355429504122412, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'triangle', 'regularity': 0.125}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'vertical': 2, 'normal': 4}}
2025-08-12 06:09:03,535 - INFO - [VALIDATION] expected_strokes=8, actual_shapes=1
2025-08-12 06:09:03,535 - INFO - [VALIDATION] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: Number of action commands matches number of parsed shapes (8)
2025-08-12 06:09:03,536 - INFO - [standardize_coordinates] INPUT vertices: [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)]
2025-08-12 06:09:03,536 - INFO - [standardize_coordinates] OUTPUT normalized vertices: [[0.5530354920600635, 0.00901669563596929], [0.63744045954503, 0.02276016002465851], [0.7179787421293208, 0.04982950059111517], [0.7922032248509496, 0.08940222911997475], [0.8578586343618201, 0.14027594827965467], [0.9129500642671846, 0.2009048858568321], [0.9558035893469777, 0.2694468622629473], [0.9851171269265797, 0.3438192642288139], [1.0, 0.42176232395495056], [1.0, 0.5009077810126698], [0.7868776924081415, 0.5009077810126698], [0.5090892520020065, 0.7574291878322639], [0.5780017758040724, 0.9929503490851701], [0.4924632987667956, 1.0], [0.4069012606337149, 0.9931985372083599], [0.3239258035296866, 0.972753445068155], [0.24606816374409854, 0.9392884183557854], [0.17570345423335534, 0.8938243359310502], [0.11497820979728975, 0.837748117966657], [0.06574490522499282, 0.7727704167788099], [0.029505443989242586, 0.7008734319357676], [0.007365341414561925, 0.6242504415884913], [0.0, 0.5452388946711312], [0.00763410569635414, 0.4662491050501979], [0.030034773671770917, 0.3896907228675273], [0.2850819328084692, 0.45332741533518234], [0.5628703732146042, 0.19680600851558816], [0.5628703732146042, 0.0]]
2025-08-12 06:09:03,537 - DEBUG - [process_single_image] Passing shape_list to extract_relational_features: [{'vertices': [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)]}]
2025-08-12 06:09:03,537 - INFO - [extract_relational_features] INPUT: [{'vertices': [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)]}]
2025-08-12 06:09:03,538 - DEBUG - [extract_relational_features] Shape 0 vertices: [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)]
2025-08-12 06:09:03,538 - INFO - [calculate_relationships] INPUT: strokes=[{'vertices': [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)]}], buffer_amt=0.001
2025-08-12 06:09:03,538 - DEBUG - [calculate_relationships] Stroke 0: {'vertices': [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)]}
2025-08-12 06:09:03,538 - DEBUG - [calculate_relationships] Vertices for stroke 0: [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)]
2025-08-12 06:09:03,539 - DEBUG - [calculate_relationships] Created LineString for stroke 0: LINESTRING (0 0, 123.75459208245697 21.82127357070734, 241.83984944619894 64.8007923567733, 350.667811300252 127.63264542856916, 446.9317950932866 208.40771872496015, 527.7068683896777 304.67170251799473, 590.5387214614735 413.4996643720478, 633.5182402475396 531.5849217357897, 655.3395138182469 655.3395138182467, 655.3395138182469 781.0032199618385, 342.8595138182469 781.0032199618385, -64.43399214520446 1188.2967259252898, 36.60557373124996 1562.2469575437467, -88.81097044298049 1573.440085916611, -214.26205990390582 1562.6410198252759, -335.92070337881006 1530.179193887349, -450.07560135782364 1477.0448834770395, -553.244362415087 1404.858995539802, -642.2797364957808 1315.8236214591084, -714.4656244330182 1212.6548604018449, -767.5999348433276 1098.4999624228312, -800.0617607812544 976.841318947927, -810.8608268725894 851.3902294870016, -799.6676984997251 725.9736853127712, -766.8238314824667 604.4176238648502, -392.87359986400975 705.4571897413047, 14.419906099441505 298.1636837778532, 14.419906099441448 -14.316316222146838)
2025-08-12 06:09:03,539 - DEBUG - [calculate_relationships] Buffered geometries: ['POLYGON ((14.418906099441452 2.5414267510214947, 0.0001736481776669 -0.0009848077530122, 7.628397450395206e-5 -0.0009970861323045, -2.1814885034561257e-5 -0.0009997620270799, -0.000119703655305 -0.0009928096670091, -0.0002164396139381 -0.0009762960071199, -0.0003110911407711 -0.0009503800829846, -0.0004027466898587 -0.0009153114791194, -0.0004905235681593 -0.0008714279253503, -0.000573576436351 -0.000819152044289, -0.0006511054499119 -0.0007589872812472, -0.0007223639620598 -0.0006915130557823, -0.0007866657143686 -0.0006173791815707, -0.0008433914458129 -0.0005372996083468, -0.0008919948565893 -0.0004520455461767, -0.0009320078692828 -0.0003624380382837, -0.0009630451367078 -0.0002693400539532, -0.0009848077530122 -0.0001736481776669, -0.0009970861323045 -7.628397450395212e-5, -0.0009997620270799 2.181488503456142e-5, -0.0009928096670091 0.000119703655305, -0.0009762960071199 0.0002164396139381, -0.0009503800829846 0.0003110911407711, -0.0009153114791194 0.0004027466898587, -0.0008714279253503 0.0004905235681593, -0.000819152044289 0.000573576436351, -0.0007589872812472 0.0006511054499119, -0.0006915130557823 0.0007223639620598, -0.0006173791815707 0.0007866657143686, -0.0005372996083468 0.0008433914458129, -0.0004520455461767 0.0008919948565893, -0.0003624380382837 0.0009320078692828, -0.0002693400539532 0.0009630451367078, -0.0001736481776669 0.0009848077530122, 14.418906099441452 2.5434576042452663, 14.418906099441505 298.16326956429083, -392.8738977345955 705.456073398328, -766.8235706409605 604.4166584832113, -766.8236665209312 604.4166375648492, -766.8237639895717 604.4166261450954, -766.8238621082056 604.4166243339281, -766.823959931897 604.4166321487901, -766.8240565185502 604.4166495144198, -766.8241509379827 604.4166762635767, -766.824242280884 604.4167121386521, -766.8243296675721 604.416756794149, -766.8244122564653 604.4168098000108, -766.8244892521873 604.4168706457621, -766.8245599132274 604.4169387454248, -766.824623559081 604.4170134431622, -766.8246795768039 604.4170940195942, -766.8247274269146 604.4171796987255, -766.8247666485906 604.4172696554194, -766.8247968641056 604.4173630233439, -799.668663881364 725.9734244712649, -799.6686829722829 725.9735097742196, -799.6686945407905 725.9735964184744, -810.8618229136548 851.3901405927048, -810.8618268713557 851.390227916206, -810.8618231880088 851.3903152517097, -800.0627570966737 976.841404712635, -800.0627458004236 976.8414913928058, -800.0627269775857 976.8415767553153, -767.6009010396589 1098.5002202302194, -767.6008748340594 1098.500303622808, -767.6008414459369 1098.5003844082678, -714.4665310356276 1212.6552823872814, -714.4664907201027 1212.6553599483263, -714.4664437852285 1212.6554336923082, -642.2805558479911 1315.8241947495717, -642.2805026523998 1315.8242641130082, -642.280443602562 1315.8243285658896, -553.2450695218682 1404.8597026465832, -553.245005068987 1404.859761696421, -553.2449357055505 1404.8598148920123, -450.07617464828706 1477.0457028292499, -450.0761009043053 1477.045749764124, -450.07602334326026 1477.045790079649, -335.9211253642467 1530.1801004899582, -335.92104457878673 1530.1801338780808, -335.92096118619827 1530.1801600836802, -214.26231771129403 1562.6419860216072, -214.26223234878455 1562.6420048444452, -214.26214566861387 1562.6420161406952, -88.81105620768854 1573.4410822320303, -88.81096887218482 1573.4410859153772, -88.81088154868362 1573.4410819576765, 36.60566262554683 1562.2479535848122, 36.60575865465307 1562.2479402966835, 36.60585294581893 1562.2479177724822, 36.60594461288059 1562.247886223894, 36.606032794336 1562.247845947418, 36.606116661441426 1562.2477973215787, 36.606195426000085 1562.24774080337, 36.60626834776977 1562.2476769239595, 36.60633474141975 1562.2476062836956, 36.60639398297165 1562.2475295464678, 36.60644551566367 1562.247447433465, 36.606488855183144 1562.2473607163981, 36.606523594218174 1562.2472702102489, 36.606549406285616 1562.2471767656089, 36.60656604879945 1562.2470812606857, 36.606573365350606 1562.2469845930505, 36.60657128717693 1562.2468876712014, 36.60655983380945 1562.2467914060262, 36.6065391128888 1562.2466967022403, -64.43287580222781 1188.2970237958755, 342.8599280318093 781.0042199618384, 655.3395138182469 781.0042199618384, 655.3396118353872 781.0042151465651, 655.3397089085689 781.0042007471188, 655.3398041029242 781.0041769021742, 655.3398965016793 781.0041438413709, 655.3399852149837 781.0041018831027, 655.34006938848 781.0040514314508, 655.3401482115311 781.0039929722918, 655.3402209250281 781.0039270686196, 655.3402868287003 781.0038543551226, 655.3403452878592 781.0037755320715, 655.3403957395112 781.0036913585752, 655.3404376977794 781.0036026452708, 655.3404707585827 781.0035102465157, 655.3404946035273 781.0034150521604, 655.3405090029736 781.0033179789788, 655.3405138182469 781.0032199618385, 655.3405138182469 655.3395138182467, 655.3405100129451 655.3394266625039, 655.3404986259999 655.339340170069, 633.5192250552925 531.5847480876121, 633.5192061733659 531.5846629167446, 633.5191799401604 531.5845797156464, 590.5396611540943 413.4993223519045, 590.5396277692606 413.49924175378607, 590.5395874868773 413.4991643720478, 527.7077344150814 304.67120251799474, 527.707687541722 304.6711289415584, 527.7076344341208 304.671059730385, 446.93256113772975 208.40707593735047, 446.9325022000678 208.40701161817898, 446.9324378808963 208.40695268051704, 350.66845408786173 127.63187938412604, 350.6683848766884 127.63182627652488, 350.668311300252 127.63177940316538, 241.84034944619893 64.79992633136952, 241.8402720644607 64.79988604898627, 241.84019146634228 64.79985266415251, 123.75493410260029 21.820333878086554, 123.75485090150207 21.82030764488105, 123.75476573063463 21.820288762954327, 14.420906099441451 2.5417794049829117, 14.420906099441448 -14.316316222146838, 14.42090128416812 -14.316414239287168, 14.42088688472185 -14.316511312468855, 14.42086303977718 -14.316606506824092, 14.42082997897396 -14.316698905579203, 14.420788020705796 -14.316787618883664, 14.42073756905375 -14.316871792379859, 14.420679109894811 -14.316950615431002, 14.420613206222635 -14.317023328928025, 14.420540492725612 -14.317089232600201, 14.420461669674468 -14.317147691759141, 14.420377496178274 -14.317198143411186, 14.420288782873813 -14.31724010167935, 14.420196384118702 -14.31727316248257, 14.420101189763464 -14.317297007427241, 14.420004116581778 -14.317311406873511, 14.419906099441448 -14.317316222146838, 14.419808082301119 -14.317311406873511, 14.419711009119432 -14.317297007427241, 14.419615814764194 -14.31727316248257, 14.419523416009083 -14.31724010167935, 14.419434702704622 -14.317198143411186, 14.419350529208428 -14.317147691759141, 14.419271706157284 -14.317089232600201, 14.419198992660261 -14.317023328928025, 14.419133088988085 -14.316950615431002, 14.419074629829145 -14.316871792379859, 14.4190241781771 -14.316787618883664, 14.418982219908937 -14.316698905579203, 14.418949159105717 -14.316606506824092, 14.418925314161045 -14.316511312468855, 14.418910914714775 -14.316414239287168, 14.418906099441449 -14.316316222146838, 14.418906099441452 2.5414267510214947), (14.420906099441451 2.543810258206683, 123.75433227476518 21.822243186213367, 241.8394252136042 64.80170212650889, 350.66723553284675 127.6334677096411, 446.93108528547236 208.40842853277437, 527.7060461086058 304.6722782854002, 590.5378116917378 413.5000886046423, 633.5172706320336 531.585181543482, 655.338513818247 655.33960130691, 655.338513818247 781.0022199618385, 342.8595138182469 781.0022199618385, 342.8594158011066 781.0022247771118, 342.8593187279249 781.0022391765581, 342.85922353356966 781.0022630215027, 342.85913113481456 781.002296082306, 342.8590424215101 781.0023380405742, 342.8589582480139 781.0023884922261, 342.85887942496277 781.0024469513851, 342.8588067114657 781.0025128550573, -64.43469925198565 1188.2960188185086, -64.43476338613576 1188.2960893819481, -64.43482050786392 1188.2961657330868, -64.43487009779722 1188.2962471777103, -64.43491170504473 1188.296332975293, -64.43494495129718 1188.296422345729, -64.43496953426678 1188.2965144764287, -64.43498523043559 1188.2966085297035, -64.43499189708797 1188.2967036503844, -64.43498947360811 1188.2967989735973, -64.43497798203126 1188.296893632627, -64.43495752684329 1188.2969867667962, 36.60429738060181 1562.2460674803372, -88.81097201980101 1573.4390820826684, -214.26188679766946 1562.6400310283798, -335.9203608702699 1530.1782502915823, -450.0750998954907 1477.0440138675874, -553.2437172964931 1404.8582264448335, -642.2789674008126 1315.822976340514, -714.464754823566 1212.6543589395121, -767.598991247561 1098.499619914291, -800.0607719843583 976.8411458416906, -810.8598230386468 851.3902310638215, -799.666710251537 725.973861524545, -766.8231269423342 604.4188500879952, -392.87386070551605 705.4581551229435, -392.8737675713468 705.4581755781314, -392.8736729123173 705.4581870697083, -392.8735775891043 705.4581894931882, -392.87348246842333 705.4581828265358, -392.8733884151486 705.458167130367, -392.87329628444905 705.4581425473974, -392.8732069140127 705.4581093011449, -392.87312111643024 705.4580676938974, -392.8730396718066 705.4580181039642, -392.872963320668 705.4579609822359, -392.87289275722856 705.4578968480859, 14.420613206222692 298.1643908846344, 14.420679109894866 298.1643181711373, 14.420737569053806 298.1642393480862, 14.420788020705853 298.16415517459, 14.420829978974016 298.16406646128553, 14.420863039777236 298.16397406253043, 14.420886884721908 298.1638788681752, 14.420901284168178 298.1637817949935, 14.420906099441504 298.1636837778532, 14.420906099441451 2.543810258206683))']
2025-08-12 06:09:03,539 - INFO - [calculate_relationships] Intermediate results: adjacency=0, intersections=0, containment=0, overlap=0.0
2025-08-12 06:09:03,541 - INFO - [calculate_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:03,541 - WARNING - [calculate_relationships] All relational features are zero/default. Strokes: [{'vertices': [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)]}]
2025-08-12 06:09:03,542 - INFO - [extract_relational_features] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:03,542 - DEBUG - [extract_relational_features] Output is JSON serializable.
2025-08-12 06:09:03,543 - INFO - [robust_curvature] INPUT: [[0.55303549 0.0090167 ]
 [0.63744046 0.02276016]
 [0.71797874 0.0498295 ]
 [0.79220322 0.08940223]
 [0.85785863 0.14027595]
 [0.91295006 0.20090489]
 [0.95580359 0.26944686]
 [0.98511713 0.34381926]
 [1.         0.42176232]
 [1.         0.50090778]
 [0.78687769 0.50090778]
 [0.50908925 0.75742919]
 [0.57800178 0.99295035]
 [0.4924633  1.        ]
 [0.40690126 0.99319854]
 [0.3239258  0.97275345]
 [0.24606816 0.93928842]
 [0.17570345 0.89382434]
 [0.11497821 0.83774812]
 [0.06574491 0.77277042]
 [0.02950544 0.70087343]
 [0.00736534 0.62425044]
 [0.         0.54523889]
 [0.00763411 0.46624911]
 [0.03003477 0.38969072]
 [0.28508193 0.45332742]
 [0.56287037 0.19680601]
 [0.56287037 0.        ]]
2025-08-12 06:09:03,543 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,543 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,544 - INFO - Computed angular variance: 0.453460 for 28 vertices.
2025-08-12 06:09:03,545 - INFO - [robust_curvature] INPUT: [[0.95580359 0.26944686]
 [0.98511713 0.34381926]
 [1.         0.42176232]
 [1.         0.50090778]
 [0.78687769 0.50090778]]
2025-08-12 06:09:03,545 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,545 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,546 - INFO - [robust_curvature] INPUT: [[0.50908925 0.75742919]
 [0.57800178 0.99295035]
 [0.4924633  1.        ]]
2025-08-12 06:09:03,546 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,547 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,547 - INFO - [robust_curvature] INPUT: [[0.71797874 0.0498295 ]
 [0.79220322 0.08940223]
 [0.85785863 0.14027595]
 [0.91295006 0.20090489]]
2025-08-12 06:09:03,548 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,548 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,548 - INFO - [robust_curvature] INPUT: [[0.00736534 0.62425044]
 [0.         0.54523889]
 [0.00763411 0.46624911]
 [0.03003477 0.38969072]]
2025-08-12 06:09:03,548 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,548 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,550 - INFO - [robust_curvature] INPUT: [[0.17570345 0.89382434]
 [0.11497821 0.83774812]
 [0.06574491 0.77277042]
 [0.02950544 0.70087343]]
2025-08-12 06:09:03,550 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,550 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,551 - INFO - [robust_curvature] INPUT: [[0.55303549 0.0090167 ]
 [0.63744046 0.02276016]
 [0.56287037 0.19680601]
 [0.56287037 0.        ]]
2025-08-12 06:09:03,551 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,551 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,552 - INFO - [robust_curvature] INPUT: [[0.40690126 0.99319854]
 [0.3239258  0.97275345]
 [0.24606816 0.93928842]]
2025-08-12 06:09:03,552 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,552 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,553 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_5': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_6': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_7': {'size': 1, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,553 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.4534596802988458, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_5': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_6': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_7': {'size': 1, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,553 - INFO - [robust_curvature] INPUT: [[5.53397021e-01 9.03482874e-03]
 [6.37425626e-01 2.28112815e-02]
 [7.17954521e-01 4.98774668e-02]
 [7.92170352e-01 8.94455826e-02]
 [8.57818108e-01 1.40313372e-01]
 [9.12903116e-01 2.00935242e-01]
 [9.55751646e-01 2.69469229e-01]
 [9.85061767e-01 3.43832962e-01]
 [9.99942905e-01 4.21766937e-01]
 [9.99182408e-01 5.00604159e-01]
 [7.86629616e-01 5.01891864e-01]
 [5.10419287e-01 7.57348625e-01]
 [5.77409262e-01 9.92073873e-01]
 [4.92463208e-01 9.99946864e-01]
 [4.06911183e-01 9.93146197e-01]
 [3.23945437e-01 9.72703497e-01]
 [2.46096909e-01 9.39242387e-01]
 [1.75740434e-01 8.93783625e-01]
 [1.15022296e-01 8.37713970e-01]
 [6.57947530e-02 7.72743873e-01]
 [2.95595328e-02 7.00855302e-01]
 [7.42202122e-03 6.24241278e-01]
 [5.75417610e-05 5.45238978e-01]
 [7.69075405e-03 4.66258433e-01]
 [3.09272658e-02 3.90228547e-01]
 [2.85169174e-01 4.52099206e-01]
 [5.61804705e-01 1.97035092e-01]
 [5.62832644e-01 7.89589160e-04]]
2025-08-12 06:09:03,554 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,554 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,554 - INFO - Computed angular variance: 0.448706 for 28 vertices.
2025-08-12 06:09:03,555 - INFO - [robust_curvature] INPUT: [[0.51041929 0.75734863]
 [0.57740926 0.99207387]
 [0.49246321 0.99994686]
 [0.40691118 0.9931462 ]
 [0.32394544 0.9727035 ]
 [0.24609691 0.93924239]]
2025-08-12 06:09:03,555 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,556 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,556 - INFO - [robust_curvature] INPUT: [[7.42202122e-03 6.24241278e-01]
 [5.75417610e-05 5.45238978e-01]
 [7.69075405e-03 4.66258433e-01]
 [3.09272658e-02 3.90228547e-01]
 [2.85169174e-01 4.52099206e-01]]
2025-08-12 06:09:03,556 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,557 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,557 - INFO - [robust_curvature] INPUT: [[0.71795452 0.04987747]
 [0.79217035 0.08944558]
 [0.85781811 0.14031337]
 [0.91290312 0.20093524]]
2025-08-12 06:09:03,557 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,557 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,558 - INFO - [robust_curvature] INPUT: [[0.95575165 0.26946923]
 [0.98506177 0.34383296]
 [0.99994291 0.42176694]
 [0.99918241 0.50060416]
 [0.78662962 0.50189186]]
2025-08-12 06:09:03,558 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,558 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,558 - INFO - [robust_curvature] INPUT: [[0.17574043 0.89378363]
 [0.1150223  0.83771397]
 [0.06579475 0.77274387]
 [0.02955953 0.7008553 ]]
2025-08-12 06:09:03,558 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,560 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,560 - INFO - [robust_curvature] INPUT: [[0.55339702 0.00903483]
 [0.63742563 0.02281128]
 [0.5618047  0.19703509]
 [0.56283264 0.00078959]]
2025-08-12 06:09:03,560 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,561 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,561 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_5': {'size': 4, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 06:09:03,561 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.4487061215984416, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_5': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}
2025-08-12 06:09:03,562 - INFO - [robust_curvature] INPUT: [[0.56311351 0.00958018]
 [0.63705001 0.02419029]
 [0.71730002 0.05117359]
 [0.79128206 0.09061707]
 [0.85672303 0.14132462]
 [0.91163451 0.20175552]
 [0.95434806 0.27007362]
 [0.98356586 0.3442031 ]
 [0.99834781 0.42187101]
 [0.9771795  0.49250892]
 [0.77999505 0.52832363]
 [0.54612098 0.75519001]
 [0.56157032 0.96849961]
 [0.49242071 0.99845434]
 [0.40717931 0.99173187]
 [0.32447596 0.97135383]
 [0.24687364 0.93799854]
 [0.17673968 0.89268355]
 [0.11621357 0.83679122]
 [0.06714172 0.77202661]
 [0.0310211  0.70036539]
 [0.0089536  0.62399368]
 [0.00161241 0.54524123]
 [0.00927916 0.46654621]
 [0.05493284 0.40460474]
 [0.28750285 0.41913013]
 [0.53315639 0.2031641 ]
 [0.56176982 0.02203561]]
2025-08-12 06:09:03,562 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,562 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,563 - INFO - Computed angular variance: 0.162846 for 28 vertices.
2025-08-12 06:09:03,563 - INFO - [robust_curvature] INPUT: [[0.56311351 0.00958018]
 [0.63705001 0.02419029]
 [0.71730002 0.05117359]
 [0.79128206 0.09061707]
 [0.85672303 0.14132462]
 [0.91163451 0.20175552]
 [0.53315639 0.2031641 ]
 [0.56176982 0.02203561]]
2025-08-12 06:09:03,564 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,564 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,564 - INFO - [robust_curvature] INPUT: [[0.0089536  0.62399368]
 [0.00161241 0.54524123]
 [0.00927916 0.46654621]
 [0.05493284 0.40460474]
 [0.28750285 0.41913013]]
2025-08-12 06:09:03,565 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,565 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,565 - INFO - [robust_curvature] INPUT: [[0.54612098 0.75519001]
 [0.56157032 0.96849961]
 [0.49242071 0.99845434]
 [0.40717931 0.99173187]
 [0.32447596 0.97135383]
 [0.24687364 0.93799854]]
2025-08-12 06:09:03,565 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,567 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,567 - INFO - [robust_curvature] INPUT: [[0.95434806 0.27007362]
 [0.98356586 0.3442031 ]
 [0.99834781 0.42187101]
 [0.9771795  0.49250892]
 [0.77999505 0.52832363]]
2025-08-12 06:09:03,567 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,568 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,568 - INFO - [robust_curvature] INPUT: [[0.17673968 0.89268355]
 [0.11621357 0.83679122]
 [0.06714172 0.77202661]
 [0.0310211  0.70036539]]
2025-08-12 06:09:03,568 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,568 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,569 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 8, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,569 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.16284625962173457, 'complexity': 5, 'groups': {'group_0': {'size': 8, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,570 - INFO - [robust_curvature] INPUT: [[0.58511854 0.02489682]
 [0.64147062 0.0297275 ]
 [0.71528552 0.05603251]
 [0.78795342 0.09502258]
 [0.8526037  0.14512858]
 [0.90686245 0.20484114]
 [0.94904174 0.27233671]
 [0.97700039 0.34526396]
 [0.9798689  0.41865033]
 [0.91897644 0.48830684]
 [0.77100512 0.58682204]
 [0.62034985 0.75112525]
 [0.54342484 0.90876044]
 [0.48449407 0.97951871]
 [0.40752152 0.9854011 ]
 [0.32645124 0.9662482 ]
 [0.24979537 0.93331974]
 [0.18049841 0.88854555]
 [0.12069464 0.83332026]
 [0.07220842 0.76932856]
 [0.03651888 0.69852258]
 [0.01474399 0.62308043]
 [0.00848961 0.54584239]
 [0.02881215 0.47449476]
 [0.11580627 0.42090127]
 [0.29053714 0.35048376]
 [0.46416929 0.21198028]
 [0.54780097 0.07752998]]
2025-08-12 06:09:03,570 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,570 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,570 - INFO - Computed angular variance: 0.052660 for 28 vertices.
2025-08-12 06:09:03,572 - INFO - [robust_curvature] INPUT: [[0.58511854 0.02489682]
 [0.64147062 0.0297275 ]
 [0.71528552 0.05603251]
 [0.78795342 0.09502258]
 [0.8526037  0.14512858]
 [0.90686245 0.20484114]
 [0.94904174 0.27233671]
 [0.97700039 0.34526396]
 [0.9798689  0.41865033]
 [0.91897644 0.48830684]
 [0.29053714 0.35048376]
 [0.46416929 0.21198028]
 [0.54780097 0.07752998]]
2025-08-12 06:09:03,572 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,572 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,573 - INFO - [robust_curvature] INPUT: [[0.77100512 0.58682204]
 [0.62034985 0.75112525]
 [0.54342484 0.90876044]
 [0.48449407 0.97951871]
 [0.40752152 0.9854011 ]
 [0.32645124 0.9662482 ]
 [0.24979537 0.93331974]
 [0.18049841 0.88854555]]
2025-08-12 06:09:03,573 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,573 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,574 - INFO - [robust_curvature] INPUT: [[0.12069464 0.83332026]
 [0.07220842 0.76932856]
 [0.03651888 0.69852258]
 [0.01474399 0.62308043]
 [0.00848961 0.54584239]
 [0.02881215 0.47449476]
 [0.11580627 0.42090127]]
2025-08-12 06:09:03,574 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,574 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,575 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 13, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 8, 'curvature': 0.0, 'complexity': 3}, 'group_2': {'size': 7, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,575 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.052659796020560555, 'complexity': 5, 'groups': {'group_0': {'size': 13, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 8, 'curvature': 0.0, 'complexity': 3}, 'group_2': {'size': 7, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,575 - INFO - [robust_curvature] INPUT: [[0.58100362 0.0932491 ]
 [0.65053631 0.0732759 ]
 [0.71606687 0.08262099]
 [0.77944398 0.11368089]
 [0.83787382 0.15964038]
 [0.88654247 0.21605682]
 [0.9193322  0.28030858]
 [0.92822335 0.3514634 ]
 [0.90484735 0.43104753]
 [0.84611203 0.52253171]
 [0.75977453 0.62687221]
 [0.66226498 0.73633041]
 [0.56844727 0.83416579]
 [0.48362145 0.90334914]
 [0.4053948  0.93637072]
 [0.33068641 0.93672287]
 [0.25950629 0.9129052 ]
 [0.19415904 0.87250526]
 [0.13738607 0.82037185]
 [0.0917059  0.75956414]
 [0.06001581 0.69265058]
 [0.0469209  0.62226326]
 [0.05960139 0.55044301]
 [0.10567668 0.4769098 ]
 [0.18677957 0.39842089]
 [0.29243443 0.31243221]
 [0.40272275 0.22364848]
 [0.50042323 0.14563113]]
2025-08-12 06:09:03,576 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,576 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,577 - INFO - Computed angular variance: 0.015090 for 28 vertices.
2025-08-12 06:09:03,578 - INFO - [robust_curvature] INPUT: [[0.75977453 0.62687221]
 [0.66226498 0.73633041]
 [0.56844727 0.83416579]
 [0.48362145 0.90334914]
 [0.4053948  0.93637072]
 [0.33068641 0.93672287]
 [0.25950629 0.9129052 ]
 [0.19415904 0.87250526]
 [0.13738607 0.82037185]
 [0.0917059  0.75956414]
 [0.06001581 0.69265058]
 [0.0469209  0.62226326]
 [0.05960139 0.55044301]
 [0.10567668 0.4769098 ]
 [0.18677957 0.39842089]
 [0.29243443 0.31243221]]
2025-08-12 06:09:03,578 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,578 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,579 - INFO - [robust_curvature] INPUT: [[0.58100362 0.0932491 ]
 [0.65053631 0.0732759 ]
 [0.71606687 0.08262099]
 [0.77944398 0.11368089]
 [0.83787382 0.15964038]
 [0.88654247 0.21605682]
 [0.9193322  0.28030858]
 [0.92822335 0.3514634 ]
 [0.90484735 0.43104753]
 [0.84611203 0.52253171]
 [0.40272275 0.22364848]
 [0.50042323 0.14563113]]
2025-08-12 06:09:03,579 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,579 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,580 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 16, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 12, 'curvature': 0.0, 'complexity': 2}}
2025-08-12 06:09:03,580 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.015089959471391533, 'complexity': 2, 'groups': {'group_0': {'size': 16, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 12, 'curvature': 0.0, 'complexity': 2}}}
2025-08-12 06:09:03,581 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.4534596802988458, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_5': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_6': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_7': {'size': 1, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.4487061215984416, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_5': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.16284625962173457, 'complexity': 5, 'groups': {'group_0': {'size': 8, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.052659796020560555, 'complexity': 5, 'groups': {'group_0': {'size': 13, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 8, 'curvature': 0.0, 'complexity': 3}, 'group_2': {'size': 7, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.015089959471391533, 'complexity': 2, 'groups': {'group_0': {'size': 16, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 12, 'curvature': 0.0, 'complexity': 2}}}}
2025-08-12 06:09:03,581 - INFO - [_calculate_image_features] INPUTS: vertices=[(0.5530354920600635, 0.00901669563596929), (0.63744045954503, 0.02276016002465851), (0.7179787421293208, 0.04982950059111517), (0.7922032248509496, 0.08940222911997475), (0.8578586343618201, 0.14027594827965467), (0.9129500642671846, 0.2009048858568321), (0.9558035893469777, 0.2694468622629473), (0.9851171269265797, 0.3438192642288139), (1.0, 0.42176232395495056), (1.0, 0.5009077810126698), (0.7868776924081415, 0.5009077810126698), (0.5090892520020065, 0.7574291878322639), (0.5780017758040724, 0.9929503490851701), (0.4924632987667956, 1.0), (0.4069012606337149, 0.9931985372083599), (0.3239258035296866, 0.972753445068155), (0.24606816374409854, 0.9392884183557854), (0.17570345423335534, 0.8938243359310502), (0.11497820979728975, 0.837748117966657), (0.06574490522499282, 0.7727704167788099), (0.029505443989242586, 0.7008734319357676), (0.007365341414561925, 0.6242504415884913), (0.0, 0.5452388946711312), (0.00763410569635414, 0.4662491050501979), (0.030034773671770917, 0.3896907228675273), (0.2850819328084692, 0.45332741533518234), (0.5628703732146042, 0.19680600851558816), (0.5628703732146042, 0.0)], strokes=[{'command': 'arc_zigzag_0.500_0.625-0.500', 'vertices': [(0.0, 0.5000000000000001), (7.436948540329169e-08, 0.49972729231789664), (2.9747791951972857e-07, 0.4994545847169178), (6.693252359579738e-07, 0.4991818772781879), (1.1899113240843029e-06, 0.49890917008283175), (1.8592360290781151e-06, 0.4986364632119732), (2.6772991517654e-06, 0.4983637567467367), (3.6441004488962925e-06, 0.49809105076824656), (4.759639632756496e-06, 0.4978183453576267), (6.02391637155586e-06, 0.4975456405960009), (7.436930289206334e-06, 0.4972729365644932), (8.998680965377481e-06, 0.49700023334422644), (1.0709167935385455e-05, 0.4967275310163241), (1.2568390690526066e-05, 0.4964548296619091), (1.457634867763069e-05, 0.4961821293621041), (1.6733041299454854e-05, 0.49590943019803135), (1.903846791434516e-05, 0.4956367322508131), (2.1492627836572353e-05, 0.4953640356015706), (2.4095520335998266e-05, 0.4950913403314252), (2.684714463835336e-05, 0.4948186465214978), (2.974749992512571e-05, 0.49454595425290876)], 'geometry': {'area': 2.6973744002661607e-08, 'perimeter': 0.010908280715892681, 'centroid': [1.1903978095375257e-05, 0.4972729609286995], 'bounds': [0.0, 0.49454595425290876, 2.974749992512571e-05, 0.5000000000000001], 'width': 2.974749992512571e-05, 'height': 0.005454045747091352}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 2.974749992512571e-05, 'height': 0.005454045747091352}, {'command': 'line_normal_0.217-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.46900000000000003), (0.5, 0.438), (0.5, 0.40700000000000003), (0.49999999999999994, 0.376), (0.49999999999999994, 0.34500000000000003), (0.49999999999999994, 0.31400000000000006), (0.49999999999999994, 0.28300000000000003)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.400-0.375', 'vertices': [(0.5, 0.5), (0.4595938982179116, 0.5404061017820885), (0.41918779643582316, 0.5808122035641768), (0.3787816946537347, 0.6212183053462653), (0.3383755928716463, 0.6616244071283538), (0.29796949108955784, 0.7020305089104422), (0.2575633893074694, 0.7424366106925306), (0.217157287525381, 0.7828427124746191)], 'geometry': {'area': 5.854691731421724e-18, 'perimeter': 0.30000000000000004, 'centroid': [0.27945002777276734, 0.7205499722272328], 'bounds': [0.217157287525381, 0.676776695296637, 0.32322330470336313, 0.7828427124746191], 'width': 0.10606601717798214, 'height': 0.10606601717798214}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.10606601717798214, 'height': 0.10606601717798214}, {'command': 'line_triangle_0.269-0.333', 'vertices': [(0.769, 0.5), (0.36550000000000005, 0.732960833618014), (0.3654999999999999, 0.267039166381986), (0.769, 0.5)], 'geometry': {'area': 0.09399969636486866, 'perimeter': 1.397765001708084, 'centroid': [0.5, 0.5], 'bounds': [0.3654999999999999, 0.267039166381986, 0.769, 0.732960833618014], 'width': 0.40350000000000014, 'height': 0.465921667236028}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.40350000000000014, 'height': 0.465921667236028}, {'command': 'arc_circle_0.500_0.667-0.750', 'vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'geometry': {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 1.0, 'height': 1.0}, {'command': 'line_zigzag_0.269-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4615714285714286), (0.5, 0.42314285714285715), (0.5, 0.3847142857142857), (0.49999999999999994, 0.3462857142857143), (0.49999999999999994, 0.30785714285714283), (0.49999999999999994, 0.2694285714285714), (0.49999999999999994, 0.23099999999999998)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_triangle_0.400-0.333', 'vertices': [(0.9, 0.5), (0.30000000000000004, 0.8464101615137756), (0.2999999999999998, 0.1535898384862246), (0.9, 0.5)], 'geometry': {'area': 0.20784609690826533, 'perimeter': 2.078460969082653, 'centroid': [0.49999999999999994, 0.5000000000000001], 'bounds': [0.2999999999999998, 0.1535898384862246, 0.9, 0.8464101615137756], 'width': 0.6000000000000002, 'height': 0.6928203230275509}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.6000000000000002, 'height': 0.6928203230275509}, {'command': 'line_triangle_0.217-0.375', 'vertices': [(0.717, 0.5), (0.39150000000000007, 0.6879275126212232), (0.3914999999999999, 0.31207248737877685), (0.717, 0.5)], 'geometry': {'area': 0.06117040535820814, 'perimeter': 1.127565075727339, 'centroid': [0.5, 0.5], 'bounds': [0.3914999999999999, 0.31207248737877685, 0.717, 0.6879275126212232], 'width': 0.32550000000000007, 'height': 0.37585502524244635}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.32550000000000007, 'height': 0.37585502524244635}], geometry={'area': 0.48782667451747613, 'perimeter': 3.381252275842524, 'centroid': [0.4845896891227935, 0.5216708635214542], 'bounds': [0.0, 0.010618086442007986, 1.0, 1.0], 'width': 1.0, 'height': 0.989381913557992}
2025-08-12 06:09:03,581 - DEBUG - [POLYGON CREATION] Attempting to create Polygon with vertices: [(0.5530354920600635, 0.00901669563596929), (0.63744045954503, 0.02276016002465851), (0.7179787421293208, 0.04982950059111517), (0.7922032248509496, 0.08940222911997475), (0.8578586343618201, 0.14027594827965467), (0.9129500642671846, 0.2009048858568321), (0.9558035893469777, 0.2694468622629473), (0.9851171269265797, 0.3438192642288139), (1.0, 0.42176232395495056), (1.0, 0.5009077810126698), (0.7868776924081415, 0.5009077810126698), (0.5090892520020065, 0.7574291878322639), (0.5780017758040724, 0.9929503490851701), (0.4924632987667956, 1.0), (0.4069012606337149, 0.9931985372083599), (0.3239258035296866, 0.972753445068155), (0.24606816374409854, 0.9392884183557854), (0.17570345423335534, 0.8938243359310502), (0.11497820979728975, 0.837748117966657), (0.06574490522499282, 0.7727704167788099), (0.029505443989242586, 0.7008734319357676), (0.007365341414561925, 0.6242504415884913), (0.0, 0.5452388946711312), (0.00763410569635414, 0.4662491050501979), (0.030034773671770917, 0.3896907228675273), (0.2850819328084692, 0.45332741533518234), (0.5628703732146042, 0.19680600851558816), (0.5628703732146042, 0.0)]
2025-08-12 06:09:03,583 - DEBUG - polygon: raw build 28 verts in 0.000s
2025-08-12 06:09:03,584 - WARNING - polygon_from_vertices: Polygon is self-intersecting. Trying convex hull fallback. Vertices: [(0.5530354920600635, 0.00901669563596929), (0.63744045954503, 0.02276016002465851), (0.7179787421293208, 0.04982950059111517), (0.7922032248509496, 0.08940222911997475), (0.8578586343618201, 0.14027594827965467), (0.9129500642671846, 0.2009048858568321), (0.9558035893469777, 0.2694468622629473), (0.9851171269265797, 0.3438192642288139), (1.0, 0.42176232395495056), (1.0, 0.5009077810126698), (0.7868776924081415, 0.5009077810126698), (0.5090892520020065, 0.7574291878322639), (0.5780017758040724, 0.9929503490851701), (0.4924632987667956, 1.0), (0.4069012606337149, 0.9931985372083599), (0.3239258035296866, 0.972753445068155), (0.24606816374409854, 0.9392884183557854), (0.17570345423335534, 0.8938243359310502), (0.11497820979728975, 0.837748117966657), (0.06574490522499282, 0.7727704167788099), (0.029505443989242586, 0.7008734319357676), (0.007365341414561925, 0.6242504415884913), (0.0, 0.5452388946711312), (0.00763410569635414, 0.4662491050501979), (0.030034773671770917, 0.3896907228675273), (0.2850819328084692, 0.45332741533518234), (0.5628703732146042, 0.19680600851558816), (0.5628703732146042, 0.0)]
2025-08-12 06:09:03,584 - DEBUG - [POLYGON REPAIR] Final polygon: is_valid=True, is_empty=False, area=0.6761904114901152
2025-08-12 06:09:03,585 - INFO - [_calculate_perimeter] INPUT vertices: [(0.5530354920600635, 0.00901669563596929), (0.63744045954503, 0.02276016002465851), (0.7179787421293208, 0.04982950059111517), (0.7922032248509496, 0.08940222911997475), (0.8578586343618201, 0.14027594827965467), (0.9129500642671846, 0.2009048858568321), (0.9558035893469777, 0.2694468622629473), (0.9851171269265797, 0.3438192642288139), (1.0, 0.42176232395495056), (1.0, 0.5009077810126698), (0.7868776924081415, 0.5009077810126698), (0.5090892520020065, 0.7574291878322639), (0.5780017758040724, 0.9929503490851701), (0.4924632987667956, 1.0), (0.4069012606337149, 0.9931985372083599), (0.3239258035296866, 0.972753445068155), (0.24606816374409854, 0.9392884183557854), (0.17570345423335534, 0.8938243359310502), (0.11497820979728975, 0.837748117966657), (0.06574490522499282, 0.7727704167788099), (0.029505443989242586, 0.7008734319357676), (0.007365341414561925, 0.6242504415884913), (0.0, 0.5452388946711312), (0.00763410569635414, 0.4662491050501979), (0.030034773671770917, 0.3896907228675273), (0.2850819328084692, 0.45332741533518234), (0.5628703732146042, 0.19680600851558816), (0.5628703732146042, 0.0)]
2025-08-12 06:09:03,585 - INFO - [_calculate_perimeter] OUTPUT perimeter: 3.4151773926311058
2025-08-12 06:09:03,585 - INFO - [robust_curvature] INPUT: [(0.5530354920600635, 0.00901669563596929), (0.63744045954503, 0.02276016002465851), (0.7179787421293208, 0.04982950059111517), (0.7922032248509496, 0.08940222911997475), (0.8578586343618201, 0.14027594827965467), (0.9129500642671846, 0.2009048858568321), (0.9558035893469777, 0.2694468622629473), (0.9851171269265797, 0.3438192642288139), (1.0, 0.42176232395495056), (1.0, 0.5009077810126698), (0.7868776924081415, 0.5009077810126698), (0.5090892520020065, 0.7574291878322639), (0.5780017758040724, 0.9929503490851701), (0.4924632987667956, 1.0), (0.4069012606337149, 0.9931985372083599), (0.3239258035296866, 0.972753445068155), (0.24606816374409854, 0.9392884183557854), (0.17570345423335534, 0.8938243359310502), (0.11497820979728975, 0.837748117966657), (0.06574490522499282, 0.7727704167788099), (0.029505443989242586, 0.7008734319357676), (0.007365341414561925, 0.6242504415884913), (0.0, 0.5452388946711312), (0.00763410569635414, 0.4662491050501979), (0.030034773671770917, 0.3896907228675273), (0.2850819328084692, 0.45332741533518234), (0.5628703732146042, 0.19680600851558816), (0.5628703732146042, 0.0)]
2025-08-12 06:09:03,588 - INFO - [robust_curvature] OUTPUT: 0.7422198943105947
2025-08-12 06:09:03,589 - INFO - Computed angular variance: 0.453460 for 28 vertices.
2025-08-12 06:09:03,591 - INFO - [complexity] Calling calculate_complexity with vertices: [(0.5530354920600635, 0.00901669563596929), (0.63744045954503, 0.02276016002465851), (0.7179787421293208, 0.04982950059111517), (0.7922032248509496, 0.08940222911997475), (0.8578586343618201, 0.14027594827965467), (0.9129500642671846, 0.2009048858568321), (0.9558035893469777, 0.2694468622629473), (0.9851171269265797, 0.3438192642288139), (1.0, 0.42176232395495056), (1.0, 0.5009077810126698), (0.7868776924081415, 0.5009077810126698), (0.5090892520020065, 0.7574291878322639), (0.5780017758040724, 0.9929503490851701), (0.4924632987667956, 1.0), (0.4069012606337149, 0.9931985372083599), (0.3239258035296866, 0.972753445068155), (0.24606816374409854, 0.9392884183557854), (0.17570345423335534, 0.8938243359310502), (0.11497820979728975, 0.837748117966657), (0.06574490522499282, 0.7727704167788099), (0.029505443989242586, 0.7008734319357676), (0.007365341414561925, 0.6242504415884913), (0.0, 0.5452388946711312), (0.00763410569635414, 0.4662491050501979), (0.030034773671770917, 0.3896907228675273), (0.2850819328084692, 0.45332741533518234), (0.5628703732146042, 0.19680600851558816), (0.5628703732146042, 0.0)]
2025-08-12 06:09:03,595 - INFO - Complexity: n=28, n_norm=1.00, curvature=0.37, irregularity=0.74, result=0.76
2025-08-12 06:09:03,596 - INFO - [complexity] Output for vertices count 28: 0.7596606926293366
2025-08-12 06:09:03,596 - INFO - [_calculate_image_features] polsby_popper: 0.5255358988550749
2025-08-12 06:09:03,606 - INFO - [_calculate_image_features] OUTPUT: {'bounding_box': (0.0, 0.0, 1.0, 1.0), 'centroid': [0.4845896891227935, 0.5216708635214542], 'width': 1.0, 'height': 0.989381913557992, 'area_raw': 0.6761904114901152, 'area_normalized': 1.0, 'perimeter_raw': 3.4151773926311058, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0107320401722562, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.7285382165839069, 'polsby_popper_compactness': 0.5255358988550749, 'eccentricity': 0.6432915642575143, 'symmetry_score': 0.48230343195833025, 'horizontal_symmetry': 0.5726549443099834, 'vertical_symmetry': 0.5880049290405178, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 28.0, 'visual_complexity': 0.43487677902440514, 'curvature_score': 0.7422198943105947, 'angular_variance': 0.4534596802988458, 'moment_of_inertia': 0.3098723298574616, 'irregularity_score': 0.7416385424137367, 'standardized_complexity': 0.7596606926293366, 'clustering_heights': [0.0, 0.014082522884888714, 0.29712247028456146, 0.40610424937181355, 1.0404474615069472, 2.296022793437833, 4.098226157809593], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:03,606 - DEBUG - [_calculate_composition_features] INPUTS: strokes count=8
2025-08-12 06:09:03,607 - DEBUG - [_calculate_composition_features] OUTPUT: {'stroke_type_distribution': {'arc': 2, 'line': 6}, 'shape_modifier_distribution': {'zigzag': 2, 'normal': 2, 'triangle': 3, 'circle': 1}, 'stroke_diversity': 2, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'triangle', 'composition_complexity': 12, 'homogeneity_score': 0.28125, 'pattern_regularity': 0.625}
2025-08-12 06:09:03,607 - INFO - [_calculate_physics_features] INPUT vertices: [(0.5530354920600635, 0.00901669563596929), (0.63744045954503, 0.02276016002465851), (0.7179787421293208, 0.04982950059111517), (0.7922032248509496, 0.08940222911997475), (0.8578586343618201, 0.14027594827965467), (0.9129500642671846, 0.2009048858568321), (0.9558035893469777, 0.2694468622629473), (0.9851171269265797, 0.3438192642288139), (1.0, 0.42176232395495056), (1.0, 0.5009077810126698), (0.7868776924081415, 0.5009077810126698), (0.5090892520020065, 0.7574291878322639), (0.5780017758040724, 0.9929503490851701), (0.4924632987667956, 1.0), (0.4069012606337149, 0.9931985372083599), (0.3239258035296866, 0.972753445068155), (0.24606816374409854, 0.9392884183557854), (0.17570345423335534, 0.8938243359310502), (0.11497820979728975, 0.837748117966657), (0.06574490522499282, 0.7727704167788099), (0.029505443989242586, 0.7008734319357676), (0.007365341414561925, 0.6242504415884913), (0.0, 0.5452388946711312), (0.00763410569635414, 0.4662491050501979), (0.030034773671770917, 0.3896907228675273), (0.2850819328084692, 0.45332741533518234), (0.5628703732146042, 0.19680600851558816), (0.5628703732146042, 0.0)]
2025-08-12 06:09:03,607 - INFO - [_calculate_physics_features] INPUT centroid: [0.4845896891227935, 0.5216708635214542]
2025-08-12 06:09:03,607 - INFO - [_calculate_physics_features] INPUT strokes: ['arc_zigzag_0.500_0.625-0.500', 'line_normal_0.217-0.750', 'line_normal_0.400-0.375', 'line_triangle_0.269-0.333', 'arc_circle_0.500_0.667-0.750', 'line_zigzag_0.269-0.750', 'line_triangle_0.400-0.333', 'line_triangle_0.217-0.375']
2025-08-12 06:09:03,608 - INFO - [_calculate_physics_features] polsby_popper: 0.9266265663399667
2025-08-12 06:09:03,615 - INFO - Computed angular variance: 0.453460 for 28 vertices.
2025-08-12 06:09:03,615 - INFO - [_calculate_physics_features] OUTPUT: {'moment_of_inertia': 0.3098723298574616, 'center_of_mass': [0.4845896891227935, 0.5216708635214542], 'polsby_popper_compactness': 0.9266265663399667, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 0.7422198943105947, 'angular_variance': 0.4534596802988458, 'edge_length_variance': 0.008044872676066123}
2025-08-12 06:09:03,615 - INFO - [calculate_shape_relationships] INPUT: shapes=[{'vertices': [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)]}], buffer_amt=0.001
2025-08-12 06:09:03,616 - DEBUG - [calculate_shape_relationships] Shape 0 vertices: [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)]
2025-08-12 06:09:03,616 - WARNING - calculate_shape_relationships: No valid geometries found.
2025-08-12 06:09:03,616 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['arc'], n=2
2025-08-12 06:09:03,616 - DEBUG - [ensure_str_list] Converting list: ['arc']
2025-08-12 06:09:03,616 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,617 - DEBUG - [ensure_str_list] Result: ['arc']
2025-08-12 06:09:03,617 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['arc']
2025-08-12 06:09:03,617 - DEBUG - [_extract_ngram_features] OUTPUT: {}
2025-08-12 06:09:03,617 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,617 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['arc', 'normal'], n=2
2025-08-12 06:09:03,618 - DEBUG - [ensure_str_list] Converting list: ['arc', 'normal']
2025-08-12 06:09:03,618 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,618 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,618 - DEBUG - [ensure_str_list] Result: ['arc', 'normal']
2025-08-12 06:09:03,619 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['arc', 'normal']
2025-08-12 06:09:03,619 - DEBUG - [_extract_ngram_features] OUTPUT: {'arc|normal': 1}
2025-08-12 06:09:03,619 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,619 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['arc', 'normal', 'normal'], n=2
2025-08-12 06:09:03,619 - DEBUG - [ensure_str_list] Converting list: ['arc', 'normal', 'normal']
2025-08-12 06:09:03,620 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,620 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,620 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,620 - DEBUG - [ensure_str_list] Result: ['arc', 'normal', 'normal']
2025-08-12 06:09:03,621 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['arc', 'normal', 'normal']
2025-08-12 06:09:03,621 - DEBUG - [_extract_ngram_features] OUTPUT: {'arc|normal': 1, 'normal|normal': 1}
2025-08-12 06:09:03,621 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,621 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['arc', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:03,622 - DEBUG - [ensure_str_list] Converting list: ['arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,622 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,622 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,622 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,623 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,623 - DEBUG - [ensure_str_list] Result: ['arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,623 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,623 - DEBUG - [_extract_ngram_features] OUTPUT: {'arc|normal': 1, 'normal|normal': 2}
2025-08-12 06:09:03,624 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,624 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['arc', 'normal', 'normal', 'normal', 'arc'], n=2
2025-08-12 06:09:03,624 - DEBUG - [ensure_str_list] Converting list: ['arc', 'normal', 'normal', 'normal', 'arc']
2025-08-12 06:09:03,624 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,624 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,625 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,625 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,625 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,625 - DEBUG - [ensure_str_list] Result: ['arc', 'normal', 'normal', 'normal', 'arc']
2025-08-12 06:09:03,626 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['arc', 'normal', 'normal', 'normal', 'arc']
2025-08-12 06:09:03,626 - DEBUG - [_extract_ngram_features] OUTPUT: {'arc|normal': 1, 'normal|normal': 2, 'normal|arc': 1}
2025-08-12 06:09:03,626 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,626 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['arc', 'normal', 'normal', 'normal', 'arc', 'normal'], n=2
2025-08-12 06:09:03,626 - DEBUG - [ensure_str_list] Converting list: ['arc', 'normal', 'normal', 'normal', 'arc', 'normal']
2025-08-12 06:09:03,627 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,627 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,627 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,627 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,627 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,628 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,628 - DEBUG - [ensure_str_list] Result: ['arc', 'normal', 'normal', 'normal', 'arc', 'normal']
2025-08-12 06:09:03,628 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['arc', 'normal', 'normal', 'normal', 'arc', 'normal']
2025-08-12 06:09:03,628 - DEBUG - [_extract_ngram_features] OUTPUT: {'arc|normal': 2, 'normal|normal': 2, 'normal|arc': 1}
2025-08-12 06:09:03,628 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,629 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['arc', 'normal', 'normal', 'normal', 'arc', 'normal', 'normal'], n=2
2025-08-12 06:09:03,629 - DEBUG - [ensure_str_list] Converting list: ['arc', 'normal', 'normal', 'normal', 'arc', 'normal', 'normal']
2025-08-12 06:09:03,629 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,629 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,630 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,630 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,630 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,630 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,630 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,631 - DEBUG - [ensure_str_list] Result: ['arc', 'normal', 'normal', 'normal', 'arc', 'normal', 'normal']
2025-08-12 06:09:03,632 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['arc', 'normal', 'normal', 'normal', 'arc', 'normal', 'normal']
2025-08-12 06:09:03,632 - DEBUG - [_extract_ngram_features] OUTPUT: {'arc|normal': 2, 'normal|normal': 3, 'normal|arc': 1}
2025-08-12 06:09:03,632 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,632 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['arc', 'normal', 'normal', 'normal', 'arc', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:03,632 - DEBUG - [ensure_str_list] Converting list: ['arc', 'normal', 'normal', 'normal', 'arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,633 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,633 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,633 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,633 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,633 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,634 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,634 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,634 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,634 - DEBUG - [ensure_str_list] Result: ['arc', 'normal', 'normal', 'normal', 'arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,635 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['arc', 'normal', 'normal', 'normal', 'arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,635 - DEBUG - [_extract_ngram_features] OUTPUT: {'arc|normal': 2, 'normal|normal': 4, 'normal|arc': 1}
2025-08-12 06:09:03,635 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,635 - DEBUG - [_detect_alternation] INPUTS: sequence=['arc', 'normal', 'normal', 'normal', 'arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,636 - DEBUG - [ensure_str_list] Converting list: ['arc', 'normal', 'normal', 'normal', 'arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,636 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,636 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,636 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,636 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,637 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,637 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,637 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,637 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,638 - DEBUG - [ensure_str_list] Result: ['arc', 'normal', 'normal', 'normal', 'arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,638 - DEBUG - [_detect_alternation] Sequence after stringification: ['arc', 'normal', 'normal', 'normal', 'arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,638 - DEBUG - [_detect_alternation] OUTPUT: 0.375
2025-08-12 06:09:03,638 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:03,639 - INFO - [extract_regularity_features] INPUT: ['arc', 'normal', 'normal', 'normal', 'arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,639 - DEBUG - [ensure_str_list] Converting list: ['arc', 'normal', 'normal', 'normal', 'arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,639 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,640 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,640 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,640 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,640 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,641 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,641 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,641 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,641 - DEBUG - [ensure_str_list] Result: ['arc', 'normal', 'normal', 'normal', 'arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,642 - INFO - [extract_regularity_features] OUTPUT: {'regularity_score': 0.75, 'most_common_element': 'normal', 'distribution': {'arc': 2, 'normal': 6}}
2025-08-12 06:09:03,642 - DEBUG - [extract_regularity_features] Output is JSON serializable.
2025-08-12 06:09:03,642 - INFO - [extract_dominant_shape_modifiers] INPUT: {'modifiers': ['arc', 'normal', 'normal', 'normal', 'arc', 'normal', 'normal', 'normal']}
2025-08-12 06:09:03,642 - DEBUG - [ensure_str_list] Converting list: ['arc', 'normal', 'normal', 'normal', 'arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,642 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,642 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,642 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,642 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,643 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:03,643 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,643 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,643 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,644 - DEBUG - [ensure_str_list] Result: ['arc', 'normal', 'normal', 'normal', 'arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,644 - INFO - [extract_dominant_shape_modifiers] OUTPUT: {'dominant_modifier': 'normal', 'modifier_distribution': {'arc': 2, 'normal': 6}}
2025-08-12 06:09:03,644 - DEBUG - [extract_dominant_shape_modifiers] Output is JSON serializable.
2025-08-12 06:09:03,644 - WARNING - [PATCH] Failed to load canonical summary for image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_0: type object 'FileIO' has no attribute 'load_canonical_features'
2025-08-12 06:09:03,645 - DEBUG - [process_single_image] Passing topo_shape_list to extract_topological_features: [{'vertices': [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)]}]
2025-08-12 06:09:03,659 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image type: <class 'bongard.bongard.BongardImage'> | problem_id=hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:03,660 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image.one_stroke_shapes: [<src.data_pipeline.logo_parser.OneStrokeShape object at 0x0000025949AC4F90>]
2025-08-12 06:09:03,660 - INFO - [extract_stroke_features_from_shapes] problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 | num_shapes=1 | total_strokes=8
2025-08-12 06:09:03,660 - INFO - [extract_stroke_features_from_shapes] PATCH: shapes=[<src.data_pipeline.logo_parser.OneStrokeShape object at 0x0000025949AC4F90>]
2025-08-12 06:09:03,660 - INFO - [extract_stroke_features_from_shapes] Shape 0 actions: [arc_zigzag_0.500_0.625-0.500, line_normal_0.217-0.750, line_normal_0.400-0.375, line_triangle_0.269-0.333, arc_circle_0.500_0.667-0.750, line_zigzag_0.269-0.750, line_triangle_0.400-0.333, line_triangle_0.217-0.375]
2025-08-12 06:09:03,660 - INFO - [extract_stroke_features_from_shapes] Shape 0: [arc_zigzag_0.500_0.625-0.500, line_normal_0.217-0.750, line_normal_0.400-0.375, line_triangle_0.269-0.333, arc_circle_0.500_0.667-0.750, line_zigzag_0.269-0.750, line_triangle_0.400-0.333, line_triangle_0.217-0.375], None, None, None
2025-08-12 06:09:03,661 - INFO - [extract_stroke_features_from_shapes] Shape 0 geometry: {'area': 0.48782667451747613, 'perimeter': 3.381252275842524, 'centroid': [0.4845896891227935, 0.5216708635214542], 'bounds': [0.0, 0.010618086442007986, 1.0, 1.0], 'width': 1.0, 'height': 0.989381913557992, 'robust_curvature': 0.7422198943105947, 'robust_angular_variance': 0.4534596802988458, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 1.5707963267948966}
2025-08-12 06:09:03,661 - INFO - [extract_stroke_features_from_shapes] Shape 0: num_actions=8 | actions=[arc_zigzag_0.500_0.625-0.500, line_normal_0.217-0.750, line_normal_0.400-0.375, line_triangle_0.269-0.333, arc_circle_0.500_0.667-0.750, line_zigzag_0.269-0.750, line_triangle_0.400-0.333, line_triangle_0.217-0.375]
2025-08-12 06:09:03,661 - INFO - [extract_stroke_features_from_shapes] PATCH: Validated/corrected shape_vertices for shape 0: [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838), (0.0, 0.0)]
2025-08-12 06:09:03,661 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=0 | stroke=arc_zigzag_0.500_0.625-0.500
2025-08-12 06:09:03,661 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916)]
2025-08-12 06:09:03,661 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:03,663 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:03,663 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,664 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,664 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:03,669 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.56, 'num_vertices': 28, 'convexity_ratio': 1e-06, 'compactness': 0.536191911689066}
2025-08-12 06:09:03,670 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.56, 'num_vertices': 28, 'convexity_ratio': 1e-06, 'compactness': 0.536191911689066, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:03,670 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 0: {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)], 'open_stroke_perimeter': 5193.633757962873, 'compactness': 0.536191911689066, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.9911184307752, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.56, 'num_vertices': 28, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}
2025-08-12 06:09:03,670 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=1 | stroke=line_normal_0.217-0.750
2025-08-12 06:09:03,671 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478)]
2025-08-12 06:09:03,671 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,671 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,671 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:03,672 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,672 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,672 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.12337119108014251}
2025-08-12 06:09:03,673 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.12337119108014251, 'is_simple': True}
2025-08-12 06:09:03,673 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478)], 'open_stroke_perimeter': 376.99111843077515, 'compactness': 0.12337119108014251, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.99111843077515, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'line_length': 376.99111843077515, 'line_angle': 40.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:03,673 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_normal_0.400-0.375
2025-08-12 06:09:03,673 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385)]
2025-08-12 06:09:03,674 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,674 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,674 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:03,675 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,675 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,676 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.32572260299570827}
2025-08-12 06:09:03,676 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.32572260299570827, 'is_simple': True}
2025-08-12 06:09:03,676 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385)], 'open_stroke_perimeter': 376.9911184307752, 'compactness': 0.32572260299570827, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.9911184307752, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'line_length': 376.9911184307752, 'line_angle': 69.99999999999997, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:03,676 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_triangle_0.269-0.333
2025-08-12 06:09:03,677 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467)]
2025-08-12 06:09:03,677 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 06:09:03,677 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 06:09:03,677 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:03,678 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,678 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:03,679 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5357210244687773}
2025-08-12 06:09:03,679 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5357210244687773, 'has_sharp_angles': True}
2025-08-12 06:09:03,679 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467)], 'open_stroke_perimeter': 1275.84, 'compactness': 0.5357210244687773, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1275.84, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'line_length': 1275.84, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}
2025-08-12 06:09:03,680 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=4 | stroke=arc_circle_0.500_0.667-0.750
2025-08-12 06:09:03,680 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349)]
2025-08-12 06:09:03,680 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:03,680 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:03,681 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:03,681 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,681 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:03,682 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5052169386636048}
2025-08-12 06:09:03,682 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5052169386636048, 'has_curved_edges': True}
2025-08-12 06:09:03,682 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 4: {'stroke_index': 4, 'analytic_vertices': [(36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349)], 'open_stroke_perimeter': 377.74510066763685, 'compactness': 0.5052169386636048, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.74510066763685, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_curved_edges': True, 'analytic_attribute': 'circle'}
2025-08-12 06:09:03,682 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=5 | stroke=line_zigzag_0.269-0.750
2025-08-12 06:09:03,682 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084)]
2025-08-12 06:09:03,684 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:03,684 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:03,684 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:03,685 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,685 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:03,686 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.12944593073794144}
2025-08-12 06:09:03,686 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.12944593073794144, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:03,686 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 5: {'stroke_index': 5, 'analytic_vertices': [(-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084)], 'open_stroke_perimeter': 377.7451006676368, 'compactness': 0.12944593073794144, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.7451006676368, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'line_length': 377.7451006676368, 'line_angle': -155.04, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.08, 'num_vertices': 4, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}
2025-08-12 06:09:03,686 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=6 | stroke=line_triangle_0.400-0.333
2025-08-12 06:09:03,687 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927)]
2025-08-12 06:09:03,687 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 06:09:03,687 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 06:09:03,687 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:03,688 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,688 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:03,689 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.15796791041048105}
2025-08-12 06:09:03,690 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.15796791041048105, 'has_sharp_angles': True}
2025-08-12 06:09:03,690 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 6: {'stroke_index': 6, 'analytic_vertices': [(-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927)], 'open_stroke_perimeter': 377.7451006676369, 'compactness': 0.15796791041048105, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.7451006676369, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}}}, 'line_length': 377.7451006676369, 'line_angle': -124.97999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}
2025-08-12 06:09:03,690 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=7 | stroke=line_triangle_0.217-0.375
2025-08-12 06:09:03,690 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838), (0.0, 0.0)]
2025-08-12 06:09:03,690 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 06:09:03,691 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 06:09:03,691 - INFO - [compute_feature_statistics] INPUT: label=stroke_7, num_features=1
2025-08-12 06:09:03,691 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_7: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,692 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:03,693 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.440004346849136}
2025-08-12 06:09:03,693 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.440004346849136, 'has_sharp_angles': True}
2025-08-12 06:09:03,693 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 7: {'stroke_index': 7, 'analytic_vertices': [(-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838), (0.0, 0.0)], 'open_stroke_perimeter': 1673.90481036264, 'compactness': 0.440004346849136, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1673.90481036264, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 7.0, 'var': 0.0, 'min': 7.0, 'max': 7.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 7.0, 'var': 0.0, 'min': 7.0, 'max': 7.0, 'count': 1}}}, 'line_length': 1673.90481036264, 'line_angle': -94.91999999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}
2025-08-12 06:09:03,694 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=8
2025-08-12 06:09:03,696 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['arc_is_major', 'line_is_long', 'has_repetitive_pattern', 'avg_stroke_length', 'line_angle', 'arc_is_small', 'visual_complexity', 'line_is_vertical', 'has_curved_edges', 'arc_span_angle', 'line_is_short', 'is_normal', 'line_curvature_score', 'is_geometric', 'arc_radius', 'convexity_ratio', 'arc_length', 'compactness', 'stroke_index', 'open_stroke_perimeter', 'arc_curvature_score', 'robust_curvature', 'arc_is_full_circle', 'robust_angular_variance', 'degenerate_case', 'is_simple', 'line_length', 'stroke_length', 'geom_complexity', 'arc_is_large', 'geometric_complexity', 'line_is_horizontal', 'has_sharp_angles', 'arc_curvature', 'num_vertices', 'is_pattern']
2025-08-12 06:09:03,696 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (8) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-12 06:09:03,696 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=8
2025-08-12 06:09:03,697 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 8
2025-08-12 06:09:03,697 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 6, 'num_arcs': 2, 'line_ratio': 0.75, 'arc_ratio': 0.25, 'stroke_diversity': 1}, 'line_aggregate': {'total_line_length': 4459.217248559464, 'avg_line_length': 743.2028747599106, 'line_length_variance': 280874.87839249877, 'line_angle_variance': 14394.123522222219, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'diagonal-up'}, 'arc_aggregate': {'total_arc_length': 1.5707963267948966, 'avg_arc_radius': 0.5, 'avg_arc_span': 90.0, 'arc_radius_variance': 0.0, 'arc_span_variance': 0.0, 'total_curvature': 4.0, 'has_full_circles': False, 'has_major_arcs': False, 'curvature_complexity': 2}}
2025-08-12 06:09:03,697 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: arc_zigzag_0.500_0.625-0.500,line_normal_0.217-0.750,line_normal_0.400-0.375,line_triangle_0.269-0.333,arc_circle_0.500_0.667-0.750,line_zigzag_0.269-0.750,line_triangle_0.400-0.333,line_triangle_0.217-0.375
2025-08-12 06:09:03,697 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['arc_zigzag_0.500_0.625-0.500', 'line_normal_0.217-0.750', 'line_normal_0.400-0.375', 'line_triangle_0.269-0.333', 'arc_circle_0.500_0.667-0.750', 'line_zigzag_0.269-0.750', 'line_triangle_0.400-0.333', 'line_triangle_0.217-0.375']]
2025-08-12 06:09:03,698 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['arc_zigzag_0.500_0.625-0.500', 'line_normal_0.217-0.750', 'line_normal_0.400-0.375', 'line_triangle_0.269-0.333', 'arc_circle_0.500_0.667-0.750', 'line_zigzag_0.269-0.750', 'line_triangle_0.400-0.333', 'line_triangle_0.217-0.375']
2025-08-12 06:09:03,698 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['arc_zigzag_0.500_0.625-0.500', 'line_normal_0.217-0.750', 'line_normal_0.400-0.375', 'line_triangle_0.269-0.333', 'arc_circle_0.500_0.667-0.750', 'line_zigzag_0.269-0.750', 'line_triangle_0.400-0.333', 'line_triangle_0.217-0.375']
2025-08-12 06:09:03,698 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['arc_zigzag_0.500_0.625-0.500', 'line_normal_0.217-0.750', 'line_normal_0.400-0.375', 'line_triangle_0.269-0.333', 'arc_circle_0.500_0.667-0.750', 'line_zigzag_0.269-0.750', 'line_triangle_0.400-0.333', 'line_triangle_0.217-0.375']]
2025-08-12 06:09:03,699 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'arc_zigzag_0.500_0.625-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)], 'open_stroke_perimeter': 5193.633757962873, 'compactness': 0.536191911689066, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.9911184307752, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.56, 'num_vertices': 28, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.217-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478)], 'open_stroke_perimeter': 376.99111843077515, 'compactness': 0.12337119108014251, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.99111843077515, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 376.99111843077515, 'line_angle': 40.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.400-0.375', 'features': {'stroke_index': 2, 'analytic_vertices': [(590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385)], 'open_stroke_perimeter': 376.9911184307752, 'compactness': 0.32572260299570827, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.9911184307752, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 376.9911184307752, 'line_angle': 69.99999999999997, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_triangle_0.269-0.333', 'features': {'stroke_index': 3, 'analytic_vertices': [(655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467)], 'open_stroke_perimeter': 1275.84, 'compactness': 0.5357210244687773, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1275.84, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1275.84, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'arc_circle_0.500_0.667-0.750', 'features': {'stroke_index': 4, 'analytic_vertices': [(36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349)], 'open_stroke_perimeter': 377.74510066763685, 'compactness': 0.5052169386636048, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.74510066763685, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_zigzag_0.269-0.750', 'features': {'stroke_index': 5, 'analytic_vertices': [(-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084)], 'open_stroke_perimeter': 377.7451006676368, 'compactness': 0.12944593073794144, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.7451006676368, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 377.7451006676368, 'line_angle': -155.04, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.08, 'num_vertices': 4, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_triangle_0.400-0.333', 'features': {'stroke_index': 6, 'analytic_vertices': [(-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927)], 'open_stroke_perimeter': 377.7451006676369, 'compactness': 0.15796791041048105, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.7451006676369, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 377.7451006676369, 'line_angle': -124.97999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 7, 'stroke_command': 'line_triangle_0.217-0.375', 'features': {'stroke_index': 7, 'analytic_vertices': [(-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838), (0.0, 0.0)], 'open_stroke_perimeter': 1673.90481036264, 'compactness': 0.440004346849136, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1673.90481036264, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1673.90481036264, 'line_angle': -94.91999999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:03,699 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:03,700 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:03,700 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-12 06:09:03,700 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-12 06:09:03,701 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.48562512477291736, 0.5030511521489427], 'orientation_degrees': 136.29337693977692}, geometry={'area': 0.48782667451747613, 'perimeter': 3.381252275842524, 'centroid': [0.4845896891227935, 0.5216708635214542], 'bounds': [0.0, 0.010618086442007986, 1.0, 1.0], 'width': 1.0, 'height': 0.989381913557992}
2025-08-12 06:09:03,701 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['arc_zigzag_0.500_0.625-0.500', 'line_normal_0.217-0.750', 'line_normal_0.400-0.375', 'line_triangle_0.269-0.333', 'arc_circle_0.500_0.667-0.750', 'line_zigzag_0.269-0.750', 'line_triangle_0.400-0.333', 'line_triangle_0.217-0.375']
2025-08-12 06:09:03,701 - DEBUG - [PATCH][actions field] Joined: arc_zigzag_0.500_0.625-0.500,line_normal_0.217-0.750,line_normal_0.400-0.375,line_triangle_0.269-0.333,arc_circle_0.500_0.667-0.750,line_zigzag_0.269-0.750,line_triangle_0.400-0.333,line_triangle_0.217-0.375
2025-08-12 06:09:03,702 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'arc_zigzag_0.500_0.625-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)], 'open_stroke_perimeter': 5193.633757962873, 'compactness': 0.536191911689066, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.9911184307752, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.56, 'num_vertices': 28, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.217-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478)], 'open_stroke_perimeter': 376.99111843077515, 'compactness': 0.12337119108014251, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.99111843077515, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 376.99111843077515, 'line_angle': 40.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.400-0.375', 'features': {'stroke_index': 2, 'analytic_vertices': [(590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385)], 'open_stroke_perimeter': 376.9911184307752, 'compactness': 0.32572260299570827, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.9911184307752, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 376.9911184307752, 'line_angle': 69.99999999999997, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_triangle_0.269-0.333', 'features': {'stroke_index': 3, 'analytic_vertices': [(655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467)], 'open_stroke_perimeter': 1275.84, 'compactness': 0.5357210244687773, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1275.84, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1275.84, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'arc_circle_0.500_0.667-0.750', 'features': {'stroke_index': 4, 'analytic_vertices': [(36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349)], 'open_stroke_perimeter': 377.74510066763685, 'compactness': 0.5052169386636048, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.74510066763685, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_zigzag_0.269-0.750', 'features': {'stroke_index': 5, 'analytic_vertices': [(-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084)], 'open_stroke_perimeter': 377.7451006676368, 'compactness': 0.12944593073794144, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.7451006676368, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 377.7451006676368, 'line_angle': -155.04, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.08, 'num_vertices': 4, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_triangle_0.400-0.333', 'features': {'stroke_index': 6, 'analytic_vertices': [(-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927)], 'open_stroke_perimeter': 377.7451006676369, 'compactness': 0.15796791041048105, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.7451006676369, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 377.7451006676369, 'line_angle': -124.97999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 7, 'stroke_command': 'line_triangle_0.217-0.375', 'features': {'stroke_index': 7, 'analytic_vertices': [(-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838), (0.0, 0.0)], 'open_stroke_perimeter': 1673.90481036264, 'compactness': 0.440004346849136, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1673.90481036264, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1673.90481036264, 'line_angle': -94.91999999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:03,702 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)]
2025-08-12 06:09:03,702 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(0.5530354920600635, 0.00901669563596929), (0.63744045954503, 0.02276016002465851), (0.7179787421293208, 0.04982950059111517), (0.7922032248509496, 0.08940222911997475), (0.8578586343618201, 0.14027594827965467), (0.9129500642671846, 0.2009048858568321), (0.9558035893469777, 0.2694468622629473), (0.9851171269265797, 0.3438192642288139), (1.0, 0.42176232395495056), (1.0, 0.5009077810126698), (0.7868776924081415, 0.5009077810126698), (0.5090892520020065, 0.7574291878322639), (0.5780017758040724, 0.9929503490851701), (0.4924632987667956, 1.0), (0.4069012606337149, 0.9931985372083599), (0.3239258035296866, 0.972753445068155), (0.24606816374409854, 0.9392884183557854), (0.17570345423335534, 0.8938243359310502), (0.11497820979728975, 0.837748117966657), (0.06574490522499282, 0.7727704167788099), (0.029505443989242586, 0.7008734319357676), (0.007365341414561925, 0.6242504415884913), (0.0, 0.5452388946711312), (0.00763410569635414, 0.4662491050501979), (0.030034773671770917, 0.3896907228675273), (0.2850819328084692, 0.45332741533518234), (0.5628703732146042, 0.19680600851558816), (0.5628703732146042, 0.0)]
2025-08-12 06:09:03,703 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['arc_zigzag_0.500_0.625-0.500', 'line_normal_0.217-0.750', 'line_normal_0.400-0.375', 'line_triangle_0.269-0.333', 'arc_circle_0.500_0.667-0.750', 'line_zigzag_0.269-0.750', 'line_triangle_0.400-0.333', 'line_triangle_0.217-0.375']]
2025-08-12 06:09:03,703 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:03,703 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:03,703 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'arc|normal': 2, 'normal|normal': 4, 'normal|arc': 1}
2025-08-12 06:09:03,704 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 1, 'analytic_vertices': [(350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478)], 'open_stroke_perimeter': 376.99111843077515, 'compactness': 0.12337119108014251, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.99111843077515, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 376.99111843077515, 'line_angle': 40.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385)], 'open_stroke_perimeter': 376.9911184307752, 'compactness': 0.32572260299570827, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.9911184307752, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 376.9911184307752, 'line_angle': 69.99999999999997, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467)], 'open_stroke_perimeter': 1275.84, 'compactness': 0.5357210244687773, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1275.84, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1275.84, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 5, 'analytic_vertices': [(-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084)], 'open_stroke_perimeter': 377.7451006676368, 'compactness': 0.12944593073794144, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.7451006676368, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 377.7451006676368, 'line_angle': -155.04, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.08, 'num_vertices': 4, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 6, 'analytic_vertices': [(-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927)], 'open_stroke_perimeter': 377.7451006676369, 'compactness': 0.15796791041048105, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.7451006676369, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 377.7451006676369, 'line_angle': -124.97999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 7, 'analytic_vertices': [(-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838), (0.0, 0.0)], 'open_stroke_perimeter': 1673.90481036264, 'compactness': 0.440004346849136, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1673.90481036264, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1673.90481036264, 'line_angle': -94.91999999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}], 'arc_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)], 'open_stroke_perimeter': 5193.633757962873, 'compactness': 0.536191911689066, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.9911184307752, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.56, 'num_vertices': 28, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 4, 'analytic_vertices': [(36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349)], 'open_stroke_perimeter': 377.74510066763685, 'compactness': 0.5052169386636048, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.74510066763685, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_curved_edges': True, 'analytic_attribute': 'circle'}]}
2025-08-12 06:09:03,704 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-12 06:09:03,705 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.4845896891227935, 0.5216708635214542], 'width': 1.0, 'height': 0.989381913557992, 'area_raw': 0.6761904114901152, 'area_normalized': 1.0, 'perimeter_raw': 3.4151773926311058, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0107320401722562, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.7285382165839069, 'polsby_popper_compactness': 0.5255358988550749, 'eccentricity': 0.6432915642575143, 'symmetry_score': 0.48230343195833025, 'horizontal_symmetry': 0.5726549443099834, 'vertical_symmetry': 0.5880049290405178, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 28.0, 'visual_complexity': 0.43487677902440514, 'curvature_score': 0.7422198943105947, 'angular_variance': 0.4534596802988458, 'moment_of_inertia': 0.3098723298574616, 'irregularity_score': 0.7416385424137367, 'standardized_complexity': 0.7596606926293366, 'clustering_heights': [0.0, 0.014082522884888714, 0.29712247028456146, 0.40610424937181355, 1.0404474615069472, 2.296022793437833, 4.098226157809593], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:03,705 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:03,705 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-12 06:09:03,705 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-12 06:09:03,706 - INFO - [_vertices_from_command] INPUT: command=arc_zigzag_0.500_0.625-0.500, stroke_index=0
2025-08-12 06:09:03,706 - INFO - [_vertices_from_command] Parsed: action_type=arc, modifier=zigzag, param1=0.5, param2=0.625, param3=0.5
2025-08-12 06:09:03,706 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.0, 0.5000000000000001), (7.436948540329169e-08, 0.49972729231789664), (2.9747791951972857e-07, 0.4994545847169178), (6.693252359579738e-07, 0.4991818772781879), (1.1899113240843029e-06, 0.49890917008283175), (1.8592360290781151e-06, 0.4986364632119732), (2.6772991517654e-06, 0.4983637567467367), (3.6441004488962925e-06, 0.49809105076824656), (4.759639632756496e-06, 0.4978183453576267), (6.02391637155586e-06, 0.4975456405960009), (7.436930289206334e-06, 0.4972729365644932), (8.998680965377481e-06, 0.49700023334422644), (1.0709167935385455e-05, 0.4967275310163241), (1.2568390690526066e-05, 0.4964548296619091), (1.457634867763069e-05, 0.4961821293621041), (1.6733041299454854e-05, 0.49590943019803135), (1.903846791434516e-05, 0.4956367322508131), (2.1492627836572353e-05, 0.4953640356015706), (2.4095520335998266e-05, 0.4950913403314252), (2.684714463835336e-05, 0.4948186465214978), (2.974749992512571e-05, 0.49454595425290876)]
2025-08-12 06:09:03,707 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,707 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,707 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:03,709 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:03,709 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:03,709 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.42, 'num_vertices': 21, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,710 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.42, 'num_vertices': 21, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:03,710 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.217-0.750, stroke_index=0
2025-08-12 06:09:03,710 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.217, param2=None, param3=0.75
2025-08-12 06:09:03,710 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.46900000000000003), (0.5, 0.438), (0.5, 0.40700000000000003), (0.49999999999999994, 0.376), (0.49999999999999994, 0.34500000000000003), (0.49999999999999994, 0.31400000000000006), (0.49999999999999994, 0.28300000000000003)]
2025-08-12 06:09:03,710 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,711 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:03,711 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:03,712 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:03,712 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:03,712 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,713 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,713 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,713 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,713 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,715 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.49999999999999994, 0.28300000000000003)]
2025-08-12 06:09:03,715 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.49999999999999994, 0.28300000000000003)]
2025-08-12 06:09:03,715 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,716 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,716 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.400-0.375, stroke_index=0
2025-08-12 06:09:03,716 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.4, param2=None, param3=0.375
2025-08-12 06:09:03,716 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4595938982179116, 0.5404061017820885), (0.41918779643582316, 0.5808122035641768), (0.3787816946537347, 0.6212183053462653), (0.3383755928716463, 0.6616244071283538), (0.29796949108955784, 0.7020305089104422), (0.2575633893074694, 0.7424366106925306), (0.217157287525381, 0.7828427124746191)]
2025-08-12 06:09:03,717 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,718 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:03,718 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:03,718 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,719 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,719 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,720 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,720 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,721 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:03,721 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:03,721 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,721 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,721 - INFO - [_vertices_from_command] INPUT: command=line_triangle_0.269-0.333, stroke_index=0
2025-08-12 06:09:03,722 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=0.269, param2=None, param3=0.333
2025-08-12 06:09:03,722 - INFO - [_vertices_from_command] Triangle vertices: [(0.769, 0.5), (0.36550000000000005, 0.732960833618014), (0.3654999999999999, 0.267039166381986), (0.769, 0.5)]
2025-08-12 06:09:03,722 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,723 - INFO - Convexity: poly_area=0.0940, hull_area=0.0940, ratio=1.0000
2025-08-12 06:09:03,723 - INFO - Computed angular variance: 0.068539 for 4 vertices.
2025-08-12 06:09:03,723 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,723 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,723 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,725 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,725 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:03,726 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-12 06:09:03,726 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-12 06:09:03,727 - INFO - [_vertices_from_command] INPUT: command=arc_circle_0.500_0.667-0.750, stroke_index=0
2025-08-12 06:09:03,727 - INFO - [_vertices_from_command] Parsed: action_type=arc, modifier=circle, param1=0.5, param2=0.667, param3=0.75
2025-08-12 06:09:03,727 - INFO - [_vertices_from_command] Circle vertices: [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)]
2025-08-12 06:09:03,727 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,728 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,728 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:03,731 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275}
2025-08-12 06:09:03,731 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275, 'has_curved_edges': True}
2025-08-12 06:09:03,731 - INFO - [_vertices_from_command] INPUT: command=line_zigzag_0.269-0.750, stroke_index=0
2025-08-12 06:09:03,731 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.269, param2=None, param3=0.75
2025-08-12 06:09:03,731 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.4615714285714286), (0.5, 0.42314285714285715), (0.5, 0.3847142857142857), (0.49999999999999994, 0.3462857142857143), (0.49999999999999994, 0.30785714285714283), (0.49999999999999994, 0.2694285714285714), (0.49999999999999994, 0.23099999999999998)]
2025-08-12 06:09:03,732 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,732 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:03,733 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:03,733 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:03,734 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:03,734 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,734 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,734 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,735 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,736 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:03,736 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.49999999999999994, 0.23099999999999998)]
2025-08-12 06:09:03,737 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.49999999999999994, 0.23099999999999998)]
2025-08-12 06:09:03,737 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,737 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:03,738 - INFO - [_vertices_from_command] INPUT: command=line_triangle_0.400-0.333, stroke_index=0
2025-08-12 06:09:03,738 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=0.4, param2=None, param3=0.333
2025-08-12 06:09:03,738 - INFO - [_vertices_from_command] Triangle vertices: [(0.9, 0.5), (0.30000000000000004, 0.8464101615137756), (0.2999999999999998, 0.1535898384862246), (0.9, 0.5)]
2025-08-12 06:09:03,739 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,739 - INFO - Convexity: poly_area=0.2078, hull_area=0.2078, ratio=1.0000
2025-08-12 06:09:03,741 - INFO - Computed angular variance: 0.068539 for 4 vertices.
2025-08-12 06:09:03,741 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,741 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,741 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,742 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,742 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:03,743 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-12 06:09:03,743 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-12 06:09:03,743 - INFO - [_vertices_from_command] INPUT: command=line_triangle_0.217-0.375, stroke_index=0
2025-08-12 06:09:03,743 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=0.217, param2=None, param3=0.375
2025-08-12 06:09:03,744 - INFO - [_vertices_from_command] Triangle vertices: [(0.717, 0.5), (0.39150000000000007, 0.6879275126212232), (0.3914999999999999, 0.31207248737877685), (0.717, 0.5)]
2025-08-12 06:09:03,744 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,745 - INFO - Convexity: poly_area=0.0612, hull_area=0.0612, ratio=1.0000
2025-08-12 06:09:03,745 - INFO - Computed angular variance: 0.068539 for 4 vertices.
2025-08-12 06:09:03,745 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,746 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,746 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,746 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,747 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:03,747 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-12 06:09:03,747 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-12 06:09:03,748 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['zigzag', 'normal', 'normal', 'triangle', 'circle', 'zigzag', 'triangle', 'triangle'], n=2
2025-08-12 06:09:03,748 - DEBUG - [ensure_str_list] Converting list: ['zigzag', 'normal', 'normal', 'triangle', 'circle', 'zigzag', 'triangle', 'triangle']
2025-08-12 06:09:03,748 - DEBUG - [ensure_str_list] Returning string: zigzag
2025-08-12 06:09:03,748 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,749 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,749 - DEBUG - [ensure_str_list] Returning string: triangle
2025-08-12 06:09:03,749 - DEBUG - [ensure_str_list] Returning string: circle
2025-08-12 06:09:03,749 - DEBUG - [ensure_str_list] Returning string: zigzag
2025-08-12 06:09:03,750 - DEBUG - [ensure_str_list] Returning string: triangle
2025-08-12 06:09:03,750 - DEBUG - [ensure_str_list] Returning string: triangle
2025-08-12 06:09:03,750 - DEBUG - [ensure_str_list] Result: ['zigzag', 'normal', 'normal', 'triangle', 'circle', 'zigzag', 'triangle', 'triangle']
2025-08-12 06:09:03,750 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['zigzag', 'normal', 'normal', 'triangle', 'circle', 'zigzag', 'triangle', 'triangle']
2025-08-12 06:09:03,751 - DEBUG - [_extract_ngram_features] OUTPUT: {'zigzag|normal': 1, 'normal|normal': 1, 'normal|triangle': 1, 'triangle|circle': 1, 'circle|zigzag': 1, 'zigzag|triangle': 1, 'triangle|triangle': 1}
2025-08-12 06:09:03,751 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,752 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_0', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/0.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'arc_zigzag_0.500_0.625-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)], 'open_stroke_perimeter': 5193.633757962873, 'compactness': 0.536191911689066, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.9911184307752, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.56, 'num_vertices': 28, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.217-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478)], 'open_stroke_perimeter': 376.99111843077515, 'compactness': 0.12337119108014251, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.99111843077515, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 376.99111843077515, 'line_angle': 40.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.400-0.375', 'features': {'stroke_index': 2, 'analytic_vertices': [(590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385)], 'open_stroke_perimeter': 376.9911184307752, 'compactness': 0.32572260299570827, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.9911184307752, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 376.9911184307752, 'line_angle': 69.99999999999997, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_triangle_0.269-0.333', 'features': {'stroke_index': 3, 'analytic_vertices': [(655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467)], 'open_stroke_perimeter': 1275.84, 'compactness': 0.5357210244687773, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1275.84, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1275.84, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'arc_circle_0.500_0.667-0.750', 'features': {'stroke_index': 4, 'analytic_vertices': [(36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349)], 'open_stroke_perimeter': 377.74510066763685, 'compactness': 0.5052169386636048, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.74510066763685, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_zigzag_0.269-0.750', 'features': {'stroke_index': 5, 'analytic_vertices': [(-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084)], 'open_stroke_perimeter': 377.7451006676368, 'compactness': 0.12944593073794144, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.7451006676368, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 377.7451006676368, 'line_angle': -155.04, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.08, 'num_vertices': 4, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_triangle_0.400-0.333', 'features': {'stroke_index': 6, 'analytic_vertices': [(-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927)], 'open_stroke_perimeter': 377.7451006676369, 'compactness': 0.15796791041048105, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.7451006676369, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 377.7451006676369, 'line_angle': -124.97999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 7, 'stroke_command': 'line_triangle_0.217-0.375', 'features': {'stroke_index': 7, 'analytic_vertices': [(-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838), (0.0, 0.0)], 'open_stroke_perimeter': 1673.90481036264, 'compactness': 0.440004346849136, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1673.90481036264, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1673.90481036264, 'line_angle': -94.91999999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 8, 'raw_vertices': ['(0.0, 0.0)', '(123.75459208245697, 21.82127357070734)', '(241.83984944619894, 64.8007923567733)', '(350.667811300252, 127.63264542856916)', '(446.9317950932866, 208.40771872496015)', '(527.7068683896777, 304.67170251799473)', '(590.5387214614735, 413.4996643720478)', '(633.5182402475396, 531.5849217357897)', '(655.3395138182469, 655.3395138182467)', '(655.3395138182469, 781.0032199618385)', '(342.8595138182469, 781.0032199618385)', '(-64.43399214520446, 1188.2967259252898)', '(36.60557373124996, 1562.2469575437467)', '(-88.81097044298049, 1573.440085916611)', '(-214.26205990390582, 1562.6410198252759)', '(-335.92070337881006, 1530.179193887349)', '(-450.07560135782364, 1477.0448834770395)', '(-553.244362415087, 1404.858995539802)', '(-642.2797364957808, 1315.8236214591084)', '(-714.4656244330182, 1212.6548604018449)', '(-767.5999348433276, 1098.4999624228312)', '(-800.0617607812544, 976.841318947927)', '(-810.8608268725894, 851.3902294870016)', '(-799.6676984997251, 725.9736853127712)', '(-766.8238314824667, 604.4176238648502)', '(-392.87359986400975, 705.4571897413047)', '(14.419906099441505, 298.1636837778532)', '(14.419906099441448, -14.316316222146838)'], 'vertices': ['(0.5530354920600635, 0.00901669563596929)', '(0.63744045954503, 0.02276016002465851)', '(0.7179787421293208, 0.04982950059111517)', '(0.7922032248509496, 0.08940222911997475)', '(0.8578586343618201, 0.14027594827965467)', '(0.9129500642671846, 0.2009048858568321)', '(0.9558035893469777, 0.2694468622629473)', '(0.9851171269265797, 0.3438192642288139)', '(1.0, 0.42176232395495056)', '(1.0, 0.5009077810126698)', '(0.7868776924081415, 0.5009077810126698)', '(0.5090892520020065, 0.7574291878322639)', '(0.5780017758040724, 0.9929503490851701)', '(0.4924632987667956, 1.0)', '(0.4069012606337149, 0.9931985372083599)', '(0.3239258035296866, 0.972753445068155)', '(0.24606816374409854, 0.9392884183557854)', '(0.17570345423335534, 0.8938243359310502)', '(0.11497820979728975, 0.837748117966657)', '(0.06574490522499282, 0.7727704167788099)', '(0.029505443989242586, 0.7008734319357676)', '(0.007365341414561925, 0.6242504415884913)', '(0.0, 0.5452388946711312)', '(0.00763410569635414, 0.4662491050501979)', '(0.030034773671770917, 0.3896907228675273)', '(0.2850819328084692, 0.45332741533518234)', '(0.5628703732146042, 0.19680600851558816)', '(0.5628703732146042, 0.0)'], 'num_vertices': 28, 'position_label': ['0.48562512477291736', '0.5030511521489427'], 'rotation_label_degrees': ['136.29337693977692'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.4845896891227935, 0.5216708635214542], 'width': 1.0, 'height': 0.989381913557992, 'area_raw': 0.6761904114901152, 'area_normalized': 1.0, 'perimeter_raw': 3.4151773926311058, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0107320401722562, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.7285382165839069, 'polsby_popper_compactness': 0.5255358988550749, 'eccentricity': 0.6432915642575143, 'symmetry_score': 0.48230343195833025, 'horizontal_symmetry': 0.5726549443099834, 'vertical_symmetry': 0.5880049290405178, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 28.0, 'visual_complexity': 0.43487677902440514, 'curvature_score': 0.7422198943105947, 'angular_variance': 0.4534596802988458, 'moment_of_inertia': 0.3098723298574616, 'irregularity_score': 0.7416385424137367, 'standardized_complexity': 0.7596606926293366, 'clustering_heights': [0.0, 0.014082522884888714, 0.29712247028456146, 0.40610424937181355, 1.0404474615069472, 2.296022793437833, 4.098226157809593], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 0.14194483894280685, 'perimeter_mean': 1.0054235785048231, 'width_mean': 0.30438697058473846, 'height_mean': 0.3307646348038874, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.3098723298574616, 'center_of_mass': [0.4845896891227935, 0.5216708635214542], 'polsby_popper_compactness': 0.9266265663399667, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 0.7422198943105947, 'angular_variance': 0.4534596802988458, 'edge_length_variance': 0.008044872676066123}, 'composition_features': {'stroke_type_distribution': {'arc': 2, 'line': 6}, 'shape_modifier_distribution': {'zigzag': 2, 'normal': 2, 'triangle': 3, 'circle': 1}, 'stroke_diversity': 2, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'triangle', 'composition_complexity': 12, 'homogeneity_score': 0.28125, 'pattern_regularity': 0.625}, 'stroke_type_features': {'line_features': [{'stroke_index': 1, 'analytic_vertices': [(350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478)], 'open_stroke_perimeter': 376.99111843077515, 'compactness': 0.12337119108014251, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.99111843077515, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 376.99111843077515, 'line_angle': 40.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385)], 'open_stroke_perimeter': 376.9911184307752, 'compactness': 0.32572260299570827, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.9911184307752, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 376.9911184307752, 'line_angle': 69.99999999999997, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467)], 'open_stroke_perimeter': 1275.84, 'compactness': 0.5357210244687773, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1275.84, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1275.84, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 5, 'analytic_vertices': [(-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084)], 'open_stroke_perimeter': 377.7451006676368, 'compactness': 0.12944593073794144, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.7451006676368, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 377.7451006676368, 'line_angle': -155.04, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.08, 'num_vertices': 4, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 6, 'analytic_vertices': [(-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927)], 'open_stroke_perimeter': 377.7451006676369, 'compactness': 0.15796791041048105, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.7451006676369, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 377.7451006676369, 'line_angle': -124.97999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 7, 'analytic_vertices': [(-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838), (0.0, 0.0)], 'open_stroke_perimeter': 1673.90481036264, 'compactness': 0.440004346849136, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1673.90481036264, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1673.90481036264, 'line_angle': -94.91999999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}], 'arc_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)], 'open_stroke_perimeter': 5193.633757962873, 'compactness': 0.536191911689066, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.9911184307752, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.56, 'num_vertices': 28, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 4, 'analytic_vertices': [(36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349)], 'open_stroke_perimeter': 377.74510066763685, 'compactness': 0.5052169386636048, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.74510066763685, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_curved_edges': True, 'analytic_attribute': 'circle'}]}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'arc': 2, 'normal': 6}}, 'processing_metadata': {'processing_timestamp': 1754959143.7522125, 'feature_count': 54}, 'actions': ['arc_zigzag_0.500_0.625-0.500,line_normal_0.217-0.750,line_normal_0.400-0.375,line_triangle_0.269-0.333,arc_circle_0.500_0.667-0.750,line_zigzag_0.269-0.750,line_triangle_0.400-0.333,line_triangle_0.217-0.375'], 'action_program': ['arc_zigzag_0.500_0.625-0.500,line_normal_0.217-0.750,line_normal_0.400-0.375,line_triangle_0.269-0.333,arc_circle_0.500_0.667-0.750,line_zigzag_0.269-0.750,line_triangle_0.400-0.333,line_triangle_0.217-0.375'], 'geometry': {'area': 0.48782667451747613, 'perimeter': 3.381252275842524, 'centroid': [0.4845896891227935, 0.5216708635214542], 'bounds': [0.0, 0.010618086442007986, 1.0, 1.0], 'width': 1.0, 'height': 0.989381913557992}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'arc|normal': 2, 'normal|normal': 4, 'normal|arc': 1}, 'analytic_attributes': ['zigzag', 'normal', 'normal', 'triangle', 'circle', 'zigzag', 'triangle', 'triangle'], 'analytic_ngram': {'zigzag|normal': 1, 'normal|normal': 1, 'normal|triangle': 1, 'triangle|circle': 1, 'circle|zigzag': 1, 'zigzag|triangle': 1, 'triangle|triangle': 1}, 'alternation': 0.375, 'regularity': {'regularity_score': 0.75, 'most_common_element': 'normal', 'distribution': {'arc': 2, 'normal': 6}}}, 'topological_features': {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 1, 4: 1, 1: 2, 2: 2, 5: 2, 3: 0, 6: 0, 7: 0}, 'adjacency_clustering': {0: 0, 4: 0, 1: 1.0, 2: 1.0, 5: 1.0, 3: 0, 6: 0, 7: 0}, 'intersection_count': 4, 'betweenness_centrality': {0: 0.0, 4: 0.0, 1: 0.0, 2: 0.0, 5: 0.0, 3: 0.0, 6: 0.0, 7: 0.0}, 'containment_score': 10, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.09399969636486867, 0.0, 0.09399969636486867, 0.06117040535820814, 0.0, 0.0, 0.0, 0.09399969636486867, 0.0, 0.2078460969082653, 0.06117040535820814, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.09399969636486867, 0.2078460969082653, 0.0, 0.06117040535820814, 0.0, 0.0, 0.0, 0.06117040535820814, 0.06117040535820814, 0.0, 0.06117040535820814], 'geodesic_dist_convex_hull': 4624.603896444832, 'skeleton_graph_features': {'num_nodes': 8, 'num_edges': 4}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.4534596802988458, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_5': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_6': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_7': {'size': 1, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.4487061215984416, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_5': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.16284625962173457, 'complexity': 5, 'groups': {'group_0': {'size': 8, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_3': {'size': 5, 'curvature': 0.0, 'complexity': 0}, 'group_4': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.052659796020560555, 'complexity': 5, 'groups': {'group_0': {'size': 13, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 8, 'curvature': 0.0, 'complexity': 3}, 'group_2': {'size': 7, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.015089959471391533, 'complexity': 2, 'groups': {'group_0': {'size': 16, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 12, 'curvature': 0.0, 'complexity': 2}}}}}
2025-08-12 06:09:03,752 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.48562512477291736, 0.5030511521489427], 'orientation_degrees': 136.29337693977692}
2025-08-12 06:09:03,753 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.48782667451747613, 'perimeter': 3.381252275842524, 'centroid': [0.4845896891227935, 0.5216708635214542], 'bounds': [0.0, 0.010618086442007986, 1.0, 1.0], 'width': 1.0, 'height': 0.989381913557992}
2025-08-12 06:09:03,753 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'arc_zigzag_0.500_0.625-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)], 'open_stroke_perimeter': 5193.633757962873, 'compactness': 0.536191911689066, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.9911184307752, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.56, 'num_vertices': 28, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.217-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478)], 'open_stroke_perimeter': 376.99111843077515, 'compactness': 0.12337119108014251, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.99111843077515, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 376.99111843077515, 'line_angle': 40.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.400-0.375', 'features': {'stroke_index': 2, 'analytic_vertices': [(590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385)], 'open_stroke_perimeter': 376.9911184307752, 'compactness': 0.32572260299570827, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.9911184307752, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 376.9911184307752, 'line_angle': 69.99999999999997, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_triangle_0.269-0.333', 'features': {'stroke_index': 3, 'analytic_vertices': [(655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467)], 'open_stroke_perimeter': 1275.84, 'compactness': 0.5357210244687773, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1275.84, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1275.84, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'arc_circle_0.500_0.667-0.750', 'features': {'stroke_index': 4, 'analytic_vertices': [(36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349)], 'open_stroke_perimeter': 377.74510066763685, 'compactness': 0.5052169386636048, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.74510066763685, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_zigzag_0.269-0.750', 'features': {'stroke_index': 5, 'analytic_vertices': [(-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084)], 'open_stroke_perimeter': 377.7451006676368, 'compactness': 0.12944593073794144, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.7451006676368, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 377.7451006676368, 'line_angle': -155.04, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.08, 'num_vertices': 4, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_triangle_0.400-0.333', 'features': {'stroke_index': 6, 'analytic_vertices': [(-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927)], 'open_stroke_perimeter': 377.7451006676369, 'compactness': 0.15796791041048105, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.7451006676369, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 377.7451006676369, 'line_angle': -124.97999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 7, 'stroke_command': 'line_triangle_0.217-0.375', 'features': {'stroke_index': 7, 'analytic_vertices': [(-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838), (0.0, 0.0)], 'open_stroke_perimeter': 1673.90481036264, 'compactness': 0.440004346849136, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1673.90481036264, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1673.90481036264, 'line_angle': -94.91999999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:03,753 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['arc_zigzag_0.500_0.625-0.500', 'line_normal_0.217-0.750', 'line_normal_0.400-0.375', 'line_triangle_0.269-0.333', 'arc_circle_0.500_0.667-0.750', 'line_zigzag_0.269-0.750', 'line_triangle_0.400-0.333', 'line_triangle_0.217-0.375']]
2025-08-12 06:09:03,754 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)]
2025-08-12 06:09:03,754 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(0.5530354920600635, 0.00901669563596929), (0.63744045954503, 0.02276016002465851), (0.7179787421293208, 0.04982950059111517), (0.7922032248509496, 0.08940222911997475), (0.8578586343618201, 0.14027594827965467), (0.9129500642671846, 0.2009048858568321), (0.9558035893469777, 0.2694468622629473), (0.9851171269265797, 0.3438192642288139), (1.0, 0.42176232395495056), (1.0, 0.5009077810126698), (0.7868776924081415, 0.5009077810126698), (0.5090892520020065, 0.7574291878322639), (0.5780017758040724, 0.9929503490851701), (0.4924632987667956, 1.0), (0.4069012606337149, 0.9931985372083599), (0.3239258035296866, 0.972753445068155), (0.24606816374409854, 0.9392884183557854), (0.17570345423335534, 0.8938243359310502), (0.11497820979728975, 0.837748117966657), (0.06574490522499282, 0.7727704167788099), (0.029505443989242586, 0.7008734319357676), (0.007365341414561925, 0.6242504415884913), (0.0, 0.5452388946711312), (0.00763410569635414, 0.4662491050501979), (0.030034773671770917, 0.3896907228675273), (0.2850819328084692, 0.45332741533518234), (0.5628703732146042, 0.19680600851558816), (0.5628703732146042, 0.0)]
2025-08-12 06:09:03,754 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.4845896891227935, 0.5216708635214542], 'width': 1.0, 'height': 0.989381913557992, 'area_raw': 0.6761904114901152, 'area_normalized': 1.0, 'perimeter_raw': 3.4151773926311058, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0107320401722562, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.7285382165839069, 'polsby_popper_compactness': 0.5255358988550749, 'eccentricity': 0.6432915642575143, 'symmetry_score': 0.48230343195833025, 'horizontal_symmetry': 0.5726549443099834, 'vertical_symmetry': 0.5880049290405178, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 28.0, 'visual_complexity': 0.43487677902440514, 'curvature_score': 0.7422198943105947, 'angular_variance': 0.4534596802988458, 'moment_of_inertia': 0.3098723298574616, 'irregularity_score': 0.7416385424137367, 'standardized_complexity': 0.7596606926293366, 'clustering_heights': [0.0, 0.014082522884888714, 0.29712247028456146, 0.40610424937181355, 1.0404474615069472, 2.296022793437833, 4.098226157809593], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:03,755 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.3098723298574616, 'center_of_mass': [0.4845896891227935, 0.5216708635214542], 'polsby_popper_compactness': 0.9266265663399667, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 0.7422198943105947, 'angular_variance': 0.4534596802988458, 'edge_length_variance': 0.008044872676066123}
2025-08-12 06:09:03,755 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'arc': 2, 'line': 6}, 'shape_modifier_distribution': {'zigzag': 2, 'normal': 2, 'triangle': 3, 'circle': 1}, 'stroke_diversity': 2, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'triangle', 'composition_complexity': 12, 'homogeneity_score': 0.28125, 'pattern_regularity': 0.625}
2025-08-12 06:09:03,755 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 1, 'analytic_vertices': [(350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478)], 'open_stroke_perimeter': 376.99111843077515, 'compactness': 0.12337119108014251, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.99111843077515, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 376.99111843077515, 'line_angle': 40.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385)], 'open_stroke_perimeter': 376.9911184307752, 'compactness': 0.32572260299570827, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.9911184307752, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 376.9911184307752, 'line_angle': 69.99999999999997, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467)], 'open_stroke_perimeter': 1275.84, 'compactness': 0.5357210244687773, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1275.84, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1275.84, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 5, 'analytic_vertices': [(-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084)], 'open_stroke_perimeter': 377.7451006676368, 'compactness': 0.12944593073794144, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.7451006676368, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 377.7451006676368, 'line_angle': -155.04, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.08, 'num_vertices': 4, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 6, 'analytic_vertices': [(-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927)], 'open_stroke_perimeter': 377.7451006676369, 'compactness': 0.15796791041048105, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.7451006676369, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 377.7451006676369, 'line_angle': -124.97999999999998, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 7, 'analytic_vertices': [(-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838), (0.0, 0.0)], 'open_stroke_perimeter': 1673.90481036264, 'compactness': 0.440004346849136, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1673.90481036264, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1673.90481036264, 'line_angle': -94.91999999999996, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}], 'arc_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (123.75459208245697, 21.82127357070734), (241.83984944619894, 64.8007923567733), (350.667811300252, 127.63264542856916), (446.9317950932866, 208.40771872496015), (527.7068683896777, 304.67170251799473), (590.5387214614735, 413.4996643720478), (633.5182402475396, 531.5849217357897), (655.3395138182469, 655.3395138182467), (655.3395138182469, 781.0032199618385), (342.8595138182469, 781.0032199618385), (-64.43399214520446, 1188.2967259252898), (36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349), (-450.07560135782364, 1477.0448834770395), (-553.244362415087, 1404.858995539802), (-642.2797364957808, 1315.8236214591084), (-714.4656244330182, 1212.6548604018449), (-767.5999348433276, 1098.4999624228312), (-800.0617607812544, 976.841318947927), (-810.8608268725894, 851.3902294870016), (-799.6676984997251, 725.9736853127712), (-766.8238314824667, 604.4176238648502), (-392.87359986400975, 705.4571897413047), (14.419906099441505, 298.1636837778532), (14.419906099441448, -14.316316222146838)], 'open_stroke_perimeter': 5193.633757962873, 'compactness': 0.536191911689066, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 376.9911184307752, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.56, 'num_vertices': 28, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 4, 'analytic_vertices': [(36.60557373124996, 1562.2469575437467), (-88.81097044298049, 1573.440085916611), (-214.26205990390582, 1562.6410198252759), (-335.92070337881006, 1530.179193887349)], 'open_stroke_perimeter': 377.74510066763685, 'compactness': 0.5052169386636048, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 377.74510066763685, 'avg_stroke_length': 651.7441834572345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'has_curved_edges': True, 'analytic_attribute': 'circle'}]}
2025-08-12 06:09:03,756 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}
2025-08-12 06:09:03,757 - INFO - [INPUT] Processing image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_1, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018, is_positive=False
2025-08-12 06:09:03,757 - INFO - [INPUT] action_commands type: <class 'list'>, value: [['line_normal_0.990-0.500', 'line_circle_0.700-0.125', 'line_circle_0.990-0.125', 'line_triangle_0.700-0.875']]
2025-08-12 06:09:03,758 - INFO - [SHAPE SPLIT] Raw action_commands: [['line_normal_0.990-0.500', 'line_circle_0.700-0.125', 'line_circle_0.990-0.125', 'line_triangle_0.700-0.875']]
2025-08-12 06:09:03,758 - INFO - [SHAPE SPLIT] Sublist 0: ['line_normal_0.990-0.500', 'line_circle_0.700-0.125', 'line_circle_0.990-0.125', 'line_triangle_0.700-0.875']
2025-08-12 06:09:03,758 - INFO - [SHAPE SPLIT] Parsed shapes_commands (multi-object): [['line_normal_0.990-0.500', 'line_circle_0.700-0.125', 'line_circle_0.990-0.125', 'line_triangle_0.700-0.875']]
2025-08-12 06:09:03,758 - INFO - ComprehensiveNVLabsParser initialized:
2025-08-12 06:09:03,758 - INFO -   Canvas size: 512x512
2025-08-12 06:09:03,759 - INFO -   Coordinate range: (-360, 360)
2025-08-12 06:09:03,759 - INFO -   Base scaling factor: 1440.0
2025-08-12 06:09:03,759 - INFO - [PARSER] Parsing shape 0 commands: ['line_normal_0.990-0.500', 'line_circle_0.700-0.125', 'line_circle_0.990-0.125', 'line_triangle_0.700-0.875']
2025-08-12 06:09:03,759 - INFO - [LOGOPARSER] Input action_commands for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: ['line_normal_0.990-0.500', 'line_circle_0.700-0.125', 'line_circle_0.990-0.125', 'line_triangle_0.700-0.875']
2025-08-12 06:09:03,760 - DEBUG - Parsing 4 commands for hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:03,760 - DEBUG - [ACTIONS_JOIN] line_normal_0.990-0.500,line_circle_0.700-0.125,line_circle_0.990-0.125,line_triangle_0.700-0.875
2025-08-12 06:09:03,760 - DEBUG - [ACTIONS_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:03,760 - DEBUG - [ACTIONS_ATTRS] [{'line_length': 1425.6, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_0.990-0.500'}, {'line_length': 1007.9999999999999, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_circle_0.700-0.125'}, {'line_length': 1425.6, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_circle_0.990-0.125'}, {'line_length': 1007.9999999999999, 'line_type': 'triangle', 'turn_direction': 'L', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_triangle_0.700-0.875'}]
2025-08-12 06:09:03,762 - INFO - [OneStrokeShape.__init__] basic_actions: [line_normal_0.990-0.500, line_circle_0.700-0.125, line_circle_0.990-0.125, line_triangle_0.700-0.875], start_coordinates: None, start_orientation: None, scaling_factors: None
2025-08-12 06:09:03,762 - DEBUG - [OUTPUT_SHAPE_ACTIONS] line_normal_0.990-0.500,line_circle_0.700-0.125,line_circle_0.990-0.125,line_triangle_0.700-0.875
2025-08-12 06:09:03,762 - DEBUG - [OUTPUT_SHAPE_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:03,763 - DEBUG - [OUTPUT_SHAPE_ATTRS] [{'line_length': 1425.6, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_0.990-0.500'}, {'line_length': 1007.9999999999999, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_circle_0.700-0.125'}, {'line_length': 1425.6, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_circle_0.990-0.125'}, {'line_length': 1007.9999999999999, 'line_type': 'triangle', 'turn_direction': 'L', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_triangle_0.700-0.875'}]
2025-08-12 06:09:03,763 - INFO - [OneStrokeShape._calculate_vertices] INPUT basic_actions: [line_normal_0.990-0.500, line_circle_0.700-0.125, line_circle_0.990-0.125, line_triangle_0.700-0.875]
2025-08-12 06:09:03,763 - INFO - [OneStrokeShape._calculate_vertices] OUTPUT vertices: [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)]
2025-08-12 06:09:03,763 - INFO - [LOGOPARSER] Shape for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 has 5 vertices.
2025-08-12 06:09:03,763 - INFO - [LOGOPARSER] Parsed vertices (raw): [[0.0, 0.0], [1425.6, 0.0], [712.8363645639602, -712.7636354360399], [712.8363645639599, 712.83636456396], [0.0727291279201836, 0.0727291279201836]]
2025-08-12 06:09:03,764 - INFO - [LOGOPARSER] Vertices bounding box: min=(0.00,-712.76), max=(1425.60,712.84), center=(570.27,0.03)
2025-08-12 06:09:03,764 - INFO - Successfully created OneStrokeShape with 4 actions using NVLabs implementation
2025-08-12 06:09:03,764 - INFO - [PARSER] Parsed shape 0: type=OneStrokeShape, num_actions=4, action_types=['str', 'str', 'str', 'str'], attributes={}
2025-08-12 06:09:03,765 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.990-0.500, stroke_index=0
2025-08-12 06:09:03,765 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.99, param2=None, param3=0.5
2025-08-12 06:09:03,765 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.445, 0.5), (0.39, 0.5), (0.33499999999999996, 0.5), (0.28, 0.5), (0.22499999999999998, 0.5), (0.16999999999999998, 0.5), (0.11499999999999999, 0.5), (0.06, 0.5), (0.0050000000000000044, 0.5), (-0.050000000000000044, 0.5000000000000001), (-0.10499999999999998, 0.5000000000000001), (-0.16000000000000003, 0.5000000000000001), (-0.21499999999999997, 0.5000000000000001), (-0.27, 0.5000000000000001), (-0.32499999999999996, 0.5000000000000001), (-0.38, 0.5000000000000001), (-0.43500000000000005, 0.5000000000000001), (-0.49, 0.5000000000000001)]
2025-08-12 06:09:03,765 - INFO - [_calculate_vertices_from_action] Bounding box: (-0.49, 0.5, 0.5, 0.5000000000000001)
2025-08-12 06:09:03,766 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,767 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:03,767 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:03,768 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:03,768 - INFO - Computed angular variance: 0.929547 for 19 vertices.
2025-08-12 06:09:03,768 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,770 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,770 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,770 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,771 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,772 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (-0.49, 0.5000000000000001)]
2025-08-12 06:09:03,772 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (-0.49, 0.5000000000000001)]
2025-08-12 06:09:03,772 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.38, 'num_vertices': 19, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,773 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.38, 'num_vertices': 19, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:03,774 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:03,774 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_1, stroke_idx=0, assigned is_positive=False
2025-08-12 06:09:03,775 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_1, stroke_idx=0, stroke_dict: {'command': 'line_normal_0.990-0.500', 'vertices': [(0.5, 0.5), (0.445, 0.5), (0.39, 0.5), (0.33499999999999996, 0.5), (0.28, 0.5), (0.22499999999999998, 0.5), (0.16999999999999998, 0.5), (0.11499999999999999, 0.5), (0.06, 0.5), (0.0050000000000000044, 0.5), (-0.050000000000000044, 0.5000000000000001), (-0.10499999999999998, 0.5000000000000001), (-0.16000000000000003, 0.5000000000000001), (-0.21499999999999997, 0.5000000000000001), (-0.27, 0.5000000000000001), (-0.32499999999999996, 0.5000000000000001), (-0.38, 0.5000000000000001), (-0.43500000000000005, 0.5000000000000001), (-0.49, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.445, 0.5), (0.39, 0.5), (0.33499999999999996, 0.5), (0.28, 0.5), (0.22499999999999998, 0.5), (0.16999999999999998, 0.5), (0.11499999999999999, 0.5), (0.06, 0.5), (0.0050000000000000044, 0.5), (-0.050000000000000044, 0.5000000000000001), (-0.10499999999999998, 0.5000000000000001), (-0.16000000000000003, 0.5000000000000001), (-0.21499999999999997, 0.5000000000000001), (-0.27, 0.5000000000000001), (-0.32499999999999996, 0.5000000000000001), (-0.38, 0.5000000000000001), (-0.43500000000000005, 0.5000000000000001), (-0.49, 0.5000000000000001)], 'open_stroke_perimeter': 0.99, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:03,775 - INFO - [_vertices_from_command] INPUT: command=line_circle_0.700-0.125, stroke_index=1
2025-08-12 06:09:03,775 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.7, param2=None, param3=0.125
2025-08-12 06:09:03,775 - INFO - [_vertices_from_command] Circle vertices: [(1.2, 0.5), (1.1657395614066073, 0.7163118960624631), (1.0663118960624631, 0.9114496766047312), (0.9114496766047312, 1.0663118960624631), (0.7163118960624633, 1.1657395614066073), (0.5, 1.2), (0.28368810393753685, 1.1657395614066075), (0.08855032339526892, 1.0663118960624631), (-0.06631189606246313, 0.9114496766047313), (-0.1657395614066074, 0.7163118960624633), (-0.19999999999999996, 0.5000000000000001), (-0.16573956140660762, 0.2836881039375372), (-0.06631189606246313, 0.08855032339526892), (0.08855032339526875, -0.06631189606246313), (0.28368810393753674, -0.1657395614066074), (0.4999999999999999, -0.19999999999999996), (0.716311896062463, -0.1657395614066075), (0.9114496766047311, -0.06631189606246324), (1.0663118960624631, 0.08855032339526869), (1.1657395614066073, 0.28368810393753663)]
2025-08-12 06:09:03,776 - INFO - [_calculate_vertices_from_action] Bounding box: (-0.19999999999999996, -0.19999999999999996, 1.2, 1.2)
2025-08-12 06:09:03,776 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:03,778 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,778 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:03,781 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275}
2025-08-12 06:09:03,781 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275, 'has_curved_edges': True}
2025-08-12 06:09:03,782 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_1, stroke_idx=1, assigned is_positive=False
2025-08-12 06:09:03,782 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_1, stroke_idx=1, stroke_dict: {'command': 'line_circle_0.700-0.125', 'vertices': [(1.2, 0.5), (1.1657395614066073, 0.7163118960624631), (1.0663118960624631, 0.9114496766047312), (0.9114496766047312, 1.0663118960624631), (0.7163118960624633, 1.1657395614066073), (0.5, 1.2), (0.28368810393753685, 1.1657395614066075), (0.08855032339526892, 1.0663118960624631), (-0.06631189606246313, 0.9114496766047313), (-0.1657395614066074, 0.7163118960624633), (-0.19999999999999996, 0.5000000000000001), (-0.16573956140660762, 0.2836881039375372), (-0.06631189606246313, 0.08855032339526892), (0.08855032339526875, -0.06631189606246313), (0.28368810393753674, -0.1657395614066074), (0.4999999999999999, -0.19999999999999996), (0.716311896062463, -0.1657395614066075), (0.9114496766047311, -0.06631189606246324), (1.0663118960624631, 0.08855032339526869), (1.1657395614066073, 0.28368810393753663)], 'geometry': {'area': 1.5141832724372422, 'perimeter': 4.380165021126465, 'centroid': [0.49999999999999983, 0.49999999999999983], 'bounds': [-0.19999999999999996, -0.19999999999999996, 1.2, 1.2], 'width': 1.4, 'height': 1.4, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.2, 0.5), (1.1657395614066073, 0.7163118960624631), (1.0663118960624631, 0.9114496766047312), (0.9114496766047312, 1.0663118960624631), (0.7163118960624633, 1.1657395614066073), (0.5, 1.2), (0.28368810393753685, 1.1657395614066075), (0.08855032339526892, 1.0663118960624631), (-0.06631189606246313, 0.9114496766047313), (-0.1657395614066074, 0.7163118960624633), (-0.19999999999999996, 0.5000000000000001), (-0.16573956140660762, 0.2836881039375372), (-0.06631189606246313, 0.08855032339526892), (0.08855032339526875, -0.06631189606246313), (0.28368810393753674, -0.1657395614066074), (0.4999999999999999, -0.19999999999999996), (0.716311896062463, -0.1657395614066075), (0.9114496766047311, -0.06631189606246324), (1.0663118960624631, 0.08855032339526869), (1.1657395614066073, 0.28368810393753663)], 'open_stroke_perimeter': 4.161156770070141, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:03,782 - INFO - [_vertices_from_command] INPUT: command=line_circle_0.990-0.125, stroke_index=2
2025-08-12 06:09:03,783 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.99, param2=None, param3=0.125
2025-08-12 06:09:03,783 - INFO - [_vertices_from_command] Circle vertices: [(1.49, 0.5), (1.441545951132202, 0.8059268244311979), (1.300926824431198, 1.0819073997695483), (1.0819073997695483, 1.300926824431198), (0.8059268244311979, 1.441545951132202), (0.5000000000000001, 1.49), (0.19407317556880216, 1.441545951132202), (-0.0819073997695483, 1.300926824431198), (-0.3009268244311979, 1.0819073997695485), (-0.44154595113220196, 0.805926824431198), (-0.49, 0.5000000000000001), (-0.4415459511322022, 0.1940731755688026), (-0.300926824431198, -0.0819073997695483), (-0.08190739976954853, -0.3009268244311979), (0.19407317556880194, -0.44154595113220196), (0.49999999999999983, -0.49), (0.8059268244311977, -0.4415459511322021), (1.0819073997695483, -0.3009268244311981), (1.300926824431198, -0.08190739976954864), (1.441545951132202, 0.19407317556880183)]
2025-08-12 06:09:03,783 - INFO - [_calculate_vertices_from_action] Bounding box: (-0.49, -0.49, 1.49, 1.49)
2025-08-12 06:09:03,784 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:03,784 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,784 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:03,789 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547279}
2025-08-12 06:09:03,789 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547279, 'has_curved_edges': True}
2025-08-12 06:09:03,790 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_1, stroke_idx=2, assigned is_positive=False
2025-08-12 06:09:03,790 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_1, stroke_idx=2, stroke_dict: {'command': 'line_circle_0.990-0.125', 'vertices': [(1.49, 0.5), (1.441545951132202, 0.8059268244311979), (1.300926824431198, 1.0819073997695483), (1.0819073997695483, 1.300926824431198), (0.8059268244311979, 1.441545951132202), (0.5000000000000001, 1.49), (0.19407317556880216, 1.441545951132202), (-0.0819073997695483, 1.300926824431198), (-0.3009268244311979, 1.0819073997695485), (-0.44154595113220196, 0.805926824431198), (-0.49, 0.5000000000000001), (-0.4415459511322022, 0.1940731755688026), (-0.300926824431198, -0.0819073997695483), (-0.08190739976954853, -0.3009268244311979), (0.19407317556880194, -0.44154595113220196), (0.49999999999999983, -0.49), (0.8059268244311977, -0.4415459511322021), (1.0819073997695483, -0.3009268244311981), (1.300926824431198, -0.08190739976954864), (1.441545951132202, 0.19407317556880183)], 'geometry': {'area': 3.0286755618688597, 'perimeter': 6.194804815593144, 'centroid': [0.49999999999999994, 0.5000000000000001], 'bounds': [-0.49, -0.49, 1.49, 1.49], 'width': 1.98, 'height': 1.98, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.49, 0.5), (1.441545951132202, 0.8059268244311979), (1.300926824431198, 1.0819073997695483), (1.0819073997695483, 1.300926824431198), (0.8059268244311979, 1.441545951132202), (0.5000000000000001, 1.49), (0.19407317556880216, 1.441545951132202), (-0.0819073997695483, 1.300926824431198), (-0.3009268244311979, 1.0819073997695485), (-0.44154595113220196, 0.805926824431198), (-0.49, 0.5000000000000001), (-0.4415459511322022, 0.1940731755688026), (-0.300926824431198, -0.0819073997695483), (-0.08190739976954853, -0.3009268244311979), (0.19407317556880194, -0.44154595113220196), (0.49999999999999983, -0.49), (0.8059268244311977, -0.4415459511322021), (1.0819073997695483, -0.3009268244311981), (1.300926824431198, -0.08190739976954864), (1.441545951132202, 0.19407317556880183)], 'open_stroke_perimeter': 5.8850645748134855, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:03,790 - INFO - [_vertices_from_command] INPUT: command=line_triangle_0.700-0.875, stroke_index=3
2025-08-12 06:09:03,790 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=0.7, param2=None, param3=0.875
2025-08-12 06:09:03,791 - INFO - [_vertices_from_command] Triangle vertices: [(1.2, 0.5), (0.1500000000000002, 1.106217782649107), (0.1499999999999997, -0.10621778264910686), (1.2, 0.5)]
2025-08-12 06:09:03,791 - INFO - [_calculate_vertices_from_action] Bounding box: (0.1499999999999997, -0.10621778264910686, 1.2, 1.106217782649107)
2025-08-12 06:09:03,792 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,792 - INFO - Convexity: poly_area=0.6365, hull_area=0.6365, ratio=1.0000
2025-08-12 06:09:03,793 - INFO - Computed angular variance: 0.068539 for 4 vertices.
2025-08-12 06:09:03,793 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,794 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,794 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:03,795 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,795 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:03,797 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-12 06:09:03,797 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-12 06:09:03,798 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_1, stroke_idx=3, assigned is_positive=False
2025-08-12 06:09:03,798 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_1, stroke_idx=3, stroke_dict: {'command': 'line_triangle_0.700-0.875', 'vertices': [(1.2, 0.5), (0.1500000000000002, 1.106217782649107), (0.1499999999999997, -0.10621778264910686), (1.2, 0.5)], 'geometry': {'area': 0.6365286717815624, 'perimeter': 3.637306695894642, 'centroid': [0.4999999999999999, 0.5000000000000001], 'bounds': [0.1499999999999997, -0.10621778264910686, 1.2, 1.106217782649107], 'width': 1.0500000000000003, 'height': 1.212435565298214, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.2, 0.5), (0.1500000000000002, 1.106217782649107), (0.1499999999999997, -0.10621778264910686), (1.2, 0.5)], 'open_stroke_perimeter': 3.637306695894642, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:03,799 - INFO - [ATTR DEBUG] Shape 0 strokes (dicts): [{'command': 'line_normal_0.990-0.500', 'vertices': [(0.5, 0.5), (0.445, 0.5), (0.39, 0.5), (0.33499999999999996, 0.5), (0.28, 0.5), (0.22499999999999998, 0.5), (0.16999999999999998, 0.5), (0.11499999999999999, 0.5), (0.06, 0.5), (0.0050000000000000044, 0.5), (-0.050000000000000044, 0.5000000000000001), (-0.10499999999999998, 0.5000000000000001), (-0.16000000000000003, 0.5000000000000001), (-0.21499999999999997, 0.5000000000000001), (-0.27, 0.5000000000000001), (-0.32499999999999996, 0.5000000000000001), (-0.38, 0.5000000000000001), (-0.43500000000000005, 0.5000000000000001), (-0.49, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.445, 0.5), (0.39, 0.5), (0.33499999999999996, 0.5), (0.28, 0.5), (0.22499999999999998, 0.5), (0.16999999999999998, 0.5), (0.11499999999999999, 0.5), (0.06, 0.5), (0.0050000000000000044, 0.5), (-0.050000000000000044, 0.5000000000000001), (-0.10499999999999998, 0.5000000000000001), (-0.16000000000000003, 0.5000000000000001), (-0.21499999999999997, 0.5000000000000001), (-0.27, 0.5000000000000001), (-0.32499999999999996, 0.5000000000000001), (-0.38, 0.5000000000000001), (-0.43500000000000005, 0.5000000000000001), (-0.49, 0.5000000000000001)], 'open_stroke_perimeter': 0.99, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_circle_0.700-0.125', 'vertices': [(1.2, 0.5), (1.1657395614066073, 0.7163118960624631), (1.0663118960624631, 0.9114496766047312), (0.9114496766047312, 1.0663118960624631), (0.7163118960624633, 1.1657395614066073), (0.5, 1.2), (0.28368810393753685, 1.1657395614066075), (0.08855032339526892, 1.0663118960624631), (-0.06631189606246313, 0.9114496766047313), (-0.1657395614066074, 0.7163118960624633), (-0.19999999999999996, 0.5000000000000001), (-0.16573956140660762, 0.2836881039375372), (-0.06631189606246313, 0.08855032339526892), (0.08855032339526875, -0.06631189606246313), (0.28368810393753674, -0.1657395614066074), (0.4999999999999999, -0.19999999999999996), (0.716311896062463, -0.1657395614066075), (0.9114496766047311, -0.06631189606246324), (1.0663118960624631, 0.08855032339526869), (1.1657395614066073, 0.28368810393753663)], 'geometry': {'area': 1.5141832724372422, 'perimeter': 4.380165021126465, 'centroid': [0.49999999999999983, 0.49999999999999983], 'bounds': [-0.19999999999999996, -0.19999999999999996, 1.2, 1.2], 'width': 1.4, 'height': 1.4, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.2, 0.5), (1.1657395614066073, 0.7163118960624631), (1.0663118960624631, 0.9114496766047312), (0.9114496766047312, 1.0663118960624631), (0.7163118960624633, 1.1657395614066073), (0.5, 1.2), (0.28368810393753685, 1.1657395614066075), (0.08855032339526892, 1.0663118960624631), (-0.06631189606246313, 0.9114496766047313), (-0.1657395614066074, 0.7163118960624633), (-0.19999999999999996, 0.5000000000000001), (-0.16573956140660762, 0.2836881039375372), (-0.06631189606246313, 0.08855032339526892), (0.08855032339526875, -0.06631189606246313), (0.28368810393753674, -0.1657395614066074), (0.4999999999999999, -0.19999999999999996), (0.716311896062463, -0.1657395614066075), (0.9114496766047311, -0.06631189606246324), (1.0663118960624631, 0.08855032339526869), (1.1657395614066073, 0.28368810393753663)], 'open_stroke_perimeter': 4.161156770070141, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_circle_0.990-0.125', 'vertices': [(1.49, 0.5), (1.441545951132202, 0.8059268244311979), (1.300926824431198, 1.0819073997695483), (1.0819073997695483, 1.300926824431198), (0.8059268244311979, 1.441545951132202), (0.5000000000000001, 1.49), (0.19407317556880216, 1.441545951132202), (-0.0819073997695483, 1.300926824431198), (-0.3009268244311979, 1.0819073997695485), (-0.44154595113220196, 0.805926824431198), (-0.49, 0.5000000000000001), (-0.4415459511322022, 0.1940731755688026), (-0.300926824431198, -0.0819073997695483), (-0.08190739976954853, -0.3009268244311979), (0.19407317556880194, -0.44154595113220196), (0.49999999999999983, -0.49), (0.8059268244311977, -0.4415459511322021), (1.0819073997695483, -0.3009268244311981), (1.300926824431198, -0.08190739976954864), (1.441545951132202, 0.19407317556880183)], 'geometry': {'area': 3.0286755618688597, 'perimeter': 6.194804815593144, 'centroid': [0.49999999999999994, 0.5000000000000001], 'bounds': [-0.49, -0.49, 1.49, 1.49], 'width': 1.98, 'height': 1.98, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.49, 0.5), (1.441545951132202, 0.8059268244311979), (1.300926824431198, 1.0819073997695483), (1.0819073997695483, 1.300926824431198), (0.8059268244311979, 1.441545951132202), (0.5000000000000001, 1.49), (0.19407317556880216, 1.441545951132202), (-0.0819073997695483, 1.300926824431198), (-0.3009268244311979, 1.0819073997695485), (-0.44154595113220196, 0.805926824431198), (-0.49, 0.5000000000000001), (-0.4415459511322022, 0.1940731755688026), (-0.300926824431198, -0.0819073997695483), (-0.08190739976954853, -0.3009268244311979), (0.19407317556880194, -0.44154595113220196), (0.49999999999999983, -0.49), (0.8059268244311977, -0.4415459511322021), (1.0819073997695483, -0.3009268244311981), (1.300926824431198, -0.08190739976954864), (1.441545951132202, 0.19407317556880183)], 'open_stroke_perimeter': 5.8850645748134855, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_triangle_0.700-0.875', 'vertices': [(1.2, 0.5), (0.1500000000000002, 1.106217782649107), (0.1499999999999997, -0.10621778264910686), (1.2, 0.5)], 'geometry': {'area': 0.6365286717815624, 'perimeter': 3.637306695894642, 'centroid': [0.4999999999999999, 0.5000000000000001], 'bounds': [0.1499999999999997, -0.10621778264910686, 1.2, 1.106217782649107], 'width': 1.0500000000000003, 'height': 1.212435565298214, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.2, 0.5), (0.1500000000000002, 1.106217782649107), (0.1499999999999997, -0.10621778264910686), (1.2, 0.5)], 'open_stroke_perimeter': 3.637306695894642, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-12 06:09:03,800 - INFO - [PATCH][SHAPE GEOMETRY] idx=0, vertices=[(0.0, 0.4999744917480639), (1.0, 0.4999744917480639), (0.5000255082519361, 0.0), (0.500025508251936, 1.0), (5.101650387218267e-05, 0.5000255082519361)], geometry={'area': 0.12501275445130353, 'perimeter': 1.7071938718062603, 'centroid': [0.33335033883462395, 0.6666496611653758], 'bounds': [0.0, 0.4999744917480639, 0.5000255082519361, 1.0], 'width': 0.5000255082519361, 'height': 0.500025508251936}
2025-08-12 06:09:03,800 - INFO - [robust_curvature] INPUT: [(0.0, 0.4999744917480639), (1.0, 0.4999744917480639), (0.5000255082519361, 0.0), (0.500025508251936, 1.0), (5.101650387218267e-05, 0.5000255082519361)]
2025-08-12 06:09:03,800 - INFO - [robust_curvature] OUTPUT: 2.112190114220502
2025-08-12 06:09:03,801 - INFO - Computed angular variance: 0.888264 for 5 vertices.
2025-08-12 06:09:03,801 - INFO - [PATCH][SHAPE PHYSICS] idx=0, physics features: {'robust_curvature': 2.112190114220502, 'robust_angular_variance': 0.8882643960979427, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 3.141432388692171}
2025-08-12 06:09:03,802 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 1.42560000e+03  0.00000000e+00]
 [ 7.12836365e+02 -7.12763635e+02]
 [ 7.12836365e+02  7.12836365e+02]
 [ 7.27291279e-02  7.27291279e-02]]
2025-08-12 06:09:03,803 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,803 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,803 - INFO - Computed angular variance: 0.888264 for 5 vertices.
2025-08-12 06:09:03,804 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [7.12836365e+02 7.12836365e+02]
 [7.27291279e-02 7.27291279e-02]]
2025-08-12 06:09:03,804 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,806 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,806 - INFO - [robust_curvature] INPUT: [[1425.6           0.        ]
 [ 712.83636456 -712.76363544]]
2025-08-12 06:09:03,806 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,806 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,807 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,807 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.8882643960980422, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,808 - INFO - [robust_curvature] INPUT: [[ 5.46924955e+00  2.79007757e-04]
 [ 1.41739668e+03 -2.73434577e+00]
 [ 7.15570710e+02 -7.04560319e+02]
 [ 7.10102019e+02  7.04633048e+02]
 [ 2.80679589e+00  2.80679589e+00]]
2025-08-12 06:09:03,808 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,808 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,809 - INFO - Computed angular variance: 0.384545 for 5 vertices.
2025-08-12 06:09:03,810 - INFO - [robust_curvature] INPUT: [[5.46924955e+00 2.79007757e-04]
 [7.10102019e+02 7.04633048e+02]
 [2.80679589e+00 2.80679589e+00]]
2025-08-12 06:09:03,810 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,811 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,811 - INFO - [robust_curvature] INPUT: [[1417.39668369   -2.73434577]
 [ 715.57071033 -704.56031912]]
2025-08-12 06:09:03,811 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,811 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,813 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,813 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.3845453269488489, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,813 - INFO - [robust_curvature] INPUT: [[ 1.52140148e+02  7.76126249e-03]
 [ 1.19740532e+03 -7.56861274e+01]
 [ 7.88334438e+02 -4.84757010e+02]
 [ 6.36962106e+02  4.84829720e+02]
 [ 7.65034466e+01  7.57511145e+01]]
2025-08-12 06:09:03,814 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,814 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,814 - INFO - Computed angular variance: 0.328243 for 5 vertices.
2025-08-12 06:09:03,815 - INFO - [robust_curvature] INPUT: [[1.52140148e+02 7.76126249e-03]
 [6.36962106e+02 4.84829720e+02]
 [7.65034466e+01 7.57511145e+01]]
2025-08-12 06:09:03,816 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,816 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,816 - INFO - [robust_curvature] INPUT: [[1197.40531994  -75.68612741]
 [ 788.33443773 -484.75700962]]
2025-08-12 06:09:03,817 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,817 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,817 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,819 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.32824258679273993, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,819 - INFO - [robust_curvature] INPUT: [[ 4.28454952e+02  2.18571587e-02]
 [ 7.82965535e+02 -1.30913557e+02]
 [ 8.02112388e+02 -1.11766704e+02]
 [ 5.40268279e+02  1.11835184e+02]
 [ 2.97544304e+02  1.30968678e+02]]
2025-08-12 06:09:03,819 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,820 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,820 - INFO - Computed angular variance: 0.526289 for 5 vertices.
2025-08-12 06:09:03,821 - INFO - [robust_curvature] INPUT: [[4.28454952e+02 2.18571587e-02]
 [5.40268279e+02 1.11835184e+02]
 [2.97544304e+02 1.30968678e+02]]
2025-08-12 06:09:03,821 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,821 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,822 - INFO - [robust_curvature] INPUT: [[ 782.96553507 -130.91355671]
 [ 802.11238827 -111.76670351]]
2025-08-12 06:09:03,822 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,822 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,824 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,824 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.5262892452716608, 'complexity': 0, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,824 - INFO - [robust_curvature] INPUT: [[ 5.58148552e+02  2.84733352e-02]
 [ 5.88447664e+02 -1.35132708e+01]
 [ 5.93610461e+02 -8.35047415e+00]
 [ 5.66529736e+02  8.40965743e+00]
 [ 5.44609045e+02  1.35710724e+01]]
2025-08-12 06:09:03,825 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,825 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,825 - INFO - Computed angular variance: 0.747432 for 5 vertices.
2025-08-12 06:09:03,826 - INFO - [robust_curvature] INPUT: [[5.58148552e+02 2.84733352e-02]
 [5.66529736e+02 8.40965743e+00]
 [5.44609045e+02 1.35710724e+01]]
2025-08-12 06:09:03,826 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,826 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,828 - INFO - [robust_curvature] INPUT: [[588.44766446 -13.51327077]
 [593.61046108  -8.35047415]]
2025-08-12 06:09:03,828 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,828 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,829 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,829 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.7474319680023269, 'complexity': 0, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,829 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.8882643960980422, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.3845453269488489, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.32824258679273993, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.5262892452716608, 'complexity': 0, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.7474319680023269, 'complexity': 0, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:03,830 - DEBUG - [extract_image_features] Calculated width: 712.83636456396, height: 712.83636456396
2025-08-12 06:09:03,830 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)]
2025-08-12 06:09:03,831 - INFO - [robust_curvature] OUTPUT: 2.1121901142205797
2025-08-12 06:09:03,831 - INFO - Computed angular variance: 0.888264 for 5 vertices.
2025-08-12 06:09:03,832 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 1.42560000e+03  0.00000000e+00]
 [ 7.12836365e+02 -7.12763635e+02]
 [ 7.12836365e+02  7.12836365e+02]
 [ 7.27291279e-02  7.27291279e-02]]
2025-08-12 06:09:03,832 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,832 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,833 - INFO - Computed angular variance: 0.888264 for 5 vertices.
2025-08-12 06:09:03,834 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [7.12836365e+02 7.12836365e+02]
 [7.27291279e-02 7.27291279e-02]]
2025-08-12 06:09:03,834 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,834 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,834 - INFO - [robust_curvature] INPUT: [[1425.6           0.        ]
 [ 712.83636456 -712.76363544]]
2025-08-12 06:09:03,835 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,836 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,836 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,836 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.8882643960980422, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,838 - INFO - [robust_curvature] INPUT: [[ 5.46924955e+00  2.79007757e-04]
 [ 1.41739668e+03 -2.73434577e+00]
 [ 7.15570710e+02 -7.04560319e+02]
 [ 7.10102019e+02  7.04633048e+02]
 [ 2.80679589e+00  2.80679589e+00]]
2025-08-12 06:09:03,838 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,838 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,839 - INFO - Computed angular variance: 0.384545 for 5 vertices.
2025-08-12 06:09:03,840 - INFO - [robust_curvature] INPUT: [[5.46924955e+00 2.79007757e-04]
 [7.10102019e+02 7.04633048e+02]
 [2.80679589e+00 2.80679589e+00]]
2025-08-12 06:09:03,841 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,841 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,841 - INFO - [robust_curvature] INPUT: [[1417.39668369   -2.73434577]
 [ 715.57071033 -704.56031912]]
2025-08-12 06:09:03,842 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,842 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,842 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,843 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.3845453269488489, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,843 - INFO - [robust_curvature] INPUT: [[ 1.52140148e+02  7.76126249e-03]
 [ 1.19740532e+03 -7.56861274e+01]
 [ 7.88334438e+02 -4.84757010e+02]
 [ 6.36962106e+02  4.84829720e+02]
 [ 7.65034466e+01  7.57511145e+01]]
2025-08-12 06:09:03,843 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,844 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,844 - INFO - Computed angular variance: 0.328243 for 5 vertices.
2025-08-12 06:09:03,845 - INFO - [robust_curvature] INPUT: [[1.52140148e+02 7.76126249e-03]
 [6.36962106e+02 4.84829720e+02]
 [7.65034466e+01 7.57511145e+01]]
2025-08-12 06:09:03,845 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,846 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,846 - INFO - [robust_curvature] INPUT: [[1197.40531994  -75.68612741]
 [ 788.33443773 -484.75700962]]
2025-08-12 06:09:03,846 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,846 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,847 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,847 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.32824258679273993, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,848 - INFO - [robust_curvature] INPUT: [[ 4.28454952e+02  2.18571587e-02]
 [ 7.82965535e+02 -1.30913557e+02]
 [ 8.02112388e+02 -1.11766704e+02]
 [ 5.40268279e+02  1.11835184e+02]
 [ 2.97544304e+02  1.30968678e+02]]
2025-08-12 06:09:03,848 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,848 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,849 - INFO - Computed angular variance: 0.526289 for 5 vertices.
2025-08-12 06:09:03,850 - INFO - [robust_curvature] INPUT: [[4.28454952e+02 2.18571587e-02]
 [5.40268279e+02 1.11835184e+02]
 [2.97544304e+02 1.30968678e+02]]
2025-08-12 06:09:03,850 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,851 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,851 - INFO - [robust_curvature] INPUT: [[ 782.96553507 -130.91355671]
 [ 802.11238827 -111.76670351]]
2025-08-12 06:09:03,851 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,852 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,852 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,852 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.5262892452716608, 'complexity': 0, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,853 - INFO - [robust_curvature] INPUT: [[ 5.58148552e+02  2.84733352e-02]
 [ 5.88447664e+02 -1.35132708e+01]
 [ 5.93610461e+02 -8.35047415e+00]
 [ 5.66529736e+02  8.40965743e+00]
 [ 5.44609045e+02  1.35710724e+01]]
2025-08-12 06:09:03,853 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,853 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,854 - INFO - Computed angular variance: 0.747432 for 5 vertices.
2025-08-12 06:09:03,854 - INFO - [robust_curvature] INPUT: [[5.58148552e+02 2.84733352e-02]
 [5.66529736e+02 8.40965743e+00]
 [5.44609045e+02 1.35710724e+01]]
2025-08-12 06:09:03,855 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,855 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,855 - INFO - [robust_curvature] INPUT: [[588.44766446 -13.51327077]
 [593.61046108  -8.35047415]]
2025-08-12 06:09:03,856 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,856 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,856 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,857 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.7474319680023269, 'complexity': 0, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,857 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.8882643960980422, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.3845453269488489, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.32824258679273993, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.5262892452716608, 'complexity': 0, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.7474319680023269, 'complexity': 0, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:03,858 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:03,858 - DEBUG - [extract_image_features] Stroke 0 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:03,858 - DEBUG - [extract_image_features] Stroke 1 geometry: {'area': 1.5141832724372422, 'perimeter': 4.380165021126465, 'centroid': [0.49999999999999983, 0.49999999999999983], 'bounds': [-0.19999999999999996, -0.19999999999999996, 1.2, 1.2], 'width': 1.4, 'height': 1.4}
2025-08-12 06:09:03,860 - DEBUG - [extract_image_features] Stroke 2 geometry: {'area': 3.0286755618688597, 'perimeter': 6.194804815593144, 'centroid': [0.49999999999999994, 0.5000000000000001], 'bounds': [-0.49, -0.49, 1.49, 1.49], 'width': 1.98, 'height': 1.98}
2025-08-12 06:09:03,860 - DEBUG - [extract_image_features] Stroke 3 geometry: {'area': 0.6365286717815624, 'perimeter': 3.637306695894642, 'centroid': [0.4999999999999999, 0.5000000000000001], 'bounds': [0.1499999999999997, -0.10621778264910686, 1.2, 1.106217782649107], 'width': 1.0500000000000003, 'height': 1.212435565298214}
2025-08-12 06:09:03,861 - INFO - [extract_image_features] stroke_type_distribution INPUT: [{'command': 'line_normal_0.990-0.500', 'vertices': [(0.5, 0.5), (0.445, 0.5), (0.39, 0.5), (0.33499999999999996, 0.5), (0.28, 0.5), (0.22499999999999998, 0.5), (0.16999999999999998, 0.5), (0.11499999999999999, 0.5), (0.06, 0.5), (0.0050000000000000044, 0.5), (-0.050000000000000044, 0.5000000000000001), (-0.10499999999999998, 0.5000000000000001), (-0.16000000000000003, 0.5000000000000001), (-0.21499999999999997, 0.5000000000000001), (-0.27, 0.5000000000000001), (-0.32499999999999996, 0.5000000000000001), (-0.38, 0.5000000000000001), (-0.43500000000000005, 0.5000000000000001), (-0.49, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_circle_0.700-0.125', 'vertices': [(1.2, 0.5), (1.1657395614066073, 0.7163118960624631), (1.0663118960624631, 0.9114496766047312), (0.9114496766047312, 1.0663118960624631), (0.7163118960624633, 1.1657395614066073), (0.5, 1.2), (0.28368810393753685, 1.1657395614066075), (0.08855032339526892, 1.0663118960624631), (-0.06631189606246313, 0.9114496766047313), (-0.1657395614066074, 0.7163118960624633), (-0.19999999999999996, 0.5000000000000001), (-0.16573956140660762, 0.2836881039375372), (-0.06631189606246313, 0.08855032339526892), (0.08855032339526875, -0.06631189606246313), (0.28368810393753674, -0.1657395614066074), (0.4999999999999999, -0.19999999999999996), (0.716311896062463, -0.1657395614066075), (0.9114496766047311, -0.06631189606246324), (1.0663118960624631, 0.08855032339526869), (1.1657395614066073, 0.28368810393753663)], 'geometry': {'area': 1.5141832724372422, 'perimeter': 4.380165021126465, 'centroid': [0.49999999999999983, 0.49999999999999983], 'bounds': [-0.19999999999999996, -0.19999999999999996, 1.2, 1.2], 'width': 1.4, 'height': 1.4}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 1.4, 'height': 1.4}, {'command': 'line_circle_0.990-0.125', 'vertices': [(1.49, 0.5), (1.441545951132202, 0.8059268244311979), (1.300926824431198, 1.0819073997695483), (1.0819073997695483, 1.300926824431198), (0.8059268244311979, 1.441545951132202), (0.5000000000000001, 1.49), (0.19407317556880216, 1.441545951132202), (-0.0819073997695483, 1.300926824431198), (-0.3009268244311979, 1.0819073997695485), (-0.44154595113220196, 0.805926824431198), (-0.49, 0.5000000000000001), (-0.4415459511322022, 0.1940731755688026), (-0.300926824431198, -0.0819073997695483), (-0.08190739976954853, -0.3009268244311979), (0.19407317556880194, -0.44154595113220196), (0.49999999999999983, -0.49), (0.8059268244311977, -0.4415459511322021), (1.0819073997695483, -0.3009268244311981), (1.300926824431198, -0.08190739976954864), (1.441545951132202, 0.19407317556880183)], 'geometry': {'area': 3.0286755618688597, 'perimeter': 6.194804815593144, 'centroid': [0.49999999999999994, 0.5000000000000001], 'bounds': [-0.49, -0.49, 1.49, 1.49], 'width': 1.98, 'height': 1.98}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 1.98, 'height': 1.98}, {'command': 'line_triangle_0.700-0.875', 'vertices': [(1.2, 0.5), (0.1500000000000002, 1.106217782649107), (0.1499999999999997, -0.10621778264910686), (1.2, 0.5)], 'geometry': {'area': 0.6365286717815624, 'perimeter': 3.637306695894642, 'centroid': [0.4999999999999999, 0.5000000000000001], 'bounds': [0.1499999999999997, -0.10621778264910686, 1.2, 1.106217782649107], 'width': 1.0500000000000003, 'height': 1.212435565298214}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 1.0500000000000003, 'height': 1.212435565298214}]
2025-08-12 06:09:03,861 - INFO - [extract_image_features] stroke_type_distribution OUTPUT: {'line': 4}
2025-08-12 06:09:03,861 - INFO - [extract_image_features] modifier_distribution OUTPUT: {'normal': 1, 'circle': 2, 'triangle': 1}
2025-08-12 06:09:03,861 - INFO - [extract_image_features] relational INPUT: []
2025-08-12 06:09:03,861 - INFO - [extract_image_features] relational OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:03,862 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:03,862 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,862 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,862 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,862 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,863 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,863 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,863 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,864 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-12 06:09:03,864 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,864 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,864 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,865 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,865 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,865 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,865 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,866 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,866 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,866 - DEBUG - [_detect_alternation] OUTPUT: 0.25
2025-08-12 06:09:03,866 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:03,867 - INFO - [extract_image_features] PATCHED ngram: {'normal|normal': 3}
2025-08-12 06:09:03,867 - INFO - [extract_image_features] PATCHED alternation: 0.25
2025-08-12 06:09:03,867 - INFO - [extract_image_features] PATCHED regularity: 0.25
2025-08-12 06:09:03,867 - INFO - [extract_image_features] PATCHED dominant_shape_functions: line
2025-08-12 06:09:03,867 - INFO - [extract_image_features] PATCHED dominant_modifiers: circle
2025-08-12 06:09:03,869 - INFO - [extract_image_features] PATCHED image_canonical_summary: {'area': 254067.8413223815, 'perimeter': 2433.775583647004, 'compactness': 0.5390120844526473, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'circle', 'regularity': 0.25}
2025-08-12 06:09:03,869 - INFO - [extract_image_features] OUTPUT: {'area': 254067.8413223815, 'perimeter': 2433.775583647004, 'convexity_ratio': 0.9999489834961278, 'compactness': 0.5390120844526473, 'aspect_ratio': 1.0, 'centroid_x': 475.22424304263996, 'centroid_y': 237.61212152132, 'width': 712.83636456396, 'height': 712.83636456396, 'bounding_box': (0.0, -712.7636354360399, 1425.6, 712.83636456396), 'num_vertices': 5, 'curvature': 2.1121901142205797, 'angular_variance': 0.8882643960980422, 'complexity': -0.26671833593422867, 'num_strokes': 4, 'stroke_type_distribution': {'line': 4}, 'modifier_distribution': {'normal': 1, 'circle': 2, 'triangle': 1}, 'avg_stroke_length': 0.0, 'stroke_complexity': -0.26671833593422867, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.8882643960980422, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.3845453269488489, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.32824258679273993, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.5262892452716608, 'complexity': 0, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.7474319680023269, 'complexity': 0, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 1659528828.3590755, 'center_of_mass_x': 0.0, 'center_of_mass_y': 1.0, 'symmetry_score': 3293018.4979703007, 'ngram': {'normal|normal': 3}, 'alternation': 0.25, 'regularity': 0.25, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'circle', 'image_canonical_summary': {'area': 254067.8413223815, 'perimeter': 2433.775583647004, 'compactness': 0.5390120844526473, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'circle', 'regularity': 0.25}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 4}}
2025-08-12 06:09:03,869 - DEBUG - [extract_image_features] FINAL OUTPUT bounding_box: (0.0, -712.7636354360399, 1425.6, 712.83636456396)
2025-08-12 06:09:03,869 - DEBUG - [extract_image_features] FINAL OUTPUT width: 712.83636456396, height: 712.83636456396
2025-08-12 06:09:03,869 - DEBUG - [extract_image_features] FINAL OUTPUT curvature: 2.1121901142205797
2025-08-12 06:09:03,870 - INFO - [DIAG] Shape 0 extracted attributes: {'area': 254067.8413223815, 'perimeter': 2433.775583647004, 'convexity_ratio': 0.9999489834961278, 'compactness': 0.5390120844526473, 'aspect_ratio': 1.0, 'centroid_x': 475.22424304263996, 'centroid_y': 237.61212152132, 'width': 712.83636456396, 'height': 712.83636456396, 'bounding_box': (0.0, -712.7636354360399, 1425.6, 712.83636456396), 'num_vertices': 5, 'curvature': 2.1121901142205797, 'angular_variance': 0.8882643960980422, 'complexity': -0.26671833593422867, 'num_strokes': 4, 'stroke_type_distribution': {'line': 4}, 'modifier_distribution': {'normal': 1, 'circle': 2, 'triangle': 1}, 'avg_stroke_length': 0.0, 'stroke_complexity': -0.26671833593422867, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.8882643960980422, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.3845453269488489, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.32824258679273993, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.5262892452716608, 'complexity': 0, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.7474319680023269, 'complexity': 0, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 1659528828.3590755, 'center_of_mass_x': 0.0, 'center_of_mass_y': 1.0, 'symmetry_score': 3293018.4979703007, 'ngram': {'normal|normal': 3}, 'alternation': 0.25, 'regularity': 0.25, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'circle', 'image_canonical_summary': {'area': 254067.8413223815, 'perimeter': 2433.775583647004, 'compactness': 0.5390120844526473, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'circle', 'regularity': 0.25}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 4}}
2025-08-12 06:09:03,870 - INFO - [VALIDATION] expected_strokes=4, actual_shapes=1
2025-08-12 06:09:03,870 - INFO - [VALIDATION] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_1, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: Number of action commands matches number of parsed shapes (4)
2025-08-12 06:09:03,871 - INFO - [standardize_coordinates] INPUT vertices: [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)]
2025-08-12 06:09:03,871 - INFO - [standardize_coordinates] OUTPUT normalized vertices: [[0.0, 0.4999744917480639], [1.0, 0.4999744917480639], [0.5000255082519361, 0.0], [0.500025508251936, 1.0], [5.101650387218267e-05, 0.5000255082519361]]
2025-08-12 06:09:03,872 - DEBUG - [process_single_image] Passing shape_list to extract_relational_features: [{'vertices': [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)]}]
2025-08-12 06:09:03,872 - INFO - [extract_relational_features] INPUT: [{'vertices': [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)]}]
2025-08-12 06:09:03,873 - DEBUG - [extract_relational_features] Shape 0 vertices: [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)]
2025-08-12 06:09:03,873 - INFO - [calculate_relationships] INPUT: strokes=[{'vertices': [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)]}], buffer_amt=0.001
2025-08-12 06:09:03,873 - DEBUG - [calculate_relationships] Stroke 0: {'vertices': [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)]}
2025-08-12 06:09:03,873 - DEBUG - [calculate_relationships] Vertices for stroke 0: [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)]
2025-08-12 06:09:03,874 - DEBUG - [calculate_relationships] Created LineString for stroke 0: LINESTRING (0 0, 1425.6 0, 712.8363645639602 -712.7636354360399, 712.8363645639599 712.83636456396, 0.0727291279201836 0.0727291279201836)
2025-08-12 06:09:03,874 - DEBUG - [calculate_relationships] Buffered geometries: ['POLYGON ((712.8353645639601 -0.001, 0 -0.001, -9.801714032956045e-5 -0.0009951847266722, -0.0001950903220161 -0.0009807852804032, -0.0002902846772545 -0.0009569403357322, -0.0003826834323651 -0.0009238795325113, -0.000471396736826 -0.0008819212643484, -0.0005555702330196 -0.0008314696123025, -0.0006343932841636 -0.0007730104533627, -0.0007071067811865 -0.0007071067811865, -0.0007730104533627 -0.0006343932841636, -0.0008314696123025 -0.0005555702330196, -0.0008819212643484 -0.000471396736826, -0.0009238795325113 -0.0003826834323651, -0.0009569403357322 -0.0002902846772545, -0.0009807852804032 -0.0001950903220161, -0.0009951847266722 -9.801714032956059e-5, -0.001 0, -0.0009951847266722 9.801714032956083e-5, -0.0009807852804032 0.0001950903220161, -0.0009569403357322 0.0002902846772545, -0.0009238795325113 0.0003826834323651, -0.0008819212643484 0.000471396736826, -0.0008314696123025 0.0005555702330196, -0.0007730104533627 0.0006343932841636, -0.0007071067811865 0.0007071067811865, -0.0006343932841636 0.0007730104533627, -0.0005555702330196 0.0008314696123025, -0.000471396736826 0.0008819212643484, -0.0003826834323651 0.0009238795325113, -0.0002902846772545 0.0009569403357322, -0.0001950903220161 0.0009807852804032, -9.801714032956064e-5 0.0009951847266722, 0 0.001, 712.8353645639601 0.001, 712.83536456396 712.8339503503977, 0.0734362347013702 0.0720220211389971, 0.0733635212043472 0.0719561174668209, 0.0732846981532032 0.0718976583078811, 0.0732005246570096 0.0718472066558352, 0.0731118113525487 0.0718052483876723, 0.0730194125974381 0.0717721875844514, 0.0729242182421997 0.0717483426397804, 0.0728271450605132 0.0717339431935114, 0.0727291279201836 0.0717291279201836, 0.072631110779854 0.0717339431935114, 0.0725340375981675 0.0717483426397804, 0.0724388432429291 0.0717721875844514, 0.0723464444878185 0.0718052483876723, 0.0722577311833576 0.0718472066558352, 0.072173557687164 0.0718976583078811, 0.07209473463602 0.0719561174668209, 0.0720220211389971 0.0720220211389971, 0.0719561174668209 0.07209473463602, 0.0718976583078811 0.072173557687164, 0.0718472066558352 0.0722577311833576, 0.0718052483876723 0.0723464444878185, 0.0717721875844514 0.0724388432429291, 0.0717483426397804 0.0725340375981675, 0.0717339431935114 0.072631110779854, 0.0717291279201836 0.0727291279201836, 0.0717339431935114 0.0728271450605132, 0.0717483426397804 0.0729242182421997, 0.0717721875844514 0.0730194125974381, 0.0718052483876723 0.0731118113525487, 0.0718472066558352 0.0732005246570096, 0.0718976583078811 0.0732846981532032, 0.0719561174668209 0.0733635212043472, 0.0720220211389971 0.0734362347013702, 712.8356574571787 712.8370716707412, 712.8357301706758 712.8371375744134, 712.8358089937269 712.8371960335724, 712.8358931672232 712.8372464852243, 712.8359818805276 712.8372884434925, 712.8360742792827 712.8373215042958, 712.8361694736379 712.8373453492404, 712.8362665468196 712.8373597486867, 712.8363645639599 712.83736456396, 712.8364625811002 712.8373597486867, 712.8365596542819 712.8373453492404, 712.8366548486372 712.8373215042958, 712.8367472473923 712.8372884434925, 712.8368359606967 712.8372464852243, 712.836920134193 712.8371960335724, 712.8369989572441 712.8371375744134, 712.8370716707411 712.8370716707412, 712.8371375744133 712.8369989572442, 712.8371960335722 712.8369201341931, 712.8372464852242 712.8368359606968, 712.8372884434924 712.8367472473924, 712.8373215042957 712.8366548486373, 712.8373453492403 712.836559654282, 712.8373597486866 712.8364625811004, 712.8373645639599 712.83636456396, 712.83736456396 0.001, 1425.6 0.001, 1425.6000980171402 0.0009951847266722, 1425.600195090322 0.0009807852804033, 1425.6002902846772 0.0009569403357324, 1425.6003826834324 0.0009238795325115, 1425.6004713967368 0.0008819212643487, 1425.600555570233 0.0008314696123031, 1425.600634393284 0.0007730104533635, 1425.600707106781 0.0007071067811875, 1425.6007730104532 0.0006343932841648, 1425.600831469612 0.000555570233021, 1425.6008819212643 0.0004713967368276, 1425.6009238795325 0.0003826834323669, 1425.6009569403357 0.0002902846772565, 1425.6009807852804 0.0001950903220184, 1425.6009951847266 9.801714033201331e-5, 1425.6009999999999 2.6287860777074457e-15, 1425.6009951847266 -9.801714032678106e-5, 1425.6009807852804 -0.0001950903220132, 1425.6009569403357 -0.0002902846772515, 1425.6009238795325 -0.0003826834323621, 1425.6008819212643 -0.000471396736823, 1425.600831469612 -0.0005555702330166, 1425.6007730104532 -0.0006343932841607, 1425.600707106781 -0.0007071067811865, 712.8370716707414 -712.764342542821, 712.8369989572443 -712.7644084464932, 712.8369201341932 -712.7644669056522, 712.8368359606969 -712.7645173573042, 712.8367472473925 -712.7645593155723, 712.8366548486374 -712.7645923763756, 712.8365596542822 -712.7646162213202, 712.8364625811005 -712.7646306207665, 712.8363645639602 -712.7646354360398, 712.8362665468198 -712.7646306207665, 712.8361694736382 -712.7646162213202, 712.8360742792829 -712.7645923763756, 712.8359818805278 -712.7645593155723, 712.8358931672234 -712.7645173573042, 712.8358089937271 -712.7644669056522, 712.835730170676 -712.7644084464932, 712.835657457179 -712.764342542821, 712.8355915535068 -712.764269829324, 712.8355330943479 -712.7641910062729, 712.8354826426959 -712.7641068327766, 712.8354406844277 -712.7640181194722, 712.8354076236244 -712.7639257207171, 712.8353837786798 -712.7638305263619, 712.8353693792335 -712.7637334531802, 712.8353645639602 -712.7636354360399, 712.8353645639601 -0.001), (712.83736456396 -0.001, 712.8373645639601 -712.7612212224775, 1425.5975857864375 -0.001, 712.83736456396 -0.001))']
2025-08-12 06:09:03,875 - INFO - [calculate_relationships] Intermediate results: adjacency=0, intersections=0, containment=0, overlap=0.0
2025-08-12 06:09:03,875 - INFO - [calculate_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:03,875 - WARNING - [calculate_relationships] All relational features are zero/default. Strokes: [{'vertices': [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)]}]
2025-08-12 06:09:03,876 - INFO - [extract_relational_features] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:03,876 - DEBUG - [extract_relational_features] Output is JSON serializable.
2025-08-12 06:09:03,876 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 4.99974492e-01]
 [1.00000000e+00 4.99974492e-01]
 [5.00025508e-01 0.00000000e+00]
 [5.00025508e-01 1.00000000e+00]
 [5.10165039e-05 5.00025508e-01]]
2025-08-12 06:09:03,876 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,877 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,877 - INFO - Computed angular variance: 0.888264 for 5 vertices.
2025-08-12 06:09:03,879 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 4.99974492e-01]
 [5.00025508e-01 1.00000000e+00]
 [5.10165039e-05 5.00025508e-01]]
2025-08-12 06:09:03,879 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,879 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,879 - INFO - [robust_curvature] INPUT: [[1.         0.49997449]
 [0.50002551 0.        ]]
2025-08-12 06:09:03,880 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,880 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,880 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,881 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.8882643960979427, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,881 - INFO - [robust_curvature] INPUT: [[0.00383645 0.49997469]
 [0.99424571 0.49805646]
 [0.50194354 0.00575429]
 [0.49810748 0.99424571]
 [0.00196885 0.50194334]]
2025-08-12 06:09:03,881 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,882 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,882 - INFO - Computed angular variance: 0.384545 for 5 vertices.
2025-08-12 06:09:03,883 - INFO - [robust_curvature] INPUT: [[0.00383645 0.49997469]
 [0.49810748 0.99424571]
 [0.00196885 0.50194334]]
2025-08-12 06:09:03,883 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,883 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,884 - INFO - [robust_curvature] INPUT: [[0.99424571 0.49805646]
 [0.50194354 0.00575429]]
2025-08-12 06:09:03,884 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,884 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,885 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,885 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.38454532694884097, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,885 - INFO - [robust_curvature] INPUT: [[0.10672008 0.49997994]
 [0.83993078 0.44688377]
 [0.55298431 0.15993731]
 [0.44680282 0.84006268]
 [0.05366403 0.5531108 ]]
2025-08-12 06:09:03,886 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,886 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,886 - INFO - Computed angular variance: 0.328243 for 5 vertices.
2025-08-12 06:09:03,887 - INFO - [robust_curvature] INPUT: [[0.10672008 0.49997994]
 [0.44680282 0.84006268]
 [0.05366403 0.5531108 ]]
2025-08-12 06:09:03,888 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,888 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,889 - INFO - [robust_curvature] INPUT: [[0.83993078 0.44688377]
 [0.55298431 0.15993731]]
2025-08-12 06:09:03,889 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,890 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,890 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,890 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.3282425867927398, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,890 - INFO - [robust_curvature] INPUT: [[0.3005436  0.49998982]
 [0.54921825 0.40814399]
 [0.56264898 0.42157473]
 [0.37897607 0.57842229]
 [0.20871514 0.59184365]]
2025-08-12 06:09:03,891 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,891 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,891 - INFO - Computed angular variance: 0.526289 for 5 vertices.
2025-08-12 06:09:03,892 - INFO - [robust_curvature] INPUT: [[0.3005436  0.49998982]
 [0.37897607 0.57842229]
 [0.20871514 0.59184365]]
2025-08-12 06:09:03,893 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,893 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,893 - INFO - [robust_curvature] INPUT: [[0.54921825 0.40814399]
 [0.56264898 0.42157473]]
2025-08-12 06:09:03,893 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,894 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,894 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,894 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.5262892452716617, 'complexity': 0, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,894 - INFO - [robust_curvature] INPUT: [[0.39151834 0.49999446]
 [0.41277193 0.49049549]
 [0.41639342 0.49411698]
 [0.3973974  0.50587352]
 [0.38202093 0.50949404]]
2025-08-12 06:09:03,896 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,896 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,896 - INFO - Computed angular variance: 0.747432 for 5 vertices.
2025-08-12 06:09:03,897 - INFO - [robust_curvature] INPUT: [[0.39151834 0.49999446]
 [0.3973974  0.50587352]
 [0.38202093 0.50949404]]
2025-08-12 06:09:03,897 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,898 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,898 - INFO - [robust_curvature] INPUT: [[0.41277193 0.49049549]
 [0.41639342 0.49411698]]
2025-08-12 06:09:03,898 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:03,898 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:03,899 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:03,899 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.7474319680023301, 'complexity': 0, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:03,900 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.8882643960979427, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.38454532694884097, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.3282425867927398, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.5262892452716617, 'complexity': 0, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.7474319680023301, 'complexity': 0, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:03,900 - INFO - [_calculate_image_features] INPUTS: vertices=[(0.0, 0.4999744917480639), (1.0, 0.4999744917480639), (0.5000255082519361, 0.0), (0.500025508251936, 1.0), (5.101650387218267e-05, 0.5000255082519361)], strokes=[{'command': 'line_normal_0.990-0.500', 'vertices': [(0.5, 0.5), (0.445, 0.5), (0.39, 0.5), (0.33499999999999996, 0.5), (0.28, 0.5), (0.22499999999999998, 0.5), (0.16999999999999998, 0.5), (0.11499999999999999, 0.5), (0.06, 0.5), (0.0050000000000000044, 0.5), (-0.050000000000000044, 0.5000000000000001), (-0.10499999999999998, 0.5000000000000001), (-0.16000000000000003, 0.5000000000000001), (-0.21499999999999997, 0.5000000000000001), (-0.27, 0.5000000000000001), (-0.32499999999999996, 0.5000000000000001), (-0.38, 0.5000000000000001), (-0.43500000000000005, 0.5000000000000001), (-0.49, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_circle_0.700-0.125', 'vertices': [(1.2, 0.5), (1.1657395614066073, 0.7163118960624631), (1.0663118960624631, 0.9114496766047312), (0.9114496766047312, 1.0663118960624631), (0.7163118960624633, 1.1657395614066073), (0.5, 1.2), (0.28368810393753685, 1.1657395614066075), (0.08855032339526892, 1.0663118960624631), (-0.06631189606246313, 0.9114496766047313), (-0.1657395614066074, 0.7163118960624633), (-0.19999999999999996, 0.5000000000000001), (-0.16573956140660762, 0.2836881039375372), (-0.06631189606246313, 0.08855032339526892), (0.08855032339526875, -0.06631189606246313), (0.28368810393753674, -0.1657395614066074), (0.4999999999999999, -0.19999999999999996), (0.716311896062463, -0.1657395614066075), (0.9114496766047311, -0.06631189606246324), (1.0663118960624631, 0.08855032339526869), (1.1657395614066073, 0.28368810393753663)], 'geometry': {'area': 1.5141832724372422, 'perimeter': 4.380165021126465, 'centroid': [0.49999999999999983, 0.49999999999999983], 'bounds': [-0.19999999999999996, -0.19999999999999996, 1.2, 1.2], 'width': 1.4, 'height': 1.4}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 1.4, 'height': 1.4}, {'command': 'line_circle_0.990-0.125', 'vertices': [(1.49, 0.5), (1.441545951132202, 0.8059268244311979), (1.300926824431198, 1.0819073997695483), (1.0819073997695483, 1.300926824431198), (0.8059268244311979, 1.441545951132202), (0.5000000000000001, 1.49), (0.19407317556880216, 1.441545951132202), (-0.0819073997695483, 1.300926824431198), (-0.3009268244311979, 1.0819073997695485), (-0.44154595113220196, 0.805926824431198), (-0.49, 0.5000000000000001), (-0.4415459511322022, 0.1940731755688026), (-0.300926824431198, -0.0819073997695483), (-0.08190739976954853, -0.3009268244311979), (0.19407317556880194, -0.44154595113220196), (0.49999999999999983, -0.49), (0.8059268244311977, -0.4415459511322021), (1.0819073997695483, -0.3009268244311981), (1.300926824431198, -0.08190739976954864), (1.441545951132202, 0.19407317556880183)], 'geometry': {'area': 3.0286755618688597, 'perimeter': 6.194804815593144, 'centroid': [0.49999999999999994, 0.5000000000000001], 'bounds': [-0.49, -0.49, 1.49, 1.49], 'width': 1.98, 'height': 1.98}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 1.98, 'height': 1.98}, {'command': 'line_triangle_0.700-0.875', 'vertices': [(1.2, 0.5), (0.1500000000000002, 1.106217782649107), (0.1499999999999997, -0.10621778264910686), (1.2, 0.5)], 'geometry': {'area': 0.6365286717815624, 'perimeter': 3.637306695894642, 'centroid': [0.4999999999999999, 0.5000000000000001], 'bounds': [0.1499999999999997, -0.10621778264910686, 1.2, 1.106217782649107], 'width': 1.0500000000000003, 'height': 1.212435565298214}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 1.0500000000000003, 'height': 1.212435565298214}], geometry={'area': 0.12501275445130353, 'perimeter': 1.7071938718062603, 'centroid': [0.33335033883462395, 0.6666496611653758], 'bounds': [0.0, 0.4999744917480639, 0.5000255082519361, 1.0], 'width': 0.5000255082519361, 'height': 0.500025508251936}
2025-08-12 06:09:03,900 - DEBUG - [POLYGON CREATION] Attempting to create Polygon with vertices: [(0.0, 0.4999744917480639), (1.0, 0.4999744917480639), (0.5000255082519361, 0.0), (0.500025508251936, 1.0), (5.101650387218267e-05, 0.5000255082519361)]
2025-08-12 06:09:03,901 - DEBUG - polygon: raw build 5 verts in 0.000s
2025-08-12 06:09:03,901 - WARNING - polygon_from_vertices: Polygon is self-intersecting. Trying convex hull fallback. Vertices: [(0.0, 0.4999744917480639), (1.0, 0.4999744917480639), (0.5000255082519361, 0.0), (0.500025508251936, 1.0), (5.101650387218267e-05, 0.5000255082519361)]
2025-08-12 06:09:03,902 - DEBUG - [POLYGON REPAIR] Final polygon: is_valid=True, is_empty=False, area=0.5
2025-08-12 06:09:03,902 - INFO - [_calculate_perimeter] INPUT vertices: [(0.0, 0.4999744917480639), (1.0, 0.4999744917480639), (0.5000255082519361, 0.0), (0.500025508251936, 1.0), (5.101650387218267e-05, 0.5000255082519361)]
2025-08-12 06:09:03,902 - INFO - [_calculate_perimeter] OUTPUT perimeter: 3.4142135623730954
2025-08-12 06:09:03,902 - INFO - [robust_curvature] INPUT: [(0.0, 0.4999744917480639), (1.0, 0.4999744917480639), (0.5000255082519361, 0.0), (0.500025508251936, 1.0), (5.101650387218267e-05, 0.5000255082519361)]
2025-08-12 06:09:03,903 - INFO - [robust_curvature] OUTPUT: 2.112190114220502
2025-08-12 06:09:03,903 - INFO - Computed angular variance: 0.888264 for 5 vertices.
2025-08-12 06:09:03,904 - INFO - [complexity] Calling calculate_complexity with vertices: [(0.0, 0.4999744917480639), (1.0, 0.4999744917480639), (0.5000255082519361, 0.0), (0.500025508251936, 1.0), (5.101650387218267e-05, 0.5000255082519361)]
2025-08-12 06:09:03,904 - INFO - Complexity: n=5, n_norm=0.17, curvature=1.00, irregularity=0.24, result=0.43
2025-08-12 06:09:03,904 - INFO - [complexity] Output for vertices count 5: 0.4313333333333266
2025-08-12 06:09:03,905 - INFO - [_calculate_image_features] polsby_popper: 2.7498512093618774e-05
2025-08-12 06:09:03,907 - ERROR - [_calculate_image_features] Exception: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull i Qt
Options selected for Qhull 2020.2.r 2020/08/31:
  run-id 2057908503  incidence  Qtriangulate  _pre-merge  _zero-centrum
  _max-width 0.5  Error-roundoff 4.3e-16  _one-merge 2.1e-15
  _near-inside 1.1e-14  Visible-distance 8.6e-16  U-max-coplanar 8.6e-16
  Width-outside 1.7e-15  _wide-facet 5.1e-15  _maxoutside 2.6e-15

The input to qhull appears to be less than 2 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v3):   0.5   0.5
- p2(v2):   0.5   0.5
- p0(v1):     0     0

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 4.3e-16.  The center point, facets and distances
to the center point are as follows:

center point   0.3333   0.3333

facet p2 p0 distance=    0
facet p1 p0 distance= -2.8e-17
facet p1 p2 distance= -0.093

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:         0       0.5  difference=  0.5
  1:         0       0.5  difference=  0.5

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 4.3e-16.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.
Traceback (most recent call last):
  File "C:\Users\HP\AI_Projects\BongordSolver\scripts\logo_to_shape.py", line 1314, in _calculate_image_features
    features['nested_convex_hull_levels'] = nested_convex_hull_levels(groups) if groups else 0
                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AI_Projects\BongordSolver\src\Derive_labels\compositional_hierarchical.py", line 69, in nested_convex_hull_levels
    hull = ConvexHull(np.vstack(group))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "scipy/spatial/_qhull.pyx", line 2492, in scipy.spatial._qhull.ConvexHull.__init__
  File "scipy/spatial/_qhull.pyx", line 356, in scipy.spatial._qhull._Qhull.__init__
scipy.spatial._qhull.QhullError: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull i Qt
Options selected for Qhull 2020.2.r 2020/08/31:
  run-id 2057908503  incidence  Qtriangulate  _pre-merge  _zero-centrum
  _max-width 0.5  Error-roundoff 4.3e-16  _one-merge 2.1e-15
  _near-inside 1.1e-14  Visible-distance 8.6e-16  U-max-coplanar 8.6e-16
  Width-outside 1.7e-15  _wide-facet 5.1e-15  _maxoutside 2.6e-15

The input to qhull appears to be less than 2 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v3):   0.5   0.5
- p2(v2):   0.5   0.5
- p0(v1):     0     0

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 4.3e-16.  The center point, facets and distances
to the center point are as follows:

center point   0.3333   0.3333

facet p2 p0 distance=    0
facet p1 p0 distance= -2.8e-17
facet p1 p2 distance= -0.093

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:         0       0.5  difference=  0.5
  1:         0       0.5  difference=  0.5

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 4.3e-16.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.

2025-08-12 06:09:03,909 - WARNING - [_calculate_image_features] Returning default features due to error.
2025-08-12 06:09:03,909 - DEBUG - [_calculate_composition_features] INPUTS: strokes count=4
2025-08-12 06:09:03,910 - DEBUG - [_calculate_composition_features] OUTPUT: {'stroke_type_distribution': {'line': 4}, 'shape_modifier_distribution': {'normal': 1, 'circle': 2, 'triangle': 1}, 'stroke_diversity': 1, 'shape_diversity': 3, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'circle', 'composition_complexity': 7, 'homogeneity_score': 0.375, 'pattern_regularity': 0.5}
2025-08-12 06:09:03,910 - INFO - [_calculate_physics_features] INPUT vertices: [(0.0, 0.4999744917480639), (1.0, 0.4999744917480639), (0.5000255082519361, 0.0), (0.500025508251936, 1.0), (5.101650387218267e-05, 0.5000255082519361)]
2025-08-12 06:09:03,910 - INFO - [_calculate_physics_features] INPUT centroid: [0.33335033883462395, 0.6666496611653758]
2025-08-12 06:09:03,910 - INFO - [_calculate_physics_features] INPUT strokes: ['line_normal_0.990-0.500', 'line_circle_0.700-0.125', 'line_circle_0.990-0.125', 'line_triangle_0.700-0.875']
2025-08-12 06:09:03,911 - INFO - [_calculate_physics_features] polsby_popper: 0.7853981623753769
2025-08-12 06:09:03,913 - INFO - Computed angular variance: 0.888264 for 5 vertices.
2025-08-12 06:09:03,913 - INFO - [_calculate_physics_features] OUTPUT: {'moment_of_inertia': 0.2500000002168028, 'center_of_mass': [0.33335033883462395, 0.6666496611653758], 'polsby_popper_compactness': 0.7853981623753769, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.112190114220502, 'angular_variance': 0.8882643960979427, 'edge_length_variance': 0.1337054249803661}
2025-08-12 06:09:03,913 - INFO - [calculate_shape_relationships] INPUT: shapes=[{'vertices': [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)]}], buffer_amt=0.001
2025-08-12 06:09:03,913 - DEBUG - [calculate_shape_relationships] Shape 0 vertices: [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)]
2025-08-12 06:09:03,913 - WARNING - calculate_shape_relationships: No valid geometries found.
2025-08-12 06:09:03,914 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal'], n=2
2025-08-12 06:09:03,914 - DEBUG - [ensure_str_list] Converting list: ['normal']
2025-08-12 06:09:03,914 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,914 - DEBUG - [ensure_str_list] Result: ['normal']
2025-08-12 06:09:03,914 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal']
2025-08-12 06:09:03,915 - DEBUG - [_extract_ngram_features] OUTPUT: {}
2025-08-12 06:09:03,915 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,915 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal'], n=2
2025-08-12 06:09:03,915 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal']
2025-08-12 06:09:03,915 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,917 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,917 - DEBUG - [ensure_str_list] Result: ['normal', 'normal']
2025-08-12 06:09:03,917 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal']
2025-08-12 06:09:03,917 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 1}
2025-08-12 06:09:03,918 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,918 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal'], n=2
2025-08-12 06:09:03,918 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal']
2025-08-12 06:09:03,918 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,919 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,919 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,919 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal']
2025-08-12 06:09:03,919 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal']
2025-08-12 06:09:03,919 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 2}
2025-08-12 06:09:03,920 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,920 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:03,921 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,921 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,921 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,921 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,921 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,922 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,922 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,922 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-12 06:09:03,922 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:03,923 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,923 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,923 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,923 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,923 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,924 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,924 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,924 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,924 - DEBUG - [_detect_alternation] OUTPUT: 0.25
2025-08-12 06:09:03,925 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:03,925 - INFO - [extract_regularity_features] INPUT: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,925 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,925 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,926 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,926 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,926 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,926 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,927 - INFO - [extract_regularity_features] OUTPUT: {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 4}}
2025-08-12 06:09:03,927 - DEBUG - [extract_regularity_features] Output is JSON serializable.
2025-08-12 06:09:03,927 - INFO - [extract_dominant_shape_modifiers] INPUT: {'modifiers': ['normal', 'normal', 'normal', 'normal']}
2025-08-12 06:09:03,927 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,927 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,928 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,928 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,928 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:03,928 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:03,929 - INFO - [extract_dominant_shape_modifiers] OUTPUT: {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 4}}
2025-08-12 06:09:03,929 - DEBUG - [extract_dominant_shape_modifiers] Output is JSON serializable.
2025-08-12 06:09:03,929 - WARNING - [PATCH] Failed to load canonical summary for image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_1: type object 'FileIO' has no attribute 'load_canonical_features'
2025-08-12 06:09:03,930 - DEBUG - [process_single_image] Passing topo_shape_list to extract_topological_features: [{'vertices': [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)]}]
2025-08-12 06:09:03,934 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image type: <class 'bongard.bongard.BongardImage'> | problem_id=hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:03,935 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image.one_stroke_shapes: [<src.data_pipeline.logo_parser.OneStrokeShape object at 0x000002594DDDABD0>]
2025-08-12 06:09:03,936 - INFO - [extract_stroke_features_from_shapes] problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 | num_shapes=1 | total_strokes=4
2025-08-12 06:09:03,936 - INFO - [extract_stroke_features_from_shapes] PATCH: shapes=[<src.data_pipeline.logo_parser.OneStrokeShape object at 0x000002594DDDABD0>]
2025-08-12 06:09:03,936 - INFO - [extract_stroke_features_from_shapes] Shape 0 actions: [line_normal_0.990-0.500, line_circle_0.700-0.125, line_circle_0.990-0.125, line_triangle_0.700-0.875]
2025-08-12 06:09:03,937 - INFO - [extract_stroke_features_from_shapes] Shape 0: [line_normal_0.990-0.500, line_circle_0.700-0.125, line_circle_0.990-0.125, line_triangle_0.700-0.875], None, None, None
2025-08-12 06:09:03,937 - INFO - [extract_stroke_features_from_shapes] Shape 0 geometry: {'area': 0.12501275445130353, 'perimeter': 1.7071938718062603, 'centroid': [0.33335033883462395, 0.6666496611653758], 'bounds': [0.0, 0.4999744917480639, 0.5000255082519361, 1.0], 'width': 0.5000255082519361, 'height': 0.500025508251936, 'robust_curvature': 2.112190114220502, 'robust_angular_variance': 0.8882643960979427, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 3.141432388692171}
2025-08-12 06:09:03,937 - INFO - [extract_stroke_features_from_shapes] Shape 0: num_actions=4 | actions=[line_normal_0.990-0.500, line_circle_0.700-0.125, line_circle_0.990-0.125, line_triangle_0.700-0.875]
2025-08-12 06:09:03,937 - INFO - [extract_stroke_features_from_shapes] PATCH: Validated/corrected shape_vertices for shape 0: [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836), (0.0, 0.0)]
2025-08-12 06:09:03,938 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=0 | stroke=line_normal_0.990-0.500
2025-08-12 06:09:03,938 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1425.6, 0.0)]
2025-08-12 06:09:03,938 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,940 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,940 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,941 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,941 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,943 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.5390120844526471}
2025-08-12 06:09:03,943 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.5390120844526471, 'is_simple': True}
2025-08-12 06:09:03,943 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 0: {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)], 'open_stroke_perimeter': 4867.2, 'compactness': 0.5390120844526471, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1425.6, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'line_length': 4867.2, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:03,943 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=1 | stroke=line_circle_0.700-0.125
2025-08-12 06:09:03,943 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(1425.6, 0.0), (712.8363645639602, -712.7636354360399)]
2025-08-12 06:09:03,944 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:03,944 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:03,944 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.990-0.500, line_circle_0.700-0.125, line_circle_0.990-0.125, line_triangle_0.700-0.875]
2025-08-12 06:09:03,944 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.990-0.500
2025-08-12 06:09:03,945 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,945 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,945 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,946 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,946 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,947 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.5390120844526471}
2025-08-12 06:09:03,947 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.5390120844526471, 'is_simple': True}
2025-08-12 06:09:03,949 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.700-0.125
2025-08-12 06:09:03,949 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:03,949 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:03,950 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,950 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1007.9999999999999. Returning 0.0.
2025-08-12 06:09:03,950 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,950 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,951 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,951 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,951 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:03,951 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,951 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:03,951 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1425.6, 0.0), (712.8363645639602, -712.7636354360399)]
2025-08-12 06:09:03,952 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,952 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:03,952 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.990-0.125
2025-08-12 06:09:03,953 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:03,953 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:03,954 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,954 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1007.9999999999999. Returning 0.0.
2025-08-12 06:09:03,954 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,954 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,956 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,956 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,956 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:03,957 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,957 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:03,957 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1425.6, 0.0), (712.8363645639602, -712.7636354360399)]
2025-08-12 06:09:03,957 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,958 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:03,958 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.700-0.875
2025-08-12 06:09:03,958 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 06:09:03,958 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 06:09:03,959 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,959 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1007.9999999999999. Returning 0.0.
2025-08-12 06:09:03,959 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,960 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,960 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,960 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,960 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:03,960 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,961 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:03,961 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1425.6, 0.0), (712.8363645639602, -712.7636354360399)]
2025-08-12 06:09:03,961 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,961 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_sharp_angles': True}
2025-08-12 06:09:03,962 - INFO - [collect_stroke_features] Collected 4 valid stroke features
2025-08-12 06:09:03,962 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=4
2025-08-12 06:09:03,962 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:03,963 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1007.9999999999999. Returning 0.0.
2025-08-12 06:09:03,963 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,963 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,964 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'perimeter': {'mean': 755.9999999999999, 'var': 190511.99999999997, 'min': 0.0, 'max': 1007.9999999999999, 'count': 4}, 'width': {'mean': 534.5727265770298, 'var': 95255.99999999997, 'min': 0.0, 'max': 712.7636354360397, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'height': {'mean': 534.5727265770299, 'var': 95256.0, 'min': 0.0, 'max': 712.7636354360399, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}}}
2025-08-12 06:09:03,964 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'perimeter': {'mean': 755.9999999999999, 'var': 190511.99999999997, 'min': 0.0, 'max': 1007.9999999999999, 'count': 4}, 'width': {'mean': 534.5727265770298, 'var': 95255.99999999997, 'min': 0.0, 'max': 712.7636354360397, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'height': {'mean': 534.5727265770299, 'var': 95256.0, 'min': 0.0, 'max': 712.7636354360399, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}}}
2025-08-12 06:09:03,964 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:03,965 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,965 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:03,965 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1425.6, 0.0), (712.8363645639602, -712.7636354360399)]
2025-08-12 06:09:03,966 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,966 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:03,966 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(1425.6, 0.0), (712.8363645639602, -712.7636354360399)], 'open_stroke_perimeter': 1007.9999999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1007.9999999999999, 'avg_stroke_length': 1007.9999999999999, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 1007.9999999999999, 'var': 0.0, 'min': 1007.9999999999999, 'max': 1007.9999999999999, 'count': 1}, 'width': {'mean': 712.7636354360397, 'var': 0.0, 'min': 712.7636354360397, 'max': 712.7636354360397, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 712.7636354360399, 'var': 0.0, 'min': 712.7636354360399, 'max': 712.7636354360399, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 1007.9999999999999, 'var': 0.0, 'min': 1007.9999999999999, 'max': 1007.9999999999999, 'count': 1}, 'width': {'mean': 712.7636354360397, 'var': 0.0, 'min': 712.7636354360397, 'max': 712.7636354360397, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 712.7636354360399, 'var': 0.0, 'min': 712.7636354360399, 'max': 712.7636354360399, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 712.7636354360397, 'height': 712.7636354360399, 'area': 0.0, 'perimeter': 1007.9999999999999, 'centroid': [1069.21818228198, -356.38181771801993], 'bounds': [712.8363645639602, -712.7636354360399, 1425.6, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1007.9999999999999, 'line_angle': -135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}
2025-08-12 06:09:03,967 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_circle_0.990-0.125
2025-08-12 06:09:03,967 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396)]
2025-08-12 06:09:03,967 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:03,968 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:03,968 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.990-0.500, line_circle_0.700-0.125, line_circle_0.990-0.125, line_triangle_0.700-0.875]
2025-08-12 06:09:03,968 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.990-0.500
2025-08-12 06:09:03,970 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,970 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,970 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,971 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,971 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,972 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.5390120844526471}
2025-08-12 06:09:03,972 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.5390120844526471, 'is_simple': True}
2025-08-12 06:09:03,972 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.700-0.125
2025-08-12 06:09:03,972 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:03,973 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:03,973 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,973 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1425.6. Returning 0.0.
2025-08-12 06:09:03,974 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,974 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,974 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,974 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,974 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:03,975 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,975 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:03,976 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396)]
2025-08-12 06:09:03,976 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,976 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:03,976 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.990-0.125
2025-08-12 06:09:03,976 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:03,976 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:03,978 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,978 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1425.6. Returning 0.0.
2025-08-12 06:09:03,978 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,979 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,979 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,979 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,979 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:03,980 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,980 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:03,980 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396)]
2025-08-12 06:09:03,981 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,981 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:03,981 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.700-0.875
2025-08-12 06:09:03,981 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 06:09:03,982 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 06:09:03,982 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:03,982 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1425.6. Returning 0.0.
2025-08-12 06:09:03,983 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,983 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,983 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,984 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:03,984 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:03,985 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,985 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:03,985 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396)]
2025-08-12 06:09:03,986 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,986 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_sharp_angles': True}
2025-08-12 06:09:03,986 - INFO - [collect_stroke_features] Collected 4 valid stroke features
2025-08-12 06:09:03,986 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=4
2025-08-12 06:09:03,987 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:03,987 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1425.6. Returning 0.0.
2025-08-12 06:09:03,987 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:03,988 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:03,988 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'perimeter': {'mean': 1069.1999999999998, 'var': 381062.8799999999, 'min': 0.0, 'max': 1425.6, 'count': 4}, 'width': {'mean': 1.7053025658242404e-13, 'var': 9.693522803355793e-27, 'min': 0.0, 'max': 2.2737367544323206e-13, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'height': {'mean': 1069.1999999999998, 'var': 381062.8799999999, 'min': 0.0, 'max': 1425.6, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}}}
2025-08-12 06:09:03,988 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'perimeter': {'mean': 1069.1999999999998, 'var': 381062.8799999999, 'min': 0.0, 'max': 1425.6, 'count': 4}, 'width': {'mean': 1.7053025658242404e-13, 'var': 9.693522803355793e-27, 'min': 0.0, 'max': 2.2737367544323206e-13, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'height': {'mean': 1069.1999999999998, 'var': 381062.8799999999, 'min': 0.0, 'max': 1425.6, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}}}
2025-08-12 06:09:03,989 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:03,989 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,990 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:03,990 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396)]
2025-08-12 06:09:03,990 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:03,990 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:03,992 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396)], 'open_stroke_perimeter': 1425.6, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1425.6, 'avg_stroke_length': 1425.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 1425.6, 'var': 0.0, 'min': 1425.6, 'max': 1425.6, 'count': 1}, 'width': {'mean': 2.2737367544323206e-13, 'var': 0.0, 'min': 2.2737367544323206e-13, 'max': 2.2737367544323206e-13, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1425.6, 'var': 0.0, 'min': 1425.6, 'max': 1425.6, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 1425.6, 'var': 0.0, 'min': 1425.6, 'max': 1425.6, 'count': 1}, 'width': {'mean': 2.2737367544323206e-13, 'var': 0.0, 'min': 2.2737367544323206e-13, 'max': 2.2737367544323206e-13, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1425.6, 'var': 0.0, 'min': 1425.6, 'max': 1425.6, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'geometry': {'width': 2.2737367544323206e-13, 'height': 1425.6, 'area': 0.0, 'perimeter': 1425.6, 'centroid': [712.83636456396, 0.0363645639600918], 'bounds': [712.8363645639599, -712.7636354360399, 712.8363645639602, 712.83636456396], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1425.6, 'line_angle': 90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}
2025-08-12 06:09:03,992 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_triangle_0.700-0.875
2025-08-12 06:09:03,992 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836), (0.0, 0.0)]
2025-08-12 06:09:03,992 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 06:09:03,992 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 06:09:03,993 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.990-0.500, line_circle_0.700-0.125, line_circle_0.990-0.125, line_triangle_0.700-0.875]
2025-08-12 06:09:03,993 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.990-0.500
2025-08-12 06:09:03,993 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:03,994 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:03,994 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:03,995 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:03,995 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:03,998 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.5390120844526471}
2025-08-12 06:09:03,998 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.5390120844526471, 'is_simple': True}
2025-08-12 06:09:03,998 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.700-0.125
2025-08-12 06:09:03,999 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:03,999 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:03,999 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,000 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,000 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,001 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,001 - INFO - Computed angular variance: 2.193245 for 3 vertices.
2025-08-12 06:09:04,001 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,001 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,001 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:04,003 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,003 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:04,004 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:04,004 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:04,004 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,005 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:04,005 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.990-0.125
2025-08-12 06:09:04,005 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:04,006 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:04,006 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,007 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,007 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,008 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,008 - INFO - Computed angular variance: 2.193245 for 3 vertices.
2025-08-12 06:09:04,008 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,009 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,009 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:04,010 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,010 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:04,010 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:04,011 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:04,011 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,011 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:04,011 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.700-0.875
2025-08-12 06:09:04,012 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 06:09:04,012 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 06:09:04,012 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,013 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,013 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,014 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,014 - INFO - Computed angular variance: 2.193245 for 3 vertices.
2025-08-12 06:09:04,014 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,014 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,015 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:04,015 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,015 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:04,016 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:04,016 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:04,016 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,016 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_sharp_angles': True}
2025-08-12 06:09:04,018 - INFO - [collect_stroke_features] Collected 4 valid stroke features
2025-08-12 06:09:04,018 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=4
2025-08-12 06:09:04,018 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:04,018 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1008.1028545190842. Returning 0.0.
2025-08-12 06:09:04,019 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,019 - INFO - Computed angular variance: 2.193245 for 3 vertices.
2025-08-12 06:09:04,020 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}}}
2025-08-12 06:09:04,020 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}}}
2025-08-12 06:09:04,020 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:04,021 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,021 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:04,021 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:04,022 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:04,022 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,022 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_sharp_angles': True}
2025-08-12 06:09:04,023 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836), (0.0, 0.0)], 'open_stroke_perimeter': 1008.1028545190842, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.15, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.1028545190842, 'avg_stroke_length': 1008.1028545190842, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 2.193245422464302, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.15, 'var': 0.0, 'min': 0.15, 'max': 0.15, 'count': 1}, 'perimeter': {'mean': 1008.1028545190842, 'var': 0.0, 'min': 1008.1028545190842, 'max': 1008.1028545190842, 'count': 1}, 'width': {'mean': 712.8363645639599, 'var': 0.0, 'min': 712.8363645639599, 'max': 712.8363645639599, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 712.83636456396, 'var': 0.0, 'min': 712.83636456396, 'max': 712.83636456396, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.15, 'var': 0.0, 'min': 0.15, 'max': 0.15, 'count': 1}, 'perimeter': {'mean': 1008.1028545190842, 'var': 0.0, 'min': 1008.1028545190842, 'max': 1008.1028545190842, 'count': 1}, 'width': {'mean': 712.8363645639599, 'var': 0.0, 'min': 712.8363645639599, 'max': 712.8363645639599, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 712.83636456396, 'var': 0.0, 'min': 712.83636456396, 'max': 712.83636456396, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'geometry': {'width': 712.8363645639599, 'height': 712.83636456396, 'area': 0.0, 'perimeter': 1008.1028545190842, 'centroid': [237.63636456396003, 237.6363645639601], 'bounds': [0.0, 0.0, 712.8363645639599, 712.83636456396], 'num_vertices': 3, 'degenerate_case': True}, 'line_length': 1008.1028545190842, 'line_angle': -135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}
2025-08-12 06:09:04,023 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=4
2025-08-12 06:09:04,025 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['line_is_long', 'line_angle', 'avg_stroke_length', 'visual_complexity', 'line_is_vertical', 'has_curved_edges', 'line_is_short', 'is_normal', 'line_curvature_score', 'is_geometric', 'convexity_ratio', 'compactness', 'stroke_index', 'open_stroke_perimeter', 'arc_curvature_score', 'robust_curvature', 'robust_angular_variance', 'degenerate_case', 'is_simple', 'line_length', 'stroke_length', 'geom_complexity', 'geometric_complexity', 'line_is_horizontal', 'has_sharp_angles', 'num_vertices', 'is_pattern']
2025-08-12 06:09:04,025 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (4) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-12 06:09:04,026 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=4
2025-08-12 06:09:04,026 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 4
2025-08-12 06:09:04,026 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 4, 'num_arcs': 0, 'line_ratio': 1.0, 'arc_ratio': 0.0, 'stroke_diversity': 0}, 'line_aggregate': {'total_line_length': 8308.902854519083, 'avg_line_length': 2077.225713629771, 'line_length_variance': 2623709.9759576693, 'line_angle_variance': 9112.5, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'diagonal-up'}}
2025-08-12 06:09:04,027 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_normal_0.990-0.500,line_circle_0.700-0.125,line_circle_0.990-0.125,line_triangle_0.700-0.875
2025-08-12 06:09:04,027 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_normal_0.990-0.500', 'line_circle_0.700-0.125', 'line_circle_0.990-0.125', 'line_triangle_0.700-0.875']]
2025-08-12 06:09:04,028 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.990-0.500', 'line_circle_0.700-0.125', 'line_circle_0.990-0.125', 'line_triangle_0.700-0.875']
2025-08-12 06:09:04,028 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.990-0.500', 'line_circle_0.700-0.125', 'line_circle_0.990-0.125', 'line_triangle_0.700-0.875']
2025-08-12 06:09:04,028 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_normal_0.990-0.500', 'line_circle_0.700-0.125', 'line_circle_0.990-0.125', 'line_triangle_0.700-0.875']]
2025-08-12 06:09:04,029 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.990-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)], 'open_stroke_perimeter': 4867.2, 'compactness': 0.5390120844526471, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1425.6, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4867.2, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_circle_0.700-0.125', 'features': {'stroke_index': 1, 'analytic_vertices': [(1425.6, 0.0), (712.8363645639602, -712.7636354360399)], 'open_stroke_perimeter': 1007.9999999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1007.9999999999999, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 712.7636354360397, 'height': 712.7636354360399, 'area': 0.0, 'perimeter': 1007.9999999999999, 'centroid': [1069.21818228198, -356.38181771801993], 'bounds': [712.8363645639602, -712.7636354360399, 1425.6, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1007.9999999999999, 'line_angle': -135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_circle_0.990-0.125', 'features': {'stroke_index': 2, 'analytic_vertices': [(712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396)], 'open_stroke_perimeter': 1425.6, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1425.6, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 2.2737367544323206e-13, 'height': 1425.6, 'area': 0.0, 'perimeter': 1425.6, 'centroid': [712.83636456396, 0.0363645639600918], 'bounds': [712.8363645639599, -712.7636354360399, 712.8363645639602, 712.83636456396], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1425.6, 'line_angle': 90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_triangle_0.700-0.875', 'features': {'stroke_index': 3, 'analytic_vertices': [(712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836), (0.0, 0.0)], 'open_stroke_perimeter': 1008.1028545190842, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.15, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.1028545190842, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 2.193245422464302, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 712.8363645639599, 'height': 712.83636456396, 'area': 0.0, 'perimeter': 1008.1028545190842, 'centroid': [237.63636456396003, 237.6363645639601], 'bounds': [0.0, 0.0, 712.8363645639599, 712.83636456396], 'num_vertices': 3, 'degenerate_case': True}, 'line_length': 1008.1028545190842, 'line_angle': -135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:04,029 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:04,029 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:04,030 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-12 06:09:04,030 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-12 06:09:04,031 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.4000204066015488, 0.4999948983496128], 'orientation_degrees': 179.99561530535252}, geometry={'area': 0.12501275445130353, 'perimeter': 1.7071938718062603, 'centroid': [0.33335033883462395, 0.6666496611653758], 'bounds': [0.0, 0.4999744917480639, 0.5000255082519361, 1.0], 'width': 0.5000255082519361, 'height': 0.500025508251936}
2025-08-12 06:09:04,031 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_normal_0.990-0.500', 'line_circle_0.700-0.125', 'line_circle_0.990-0.125', 'line_triangle_0.700-0.875']
2025-08-12 06:09:04,032 - DEBUG - [PATCH][actions field] Joined: line_normal_0.990-0.500,line_circle_0.700-0.125,line_circle_0.990-0.125,line_triangle_0.700-0.875
2025-08-12 06:09:04,032 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.990-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)], 'open_stroke_perimeter': 4867.2, 'compactness': 0.5390120844526471, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1425.6, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4867.2, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_circle_0.700-0.125', 'features': {'stroke_index': 1, 'analytic_vertices': [(1425.6, 0.0), (712.8363645639602, -712.7636354360399)], 'open_stroke_perimeter': 1007.9999999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1007.9999999999999, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 712.7636354360397, 'height': 712.7636354360399, 'area': 0.0, 'perimeter': 1007.9999999999999, 'centroid': [1069.21818228198, -356.38181771801993], 'bounds': [712.8363645639602, -712.7636354360399, 1425.6, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1007.9999999999999, 'line_angle': -135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_circle_0.990-0.125', 'features': {'stroke_index': 2, 'analytic_vertices': [(712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396)], 'open_stroke_perimeter': 1425.6, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1425.6, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 2.2737367544323206e-13, 'height': 1425.6, 'area': 0.0, 'perimeter': 1425.6, 'centroid': [712.83636456396, 0.0363645639600918], 'bounds': [712.8363645639599, -712.7636354360399, 712.8363645639602, 712.83636456396], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1425.6, 'line_angle': 90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_triangle_0.700-0.875', 'features': {'stroke_index': 3, 'analytic_vertices': [(712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836), (0.0, 0.0)], 'open_stroke_perimeter': 1008.1028545190842, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.15, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.1028545190842, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 2.193245422464302, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 712.8363645639599, 'height': 712.83636456396, 'area': 0.0, 'perimeter': 1008.1028545190842, 'centroid': [237.63636456396003, 237.6363645639601], 'bounds': [0.0, 0.0, 712.8363645639599, 712.83636456396], 'num_vertices': 3, 'degenerate_case': True}, 'line_length': 1008.1028545190842, 'line_angle': -135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:04,032 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)]
2025-08-12 06:09:04,032 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(0.0, 0.4999744917480639), (1.0, 0.4999744917480639), (0.5000255082519361, 0.0), (0.500025508251936, 1.0), (5.101650387218267e-05, 0.5000255082519361)]
2025-08-12 06:09:04,032 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_normal_0.990-0.500', 'line_circle_0.700-0.125', 'line_circle_0.990-0.125', 'line_triangle_0.700-0.875']]
2025-08-12 06:09:04,034 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:04,034 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:04,034 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|normal': 3}
2025-08-12 06:09:04,035 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)], 'open_stroke_perimeter': 4867.2, 'compactness': 0.5390120844526471, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1425.6, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4867.2, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(1425.6, 0.0), (712.8363645639602, -712.7636354360399)], 'open_stroke_perimeter': 1007.9999999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1007.9999999999999, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 712.7636354360397, 'height': 712.7636354360399, 'area': 0.0, 'perimeter': 1007.9999999999999, 'centroid': [1069.21818228198, -356.38181771801993], 'bounds': [712.8363645639602, -712.7636354360399, 1425.6, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1007.9999999999999, 'line_angle': -135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 2, 'analytic_vertices': [(712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396)], 'open_stroke_perimeter': 1425.6, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1425.6, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 2.2737367544323206e-13, 'height': 1425.6, 'area': 0.0, 'perimeter': 1425.6, 'centroid': [712.83636456396, 0.0363645639600918], 'bounds': [712.8363645639599, -712.7636354360399, 712.8363645639602, 712.83636456396], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1425.6, 'line_angle': 90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 3, 'analytic_vertices': [(712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836), (0.0, 0.0)], 'open_stroke_perimeter': 1008.1028545190842, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.15, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.1028545190842, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 2.193245422464302, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 712.8363645639599, 'height': 712.83636456396, 'area': 0.0, 'perimeter': 1008.1028545190842, 'centroid': [237.63636456396003, 237.6363645639601], 'bounds': [0.0, 0.0, 712.8363645639599, 712.83636456396], 'num_vertices': 3, 'degenerate_case': True}, 'line_length': 1008.1028545190842, 'line_angle': -135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}], 'arc_features': []}
2025-08-12 06:09:04,035 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-12 06:09:04,035 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': {'x': 0, 'y': 0, 'width': 0, 'height': 0}, 'centroid': [0.0, 0.0], 'width': 0.0, 'height': 0.0, 'area_raw': 0.0, 'area_normalized': 0.0, 'perimeter_raw': 0.0, 'perimeter_normalized': 0.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.0, 'is_convex': False, 'compactness': 0.0, 'polsby_popper_compactness': 0.0, 'eccentricity': 0.0, 'symmetry_score': 0.0, 'horizontal_symmetry': 0.0, 'vertical_symmetry': 0.0, 'rotational_symmetry': 0.0, 'has_quadrangle': False, 'geometric_complexity': 0.0, 'visual_complexity': 0.0, 'curvature_score': 0.0, 'angular_variance': 0.0, 'moment_of_inertia': 0.0, 'irregularity_score': 0.0, 'standardized_complexity': 0.0}
2025-08-12 06:09:04,036 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:04,036 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-12 06:09:04,036 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-12 06:09:04,037 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.990-0.500, stroke_index=0
2025-08-12 06:09:04,037 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.99, param2=None, param3=0.5
2025-08-12 06:09:04,038 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.445, 0.5), (0.39, 0.5), (0.33499999999999996, 0.5), (0.28, 0.5), (0.22499999999999998, 0.5), (0.16999999999999998, 0.5), (0.11499999999999999, 0.5), (0.06, 0.5), (0.0050000000000000044, 0.5), (-0.050000000000000044, 0.5000000000000001), (-0.10499999999999998, 0.5000000000000001), (-0.16000000000000003, 0.5000000000000001), (-0.21499999999999997, 0.5000000000000001), (-0.27, 0.5000000000000001), (-0.32499999999999996, 0.5000000000000001), (-0.38, 0.5000000000000001), (-0.43500000000000005, 0.5000000000000001), (-0.49, 0.5000000000000001)]
2025-08-12 06:09:04,039 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,040 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,040 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,041 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,041 - INFO - Computed angular variance: 0.929547 for 19 vertices.
2025-08-12 06:09:04,042 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,042 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,042 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,043 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,044 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,046 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (-0.49, 0.5000000000000001)]
2025-08-12 06:09:04,047 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (-0.49, 0.5000000000000001)]
2025-08-12 06:09:04,047 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.38, 'num_vertices': 19, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,047 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.38, 'num_vertices': 19, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,048 - INFO - [_vertices_from_command] INPUT: command=line_circle_0.700-0.125, stroke_index=0
2025-08-12 06:09:04,048 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.7, param2=None, param3=0.125
2025-08-12 06:09:04,048 - INFO - [_vertices_from_command] Circle vertices: [(1.2, 0.5), (1.1657395614066073, 0.7163118960624631), (1.0663118960624631, 0.9114496766047312), (0.9114496766047312, 1.0663118960624631), (0.7163118960624633, 1.1657395614066073), (0.5, 1.2), (0.28368810393753685, 1.1657395614066075), (0.08855032339526892, 1.0663118960624631), (-0.06631189606246313, 0.9114496766047313), (-0.1657395614066074, 0.7163118960624633), (-0.19999999999999996, 0.5000000000000001), (-0.16573956140660762, 0.2836881039375372), (-0.06631189606246313, 0.08855032339526892), (0.08855032339526875, -0.06631189606246313), (0.28368810393753674, -0.1657395614066074), (0.4999999999999999, -0.19999999999999996), (0.716311896062463, -0.1657395614066075), (0.9114496766047311, -0.06631189606246324), (1.0663118960624631, 0.08855032339526869), (1.1657395614066073, 0.28368810393753663)]
2025-08-12 06:09:04,049 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,049 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,051 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:04,055 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275}
2025-08-12 06:09:04,055 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275, 'has_curved_edges': True}
2025-08-12 06:09:04,055 - INFO - [_vertices_from_command] INPUT: command=line_circle_0.990-0.125, stroke_index=0
2025-08-12 06:09:04,056 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.99, param2=None, param3=0.125
2025-08-12 06:09:04,056 - INFO - [_vertices_from_command] Circle vertices: [(1.49, 0.5), (1.441545951132202, 0.8059268244311979), (1.300926824431198, 1.0819073997695483), (1.0819073997695483, 1.300926824431198), (0.8059268244311979, 1.441545951132202), (0.5000000000000001, 1.49), (0.19407317556880216, 1.441545951132202), (-0.0819073997695483, 1.300926824431198), (-0.3009268244311979, 1.0819073997695485), (-0.44154595113220196, 0.805926824431198), (-0.49, 0.5000000000000001), (-0.4415459511322022, 0.1940731755688026), (-0.300926824431198, -0.0819073997695483), (-0.08190739976954853, -0.3009268244311979), (0.19407317556880194, -0.44154595113220196), (0.49999999999999983, -0.49), (0.8059268244311977, -0.4415459511322021), (1.0819073997695483, -0.3009268244311981), (1.300926824431198, -0.08190739976954864), (1.441545951132202, 0.19407317556880183)]
2025-08-12 06:09:04,057 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,057 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,057 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:04,062 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547279}
2025-08-12 06:09:04,062 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547279, 'has_curved_edges': True}
2025-08-12 06:09:04,062 - INFO - [_vertices_from_command] INPUT: command=line_triangle_0.700-0.875, stroke_index=0
2025-08-12 06:09:04,062 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=0.7, param2=None, param3=0.875
2025-08-12 06:09:04,062 - INFO - [_vertices_from_command] Triangle vertices: [(1.2, 0.5), (0.1500000000000002, 1.106217782649107), (0.1499999999999997, -0.10621778264910686), (1.2, 0.5)]
2025-08-12 06:09:04,063 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,064 - INFO - Convexity: poly_area=0.6365, hull_area=0.6365, ratio=1.0000
2025-08-12 06:09:04,065 - INFO - Computed angular variance: 0.068539 for 4 vertices.
2025-08-12 06:09:04,065 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,065 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,066 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,066 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,066 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:04,067 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-12 06:09:04,067 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-12 06:09:04,067 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'circle', 'circle', 'triangle'], n=2
2025-08-12 06:09:04,067 - DEBUG - [ensure_str_list] Converting list: ['normal', 'circle', 'circle', 'triangle']
2025-08-12 06:09:04,068 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,068 - DEBUG - [ensure_str_list] Returning string: circle
2025-08-12 06:09:04,068 - DEBUG - [ensure_str_list] Returning string: circle
2025-08-12 06:09:04,068 - DEBUG - [ensure_str_list] Returning string: triangle
2025-08-12 06:09:04,069 - DEBUG - [ensure_str_list] Result: ['normal', 'circle', 'circle', 'triangle']
2025-08-12 06:09:04,069 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'circle', 'circle', 'triangle']
2025-08-12 06:09:04,069 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|circle': 1, 'circle|circle': 1, 'circle|triangle': 1}
2025-08-12 06:09:04,069 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,070 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_1', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/1.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.990-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)], 'open_stroke_perimeter': 4867.2, 'compactness': 0.5390120844526471, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1425.6, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4867.2, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_circle_0.700-0.125', 'features': {'stroke_index': 1, 'analytic_vertices': [(1425.6, 0.0), (712.8363645639602, -712.7636354360399)], 'open_stroke_perimeter': 1007.9999999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1007.9999999999999, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 712.7636354360397, 'height': 712.7636354360399, 'area': 0.0, 'perimeter': 1007.9999999999999, 'centroid': [1069.21818228198, -356.38181771801993], 'bounds': [712.8363645639602, -712.7636354360399, 1425.6, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1007.9999999999999, 'line_angle': -135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_circle_0.990-0.125', 'features': {'stroke_index': 2, 'analytic_vertices': [(712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396)], 'open_stroke_perimeter': 1425.6, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1425.6, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 2.2737367544323206e-13, 'height': 1425.6, 'area': 0.0, 'perimeter': 1425.6, 'centroid': [712.83636456396, 0.0363645639600918], 'bounds': [712.8363645639599, -712.7636354360399, 712.8363645639602, 712.83636456396], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1425.6, 'line_angle': 90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_triangle_0.700-0.875', 'features': {'stroke_index': 3, 'analytic_vertices': [(712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836), (0.0, 0.0)], 'open_stroke_perimeter': 1008.1028545190842, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.15, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.1028545190842, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 2.193245422464302, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 712.8363645639599, 'height': 712.83636456396, 'area': 0.0, 'perimeter': 1008.1028545190842, 'centroid': [237.63636456396003, 237.6363645639601], 'bounds': [0.0, 0.0, 712.8363645639599, 712.83636456396], 'num_vertices': 3, 'degenerate_case': True}, 'line_length': 1008.1028545190842, 'line_angle': -135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 4, 'raw_vertices': ['(0.0, 0.0)', '(1425.6, 0.0)', '(712.8363645639602, -712.7636354360399)', '(712.8363645639599, 712.83636456396)', '(0.0727291279201836, 0.0727291279201836)'], 'vertices': ['(0.0, 0.4999744917480639)', '(1.0, 0.4999744917480639)', '(0.5000255082519361, 0.0)', '(0.500025508251936, 1.0)', '(5.101650387218267e-05, 0.5000255082519361)'], 'num_vertices': 5, 'position_label': ['0.4000204066015488', '0.4999948983496128'], 'rotation_label_degrees': ['179.99561530535252'], 'image_features': {'bounding_box': {'x': 0, 'y': 0, 'width': 0, 'height': 0}, 'centroid': [0.0, 0.0], 'width': 0.0, 'height': 0.0, 'area_raw': 0.0, 'area_normalized': 0.0, 'perimeter_raw': 0.0, 'perimeter_normalized': 0.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.0, 'is_convex': False, 'compactness': 0.0, 'polsby_popper_compactness': 0.0, 'eccentricity': 0.0, 'symmetry_score': 0.0, 'horizontal_symmetry': 0.0, 'vertical_symmetry': 0.0, 'rotational_symmetry': 0.0, 'has_quadrangle': False, 'geometric_complexity': 0.0, 'visual_complexity': 0.0, 'curvature_score': 0.0, 'angular_variance': 0.0, 'moment_of_inertia': 0.0, 'irregularity_score': 0.0, 'standardized_complexity': 0.0}, 'image_level_features': {'area_mean': 1.294846876521916, 'perimeter_mean': 3.5530691331535627, 'width_mean': 1.1075, 'height_mean': 1.1481088913245534, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.2500000002168028, 'center_of_mass': [0.33335033883462395, 0.6666496611653758], 'polsby_popper_compactness': 0.7853981623753769, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.112190114220502, 'angular_variance': 0.8882643960979427, 'edge_length_variance': 0.1337054249803661}, 'composition_features': {'stroke_type_distribution': {'line': 4}, 'shape_modifier_distribution': {'normal': 1, 'circle': 2, 'triangle': 1}, 'stroke_diversity': 1, 'shape_diversity': 3, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'circle', 'composition_complexity': 7, 'homogeneity_score': 0.375, 'pattern_regularity': 0.5}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)], 'open_stroke_perimeter': 4867.2, 'compactness': 0.5390120844526471, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1425.6, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4867.2, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(1425.6, 0.0), (712.8363645639602, -712.7636354360399)], 'open_stroke_perimeter': 1007.9999999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1007.9999999999999, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 712.7636354360397, 'height': 712.7636354360399, 'area': 0.0, 'perimeter': 1007.9999999999999, 'centroid': [1069.21818228198, -356.38181771801993], 'bounds': [712.8363645639602, -712.7636354360399, 1425.6, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1007.9999999999999, 'line_angle': -135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 2, 'analytic_vertices': [(712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396)], 'open_stroke_perimeter': 1425.6, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1425.6, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 2.2737367544323206e-13, 'height': 1425.6, 'area': 0.0, 'perimeter': 1425.6, 'centroid': [712.83636456396, 0.0363645639600918], 'bounds': [712.8363645639599, -712.7636354360399, 712.8363645639602, 712.83636456396], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1425.6, 'line_angle': 90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 3, 'analytic_vertices': [(712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836), (0.0, 0.0)], 'open_stroke_perimeter': 1008.1028545190842, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.15, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.1028545190842, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 2.193245422464302, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 712.8363645639599, 'height': 712.83636456396, 'area': 0.0, 'perimeter': 1008.1028545190842, 'centroid': [237.63636456396003, 237.6363645639601], 'bounds': [0.0, 0.0, 712.8363645639599, 712.83636456396], 'num_vertices': 3, 'degenerate_case': True}, 'line_length': 1008.1028545190842, 'line_angle': -135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 4}}, 'processing_metadata': {'processing_timestamp': 1754959144.0708475, 'feature_count': 45}, 'actions': ['line_normal_0.990-0.500,line_circle_0.700-0.125,line_circle_0.990-0.125,line_triangle_0.700-0.875'], 'action_program': ['line_normal_0.990-0.500,line_circle_0.700-0.125,line_circle_0.990-0.125,line_triangle_0.700-0.875'], 'geometry': {'area': 0.12501275445130353, 'perimeter': 1.7071938718062603, 'centroid': [0.33335033883462395, 0.6666496611653758], 'bounds': [0.0, 0.4999744917480639, 0.5000255082519361, 1.0], 'width': 0.5000255082519361, 'height': 0.500025508251936}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 3}, 'analytic_attributes': ['normal', 'circle', 'circle', 'triangle'], 'analytic_ngram': {'normal|circle': 1, 'circle|circle': 1, 'circle|triangle': 1}, 'alternation': 0.25, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 4}}}, 'topological_features': {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 2, 1: 2, 2: 1, 3: 1}, 'adjacency_clustering': {0: 0, 1: 0, 2: 0, 3: 0}, 'intersection_count': 3, 'betweenness_centrality': {0: 0.6666666666666666, 1: 0.6666666666666666, 2: 0.0, 3: 0.0}, 'containment_score': 3, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 1.5141832724372424, 0.636460691356572, 0.0, 1.5141832724372424, 0.6365286717815624, 0.0, 0.636460691356572, 0.6365286717815624], 'geodesic_dist_convex_hull': 4032.2057116618075, 'skeleton_graph_features': {'num_nodes': 4, 'num_edges': 3}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.8882643960979427, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.38454532694884097, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.3282425867927398, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.5262892452716617, 'complexity': 0, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.7474319680023301, 'complexity': 0, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}}}
2025-08-12 06:09:04,071 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.4000204066015488, 0.4999948983496128], 'orientation_degrees': 179.99561530535252}
2025-08-12 06:09:04,071 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.12501275445130353, 'perimeter': 1.7071938718062603, 'centroid': [0.33335033883462395, 0.6666496611653758], 'bounds': [0.0, 0.4999744917480639, 0.5000255082519361, 1.0], 'width': 0.5000255082519361, 'height': 0.500025508251936}
2025-08-12 06:09:04,071 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.990-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)], 'open_stroke_perimeter': 4867.2, 'compactness': 0.5390120844526471, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1425.6, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4867.2, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_circle_0.700-0.125', 'features': {'stroke_index': 1, 'analytic_vertices': [(1425.6, 0.0), (712.8363645639602, -712.7636354360399)], 'open_stroke_perimeter': 1007.9999999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1007.9999999999999, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 712.7636354360397, 'height': 712.7636354360399, 'area': 0.0, 'perimeter': 1007.9999999999999, 'centroid': [1069.21818228198, -356.38181771801993], 'bounds': [712.8363645639602, -712.7636354360399, 1425.6, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1007.9999999999999, 'line_angle': -135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_circle_0.990-0.125', 'features': {'stroke_index': 2, 'analytic_vertices': [(712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396)], 'open_stroke_perimeter': 1425.6, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1425.6, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 2.2737367544323206e-13, 'height': 1425.6, 'area': 0.0, 'perimeter': 1425.6, 'centroid': [712.83636456396, 0.0363645639600918], 'bounds': [712.8363645639599, -712.7636354360399, 712.8363645639602, 712.83636456396], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1425.6, 'line_angle': 90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_triangle_0.700-0.875', 'features': {'stroke_index': 3, 'analytic_vertices': [(712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836), (0.0, 0.0)], 'open_stroke_perimeter': 1008.1028545190842, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.15, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.1028545190842, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 2.193245422464302, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 712.8363645639599, 'height': 712.83636456396, 'area': 0.0, 'perimeter': 1008.1028545190842, 'centroid': [237.63636456396003, 237.6363645639601], 'bounds': [0.0, 0.0, 712.8363645639599, 712.83636456396], 'num_vertices': 3, 'degenerate_case': True}, 'line_length': 1008.1028545190842, 'line_angle': -135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:04,072 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_normal_0.990-0.500', 'line_circle_0.700-0.125', 'line_circle_0.990-0.125', 'line_triangle_0.700-0.875']]
2025-08-12 06:09:04,072 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)]
2025-08-12 06:09:04,073 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(0.0, 0.4999744917480639), (1.0, 0.4999744917480639), (0.5000255082519361, 0.0), (0.500025508251936, 1.0), (5.101650387218267e-05, 0.5000255082519361)]
2025-08-12 06:09:04,073 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': {'x': 0, 'y': 0, 'width': 0, 'height': 0}, 'centroid': [0.0, 0.0], 'width': 0.0, 'height': 0.0, 'area_raw': 0.0, 'area_normalized': 0.0, 'perimeter_raw': 0.0, 'perimeter_normalized': 0.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.0, 'is_convex': False, 'compactness': 0.0, 'polsby_popper_compactness': 0.0, 'eccentricity': 0.0, 'symmetry_score': 0.0, 'horizontal_symmetry': 0.0, 'vertical_symmetry': 0.0, 'rotational_symmetry': 0.0, 'has_quadrangle': False, 'geometric_complexity': 0.0, 'visual_complexity': 0.0, 'curvature_score': 0.0, 'angular_variance': 0.0, 'moment_of_inertia': 0.0, 'irregularity_score': 0.0, 'standardized_complexity': 0.0}
2025-08-12 06:09:04,073 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.2500000002168028, 'center_of_mass': [0.33335033883462395, 0.6666496611653758], 'polsby_popper_compactness': 0.7853981623753769, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.112190114220502, 'angular_variance': 0.8882643960979427, 'edge_length_variance': 0.1337054249803661}
2025-08-12 06:09:04,073 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 4}, 'shape_modifier_distribution': {'normal': 1, 'circle': 2, 'triangle': 1}, 'stroke_diversity': 1, 'shape_diversity': 3, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'circle', 'composition_complexity': 7, 'homogeneity_score': 0.375, 'pattern_regularity': 0.5}
2025-08-12 06:09:04,075 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1425.6, 0.0), (712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836)], 'open_stroke_perimeter': 4867.2, 'compactness': 0.5390120844526471, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1425.6, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4867.2, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(1425.6, 0.0), (712.8363645639602, -712.7636354360399)], 'open_stroke_perimeter': 1007.9999999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1007.9999999999999, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 712.7636354360397, 'height': 712.7636354360399, 'area': 0.0, 'perimeter': 1007.9999999999999, 'centroid': [1069.21818228198, -356.38181771801993], 'bounds': [712.8363645639602, -712.7636354360399, 1425.6, 0.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1007.9999999999999, 'line_angle': -135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 2, 'analytic_vertices': [(712.8363645639602, -712.7636354360399), (712.8363645639599, 712.83636456396)], 'open_stroke_perimeter': 1425.6, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1425.6, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 2.2737367544323206e-13, 'height': 1425.6, 'area': 0.0, 'perimeter': 1425.6, 'centroid': [712.83636456396, 0.0363645639600918], 'bounds': [712.8363645639599, -712.7636354360399, 712.8363645639602, 712.83636456396], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1425.6, 'line_angle': 90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 3, 'analytic_vertices': [(712.8363645639599, 712.83636456396), (0.0727291279201836, 0.0727291279201836), (0.0, 0.0)], 'open_stroke_perimeter': 1008.1028545190842, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.15, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.1028545190842, 'avg_stroke_length': 1216.825713629771, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 2.193245422464302, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 712.8363645639599, 'height': 712.83636456396, 'area': 0.0, 'perimeter': 1008.1028545190842, 'centroid': [237.63636456396003, 237.6363645639601], 'bounds': [0.0, 0.0, 712.8363645639599, 712.83636456396], 'num_vertices': 3, 'degenerate_case': True}, 'line_length': 1008.1028545190842, 'line_angle': -135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}], 'arc_features': []}
2025-08-12 06:09:04,075 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}
2025-08-12 06:09:04,076 - INFO - [INPUT] Processing image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_2, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018, is_positive=False
2025-08-12 06:09:04,076 - INFO - [INPUT] action_commands type: <class 'list'>, value: [['line_normal_0.300-0.500', 'line_normal_0.424-0.875', 'line_normal_0.300-0.875', 'line_normal_0.600-0.083', 'line_normal_0.700-0.750', 'line_normal_0.600-0.750', 'line_normal_0.700-0.750']]
2025-08-12 06:09:04,077 - INFO - [SHAPE SPLIT] Raw action_commands: [['line_normal_0.300-0.500', 'line_normal_0.424-0.875', 'line_normal_0.300-0.875', 'line_normal_0.600-0.083', 'line_normal_0.700-0.750', 'line_normal_0.600-0.750', 'line_normal_0.700-0.750']]
2025-08-12 06:09:04,077 - INFO - [SHAPE SPLIT] Sublist 0: ['line_normal_0.300-0.500', 'line_normal_0.424-0.875', 'line_normal_0.300-0.875', 'line_normal_0.600-0.083', 'line_normal_0.700-0.750', 'line_normal_0.600-0.750', 'line_normal_0.700-0.750']
2025-08-12 06:09:04,077 - INFO - [SHAPE SPLIT] Parsed shapes_commands (multi-object): [['line_normal_0.300-0.500', 'line_normal_0.424-0.875', 'line_normal_0.300-0.875', 'line_normal_0.600-0.083', 'line_normal_0.700-0.750', 'line_normal_0.600-0.750', 'line_normal_0.700-0.750']]
2025-08-12 06:09:04,077 - INFO - ComprehensiveNVLabsParser initialized:
2025-08-12 06:09:04,077 - INFO -   Canvas size: 512x512
2025-08-12 06:09:04,078 - INFO -   Coordinate range: (-360, 360)
2025-08-12 06:09:04,078 - INFO -   Base scaling factor: 1440.0
2025-08-12 06:09:04,078 - INFO - [PARSER] Parsing shape 0 commands: ['line_normal_0.300-0.500', 'line_normal_0.424-0.875', 'line_normal_0.300-0.875', 'line_normal_0.600-0.083', 'line_normal_0.700-0.750', 'line_normal_0.600-0.750', 'line_normal_0.700-0.750']
2025-08-12 06:09:04,079 - INFO - [LOGOPARSER] Input action_commands for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: ['line_normal_0.300-0.500', 'line_normal_0.424-0.875', 'line_normal_0.300-0.875', 'line_normal_0.600-0.083', 'line_normal_0.700-0.750', 'line_normal_0.600-0.750', 'line_normal_0.700-0.750']
2025-08-12 06:09:04,079 - DEBUG - Parsing 7 commands for hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:04,079 - DEBUG - [ACTIONS_JOIN] line_normal_0.300-0.500,line_normal_0.424-0.875,line_normal_0.300-0.875,line_normal_0.600-0.083,line_normal_0.700-0.750,line_normal_0.600-0.750,line_normal_0.700-0.750
2025-08-12 06:09:04,079 - DEBUG - [ACTIONS_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:04,080 - DEBUG - [ACTIONS_ATTRS] [{'line_length': 432.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_0.300-0.500'}, {'line_length': 610.56, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_normal_0.424-0.875'}, {'line_length': 432.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_normal_0.300-0.875'}, {'line_length': 864.0, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 150.12, 'name': 'line', 'raw_command': 'line_normal_0.600-0.083'}, {'line_length': 1007.9999999999999, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.700-0.750'}, {'line_length': 864.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.600-0.750'}, {'line_length': 1007.9999999999999, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.700-0.750'}]
2025-08-12 06:09:04,080 - INFO - [OneStrokeShape.__init__] basic_actions: [line_normal_0.300-0.500, line_normal_0.424-0.875, line_normal_0.300-0.875, line_normal_0.600-0.083, line_normal_0.700-0.750, line_normal_0.600-0.750, line_normal_0.700-0.750], start_coordinates: None, start_orientation: None, scaling_factors: None
2025-08-12 06:09:04,080 - DEBUG - [OUTPUT_SHAPE_ACTIONS] line_normal_0.300-0.500,line_normal_0.424-0.875,line_normal_0.300-0.875,line_normal_0.600-0.083,line_normal_0.700-0.750,line_normal_0.600-0.750,line_normal_0.700-0.750
2025-08-12 06:09:04,081 - DEBUG - [OUTPUT_SHAPE_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:04,081 - DEBUG - [OUTPUT_SHAPE_ATTRS] [{'line_length': 432.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_0.300-0.500'}, {'line_length': 610.56, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_normal_0.424-0.875'}, {'line_length': 432.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_normal_0.300-0.875'}, {'line_length': 864.0, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 150.12, 'name': 'line', 'raw_command': 'line_normal_0.600-0.083'}, {'line_length': 1007.9999999999999, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.700-0.750'}, {'line_length': 864.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.600-0.750'}, {'line_length': 1007.9999999999999, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.700-0.750'}]
2025-08-12 06:09:04,081 - INFO - [OneStrokeShape._calculate_vertices] INPUT basic_actions: [line_normal_0.300-0.500, line_normal_0.424-0.875, line_normal_0.300-0.875, line_normal_0.600-0.083, line_normal_0.700-0.750, line_normal_0.600-0.750, line_normal_0.700-0.750]
2025-08-12 06:09:04,081 - INFO - [OneStrokeShape._calculate_vertices] OUTPUT vertices: [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)]
2025-08-12 06:09:04,082 - INFO - [LOGOPARSER] Shape for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 has 8 vertices.
2025-08-12 06:09:04,082 - INFO - [LOGOPARSER] Parsed vertices (raw): [[0.0, 0.0], [432.0, 0.0], [0.26888367874164487, 431.73111632125847], [0.2688836787415655, -0.2688836787415312], [-430.1630473345784, 748.880202127378], [-1304.1703141083844, 246.70961594517144], [-873.7383830950641, -502.43946986094784], [0.26888367874175856, -0.2688836787410196]]
2025-08-12 06:09:04,082 - INFO - [LOGOPARSER] Vertices bounding box: min=(-1304.17,-502.44), max=(432.00,748.88), center=(-271.91,115.54)
2025-08-12 06:09:04,083 - INFO - Successfully created OneStrokeShape with 7 actions using NVLabs implementation
2025-08-12 06:09:04,083 - INFO - [PARSER] Parsed shape 0: type=OneStrokeShape, num_actions=7, action_types=['str', 'str', 'str', 'str', 'str', 'str', 'str'], attributes={}
2025-08-12 06:09:04,083 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.300-0.500, stroke_index=0
2025-08-12 06:09:04,084 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.3, param2=None, param3=0.5
2025-08-12 06:09:04,084 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.45714285714285713, 0.5), (0.41428571428571426, 0.5), (0.37142857142857144, 0.5), (0.32857142857142857, 0.5), (0.2857142857142857, 0.5), (0.24285714285714288, 0.5), (0.2, 0.5)]
2025-08-12 06:09:04,084 - INFO - [_calculate_vertices_from_action] Bounding box: (0.2, 0.5, 0.5, 0.5)
2025-08-12 06:09:04,084 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,085 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,085 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,086 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,086 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:04,087 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,087 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,087 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,088 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,088 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,089 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.2, 0.5)]
2025-08-12 06:09:04,089 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.2, 0.5)]
2025-08-12 06:09:04,089 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,090 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,090 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,091 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_2, stroke_idx=0, assigned is_positive=False
2025-08-12 06:09:04,091 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_2, stroke_idx=0, stroke_dict: {'command': 'line_normal_0.300-0.500', 'vertices': [(0.5, 0.5), (0.45714285714285713, 0.5), (0.41428571428571426, 0.5), (0.37142857142857144, 0.5), (0.32857142857142857, 0.5), (0.2857142857142857, 0.5), (0.24285714285714288, 0.5), (0.2, 0.5)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.45714285714285713, 0.5), (0.41428571428571426, 0.5), (0.37142857142857144, 0.5), (0.32857142857142857, 0.5), (0.2857142857142857, 0.5), (0.24285714285714288, 0.5), (0.2, 0.5)], 'open_stroke_perimeter': 0.3, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,091 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.424-0.875, stroke_index=1
2025-08-12 06:09:04,092 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.424, param2=None, param3=0.875
2025-08-12 06:09:04,092 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)]
2025-08-12 06:09:04,092 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.2001867247769038, 0.7998132752230961, 0.5)
2025-08-12 06:09:04,094 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,095 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,095 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:04,095 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,096 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,096 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:04,096 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,097 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,097 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,097 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,098 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,098 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,100 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_2, stroke_idx=1, assigned is_positive=False
2025-08-12 06:09:04,100 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_2, stroke_idx=1, stroke_dict: {'command': 'line_normal_0.424-0.875', 'vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'geometry': {'area': 4.7704895589362195e-18, 'perimeter': 0.2826666666666667, 'centroid': [0.7474649255809681, 0.2525350744190317], 'bounds': [0.6998755168153974, 0.2001867247769038, 0.7998132752230961, 0.30012448318460255], 'width': 0.0999377584076987, 'height': 0.09993775840769875, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.2826666666666667, 'analytic_vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'open_stroke_perimeter': 0.424, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,101 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.300-0.875, stroke_index=2
2025-08-12 06:09:04,101 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.3, param2=None, param3=0.875
2025-08-12 06:09:04,101 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5303045763365664, 0.4696954236634337), (0.5606091526731326, 0.43939084732686734), (0.590913729009699, 0.40908627099030104), (0.6212183053462652, 0.3787816946537347), (0.6515228816828316, 0.3484771183171684), (0.6818274580193979, 0.3181725419806021), (0.7121320343559642, 0.2878679656440357)]
2025-08-12 06:09:04,101 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.2878679656440357, 0.7121320343559642, 0.5)
2025-08-12 06:09:04,103 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,104 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,105 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:04,105 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,105 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,106 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:04,106 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,106 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,106 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,108 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,108 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,108 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,109 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_2, stroke_idx=2, assigned is_positive=False
2025-08-12 06:09:04,110 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_2, stroke_idx=2, stroke_dict: {'command': 'line_normal_0.300-0.875', 'vertices': [(0.5, 0.5), (0.5303045763365664, 0.4696954236634337), (0.5606091526731326, 0.43939084732686734), (0.590913729009699, 0.40908627099030104), (0.6212183053462652, 0.3787816946537347), (0.6515228816828316, 0.3484771183171684), (0.6818274580193979, 0.3181725419806021), (0.7121320343559642, 0.2878679656440357)], 'geometry': {'area': 2.927345865710862e-18, 'perimeter': 0.2, 'centroid': [0.6799033579345366, 0.32009664206546345], 'bounds': [0.6414213562373094, 0.2878679656440357, 0.7121320343559642, 0.3585786437626905], 'width': 0.07071067811865472, 'height': 0.07071067811865478, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.2, 'analytic_vertices': [(0.5, 0.5), (0.5303045763365664, 0.4696954236634337), (0.5606091526731326, 0.43939084732686734), (0.590913729009699, 0.40908627099030104), (0.6212183053462652, 0.3787816946537347), (0.6515228816828316, 0.3484771183171684), (0.6818274580193979, 0.3181725419806021), (0.7121320343559642, 0.2878679656440357)], 'open_stroke_perimeter': 0.29999999999999993, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,110 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.600-0.083, stroke_index=3
2025-08-12 06:09:04,110 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.6, param2=None, param3=0.083
2025-08-12 06:09:04,111 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5472947655180631, 0.5271737330185177), (0.5945895310361262, 0.5543474660370353), (0.6418842965541893, 0.5815211990555531), (0.6891790620722523, 0.6086949320740708), (0.7364738275903154, 0.6358686650925884), (0.7837685931083785, 0.6630423981111061), (0.8310633586264415, 0.6902161311296238), (0.8783581241445046, 0.7173898641481415), (0.9256528896625678, 0.7445635971666592), (0.9729476551806309, 0.7717373301851769), (1.020242420698694, 0.7989110632036945)]
2025-08-12 06:09:04,111 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.5, 1.020242420698694, 0.7989110632036945)
2025-08-12 06:09:04,111 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,113 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,113 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,114 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,114 - INFO - Computed angular variance: 1.370778 for 12 vertices.
2025-08-12 06:09:04,115 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,115 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,115 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:04,117 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,117 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,118 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:04,118 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:04,118 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,119 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,119 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,121 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_2, stroke_idx=3, assigned is_positive=False
2025-08-12 06:09:04,121 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_2, stroke_idx=3, stroke_dict: {'command': 'line_normal_0.600-0.083', 'vertices': [(0.5, 0.5), (0.5472947655180631, 0.5271737330185177), (0.5945895310361262, 0.5543474660370353), (0.6418842965541893, 0.5815211990555531), (0.6891790620722523, 0.6086949320740708), (0.7364738275903154, 0.6358686650925884), (0.7837685931083785, 0.6630423981111061), (0.8310633586264415, 0.6902161311296238), (0.8783581241445046, 0.7173898641481415), (0.9256528896625678, 0.7445635971666592), (0.9729476551806309, 0.7717373301851769), (1.020242420698694, 0.7989110632036945)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5472947655180631, 0.5271737330185177), (0.5945895310361262, 0.5543474660370353), (0.6418842965541893, 0.5815211990555531), (0.6891790620722523, 0.6086949320740708), (0.7364738275903154, 0.6358686650925884), (0.7837685931083785, 0.6630423981111061), (0.8310633586264415, 0.6902161311296238), (0.8783581241445046, 0.7173898641481415), (0.9256528896625678, 0.7445635971666592), (0.9729476551806309, 0.7717373301851769), (1.020242420698694, 0.7989110632036945)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,121 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.700-0.750, stroke_index=4
2025-08-12 06:09:04,121 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.7, param2=None, param3=0.75
2025-08-12 06:09:04,122 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.4461538461538462), (0.5, 0.3923076923076923), (0.5, 0.3384615384615385), (0.49999999999999994, 0.2846153846153846), (0.49999999999999994, 0.23076923076923078), (0.49999999999999994, 0.17692307692307696), (0.49999999999999994, 0.12307692307692308), (0.49999999999999994, 0.06923076923076926), (0.49999999999999994, 0.015384615384615441), (0.4999999999999999, -0.038461538461538436), (0.4999999999999999, -0.09230769230769231), (0.4999999999999999, -0.14615384615384608), (0.4999999999999999, -0.19999999999999996)]
2025-08-12 06:09:04,122 - INFO - [_calculate_vertices_from_action] Bounding box: (0.4999999999999999, -0.19999999999999996, 0.5, 0.5)
2025-08-12 06:09:04,123 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,124 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,124 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,125 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,125 - INFO - Computed angular variance: 1.208523 for 14 vertices.
2025-08-12 06:09:04,125 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,127 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,127 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:04,127 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,127 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,129 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.4999999999999999, -0.19999999999999996)]
2025-08-12 06:09:04,129 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.4999999999999999, -0.19999999999999996)]
2025-08-12 06:09:04,130 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,130 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,131 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,131 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_2, stroke_idx=4, assigned is_positive=False
2025-08-12 06:09:04,132 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_2, stroke_idx=4, stroke_dict: {'command': 'line_normal_0.700-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4461538461538462), (0.5, 0.3923076923076923), (0.5, 0.3384615384615385), (0.49999999999999994, 0.2846153846153846), (0.49999999999999994, 0.23076923076923078), (0.49999999999999994, 0.17692307692307696), (0.49999999999999994, 0.12307692307692308), (0.49999999999999994, 0.06923076923076926), (0.49999999999999994, 0.015384615384615441), (0.4999999999999999, -0.038461538461538436), (0.4999999999999999, -0.09230769230769231), (0.4999999999999999, -0.14615384615384608), (0.4999999999999999, -0.19999999999999996)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4461538461538462), (0.5, 0.3923076923076923), (0.5, 0.3384615384615385), (0.49999999999999994, 0.2846153846153846), (0.49999999999999994, 0.23076923076923078), (0.49999999999999994, 0.17692307692307696), (0.49999999999999994, 0.12307692307692308), (0.49999999999999994, 0.06923076923076926), (0.49999999999999994, 0.015384615384615441), (0.4999999999999999, -0.038461538461538436), (0.4999999999999999, -0.09230769230769231), (0.4999999999999999, -0.14615384615384608), (0.4999999999999999, -0.19999999999999996)], 'open_stroke_perimeter': 0.7, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,132 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.600-0.750, stroke_index=5
2025-08-12 06:09:04,132 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.6, param2=None, param3=0.75
2025-08-12 06:09:04,134 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)]
2025-08-12 06:09:04,134 - INFO - [_calculate_vertices_from_action] Bounding box: (0.4999999999999999, -0.09999999999999998, 0.5, 0.5)
2025-08-12 06:09:04,134 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,135 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,135 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,136 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,136 - INFO - Computed angular variance: 1.370778 for 12 vertices.
2025-08-12 06:09:04,137 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,138 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,138 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:04,139 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,139 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,140 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.4999999999999999, -0.09999999999999998)]
2025-08-12 06:09:04,140 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.4999999999999999, -0.09999999999999998)]
2025-08-12 06:09:04,141 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,141 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,142 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,142 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_2, stroke_idx=5, assigned is_positive=False
2025-08-12 06:09:04,142 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_2, stroke_idx=5, stroke_dict: {'command': 'line_normal_0.600-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,143 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.700-0.750, stroke_index=6
2025-08-12 06:09:04,143 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.7, param2=None, param3=0.75
2025-08-12 06:09:04,143 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.4461538461538462), (0.5, 0.3923076923076923), (0.5, 0.3384615384615385), (0.49999999999999994, 0.2846153846153846), (0.49999999999999994, 0.23076923076923078), (0.49999999999999994, 0.17692307692307696), (0.49999999999999994, 0.12307692307692308), (0.49999999999999994, 0.06923076923076926), (0.49999999999999994, 0.015384615384615441), (0.4999999999999999, -0.038461538461538436), (0.4999999999999999, -0.09230769230769231), (0.4999999999999999, -0.14615384615384608), (0.4999999999999999, -0.19999999999999996)]
2025-08-12 06:09:04,144 - INFO - [_calculate_vertices_from_action] Bounding box: (0.4999999999999999, -0.19999999999999996, 0.5, 0.5)
2025-08-12 06:09:04,144 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,146 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,146 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,147 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,147 - INFO - Computed angular variance: 1.208523 for 14 vertices.
2025-08-12 06:09:04,147 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,148 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,148 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:04,148 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,149 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,150 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.4999999999999999, -0.19999999999999996)]
2025-08-12 06:09:04,150 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.4999999999999999, -0.19999999999999996)]
2025-08-12 06:09:04,151 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,151 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,152 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,153 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_2, stroke_idx=6, assigned is_positive=False
2025-08-12 06:09:04,153 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_2, stroke_idx=6, stroke_dict: {'command': 'line_normal_0.700-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4461538461538462), (0.5, 0.3923076923076923), (0.5, 0.3384615384615385), (0.49999999999999994, 0.2846153846153846), (0.49999999999999994, 0.23076923076923078), (0.49999999999999994, 0.17692307692307696), (0.49999999999999994, 0.12307692307692308), (0.49999999999999994, 0.06923076923076926), (0.49999999999999994, 0.015384615384615441), (0.4999999999999999, -0.038461538461538436), (0.4999999999999999, -0.09230769230769231), (0.4999999999999999, -0.14615384615384608), (0.4999999999999999, -0.19999999999999996)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4461538461538462), (0.5, 0.3923076923076923), (0.5, 0.3384615384615385), (0.49999999999999994, 0.2846153846153846), (0.49999999999999994, 0.23076923076923078), (0.49999999999999994, 0.17692307692307696), (0.49999999999999994, 0.12307692307692308), (0.49999999999999994, 0.06923076923076926), (0.49999999999999994, 0.015384615384615441), (0.4999999999999999, -0.038461538461538436), (0.4999999999999999, -0.09230769230769231), (0.4999999999999999, -0.14615384615384608), (0.4999999999999999, -0.19999999999999996)], 'open_stroke_perimeter': 0.7, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,154 - INFO - [ATTR DEBUG] Shape 0 strokes (dicts): [{'command': 'line_normal_0.300-0.500', 'vertices': [(0.5, 0.5), (0.45714285714285713, 0.5), (0.41428571428571426, 0.5), (0.37142857142857144, 0.5), (0.32857142857142857, 0.5), (0.2857142857142857, 0.5), (0.24285714285714288, 0.5), (0.2, 0.5)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.45714285714285713, 0.5), (0.41428571428571426, 0.5), (0.37142857142857144, 0.5), (0.32857142857142857, 0.5), (0.2857142857142857, 0.5), (0.24285714285714288, 0.5), (0.2, 0.5)], 'open_stroke_perimeter': 0.3, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.424-0.875', 'vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'geometry': {'area': 4.7704895589362195e-18, 'perimeter': 0.2826666666666667, 'centroid': [0.7474649255809681, 0.2525350744190317], 'bounds': [0.6998755168153974, 0.2001867247769038, 0.7998132752230961, 0.30012448318460255], 'width': 0.0999377584076987, 'height': 0.09993775840769875, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.2826666666666667, 'analytic_vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'open_stroke_perimeter': 0.424, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.300-0.875', 'vertices': [(0.5, 0.5), (0.5303045763365664, 0.4696954236634337), (0.5606091526731326, 0.43939084732686734), (0.590913729009699, 0.40908627099030104), (0.6212183053462652, 0.3787816946537347), (0.6515228816828316, 0.3484771183171684), (0.6818274580193979, 0.3181725419806021), (0.7121320343559642, 0.2878679656440357)], 'geometry': {'area': 2.927345865710862e-18, 'perimeter': 0.2, 'centroid': [0.6799033579345366, 0.32009664206546345], 'bounds': [0.6414213562373094, 0.2878679656440357, 0.7121320343559642, 0.3585786437626905], 'width': 0.07071067811865472, 'height': 0.07071067811865478, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.2, 'analytic_vertices': [(0.5, 0.5), (0.5303045763365664, 0.4696954236634337), (0.5606091526731326, 0.43939084732686734), (0.590913729009699, 0.40908627099030104), (0.6212183053462652, 0.3787816946537347), (0.6515228816828316, 0.3484771183171684), (0.6818274580193979, 0.3181725419806021), (0.7121320343559642, 0.2878679656440357)], 'open_stroke_perimeter': 0.29999999999999993, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.600-0.083', 'vertices': [(0.5, 0.5), (0.5472947655180631, 0.5271737330185177), (0.5945895310361262, 0.5543474660370353), (0.6418842965541893, 0.5815211990555531), (0.6891790620722523, 0.6086949320740708), (0.7364738275903154, 0.6358686650925884), (0.7837685931083785, 0.6630423981111061), (0.8310633586264415, 0.6902161311296238), (0.8783581241445046, 0.7173898641481415), (0.9256528896625678, 0.7445635971666592), (0.9729476551806309, 0.7717373301851769), (1.020242420698694, 0.7989110632036945)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5472947655180631, 0.5271737330185177), (0.5945895310361262, 0.5543474660370353), (0.6418842965541893, 0.5815211990555531), (0.6891790620722523, 0.6086949320740708), (0.7364738275903154, 0.6358686650925884), (0.7837685931083785, 0.6630423981111061), (0.8310633586264415, 0.6902161311296238), (0.8783581241445046, 0.7173898641481415), (0.9256528896625678, 0.7445635971666592), (0.9729476551806309, 0.7717373301851769), (1.020242420698694, 0.7989110632036945)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.700-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4461538461538462), (0.5, 0.3923076923076923), (0.5, 0.3384615384615385), (0.49999999999999994, 0.2846153846153846), (0.49999999999999994, 0.23076923076923078), (0.49999999999999994, 0.17692307692307696), (0.49999999999999994, 0.12307692307692308), (0.49999999999999994, 0.06923076923076926), (0.49999999999999994, 0.015384615384615441), (0.4999999999999999, -0.038461538461538436), (0.4999999999999999, -0.09230769230769231), (0.4999999999999999, -0.14615384615384608), (0.4999999999999999, -0.19999999999999996)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4461538461538462), (0.5, 0.3923076923076923), (0.5, 0.3384615384615385), (0.49999999999999994, 0.2846153846153846), (0.49999999999999994, 0.23076923076923078), (0.49999999999999994, 0.17692307692307696), (0.49999999999999994, 0.12307692307692308), (0.49999999999999994, 0.06923076923076926), (0.49999999999999994, 0.015384615384615441), (0.4999999999999999, -0.038461538461538436), (0.4999999999999999, -0.09230769230769231), (0.4999999999999999, -0.14615384615384608), (0.4999999999999999, -0.19999999999999996)], 'open_stroke_perimeter': 0.7, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.600-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.700-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4461538461538462), (0.5, 0.3923076923076923), (0.5, 0.3384615384615385), (0.49999999999999994, 0.2846153846153846), (0.49999999999999994, 0.23076923076923078), (0.49999999999999994, 0.17692307692307696), (0.49999999999999994, 0.12307692307692308), (0.49999999999999994, 0.06923076923076926), (0.49999999999999994, 0.015384615384615441), (0.4999999999999999, -0.038461538461538436), (0.4999999999999999, -0.09230769230769231), (0.4999999999999999, -0.14615384615384608), (0.4999999999999999, -0.19999999999999996)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4461538461538462), (0.5, 0.3923076923076923), (0.5, 0.3384615384615385), (0.49999999999999994, 0.2846153846153846), (0.49999999999999994, 0.23076923076923078), (0.49999999999999994, 0.17692307692307696), (0.49999999999999994, 0.12307692307692308), (0.49999999999999994, 0.06923076923076926), (0.49999999999999994, 0.015384615384615441), (0.4999999999999999, -0.038461538461538436), (0.4999999999999999, -0.09230769230769231), (0.4999999999999999, -0.14615384615384608), (0.4999999999999999, -0.19999999999999996)], 'open_stroke_perimeter': 0.7, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-12 06:09:04,155 - INFO - [PATCH][SHAPE GEOMETRY] idx=0, vertices=[(0.7511764851123751, 0.40152766803592244), (1.0, 0.40152766803592244), (0.7513313568300611, 0.7465483098318314), (0.7513313568300611, 0.4013127879499135), (0.5034110188795937, 1.0), (0.0, 0.5986872120500863), (0.2479203379504677, 0.0)], geometry={'area': 0.4007941718397292, 'perimeter': 2.5834200004354315, 'centroid': [0.3756215153207432, 0.5000493802454978], 'bounds': [0.0, 0.0, 0.7512423735638916, 1.0], 'width': 0.7512423735638916, 'height': 1.0}
2025-08-12 06:09:04,156 - INFO - [robust_curvature] INPUT: [(0.7511764851123751, 0.40152766803592244), (1.0, 0.40152766803592244), (0.7513313568300611, 0.7465483098318314), (0.7513313568300611, 0.4013127879499135), (0.5034110188795937, 1.0), (0.0, 0.5986872120500863), (0.2479203379504677, 0.0)]
2025-08-12 06:09:04,156 - INFO - [robust_curvature] OUTPUT: 1.8319856161565666
2025-08-12 06:09:04,157 - INFO - Computed angular variance: 0.437910 for 7 vertices.
2025-08-12 06:09:04,157 - INFO - [PATCH][SHAPE PHYSICS] idx=0, physics features: {'robust_curvature': 1.8319856161565666, 'robust_angular_variance': 0.43790975815606903, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 2.0909314784029602}
2025-08-12 06:09:04,159 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 4.32000000e+02  0.00000000e+00]
 [ 2.68883679e-01  4.31731116e+02]
 [ 2.68883679e-01 -2.68883679e-01]
 [-4.30163047e+02  7.48880202e+02]
 [-1.30417031e+03  2.46709616e+02]
 [-8.73738383e+02 -5.02439470e+02]
 [ 2.68883679e-01 -2.68883679e-01]]
2025-08-12 06:09:04,159 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,159 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,160 - INFO - Computed angular variance: 0.167270 for 8 vertices.
2025-08-12 06:09:04,161 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 4.32000000e+02  0.00000000e+00]
 [ 2.68883679e-01  4.31731116e+02]
 [ 2.68883679e-01 -2.68883679e-01]
 [-4.30163047e+02  7.48880202e+02]
 [ 2.68883679e-01 -2.68883679e-01]]
2025-08-12 06:09:04,161 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,161 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,162 - INFO - [robust_curvature] INPUT: [[-1304.17031411   246.70961595]
 [ -873.7383831   -502.43946986]]
2025-08-12 06:09:04,162 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,162 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,163 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,163 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.16727005538970766, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,164 - INFO - [robust_curvature] INPUT: [[ 1.65829531e+00 -1.03150738e-03]
 [ 4.28686504e+02  1.65623229e+00]
 [ 1.92511597e+00  4.28417620e+02]
 [-1.38236460e+00  4.26230989e+00]
 [-4.31864717e+02  7.44079816e+02]
 [-1.29916615e+03  2.45762143e+02]
 [-8.72036713e+02 -4.97639084e+02]
 [-3.08506590e+00 -2.19430850e+00]]
2025-08-12 06:09:04,164 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,164 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,165 - INFO - Computed angular variance: 0.724888 for 8 vertices.
2025-08-12 06:09:04,166 - INFO - [robust_curvature] INPUT: [[ 1.65829531e+00 -1.03150738e-03]
 [ 4.28686504e+02  1.65623229e+00]
 [ 1.92511597e+00  4.28417620e+02]
 [-1.38236460e+00  4.26230989e+00]
 [-4.31864717e+02  7.44079816e+02]
 [-3.08506590e+00 -2.19430850e+00]]
2025-08-12 06:09:04,166 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,166 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,167 - INFO - [robust_curvature] INPUT: [[-1299.16614776   245.7621425 ]
 [ -872.03671331  -497.63908376]]
2025-08-12 06:09:04,167 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,167 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,168 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,168 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.7248881690921634, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,168 - INFO - [robust_curvature] INPUT: [[ 4.57848783e+01 -4.72803407e-02]
 [ 3.39827318e+02  4.59579687e+01]
 [ 4.61133474e+01  3.39756038e+02]
 [-4.57812048e+01  1.25530588e+02]
 [-4.77385452e+02  6.15262393e+02]
 [-1.16462336e+03  2.20288226e+02]
 [-8.26171853e+02 -3.68772769e+02]
 [-9.30287646e+01 -5.36314674e+01]]
2025-08-12 06:09:04,168 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,170 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,170 - INFO - Computed angular variance: 0.575137 for 8 vertices.
2025-08-12 06:09:04,171 - INFO - [robust_curvature] INPUT: [[ 4.57848783e+01 -4.72803407e-02]
 [ 3.39827318e+02  4.59579687e+01]
 [ 4.61133474e+01  3.39756038e+02]
 [-4.57812048e+01  1.25530588e+02]
 [-4.77385452e+02  6.15262393e+02]
 [-9.30287646e+01 -5.36314674e+01]]
2025-08-12 06:09:04,172 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,172 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,172 - INFO - [robust_curvature] INPUT: [[-1164.6233626    220.28822599]
 [ -826.17185308  -368.77276899]]
2025-08-12 06:09:04,173 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,173 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,173 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,174 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.5751370300189628, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,174 - INFO - [robust_curvature] INPUT: [[  51.54327497   -2.59004846]
 [ 166.30988904  105.59579351]
 [  75.46643157  213.56184126]
 [-154.87651707  296.66027423]
 [-532.36149977  354.57367084]
 [-835.65128788  159.93914826]
 [-685.38829603 -100.26607254]
 [-260.30708833 -103.13090993]]
2025-08-12 06:09:04,175 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,175 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,175 - INFO - Computed angular variance: 0.237219 for 8 vertices.
2025-08-12 06:09:04,176 - INFO - [robust_curvature] INPUT: [[-154.87651707  296.66027423]
 [-532.36149977  354.57367084]
 [-835.65128788  159.93914826]
 [-685.38829603 -100.26607254]
 [-260.30708833 -103.13090993]]
2025-08-12 06:09:04,176 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,177 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,177 - INFO - [robust_curvature] INPUT: [[ 51.54327497  -2.59004846]
 [166.30988904 105.59579351]
 [ 75.46643157 213.56184126]]
2025-08-12 06:09:04,177 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,177 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,178 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,178 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.23721905953913125, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,178 - INFO - [robust_curvature] INPUT: [[-150.42474734   49.79388092]
 [ -79.93844812  107.56193798]
 [-119.70367251  169.38606652]
 [-247.4914859   201.73077488]
 [-391.79864295  184.2414719 ]
 [-467.01515662  124.41169488]
 [-425.70863853   58.75358381]
 [-293.18430154   28.46428628]]
2025-08-12 06:09:04,179 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,179 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,180 - INFO - Computed angular variance: 0.170747 for 8 vertices.
2025-08-12 06:09:04,181 - INFO - [robust_curvature] INPUT: [[-150.42474734   49.79388092]
 [ -79.93844812  107.56193798]
 [-119.70367251  169.38606652]
 [-247.4914859   201.73077488]
 [-293.18430154   28.46428628]]
2025-08-12 06:09:04,181 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,181 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,182 - INFO - [robust_curvature] INPUT: [[-391.79864295  184.2414719 ]
 [-467.01515662  124.41169488]
 [-425.70863853   58.75358381]]
2025-08-12 06:09:04,182 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,182 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,182 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,182 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.1707470541805454, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,183 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.16727005538970766, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.7248881690921634, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.5751370300189628, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.23721905953913125, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.1707470541805454, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:04,185 - DEBUG - [extract_image_features] Calculated width: 1304.4391977871257, height: 1251.3196719883258
2025-08-12 06:09:04,185 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)]
2025-08-12 06:09:04,186 - INFO - [robust_curvature] OUTPUT: 1.7133538389223792
2025-08-12 06:09:04,186 - INFO - Computed angular variance: 0.167270 for 8 vertices.
2025-08-12 06:09:04,187 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 4.32000000e+02  0.00000000e+00]
 [ 2.68883679e-01  4.31731116e+02]
 [ 2.68883679e-01 -2.68883679e-01]
 [-4.30163047e+02  7.48880202e+02]
 [-1.30417031e+03  2.46709616e+02]
 [-8.73738383e+02 -5.02439470e+02]
 [ 2.68883679e-01 -2.68883679e-01]]
2025-08-12 06:09:04,187 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,187 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,189 - INFO - Computed angular variance: 0.167270 for 8 vertices.
2025-08-12 06:09:04,189 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 4.32000000e+02  0.00000000e+00]
 [ 2.68883679e-01  4.31731116e+02]
 [ 2.68883679e-01 -2.68883679e-01]
 [-4.30163047e+02  7.48880202e+02]
 [ 2.68883679e-01 -2.68883679e-01]]
2025-08-12 06:09:04,189 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,190 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,190 - INFO - [robust_curvature] INPUT: [[-1304.17031411   246.70961595]
 [ -873.7383831   -502.43946986]]
2025-08-12 06:09:04,190 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,190 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,192 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,192 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.16727005538970766, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,192 - INFO - [robust_curvature] INPUT: [[ 1.65829531e+00 -1.03150738e-03]
 [ 4.28686504e+02  1.65623229e+00]
 [ 1.92511597e+00  4.28417620e+02]
 [-1.38236460e+00  4.26230989e+00]
 [-4.31864717e+02  7.44079816e+02]
 [-1.29916615e+03  2.45762143e+02]
 [-8.72036713e+02 -4.97639084e+02]
 [-3.08506590e+00 -2.19430850e+00]]
2025-08-12 06:09:04,193 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,193 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,193 - INFO - Computed angular variance: 0.724888 for 8 vertices.
2025-08-12 06:09:04,194 - INFO - [robust_curvature] INPUT: [[ 1.65829531e+00 -1.03150738e-03]
 [ 4.28686504e+02  1.65623229e+00]
 [ 1.92511597e+00  4.28417620e+02]
 [-1.38236460e+00  4.26230989e+00]
 [-4.31864717e+02  7.44079816e+02]
 [-3.08506590e+00 -2.19430850e+00]]
2025-08-12 06:09:04,194 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,195 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,195 - INFO - [robust_curvature] INPUT: [[-1299.16614776   245.7621425 ]
 [ -872.03671331  -497.63908376]]
2025-08-12 06:09:04,195 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,195 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,196 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,196 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.7248881690921634, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,197 - INFO - [robust_curvature] INPUT: [[ 4.57848783e+01 -4.72803407e-02]
 [ 3.39827318e+02  4.59579687e+01]
 [ 4.61133474e+01  3.39756038e+02]
 [-4.57812048e+01  1.25530588e+02]
 [-4.77385452e+02  6.15262393e+02]
 [-1.16462336e+03  2.20288226e+02]
 [-8.26171853e+02 -3.68772769e+02]
 [-9.30287646e+01 -5.36314674e+01]]
2025-08-12 06:09:04,197 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,197 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,197 - INFO - Computed angular variance: 0.575137 for 8 vertices.
2025-08-12 06:09:04,199 - INFO - [robust_curvature] INPUT: [[ 4.57848783e+01 -4.72803407e-02]
 [ 3.39827318e+02  4.59579687e+01]
 [ 4.61133474e+01  3.39756038e+02]
 [-4.57812048e+01  1.25530588e+02]
 [-4.77385452e+02  6.15262393e+02]
 [-9.30287646e+01 -5.36314674e+01]]
2025-08-12 06:09:04,199 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,200 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,200 - INFO - [robust_curvature] INPUT: [[-1164.6233626    220.28822599]
 [ -826.17185308  -368.77276899]]
2025-08-12 06:09:04,200 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,201 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,201 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,201 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.5751370300189628, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,202 - INFO - [robust_curvature] INPUT: [[  51.54327497   -2.59004846]
 [ 166.30988904  105.59579351]
 [  75.46643157  213.56184126]
 [-154.87651707  296.66027423]
 [-532.36149977  354.57367084]
 [-835.65128788  159.93914826]
 [-685.38829603 -100.26607254]
 [-260.30708833 -103.13090993]]
2025-08-12 06:09:04,202 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,202 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,202 - INFO - Computed angular variance: 0.237219 for 8 vertices.
2025-08-12 06:09:04,203 - INFO - [robust_curvature] INPUT: [[-154.87651707  296.66027423]
 [-532.36149977  354.57367084]
 [-835.65128788  159.93914826]
 [-685.38829603 -100.26607254]
 [-260.30708833 -103.13090993]]
2025-08-12 06:09:04,203 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,203 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,204 - INFO - [robust_curvature] INPUT: [[ 51.54327497  -2.59004846]
 [166.30988904 105.59579351]
 [ 75.46643157 213.56184126]]
2025-08-12 06:09:04,204 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,204 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,204 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,206 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.23721905953913125, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,206 - INFO - [robust_curvature] INPUT: [[-150.42474734   49.79388092]
 [ -79.93844812  107.56193798]
 [-119.70367251  169.38606652]
 [-247.4914859   201.73077488]
 [-391.79864295  184.2414719 ]
 [-467.01515662  124.41169488]
 [-425.70863853   58.75358381]
 [-293.18430154   28.46428628]]
2025-08-12 06:09:04,206 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,207 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,207 - INFO - Computed angular variance: 0.170747 for 8 vertices.
2025-08-12 06:09:04,207 - INFO - [robust_curvature] INPUT: [[-150.42474734   49.79388092]
 [ -79.93844812  107.56193798]
 [-119.70367251  169.38606652]
 [-247.4914859   201.73077488]
 [-293.18430154   28.46428628]]
2025-08-12 06:09:04,208 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,208 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,208 - INFO - [robust_curvature] INPUT: [[-391.79864295  184.2414719 ]
 [-467.01515662  124.41169488]
 [-425.70863853   58.75358381]]
2025-08-12 06:09:04,209 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,209 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,209 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,209 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.1707470541805454, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,210 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.16727005538970766, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.7248881690921634, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.5751370300189628, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.23721905953913125, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.1707470541805454, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:04,211 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,211 - DEBUG - [extract_image_features] Stroke 0 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:04,213 - DEBUG - [extract_image_features] Stroke 1 geometry: {'area': 4.7704895589362195e-18, 'perimeter': 0.2826666666666667, 'centroid': [0.7474649255809681, 0.2525350744190317], 'bounds': [0.6998755168153974, 0.2001867247769038, 0.7998132752230961, 0.30012448318460255], 'width': 0.0999377584076987, 'height': 0.09993775840769875}
2025-08-12 06:09:04,214 - DEBUG - [extract_image_features] Stroke 2 geometry: {'area': 2.927345865710862e-18, 'perimeter': 0.2, 'centroid': [0.6799033579345366, 0.32009664206546345], 'bounds': [0.6414213562373094, 0.2878679656440357, 0.7121320343559642, 0.3585786437626905], 'width': 0.07071067811865472, 'height': 0.07071067811865478}
2025-08-12 06:09:04,215 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,215 - DEBUG - [extract_image_features] Stroke 3 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:04,216 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,216 - DEBUG - [extract_image_features] Stroke 4 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:04,217 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,217 - DEBUG - [extract_image_features] Stroke 5 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:04,218 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,218 - DEBUG - [extract_image_features] Stroke 6 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:04,218 - INFO - [extract_image_features] stroke_type_distribution INPUT: [{'command': 'line_normal_0.300-0.500', 'vertices': [(0.5, 0.5), (0.45714285714285713, 0.5), (0.41428571428571426, 0.5), (0.37142857142857144, 0.5), (0.32857142857142857, 0.5), (0.2857142857142857, 0.5), (0.24285714285714288, 0.5), (0.2, 0.5)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.424-0.875', 'vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'geometry': {'area': 4.7704895589362195e-18, 'perimeter': 0.2826666666666667, 'centroid': [0.7474649255809681, 0.2525350744190317], 'bounds': [0.6998755168153974, 0.2001867247769038, 0.7998132752230961, 0.30012448318460255], 'width': 0.0999377584076987, 'height': 0.09993775840769875}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0999377584076987, 'height': 0.09993775840769875}, {'command': 'line_normal_0.300-0.875', 'vertices': [(0.5, 0.5), (0.5303045763365664, 0.4696954236634337), (0.5606091526731326, 0.43939084732686734), (0.590913729009699, 0.40908627099030104), (0.6212183053462652, 0.3787816946537347), (0.6515228816828316, 0.3484771183171684), (0.6818274580193979, 0.3181725419806021), (0.7121320343559642, 0.2878679656440357)], 'geometry': {'area': 2.927345865710862e-18, 'perimeter': 0.2, 'centroid': [0.6799033579345366, 0.32009664206546345], 'bounds': [0.6414213562373094, 0.2878679656440357, 0.7121320343559642, 0.3585786437626905], 'width': 0.07071067811865472, 'height': 0.07071067811865478}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.07071067811865472, 'height': 0.07071067811865478}, {'command': 'line_normal_0.600-0.083', 'vertices': [(0.5, 0.5), (0.5472947655180631, 0.5271737330185177), (0.5945895310361262, 0.5543474660370353), (0.6418842965541893, 0.5815211990555531), (0.6891790620722523, 0.6086949320740708), (0.7364738275903154, 0.6358686650925884), (0.7837685931083785, 0.6630423981111061), (0.8310633586264415, 0.6902161311296238), (0.8783581241445046, 0.7173898641481415), (0.9256528896625678, 0.7445635971666592), (0.9729476551806309, 0.7717373301851769), (1.020242420698694, 0.7989110632036945)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.700-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4461538461538462), (0.5, 0.3923076923076923), (0.5, 0.3384615384615385), (0.49999999999999994, 0.2846153846153846), (0.49999999999999994, 0.23076923076923078), (0.49999999999999994, 0.17692307692307696), (0.49999999999999994, 0.12307692307692308), (0.49999999999999994, 0.06923076923076926), (0.49999999999999994, 0.015384615384615441), (0.4999999999999999, -0.038461538461538436), (0.4999999999999999, -0.09230769230769231), (0.4999999999999999, -0.14615384615384608), (0.4999999999999999, -0.19999999999999996)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.600-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.700-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4461538461538462), (0.5, 0.3923076923076923), (0.5, 0.3384615384615385), (0.49999999999999994, 0.2846153846153846), (0.49999999999999994, 0.23076923076923078), (0.49999999999999994, 0.17692307692307696), (0.49999999999999994, 0.12307692307692308), (0.49999999999999994, 0.06923076923076926), (0.49999999999999994, 0.015384615384615441), (0.4999999999999999, -0.038461538461538436), (0.4999999999999999, -0.09230769230769231), (0.4999999999999999, -0.14615384615384608), (0.4999999999999999, -0.19999999999999996)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}]
2025-08-12 06:09:04,219 - INFO - [extract_image_features] stroke_type_distribution OUTPUT: {'line': 7}
2025-08-12 06:09:04,219 - INFO - [extract_image_features] modifier_distribution OUTPUT: {'normal': 7}
2025-08-12 06:09:04,219 - INFO - [extract_image_features] relational INPUT: []
2025-08-12 06:09:04,219 - INFO - [extract_image_features] relational OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:04,220 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:04,220 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,220 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,220 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,221 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,221 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,221 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,221 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,221 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,221 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,221 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,223 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 6}
2025-08-12 06:09:04,223 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,223 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,223 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,224 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,224 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,224 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,224 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,225 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,225 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,225 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,225 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,225 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,226 - DEBUG - [_detect_alternation] OUTPUT: 0.14285714285714285
2025-08-12 06:09:04,226 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:04,226 - INFO - [extract_image_features] PATCHED ngram: {'normal|normal': 6}
2025-08-12 06:09:04,227 - INFO - [extract_image_features] PATCHED alternation: 0.14285714285714285
2025-08-12 06:09:04,227 - INFO - [extract_image_features] PATCHED regularity: 0.14285714285714285
2025-08-12 06:09:04,227 - INFO - [extract_image_features] PATCHED dominant_shape_functions: line
2025-08-12 06:09:04,227 - INFO - [extract_image_features] PATCHED dominant_modifiers: normal
2025-08-12 06:09:04,228 - INFO - [extract_image_features] PATCHED image_canonical_summary: {'area': 870911.9846207172, 'perimeter': 3744.184546689563, 'compactness': 0.7806738604179992, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.14285714285714285}
2025-08-12 06:09:04,228 - INFO - [extract_image_features] OUTPUT: {'area': 870911.9846207172, 'perimeter': 3744.184546689563, 'convexity_ratio': 0.17274002508104136, 'compactness': 0.7806738604179992, 'aspect_ratio': 1.0424508037297886, 'centroid_x': -651.9507267297613, 'centroid_y': 123.22036831072474, 'width': 1304.4391977871257, 'height': 1251.3196719883258, 'bounding_box': (-1304.1703141083844, -502.43946986094784, 432.0, 748.880202127378), 'num_vertices': 8, 'curvature': 1.7133538389223792, 'angular_variance': 0.16727005538970766, 'complexity': 0.010527343994056606, 'num_strokes': 7, 'stroke_type_distribution': {'line': 7}, 'modifier_distribution': {'normal': 7}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.010527343994056606, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.16727005538970766, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.7248881690921634, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.5751370300189628, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.23721905953913125, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.1707470541805454, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 268217.1434812444, 'center_of_mass_x': 0.41999209258146947, 'center_of_mass_y': 0.5015983225928696, 'symmetry_score': 863.0400133821389, 'ngram': {'normal|normal': 6}, 'alternation': 0.14285714285714285, 'regularity': 0.14285714285714285, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 870911.9846207172, 'perimeter': 3744.184546689563, 'compactness': 0.7806738604179992, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.14285714285714285}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 4, 'vertical': 3}}
2025-08-12 06:09:04,228 - DEBUG - [extract_image_features] FINAL OUTPUT bounding_box: (-1304.1703141083844, -502.43946986094784, 432.0, 748.880202127378)
2025-08-12 06:09:04,228 - DEBUG - [extract_image_features] FINAL OUTPUT width: 1304.4391977871257, height: 1251.3196719883258
2025-08-12 06:09:04,229 - DEBUG - [extract_image_features] FINAL OUTPUT curvature: 1.7133538389223792
2025-08-12 06:09:04,229 - INFO - [DIAG] Shape 0 extracted attributes: {'area': 870911.9846207172, 'perimeter': 3744.184546689563, 'convexity_ratio': 0.17274002508104136, 'compactness': 0.7806738604179992, 'aspect_ratio': 1.0424508037297886, 'centroid_x': -651.9507267297613, 'centroid_y': 123.22036831072474, 'width': 1304.4391977871257, 'height': 1251.3196719883258, 'bounding_box': (-1304.1703141083844, -502.43946986094784, 432.0, 748.880202127378), 'num_vertices': 8, 'curvature': 1.7133538389223792, 'angular_variance': 0.16727005538970766, 'complexity': 0.010527343994056606, 'num_strokes': 7, 'stroke_type_distribution': {'line': 7}, 'modifier_distribution': {'normal': 7}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.010527343994056606, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.16727005538970766, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.7248881690921634, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.5751370300189628, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.23721905953913125, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.1707470541805454, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 268217.1434812444, 'center_of_mass_x': 0.41999209258146947, 'center_of_mass_y': 0.5015983225928696, 'symmetry_score': 863.0400133821389, 'ngram': {'normal|normal': 6}, 'alternation': 0.14285714285714285, 'regularity': 0.14285714285714285, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 870911.9846207172, 'perimeter': 3744.184546689563, 'compactness': 0.7806738604179992, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.14285714285714285}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 4, 'vertical': 3}}
2025-08-12 06:09:04,229 - INFO - [VALIDATION] expected_strokes=7, actual_shapes=1
2025-08-12 06:09:04,229 - INFO - [VALIDATION] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_2, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: Number of action commands matches number of parsed shapes (7)
2025-08-12 06:09:04,230 - INFO - [standardize_coordinates] INPUT vertices: [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)]
2025-08-12 06:09:04,230 - INFO - [standardize_coordinates] OUTPUT normalized vertices: [[0.7511764851123751, 0.40152766803592244], [1.0, 0.40152766803592244], [0.7513313568300611, 0.7465483098318314], [0.7513313568300611, 0.4013127879499135], [0.5034110188795937, 1.0], [0.0, 0.5986872120500863], [0.2479203379504677, 0.0], [0.7513313568300612, 0.40131278794991393]]
2025-08-12 06:09:04,232 - DEBUG - [process_single_image] Passing shape_list to extract_relational_features: [{'vertices': [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)]}]
2025-08-12 06:09:04,232 - INFO - [extract_relational_features] INPUT: [{'vertices': [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)]}]
2025-08-12 06:09:04,232 - DEBUG - [extract_relational_features] Shape 0 vertices: [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)]
2025-08-12 06:09:04,233 - INFO - [calculate_relationships] INPUT: strokes=[{'vertices': [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)]}], buffer_amt=0.001
2025-08-12 06:09:04,233 - DEBUG - [calculate_relationships] Stroke 0: {'vertices': [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)]}
2025-08-12 06:09:04,233 - DEBUG - [calculate_relationships] Vertices for stroke 0: [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)]
2025-08-12 06:09:04,234 - DEBUG - [calculate_relationships] Created LineString for stroke 0: LINESTRING (0 0, 432 0, 0.2688836787416449 431.73111632125847, 0.2688836787415655 -0.2688836787415312, -430.1630473345784 748.880202127378, -1304.1703141083844 246.70961594517144, -873.7383830950641 -502.43946986094784, 0.2688836787417586 -0.2688836787410196)
2025-08-12 06:09:04,234 - DEBUG - [calculate_relationships] Buffered geometries: ['POLYGON ((0.2694140467040873 -0.2697300943636979, 0.2693818638470981 -0.2697507494421841, -873.7378849099588 -502.44033693164903, -873.7379722966468 -502.44038158714596, -873.7380636395482 -502.4404174622212, -873.7381580589808 -502.44044421137824, -873.7382546456339 -502.44046157700797, -873.7383524693253 -502.4404693918699, -873.7384505879593 -502.44046758070266, -873.7385480565997 -502.44045616094877, -873.7386439365704 -502.44043524258666, -873.7387373044949 -502.4404050270717, -873.7388272611888 -502.44036580539574, -873.7389129403201 -502.44031795528497, -873.7389935167521 -502.4402619375621, -873.7390682144895 -502.44019829170844, -873.7391363141522 -502.44012763066837, -873.7391971599035 -502.4400506349463, -873.7392501657653 -502.4399680460532, -1304.1711811790856 246.7091177600661, -1304.1712258345826 246.70920514675413, -1304.1712617096578 246.70929648965551, -1304.1712884588148 246.70939090908814, -1304.1713058244445 246.70948749574126, -1304.1713136393064 246.7095853194326, -1304.1713118281393 246.70968343806655, -1304.1713004083854 246.70978090670704, -1304.1712794900234 246.70987678667777, -1304.1712492745082 246.7099701546022, -1304.1712100528323 246.71006011129614, -1304.1711622027215 246.71014579042753, -1304.1711061849987 246.71022636685947, -1304.171042539145 246.71030106459685, -1304.1709718781049 246.71036916425962, -1304.1708948823828 246.71043001001084, -1304.1708122934897 246.7104830158726, -430.16354551968374 748.8810691980791, -430.1634581329957 748.881113853576, -430.16336679009436 748.8811497286514, -430.16327237066173 748.8811764778084, -430.1631757840086 748.881193843438, -430.16307796031725 748.8812016583, -430.1629798416833 748.8811998471327, -430.1628823730428 748.8811884273789, -430.16278649307213 748.8811675090168, -430.1626931251477 748.8811372935019, -430.1626031684537 748.8810980718258, -430.16251748932234 748.8810502217151, -430.1624369128904 748.8809942039923, -430.16236221515305 748.8809305581386, -430.1622941154902 748.8808598970985, -430.16223326973903 748.8807829013765, -430.1621802638772 748.8807003124833, 0.1149723209433713 0.001, 0.2678836787415656 0.001, 0.2678836787416449 431.73111632125847, 0.2678884940149727 431.7312143383988, 0.2679028934612416 431.73131141158046, 0.2679267384059125 431.7314066059357, 0.2679597992091333 431.7314990046908, 0.2680017574772962 431.7315877179953, 0.2680522091293418 431.7316718914915, 0.2681106682882814 431.7317507145426, 0.2681765719604574 431.73182342803966, 0.2682492854574801 431.73188933171184, 0.2683281085086239 431.7319477908708, 0.2684122820048173 431.7319982425228, 0.268500995309278 431.732040200791, 0.2685933940643884 431.7320732615942, 0.2686885884196265 431.73209710653884, 0.2687856616013128 431.73211150598513, 0.2688836787416423 431.73211632125845, 0.2689816958819717 431.73211150598513, 0.2690787690636581 431.73209710653884, 0.2691739634188964 431.7320732615942, 0.269266362174007 431.732040200791, 0.2693550754784678 431.7319982425228, 0.2694392489746615 431.7319477908708, 0.2695180720258056 431.73188933171184, 0.2695907855228314 431.73182342803966, 432.0007071067812 0.0007071067811865, 432.0007730104534 0.0006343932841607, 432.0008314696123 0.0005555702330166, 432.00088192126435 0.000471396736823, 432.00092387953254 0.0003826834323621, 432.00095694033575 0.0002902846772515, 432.0009807852804 0.0001950903220132, 432.00099518472666 9.801714032678106e-5, 432.001 -2.628675055404983e-15, 432.00099518472666 -9.801714033201311e-5, 432.0009807852804 -0.0001950903220184, 432.00095694033575 -0.0002902846772565, 432.00092387953254 -0.0003826834323669, 432.00088192126435 -0.0004713967368276, 432.0008314696123 -0.000555570233021, 432.0007730104534 -0.0006343932841648, 432.0007071067812 -0.0007071067811875, 432.00063439328414 -0.0007730104533635, 432.000555570233 -0.0008314696123031, 432.0004713967368 -0.0008819212643487, 432.00038268343235 -0.0009238795325115, 432.00029028467725 -0.0009569403357324, 432.000195090322 -0.0009807852804033, 432.0000980171403 -0.0009951847266722, 432 -0.001, 0.2698836787415656 -0.001, 0.2698836787415655 -0.2688836787415312, 0.2698820099819499 -0.2689180448711829, 0.2698813984965551 -0.2689511716361185, 0.2698796956676194 -0.2689657054363098, 0.2698789740247267 -0.268980566817769, 0.2698738960164691 -0.2690152059875568, 0.269869978742661 -0.2690486402765964, 0.2698669790413432 -0.2690623895019684, 0.2698649041429314 -0.2690765432320792, 0.2698563483922872 -0.2691111154163962, 0.2698490603805918 -0.2691445202473095, 0.2698449001334569 -0.2691573756840042, 0.2698416014857991 -0.269170704900757, 0.2698295334568694 -0.2692048597232136, 0.2698188448656094 -0.2692378881717266, 0.2698136688249394 -0.2692497596559256, 0.2698092853181368 -0.2692621658158257, 0.2697937057009223 -0.2692955459869149, 0.2697796231896405 -0.2693278448656954, 0.2697735821251679 -0.2693386618345226, 0.2697682597167806 -0.2693500653818711, 0.2697492053264734 -0.2693823102797236, 0.2697317730788655 -0.2694135239970776, 0.2697250213475434 -0.2694232357524203, 0.2697189107094057 -0.269433576513756, 0.2696964549967039 -0.2694643258665186, 0.2696757553560085 -0.2694941004290012, 0.2696684484827162 -0.2695026761157268, 0.2696617026422239 -0.2695119134190238, 0.2696359557975634 -0.2695408110439779, 0.2696121095023632 -0.2695687981663791, 0.2696044018038956 -0.2695762264700948, 0.2695971738107494 -0.2695843389917596, 0.2695682824482966 -0.2696110365427165, 0.2695414484622926 -0.2696368978291663, 0.2695334907460388 -0.2696431864022263, 0.2695259313947421 -0.2696501717483406, 0.2694940778046173 -0.2696743324187129, 0.2694644527402397 -0.2696977435803833, 0.2694563901076176 -0.2697029182082813, 0.2694486457449904 -0.2697087922398095, 0.2694140467040873 -0.2697300943636979), (0.11266570396587 0.001, -430.1634162201742 748.8788368715715, -1304.168948852578 246.70924705957563, -873.7380142094684 -502.4381046051413, 0.2675184229348884 -0.2685147931454049, 0.1138148261877843 -0.001, 0 -0.001, -9.801714032956045e-5 -0.0009951847266722, -0.0001950903220161 -0.0009807852804032, -0.0002902846772545 -0.0009569403357322, -0.0003826834323651 -0.0009238795325113, -0.000471396736826 -0.0008819212643484, -0.0005555702330196 -0.0008314696123025, -0.0006343932841636 -0.0007730104533627, -0.0007071067811865 -0.0007071067811865, -0.0007730104533627 -0.0006343932841636, -0.0008314696123025 -0.0005555702330196, -0.0008819212643484 -0.000471396736826, -0.0009238795325113 -0.0003826834323651, -0.0009569403357322 -0.0002902846772545, -0.0009807852804032 -0.0001950903220161, -0.0009951847266722 -9.801714032956059e-5, -0.001 0, -0.0009951847266722 9.801714032956083e-5, -0.0009807852804032 0.0001950903220161, -0.0009569403357322 0.0002902846772545, -0.0009238795325113 0.0003826834323651, -0.0008819212643484 0.000471396736826, -0.0008314696123025 0.0005555702330196, -0.0007730104533627 0.0006343932841636, -0.0007071067811865 0.0007071067811865, -0.0006343932841636 0.0007730104533627, -0.0005555702330196 0.0008314696123025, -0.000471396736826 0.0008819212643484, -0.0003826834323651 0.0009238795325113, -0.0002902846772545 0.0009569403357322, -0.0001950903220161 0.0009807852804032, -9.801714032956064e-5 0.0009951847266722, 0 0.001, 0.11266570396587 0.001), (0.1161214431652856 -0.001, 0.2678836787415655 -0.2651359338146889, 0.2678836787415656 -0.001, 0.1161214431652856 -0.001), (0.2698836787415656 0.001, 431.99758578643764 0.001, 0.2698836787416449 431.7287021076961, 0.2698836787415656 0.001))']
2025-08-12 06:09:04,235 - INFO - [calculate_relationships] Intermediate results: adjacency=0, intersections=0, containment=0, overlap=0.0
2025-08-12 06:09:04,235 - INFO - [calculate_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:04,235 - WARNING - [calculate_relationships] All relational features are zero/default. Strokes: [{'vertices': [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)]}]
2025-08-12 06:09:04,235 - INFO - [extract_relational_features] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:04,236 - DEBUG - [extract_relational_features] Output is JSON serializable.
2025-08-12 06:09:04,236 - INFO - [robust_curvature] INPUT: [[0.75117649 0.40152767]
 [1.         0.40152767]
 [0.75133136 0.74654831]
 [0.75133136 0.40131279]
 [0.50341102 1.        ]
 [0.         0.59868721]
 [0.24792034 0.        ]
 [0.75133136 0.40131279]]
2025-08-12 06:09:04,236 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,237 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,237 - INFO - Computed angular variance: 0.209626 for 8 vertices.
2025-08-12 06:09:04,238 - INFO - [robust_curvature] INPUT: [[0.75117649 0.40152767]
 [1.         0.40152767]
 [0.75133136 0.74654831]
 [0.75133136 0.40131279]
 [0.50341102 1.        ]
 [0.75133136 0.40131279]]
2025-08-12 06:09:04,238 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,238 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,239 - INFO - [robust_curvature] INPUT: [[0.         0.59868721]
 [0.24792034 0.        ]]
2025-08-12 06:09:04,239 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,239 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,240 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,240 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.20962578956003447, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,240 - INFO - [robust_curvature] INPUT: [[0.75213163 0.40152684]
 [0.99809149 0.40285126]
 [0.75228531 0.74390031]
 [0.75038027 0.40493392]
 [0.50243089 0.99616374]
 [0.0028823  0.59793003]
 [0.24890047 0.00383626]
 [0.74939955 0.39977407]]
2025-08-12 06:09:04,240 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,241 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,241 - INFO - Computed angular variance: 0.750990 for 8 vertices.
2025-08-12 06:09:04,242 - INFO - [robust_curvature] INPUT: [[0.75213163 0.40152684]
 [0.99809149 0.40285126]
 [0.75228531 0.74390031]
 [0.75038027 0.40493392]
 [0.50243089 0.99616374]
 [0.74939955 0.39977407]]
2025-08-12 06:09:04,243 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,243 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,243 - INFO - [robust_curvature] INPUT: [[0.0028823  0.59793003]
 [0.24890047 0.00383626]]
2025-08-12 06:09:04,243 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,244 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,244 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,244 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.7509901105499983, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,245 - INFO - [robust_curvature] INPUT: [[0.77754768 0.40148988]
 [0.94691035 0.43825527]
 [0.77773687 0.67304585]
 [0.72480741 0.50184623]
 [0.47621184 0.89321849]
 [0.0803763  0.57757239]
 [0.27531772 0.10682059]
 [0.69759374 0.35866774]]
2025-08-12 06:09:04,245 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,245 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,246 - INFO - Computed angular variance: 0.630575 for 8 vertices.
2025-08-12 06:09:04,246 - INFO - [robust_curvature] INPUT: [[0.47621184 0.89321849]
 [0.0803763  0.57757239]
 [0.27531772 0.10682059]]
2025-08-12 06:09:04,247 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,247 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,247 - INFO - [robust_curvature] INPUT: [[0.77754768 0.40148988]
 [0.94691035 0.43825527]
 [0.77773687 0.67304585]
 [0.72480741 0.50184623]
 [0.69759374 0.35866774]]
2025-08-12 06:09:04,248 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,248 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,248 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 2}}
2025-08-12 06:09:04,248 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.6305750066707569, 'complexity': 4, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 2}}}
2025-08-12 06:09:04,249 - INFO - [robust_curvature] INPUT: [[0.7808644  0.39945781]
 [0.84696771 0.48591521]
 [0.79464367 0.57219696]
 [0.66197065 0.6386056 ]
 [0.44454672 0.68488745]
 [0.26985776 0.52934405]
 [0.35640629 0.3213994 ]
 [0.60124472 0.31910995]]
2025-08-12 06:09:04,249 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,249 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,250 - INFO - Computed angular variance: 0.135603 for 8 vertices.
2025-08-12 06:09:04,250 - INFO - [robust_curvature] INPUT: [[0.66197065 0.6386056 ]
 [0.44454672 0.68488745]
 [0.26985776 0.52934405]
 [0.35640629 0.3213994 ]]
2025-08-12 06:09:04,251 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,251 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,251 - INFO - [robust_curvature] INPUT: [[0.7808644  0.39945781]
 [0.84696771 0.48591521]
 [0.79464367 0.57219696]
 [0.60124472 0.31910995]]
2025-08-12 06:09:04,251 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,252 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,252 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 06:09:04,252 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.1356029112239834, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}
2025-08-12 06:09:04,252 - INFO - [robust_curvature] INPUT: [[0.66453479 0.44132076]
 [0.70513351 0.48748647]
 [0.68222952 0.53689361]
 [0.60862625 0.56274209]
 [0.52550816 0.5487654 ]
 [0.48218493 0.50095206]
 [0.50597667 0.44848096]
 [0.58230809 0.42427508]]
2025-08-12 06:09:04,254 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,254 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,254 - INFO - Computed angular variance: 0.058636 for 8 vertices.
2025-08-12 06:09:04,255 - INFO - [robust_curvature] INPUT: [[0.60862625 0.56274209]
 [0.52550816 0.5487654 ]
 [0.48218493 0.50095206]
 [0.50597667 0.44848096]]
2025-08-12 06:09:04,255 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,256 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,256 - INFO - [robust_curvature] INPUT: [[0.66453479 0.44132076]
 [0.70513351 0.48748647]
 [0.68222952 0.53689361]
 [0.58230809 0.42427508]]
2025-08-12 06:09:04,256 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,256 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,257 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 06:09:04,257 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.05863585355923949, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}
2025-08-12 06:09:04,257 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.20962578956003447, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.7509901105499983, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.6305750066707569, 'complexity': 4, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 2}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.1356029112239834, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.05863585355923949, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}}
2025-08-12 06:09:04,258 - INFO - [_calculate_image_features] INPUTS: vertices=[(0.7511764851123751, 0.40152766803592244), (1.0, 0.40152766803592244), (0.7513313568300611, 0.7465483098318314), (0.7513313568300611, 0.4013127879499135), (0.5034110188795937, 1.0), (0.0, 0.5986872120500863), (0.2479203379504677, 0.0), (0.7513313568300612, 0.40131278794991393)], strokes=[{'command': 'line_normal_0.300-0.500', 'vertices': [(0.5, 0.5), (0.45714285714285713, 0.5), (0.41428571428571426, 0.5), (0.37142857142857144, 0.5), (0.32857142857142857, 0.5), (0.2857142857142857, 0.5), (0.24285714285714288, 0.5), (0.2, 0.5)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.424-0.875', 'vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'geometry': {'area': 4.7704895589362195e-18, 'perimeter': 0.2826666666666667, 'centroid': [0.7474649255809681, 0.2525350744190317], 'bounds': [0.6998755168153974, 0.2001867247769038, 0.7998132752230961, 0.30012448318460255], 'width': 0.0999377584076987, 'height': 0.09993775840769875}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0999377584076987, 'height': 0.09993775840769875}, {'command': 'line_normal_0.300-0.875', 'vertices': [(0.5, 0.5), (0.5303045763365664, 0.4696954236634337), (0.5606091526731326, 0.43939084732686734), (0.590913729009699, 0.40908627099030104), (0.6212183053462652, 0.3787816946537347), (0.6515228816828316, 0.3484771183171684), (0.6818274580193979, 0.3181725419806021), (0.7121320343559642, 0.2878679656440357)], 'geometry': {'area': 2.927345865710862e-18, 'perimeter': 0.2, 'centroid': [0.6799033579345366, 0.32009664206546345], 'bounds': [0.6414213562373094, 0.2878679656440357, 0.7121320343559642, 0.3585786437626905], 'width': 0.07071067811865472, 'height': 0.07071067811865478}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.07071067811865472, 'height': 0.07071067811865478}, {'command': 'line_normal_0.600-0.083', 'vertices': [(0.5, 0.5), (0.5472947655180631, 0.5271737330185177), (0.5945895310361262, 0.5543474660370353), (0.6418842965541893, 0.5815211990555531), (0.6891790620722523, 0.6086949320740708), (0.7364738275903154, 0.6358686650925884), (0.7837685931083785, 0.6630423981111061), (0.8310633586264415, 0.6902161311296238), (0.8783581241445046, 0.7173898641481415), (0.9256528896625678, 0.7445635971666592), (0.9729476551806309, 0.7717373301851769), (1.020242420698694, 0.7989110632036945)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.700-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4461538461538462), (0.5, 0.3923076923076923), (0.5, 0.3384615384615385), (0.49999999999999994, 0.2846153846153846), (0.49999999999999994, 0.23076923076923078), (0.49999999999999994, 0.17692307692307696), (0.49999999999999994, 0.12307692307692308), (0.49999999999999994, 0.06923076923076926), (0.49999999999999994, 0.015384615384615441), (0.4999999999999999, -0.038461538461538436), (0.4999999999999999, -0.09230769230769231), (0.4999999999999999, -0.14615384615384608), (0.4999999999999999, -0.19999999999999996)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.600-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.700-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4461538461538462), (0.5, 0.3923076923076923), (0.5, 0.3384615384615385), (0.49999999999999994, 0.2846153846153846), (0.49999999999999994, 0.23076923076923078), (0.49999999999999994, 0.17692307692307696), (0.49999999999999994, 0.12307692307692308), (0.49999999999999994, 0.06923076923076926), (0.49999999999999994, 0.015384615384615441), (0.4999999999999999, -0.038461538461538436), (0.4999999999999999, -0.09230769230769231), (0.4999999999999999, -0.14615384615384608), (0.4999999999999999, -0.19999999999999996)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}], geometry={'area': 0.400879334341646, 'perimeter': 2.5836719752938953, 'centroid': [0.3756656717826514, 0.5000000017401706], 'bounds': [0.0, 0.0, 0.751331356830061, 1.0], 'width': 0.751331356830061, 'height': 1.0}
2025-08-12 06:09:04,258 - DEBUG - [POLYGON CREATION] Attempting to create Polygon with vertices: [(0.7511764851123751, 0.40152766803592244), (1.0, 0.40152766803592244), (0.7513313568300611, 0.7465483098318314), (0.7513313568300611, 0.4013127879499135), (0.5034110188795937, 1.0), (0.0, 0.5986872120500863), (0.2479203379504677, 0.0), (0.7513313568300612, 0.40131278794991393)]
2025-08-12 06:09:04,258 - DEBUG - [POLYGON REPAIR] Final polygon: is_valid=True, is_empty=False, area=0.5364422861812687
2025-08-12 06:09:04,258 - INFO - [_calculate_perimeter] INPUT vertices: [(0.7511764851123751, 0.40152766803592244), (1.0, 0.40152766803592244), (0.7513313568300611, 0.7465483098318314), (0.7513313568300611, 0.4013127879499135), (0.5034110188795937, 1.0), (0.0, 0.5986872120500863), (0.2479203379504677, 0.0), (0.7513313568300612, 0.40131278794991393)]
2025-08-12 06:09:04,259 - INFO - [_calculate_perimeter] OUTPUT perimeter: 3.6031921119156425
2025-08-12 06:09:04,259 - INFO - [robust_curvature] INPUT: [(0.7511764851123751, 0.40152766803592244), (1.0, 0.40152766803592244), (0.7513313568300611, 0.7465483098318314), (0.7513313568300611, 0.4013127879499135), (0.5034110188795937, 1.0), (0.0, 0.5986872120500863), (0.2479203379504677, 0.0), (0.7513313568300612, 0.40131278794991393)]
2025-08-12 06:09:04,260 - INFO - [robust_curvature] OUTPUT: 1.8319856161565666
2025-08-12 06:09:04,260 - INFO - Computed angular variance: 0.209626 for 8 vertices.
2025-08-12 06:09:04,260 - INFO - [complexity] Calling calculate_complexity with vertices: [(0.7511764851123751, 0.40152766803592244), (1.0, 0.40152766803592244), (0.7513313568300611, 0.7465483098318314), (0.7513313568300611, 0.4013127879499135), (0.5034110188795937, 1.0), (0.0, 0.5986872120500863), (0.2479203379504677, 0.0), (0.7513313568300612, 0.40131278794991393)]
2025-08-12 06:09:04,261 - INFO - Complexity: n=7, n_norm=0.28, curvature=0.92, irregularity=0.19, result=0.45
2025-08-12 06:09:04,261 - INFO - [complexity] Output for vertices count 8: 0.451302783091933
2025-08-12 06:09:04,262 - INFO - [_calculate_image_features] polsby_popper: 0.42953647131763173
2025-08-12 06:09:04,266 - INFO - [_calculate_image_features] OUTPUT: {'bounding_box': (0.0, 0.0, 1.0, 1.0), 'centroid': [0.3756656717826514, 0.5000000017401706], 'width': 0.751331356830061, 'height': 1.0, 'area_raw': 0.5364422861812687, 'area_normalized': 1.0, 'perimeter_raw': 3.6031921119156425, 'perimeter_normalized': 1.0, 'aspect_ratio': 0.751331356830061, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.5192279142475262, 'polsby_popper_compactness': 0.42953647131763173, 'eccentricity': 0.1900369464251026, 'symmetry_score': 0.49709409633890417, 'horizontal_symmetry': 0.4333653676250645, 'vertical_symmetry': 0.6024159593128946, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 8.0, 'visual_complexity': 0.5309417398907414, 'curvature_score': 1.8319856161565666, 'angular_variance': 0.20962578956003447, 'moment_of_inertia': 0.25508721004071844, 'irregularity_score': 0.15060657451874362, 'standardized_complexity': 0.451302783091933, 'clustering_heights': [0.0, 0.0, 0.0, 0.0, 0.09242414306999132, 0.4560771307644675], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:04,266 - DEBUG - [_calculate_composition_features] INPUTS: strokes count=7
2025-08-12 06:09:04,267 - DEBUG - [_calculate_composition_features] OUTPUT: {'stroke_type_distribution': {'line': 7}, 'shape_modifier_distribution': {'normal': 7}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 8, 'homogeneity_score': 1.0, 'pattern_regularity': 0.14285714285714285}
2025-08-12 06:09:04,267 - INFO - [_calculate_physics_features] INPUT vertices: [(0.7511764851123751, 0.40152766803592244), (1.0, 0.40152766803592244), (0.7513313568300611, 0.7465483098318314), (0.7513313568300611, 0.4013127879499135), (0.5034110188795937, 1.0), (0.0, 0.5986872120500863), (0.2479203379504677, 0.0), (0.7513313568300612, 0.40131278794991393)]
2025-08-12 06:09:04,267 - INFO - [_calculate_physics_features] INPUT centroid: [0.3756656717826514, 0.5000000017401706]
2025-08-12 06:09:04,267 - INFO - [_calculate_physics_features] INPUT strokes: ['line_normal_0.300-0.500', 'line_normal_0.424-0.875', 'line_normal_0.300-0.875', 'line_normal_0.600-0.083', 'line_normal_0.700-0.750', 'line_normal_0.600-0.750', 'line_normal_0.700-0.750']
2025-08-12 06:09:04,268 - INFO - [_calculate_physics_features] polsby_popper: 0.788359923989972
2025-08-12 06:09:04,269 - INFO - Computed angular variance: 0.209626 for 8 vertices.
2025-08-12 06:09:04,270 - INFO - [_calculate_physics_features] OUTPUT: {'moment_of_inertia': 0.25508721004071844, 'center_of_mass': [0.3756656717826514, 0.5000000017401706], 'polsby_popper_compactness': 0.788359923989972, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.8319856161565666, 'angular_variance': 0.20962578956003447, 'edge_length_variance': 0.05097911241440849}
2025-08-12 06:09:04,270 - INFO - [calculate_shape_relationships] INPUT: shapes=[{'vertices': [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)]}], buffer_amt=0.001
2025-08-12 06:09:04,270 - DEBUG - [calculate_shape_relationships] Shape 0 vertices: [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)]
2025-08-12 06:09:04,270 - WARNING - calculate_shape_relationships: No valid geometries found.
2025-08-12 06:09:04,271 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal'], n=2
2025-08-12 06:09:04,271 - DEBUG - [ensure_str_list] Converting list: ['normal']
2025-08-12 06:09:04,272 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,272 - DEBUG - [ensure_str_list] Result: ['normal']
2025-08-12 06:09:04,272 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal']
2025-08-12 06:09:04,272 - DEBUG - [_extract_ngram_features] OUTPUT: {}
2025-08-12 06:09:04,273 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,273 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal'], n=2
2025-08-12 06:09:04,273 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal']
2025-08-12 06:09:04,273 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,273 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,273 - DEBUG - [ensure_str_list] Result: ['normal', 'normal']
2025-08-12 06:09:04,273 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal']
2025-08-12 06:09:04,274 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 1}
2025-08-12 06:09:04,274 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,274 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal'], n=2
2025-08-12 06:09:04,274 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal']
2025-08-12 06:09:04,275 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,275 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,275 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,275 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal']
2025-08-12 06:09:04,275 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal']
2025-08-12 06:09:04,276 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 2}
2025-08-12 06:09:04,276 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,276 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:04,276 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,277 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,277 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,277 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,277 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,278 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,278 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,278 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-12 06:09:04,278 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,279 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:04,279 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,279 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,280 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,280 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,280 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,280 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,281 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,281 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,281 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 4}
2025-08-12 06:09:04,281 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,282 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:04,282 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,283 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,283 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,283 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,283 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,284 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,284 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,284 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,284 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,284 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-12 06:09:04,285 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,285 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:04,285 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,285 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,286 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,286 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,286 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,286 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,287 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,287 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,287 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,287 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,288 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 6}
2025-08-12 06:09:04,288 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,288 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,288 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,289 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,289 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,289 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,289 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,290 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,290 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,290 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,290 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,290 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,291 - DEBUG - [_detect_alternation] OUTPUT: 0.14285714285714285
2025-08-12 06:09:04,291 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:04,291 - INFO - [extract_regularity_features] INPUT: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,291 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,292 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,292 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,292 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,292 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,293 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,293 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,293 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,293 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,293 - INFO - [extract_regularity_features] OUTPUT: {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 7}}
2025-08-12 06:09:04,293 - DEBUG - [extract_regularity_features] Output is JSON serializable.
2025-08-12 06:09:04,294 - INFO - [extract_dominant_shape_modifiers] INPUT: {'modifiers': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']}
2025-08-12 06:09:04,294 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,294 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,294 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,294 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,294 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,296 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,296 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,296 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,296 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,296 - INFO - [extract_dominant_shape_modifiers] OUTPUT: {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 7}}
2025-08-12 06:09:04,297 - DEBUG - [extract_dominant_shape_modifiers] Output is JSON serializable.
2025-08-12 06:09:04,297 - WARNING - [PATCH] Failed to load canonical summary for image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_2: type object 'FileIO' has no attribute 'load_canonical_features'
2025-08-12 06:09:04,297 - DEBUG - [process_single_image] Passing topo_shape_list to extract_topological_features: [{'vertices': [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)]}]
2025-08-12 06:09:04,314 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image type: <class 'bongard.bongard.BongardImage'> | problem_id=hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:04,314 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image.one_stroke_shapes: [<src.data_pipeline.logo_parser.OneStrokeShape object at 0x0000025949A99410>]
2025-08-12 06:09:04,314 - INFO - [extract_stroke_features_from_shapes] problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 | num_shapes=1 | total_strokes=7
2025-08-12 06:09:04,315 - INFO - [extract_stroke_features_from_shapes] PATCH: shapes=[<src.data_pipeline.logo_parser.OneStrokeShape object at 0x0000025949A99410>]
2025-08-12 06:09:04,315 - INFO - [extract_stroke_features_from_shapes] Shape 0 actions: [line_normal_0.300-0.500, line_normal_0.424-0.875, line_normal_0.300-0.875, line_normal_0.600-0.083, line_normal_0.700-0.750, line_normal_0.600-0.750, line_normal_0.700-0.750]
2025-08-12 06:09:04,315 - INFO - [extract_stroke_features_from_shapes] Shape 0: [line_normal_0.300-0.500, line_normal_0.424-0.875, line_normal_0.300-0.875, line_normal_0.600-0.083, line_normal_0.700-0.750, line_normal_0.600-0.750, line_normal_0.700-0.750], None, None, None
2025-08-12 06:09:04,315 - INFO - [extract_stroke_features_from_shapes] Shape 0 geometry: {'area': 0.4007941718397292, 'perimeter': 2.5834200004354315, 'centroid': [0.3756215153207432, 0.5000493802454978], 'bounds': [0.0, 0.0, 0.7512423735638916, 1.0], 'width': 0.7512423735638916, 'height': 1.0, 'robust_curvature': 1.8319856161565666, 'robust_angular_variance': 0.43790975815606903, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 2.0909314784029602}
2025-08-12 06:09:04,316 - INFO - [extract_stroke_features_from_shapes] Shape 0: num_actions=7 | actions=[line_normal_0.300-0.500, line_normal_0.424-0.875, line_normal_0.300-0.875, line_normal_0.600-0.083, line_normal_0.700-0.750, line_normal_0.600-0.750, line_normal_0.700-0.750]
2025-08-12 06:09:04,316 - INFO - [extract_stroke_features_from_shapes] PATCH: Validated/corrected shape_vertices for shape 0: [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196), (0.0, 0.0)]
2025-08-12 06:09:04,316 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=0 | stroke=line_normal_0.300-0.500
2025-08-12 06:09:04,316 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (432.0, 0.0)]
2025-08-12 06:09:04,316 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,316 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,317 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,317 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,318 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,320 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.7546424417129594}
2025-08-12 06:09:04,321 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.7546424417129594, 'is_simple': True}
2025-08-12 06:09:04,321 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 0: {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)], 'open_stroke_perimeter': 5218.5599999999995, 'compactness': 0.7546424417129594, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'line_length': 5218.5599999999995, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:04,321 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=1 | stroke=line_normal_0.424-0.875
2025-08-12 06:09:04,321 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(432.0, 0.0), (0.26888367874164487, 431.73111632125847)]
2025-08-12 06:09:04,322 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,322 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,322 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.300-0.500, line_normal_0.424-0.875, line_normal_0.300-0.875, line_normal_0.600-0.083, line_normal_0.700-0.750, line_normal_0.600-0.750, line_normal_0.700-0.750]
2025-08-12 06:09:04,323 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.500
2025-08-12 06:09:04,323 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,323 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,324 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,324 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,324 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,325 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.7546424417129594}
2025-08-12 06:09:04,325 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.7546424417129594, 'is_simple': True}
2025-08-12 06:09:04,326 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.424-0.875
2025-08-12 06:09:04,326 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,326 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,326 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,327 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:04,327 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,327 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,328 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,328 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,328 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:04,329 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,329 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,329 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(432.0, 0.0), (0.26888367874164487, 431.73111632125847)]
2025-08-12 06:09:04,329 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,330 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,330 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.875
2025-08-12 06:09:04,330 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,330 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,331 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,331 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:04,331 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,333 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,333 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,333 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,333 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:04,334 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,334 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,334 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(432.0, 0.0), (0.26888367874164487, 431.73111632125847)]
2025-08-12 06:09:04,334 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,334 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,335 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.083
2025-08-12 06:09:04,335 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,335 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,336 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,336 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:04,336 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,336 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,337 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,337 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,337 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:04,337 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,338 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,338 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(432.0, 0.0), (0.26888367874164487, 431.73111632125847)]
2025-08-12 06:09:04,338 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,338 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,339 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.700-0.750
2025-08-12 06:09:04,339 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,339 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,340 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,340 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:04,340 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,341 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,341 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,341 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,341 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:04,342 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,342 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,342 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(432.0, 0.0), (0.26888367874164487, 431.73111632125847)]
2025-08-12 06:09:04,343 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,343 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,343 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-12 06:09:04,343 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,343 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,345 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,345 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:04,345 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,346 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,346 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,346 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,346 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:04,347 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,347 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,347 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(432.0, 0.0), (0.26888367874164487, 431.73111632125847)]
2025-08-12 06:09:04,348 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,348 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,348 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.700-0.750
2025-08-12 06:09:04,348 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,349 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,349 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,349 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:04,350 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,350 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,350 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,350 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,351 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:04,351 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,352 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,352 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(432.0, 0.0), (0.26888367874164487, 431.73111632125847)]
2025-08-12 06:09:04,352 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,352 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,353 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:04,353 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:04,353 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:04,355 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:04,355 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,355 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,355 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 523.3371428571428, 'var': 45646.96084897958, 'min': 0.0, 'max': 610.56, 'count': 7}, 'width': {'mean': 370.0552425610786, 'var': 22823.480424489786, 'min': 0.0, 'max': 431.73111632125836, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 370.05524256107867, 'var': 22823.480424489793, 'min': 0.0, 'max': 431.73111632125847, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:04,356 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 523.3371428571428, 'var': 45646.96084897958, 'min': 0.0, 'max': 610.56, 'count': 7}, 'width': {'mean': 370.0552425610786, 'var': 22823.480424489786, 'min': 0.0, 'max': 431.73111632125836, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 370.05524256107867, 'var': 22823.480424489793, 'min': 0.0, 'max': 431.73111632125847, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:04,356 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:04,357 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,357 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,357 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(432.0, 0.0), (0.26888367874164487, 431.73111632125847)]
2025-08-12 06:09:04,358 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,358 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,358 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(432.0, 0.0), (0.26888367874164487, 431.73111632125847)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 610.56, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 610.56, 'var': 0.0, 'min': 610.56, 'max': 610.56, 'count': 1}, 'width': {'mean': 431.73111632125836, 'var': 0.0, 'min': 431.73111632125836, 'max': 431.73111632125836, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 431.73111632125847, 'var': 0.0, 'min': 431.73111632125847, 'max': 431.73111632125847, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 610.56, 'var': 0.0, 'min': 610.56, 'max': 610.56, 'count': 1}, 'width': {'mean': 431.73111632125836, 'var': 0.0, 'min': 431.73111632125836, 'max': 431.73111632125836, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 431.73111632125847, 'var': 0.0, 'min': 431.73111632125847, 'max': 431.73111632125847, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 431.73111632125836, 'height': 431.73111632125847, 'area': 0.0, 'perimeter': 610.56, 'centroid': [216.13444183937082, 215.86555816062923], 'bounds': [0.26888367874164487, 0.0, 432.0, 431.73111632125847], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': 135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:04,358 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_normal_0.300-0.875
2025-08-12 06:09:04,359 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312)]
2025-08-12 06:09:04,359 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,359 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,359 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.300-0.500, line_normal_0.424-0.875, line_normal_0.300-0.875, line_normal_0.600-0.083, line_normal_0.700-0.750, line_normal_0.600-0.750, line_normal_0.700-0.750]
2025-08-12 06:09:04,361 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.500
2025-08-12 06:09:04,361 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,361 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,362 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,362 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,362 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,364 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.7546424417129594}
2025-08-12 06:09:04,364 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.7546424417129594, 'is_simple': True}
2025-08-12 06:09:04,364 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.424-0.875
2025-08-12 06:09:04,365 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,365 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,366 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,366 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=432.0. Returning 0.0.
2025-08-12 06:09:04,366 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,367 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,367 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,367 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,368 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:04,368 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,368 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,369 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312)]
2025-08-12 06:09:04,369 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,369 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,370 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.875
2025-08-12 06:09:04,370 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,370 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,371 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,371 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=432.0. Returning 0.0.
2025-08-12 06:09:04,371 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,372 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,372 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,372 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,372 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:04,373 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,373 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,374 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312)]
2025-08-12 06:09:04,374 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,374 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,374 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.083
2025-08-12 06:09:04,374 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,374 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,376 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,376 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=432.0. Returning 0.0.
2025-08-12 06:09:04,376 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,377 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,377 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,377 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,377 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:04,378 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,379 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,379 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312)]
2025-08-12 06:09:04,379 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,380 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,380 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.700-0.750
2025-08-12 06:09:04,380 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,380 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,381 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,381 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=432.0. Returning 0.0.
2025-08-12 06:09:04,381 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,381 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,382 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,382 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,382 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:04,383 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,383 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,383 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312)]
2025-08-12 06:09:04,383 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,384 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,384 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-12 06:09:04,384 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,384 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,385 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,385 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=432.0. Returning 0.0.
2025-08-12 06:09:04,385 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,386 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,386 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,386 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,386 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:04,386 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,387 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,387 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312)]
2025-08-12 06:09:04,387 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,387 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,388 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.700-0.750
2025-08-12 06:09:04,388 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,388 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,389 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,389 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=432.0. Returning 0.0.
2025-08-12 06:09:04,389 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,390 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,390 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,390 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,390 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:04,391 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,391 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,392 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312)]
2025-08-12 06:09:04,392 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,392 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,392 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:04,393 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:04,393 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:04,394 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=432.0. Returning 0.0.
2025-08-12 06:09:04,394 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,394 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,394 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 370.2857142857143, 'var': 22851.918367346945, 'min': 0.0, 'max': 432.0, 'count': 7}, 'width': {'mean': 6.804081108059888e-14, 'var': 7.715919954176244e-28, 'min': 0.0, 'max': 7.938094626069869e-14, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 370.2857142857143, 'var': 22851.918367346945, 'min': 0.0, 'max': 432.0, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:04,394 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 370.2857142857143, 'var': 22851.918367346945, 'min': 0.0, 'max': 432.0, 'count': 7}, 'width': {'mean': 6.804081108059888e-14, 'var': 7.715919954176244e-28, 'min': 0.0, 'max': 7.938094626069869e-14, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 370.2857142857143, 'var': 22851.918367346945, 'min': 0.0, 'max': 432.0, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:04,394 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:04,396 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,396 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,396 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312)]
2025-08-12 06:09:04,397 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,397 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,397 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312)], 'open_stroke_perimeter': 432.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 432.0, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 432.0, 'var': 0.0, 'min': 432.0, 'max': 432.0, 'count': 1}, 'width': {'mean': 7.938094626069869e-14, 'var': 0.0, 'min': 7.938094626069869e-14, 'max': 7.938094626069869e-14, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 432.0, 'var': 0.0, 'min': 432.0, 'max': 432.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 432.0, 'var': 0.0, 'min': 432.0, 'max': 432.0, 'count': 1}, 'width': {'mean': 7.938094626069869e-14, 'var': 0.0, 'min': 7.938094626069869e-14, 'max': 7.938094626069869e-14, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 432.0, 'var': 0.0, 'min': 432.0, 'max': 432.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'geometry': {'width': 7.938094626069869e-14, 'height': 432.0, 'area': 0.0, 'perimeter': 432.0, 'centroid': [0.2688836787416052, 215.73111632125847], 'bounds': [0.2688836787415655, -0.2688836787415312, 0.26888367874164487, 431.73111632125847], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 432.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:04,398 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_normal_0.600-0.083
2025-08-12 06:09:04,398 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378)]
2025-08-12 06:09:04,398 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,398 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,399 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.300-0.500, line_normal_0.424-0.875, line_normal_0.300-0.875, line_normal_0.600-0.083, line_normal_0.700-0.750, line_normal_0.600-0.750, line_normal_0.700-0.750]
2025-08-12 06:09:04,399 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.500
2025-08-12 06:09:04,399 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,400 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,400 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,401 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,401 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,402 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.7546424417129594}
2025-08-12 06:09:04,403 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.7546424417129594, 'is_simple': True}
2025-08-12 06:09:04,403 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.424-0.875
2025-08-12 06:09:04,403 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,403 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,404 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,404 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0000000000001. Returning 0.0.
2025-08-12 06:09:04,404 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,405 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,405 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,405 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,405 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:04,406 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,406 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,407 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378)]
2025-08-12 06:09:04,407 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,407 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,407 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.875
2025-08-12 06:09:04,408 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,408 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,408 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,409 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0000000000001. Returning 0.0.
2025-08-12 06:09:04,409 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,409 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,410 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,410 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,410 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:04,410 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,412 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,412 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378)]
2025-08-12 06:09:04,412 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,413 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,413 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.083
2025-08-12 06:09:04,413 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,414 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,414 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,414 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0000000000001. Returning 0.0.
2025-08-12 06:09:04,415 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,415 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,415 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,415 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,415 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:04,416 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,416 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,416 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378)]
2025-08-12 06:09:04,416 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,417 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,417 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.700-0.750
2025-08-12 06:09:04,417 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,418 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,418 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,418 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0000000000001. Returning 0.0.
2025-08-12 06:09:04,420 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,420 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,420 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,420 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,421 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:04,421 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,421 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,421 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378)]
2025-08-12 06:09:04,422 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,422 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,422 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-12 06:09:04,422 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,423 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,423 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,423 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0000000000001. Returning 0.0.
2025-08-12 06:09:04,424 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,424 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,424 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,424 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,424 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:04,425 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,425 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,425 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378)]
2025-08-12 06:09:04,425 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,425 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,427 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.700-0.750
2025-08-12 06:09:04,427 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,427 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,428 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,428 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0000000000001. Returning 0.0.
2025-08-12 06:09:04,428 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,429 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,429 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,429 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,429 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:04,430 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,430 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,430 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378)]
2025-08-12 06:09:04,431 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,431 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,431 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:04,431 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:04,432 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:04,432 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0000000000001. Returning 0.0.
2025-08-12 06:09:04,433 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,433 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,433 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 740.5714285714287, 'var': 91407.6734693878, 'min': 0.0, 'max': 864.0000000000001, 'count': 7}, 'width': {'mean': 368.9416551542743, 'var': 22686.324151329234, 'min': 0.0, 'max': 430.43193101331997, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 642.1277878338168, 'var': 68721.34931805855, 'min': 0.0, 'max': 749.1490858061195, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:04,434 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 740.5714285714287, 'var': 91407.6734693878, 'min': 0.0, 'max': 864.0000000000001, 'count': 7}, 'width': {'mean': 368.9416551542743, 'var': 22686.324151329234, 'min': 0.0, 'max': 430.43193101331997, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 642.1277878338168, 'var': 68721.34931805855, 'min': 0.0, 'max': 749.1490858061195, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:04,434 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:04,434 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,434 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,435 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378)]
2025-08-12 06:09:04,435 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,435 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,436 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378)], 'open_stroke_perimeter': 864.0000000000001, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0000000000001, 'avg_stroke_length': 864.0000000000001, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 864.0000000000001, 'var': 0.0, 'min': 864.0000000000001, 'max': 864.0000000000001, 'count': 1}, 'width': {'mean': 430.43193101331997, 'var': 0.0, 'min': 430.43193101331997, 'max': 430.43193101331997, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 749.1490858061195, 'var': 0.0, 'min': 749.1490858061195, 'max': 749.1490858061195, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 864.0000000000001, 'var': 0.0, 'min': 864.0000000000001, 'max': 864.0000000000001, 'count': 1}, 'width': {'mean': 430.43193101331997, 'var': 0.0, 'min': 430.43193101331997, 'max': 430.43193101331997, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 749.1490858061195, 'var': 0.0, 'min': 749.1490858061195, 'max': 749.1490858061195, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'geometry': {'width': 430.43193101331997, 'height': 749.1490858061195, 'area': 0.0, 'perimeter': 864.0000000000001, 'centroid': [-214.9470818279184, 374.3056592243182], 'bounds': [-430.1630473345784, -0.2688836787415312, 0.2688836787415655, 748.880202127378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0000000000001, 'line_angle': 119.88000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:04,436 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=4 | stroke=line_normal_0.700-0.750
2025-08-12 06:09:04,436 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144)]
2025-08-12 06:09:04,436 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,436 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,437 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.300-0.500, line_normal_0.424-0.875, line_normal_0.300-0.875, line_normal_0.600-0.083, line_normal_0.700-0.750, line_normal_0.600-0.750, line_normal_0.700-0.750]
2025-08-12 06:09:04,438 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.500
2025-08-12 06:09:04,438 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,438 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,438 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,439 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,439 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,440 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.7546424417129594}
2025-08-12 06:09:04,441 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.7546424417129594, 'is_simple': True}
2025-08-12 06:09:04,441 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.424-0.875
2025-08-12 06:09:04,441 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,441 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,442 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,442 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1008.0. Returning 0.0.
2025-08-12 06:09:04,442 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,442 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,443 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,443 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,443 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:04,444 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,444 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,444 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144)]
2025-08-12 06:09:04,445 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,445 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,445 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.875
2025-08-12 06:09:04,445 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,446 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,446 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,446 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1008.0. Returning 0.0.
2025-08-12 06:09:04,447 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,447 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,447 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,447 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,447 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:04,449 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,449 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,449 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144)]
2025-08-12 06:09:04,449 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,449 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,450 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.083
2025-08-12 06:09:04,450 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,450 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,451 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,451 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1008.0. Returning 0.0.
2025-08-12 06:09:04,451 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,452 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,452 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,452 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,452 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:04,453 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,453 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,454 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144)]
2025-08-12 06:09:04,454 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,454 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,454 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.700-0.750
2025-08-12 06:09:04,456 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,456 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,456 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,456 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1008.0. Returning 0.0.
2025-08-12 06:09:04,456 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,457 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,457 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,458 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,458 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:04,458 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,459 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,459 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144)]
2025-08-12 06:09:04,459 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,460 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,460 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-12 06:09:04,460 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,460 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,461 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,461 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1008.0. Returning 0.0.
2025-08-12 06:09:04,461 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,462 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,462 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,462 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,463 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:04,463 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,463 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,464 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144)]
2025-08-12 06:09:04,464 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,464 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,465 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.700-0.750
2025-08-12 06:09:04,465 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,465 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,466 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,466 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1008.0. Returning 0.0.
2025-08-12 06:09:04,466 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,467 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,467 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,467 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,467 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:04,468 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,468 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,468 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144)]
2025-08-12 06:09:04,468 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,468 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,468 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:04,470 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:04,470 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:04,470 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1008.0. Returning 0.0.
2025-08-12 06:09:04,471 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,471 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,471 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 864.0, 'var': 124416.0, 'min': 0.0, 'max': 1008.0, 'count': 7}, 'width': {'mean': 749.1490858061195, 'var': 93537.39212735744, 'min': 0.0, 'max': 874.0072667738061, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 430.4319310133199, 'var': 30878.60787264257, 'min': 0.0, 'max': 502.17058618220653, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:04,472 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 864.0, 'var': 124416.0, 'min': 0.0, 'max': 1008.0, 'count': 7}, 'width': {'mean': 749.1490858061195, 'var': 93537.39212735744, 'min': 0.0, 'max': 874.0072667738061, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 430.4319310133199, 'var': 30878.60787264257, 'min': 0.0, 'max': 502.17058618220653, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:04,472 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:04,472 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,472 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,473 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144)]
2025-08-12 06:09:04,473 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,473 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,474 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 4: {'stroke_index': 4, 'analytic_vertices': [(-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144)], 'open_stroke_perimeter': 1008.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.0, 'avg_stroke_length': 1008.0, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 1008.0, 'var': 0.0, 'min': 1008.0, 'max': 1008.0, 'count': 1}, 'width': {'mean': 874.0072667738061, 'var': 0.0, 'min': 874.0072667738061, 'max': 874.0072667738061, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 502.17058618220653, 'var': 0.0, 'min': 502.17058618220653, 'max': 502.17058618220653, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 1008.0, 'var': 0.0, 'min': 1008.0, 'max': 1008.0, 'count': 1}, 'width': {'mean': 874.0072667738061, 'var': 0.0, 'min': 874.0072667738061, 'max': 874.0072667738061, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 502.17058618220653, 'var': 0.0, 'min': 502.17058618220653, 'max': 502.17058618220653, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'geometry': {'width': 874.0072667738061, 'height': 502.17058618220653, 'area': 0.0, 'perimeter': 1008.0, 'centroid': [-867.1666807214814, 497.7949090362747], 'bounds': [-1304.1703141083844, 246.70961594517144, -430.1630473345784, 748.880202127378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1008.0, 'line_angle': -150.12000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:04,474 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=5 | stroke=line_normal_0.600-0.750
2025-08-12 06:09:04,474 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784)]
2025-08-12 06:09:04,474 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,474 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,475 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.300-0.500, line_normal_0.424-0.875, line_normal_0.300-0.875, line_normal_0.600-0.083, line_normal_0.700-0.750, line_normal_0.600-0.750, line_normal_0.700-0.750]
2025-08-12 06:09:04,475 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.500
2025-08-12 06:09:04,475 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,476 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,476 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,476 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,476 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,479 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.7546424417129594}
2025-08-12 06:09:04,479 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.7546424417129594, 'is_simple': True}
2025-08-12 06:09:04,479 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.424-0.875
2025-08-12 06:09:04,480 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,480 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,480 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,480 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0. Returning 0.0.
2025-08-12 06:09:04,481 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,481 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,482 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,482 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,482 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:04,482 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,483 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,483 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784)]
2025-08-12 06:09:04,483 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,484 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,484 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.300-0.875
2025-08-12 06:09:04,484 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,484 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,485 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,485 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0. Returning 0.0.
2025-08-12 06:09:04,485 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,486 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,486 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,486 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,487 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:04,487 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,487 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,487 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784)]
2025-08-12 06:09:04,487 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,488 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,488 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.083
2025-08-12 06:09:04,488 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,488 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,489 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,489 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0. Returning 0.0.
2025-08-12 06:09:04,489 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,490 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,490 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,490 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,490 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:04,491 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,491 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,491 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784)]
2025-08-12 06:09:04,492 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,492 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,492 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.700-0.750
2025-08-12 06:09:04,492 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,493 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,493 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,493 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0. Returning 0.0.
2025-08-12 06:09:04,493 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,494 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,494 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,494 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,495 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:04,495 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,495 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,495 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784)]
2025-08-12 06:09:04,497 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,497 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,497 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-12 06:09:04,497 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,498 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,498 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,498 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0. Returning 0.0.
2025-08-12 06:09:04,499 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,499 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,499 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,499 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,500 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:04,500 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,500 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,501 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784)]
2025-08-12 06:09:04,501 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,501 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,501 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.700-0.750
2025-08-12 06:09:04,502 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,502 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,502 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,502 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0. Returning 0.0.
2025-08-12 06:09:04,504 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,504 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,504 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,504 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,505 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:04,505 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,505 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,506 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784)]
2025-08-12 06:09:04,506 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,506 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,506 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:04,507 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:04,507 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:04,507 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0. Returning 0.0.
2025-08-12 06:09:04,508 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:04,508 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:04,508 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 740.5714285714286, 'var': 91407.67346938778, 'min': 0.0, 'max': 864.0, 'count': 7}, 'width': {'mean': 368.9416551542746, 'var': 22686.324151329263, 'min': 0.0, 'max': 430.4319310133203, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 642.1277878338166, 'var': 68721.3493180585, 'min': 0.0, 'max': 749.1490858061193, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:04,508 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 740.5714285714286, 'var': 91407.67346938778, 'min': 0.0, 'max': 864.0, 'count': 7}, 'width': {'mean': 368.9416551542746, 'var': 22686.324151329263, 'min': 0.0, 'max': 430.4319310133203, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 642.1277878338166, 'var': 68721.3493180585, 'min': 0.0, 'max': 749.1490858061193, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:04,508 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:04,509 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,509 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,510 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784)]
2025-08-12 06:09:04,510 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,510 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,510 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 5: {'stroke_index': 5, 'analytic_vertices': [(-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784)], 'open_stroke_perimeter': 864.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0, 'avg_stroke_length': 864.0, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 864.0, 'var': 0.0, 'min': 864.0, 'max': 864.0, 'count': 1}, 'width': {'mean': 430.4319310133203, 'var': 0.0, 'min': 430.4319310133203, 'max': 430.4319310133203, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 749.1490858061193, 'var': 0.0, 'min': 749.1490858061193, 'max': 749.1490858061193, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 864.0, 'var': 0.0, 'min': 864.0, 'max': 864.0, 'count': 1}, 'width': {'mean': 430.4319310133203, 'var': 0.0, 'min': 430.4319310133203, 'max': 430.4319310133203, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 749.1490858061193, 'var': 0.0, 'min': 749.1490858061193, 'max': 749.1490858061193, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'geometry': {'width': 430.4319310133203, 'height': 749.1490858061193, 'area': 0.0, 'perimeter': 864.0, 'centroid': [-1088.9543486017242, -127.8649269578882], 'bounds': [-1304.1703141083844, -502.43946986094784, -873.7383830950641, 246.70961594517144], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0, 'line_angle': -60.11999999999999, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:04,510 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=6 | stroke=line_normal_0.700-0.750
2025-08-12 06:09:04,512 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196), (0.0, 0.0)]
2025-08-12 06:09:04,512 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,512 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,512 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:04,513 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,513 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,514 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.0006617950634326338}
2025-08-12 06:09:04,514 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.0006617950634326338, 'is_simple': True}
2025-08-12 06:09:04,515 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 6: {'stroke_index': 6, 'analytic_vertices': [(-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196), (0.0, 0.0)], 'open_stroke_perimeter': 1008.3802589451768, 'compactness': 0.0006617950634326338, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.3802589451768, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}}}, 'line_length': 1008.3802589451768, 'line_angle': 29.880000000000006, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:04,515 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=7
2025-08-12 06:09:04,516 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['line_is_long', 'line_angle', 'avg_stroke_length', 'visual_complexity', 'line_is_vertical', 'line_is_short', 'is_normal', 'line_curvature_score', 'is_geometric', 'convexity_ratio', 'compactness', 'stroke_index', 'open_stroke_perimeter', 'arc_curvature_score', 'robust_curvature', 'robust_angular_variance', 'degenerate_case', 'is_simple', 'line_length', 'stroke_length', 'geom_complexity', 'geometric_complexity', 'line_is_horizontal', 'num_vertices', 'is_pattern']
2025-08-12 06:09:04,516 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (7) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-12 06:09:04,517 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=7
2025-08-12 06:09:04,517 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 7
2025-08-12 06:09:04,517 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 7, 'num_arcs': 0, 'line_ratio': 1.0, 'arc_ratio': 0.0, 'stroke_diversity': 0}, 'line_aggregate': {'total_line_length': 10005.500258945176, 'avg_line_length': 1429.3571798493108, 'line_length_variance': 2431032.7286747014, 'line_angle_variance': 9672.174955102046, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'diagonal-down'}}
2025-08-12 06:09:04,518 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_normal_0.300-0.500,line_normal_0.424-0.875,line_normal_0.300-0.875,line_normal_0.600-0.083,line_normal_0.700-0.750,line_normal_0.600-0.750,line_normal_0.700-0.750
2025-08-12 06:09:04,518 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_normal_0.300-0.500', 'line_normal_0.424-0.875', 'line_normal_0.300-0.875', 'line_normal_0.600-0.083', 'line_normal_0.700-0.750', 'line_normal_0.600-0.750', 'line_normal_0.700-0.750']]
2025-08-12 06:09:04,518 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.300-0.500', 'line_normal_0.424-0.875', 'line_normal_0.300-0.875', 'line_normal_0.600-0.083', 'line_normal_0.700-0.750', 'line_normal_0.600-0.750', 'line_normal_0.700-0.750']
2025-08-12 06:09:04,518 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.300-0.500', 'line_normal_0.424-0.875', 'line_normal_0.300-0.875', 'line_normal_0.600-0.083', 'line_normal_0.700-0.750', 'line_normal_0.600-0.750', 'line_normal_0.700-0.750']
2025-08-12 06:09:04,518 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_normal_0.300-0.500', 'line_normal_0.424-0.875', 'line_normal_0.300-0.875', 'line_normal_0.600-0.083', 'line_normal_0.700-0.750', 'line_normal_0.600-0.750', 'line_normal_0.700-0.750']]
2025-08-12 06:09:04,518 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.300-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)], 'open_stroke_perimeter': 5218.5599999999995, 'compactness': 0.7546424417129594, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5218.5599999999995, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.424-0.875', 'features': {'stroke_index': 1, 'analytic_vertices': [(432.0, 0.0), (0.26888367874164487, 431.73111632125847)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125836, 'height': 431.73111632125847, 'area': 0.0, 'perimeter': 610.56, 'centroid': [216.13444183937082, 215.86555816062923], 'bounds': [0.26888367874164487, 0.0, 432.0, 431.73111632125847], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': 135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.300-0.875', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312)], 'open_stroke_perimeter': 432.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 7.938094626069869e-14, 'height': 432.0, 'area': 0.0, 'perimeter': 432.0, 'centroid': [0.2688836787416052, 215.73111632125847], 'bounds': [0.2688836787415655, -0.2688836787415312, 0.26888367874164487, 431.73111632125847], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 432.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.600-0.083', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378)], 'open_stroke_perimeter': 864.0000000000001, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0000000000001, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 430.43193101331997, 'height': 749.1490858061195, 'area': 0.0, 'perimeter': 864.0000000000001, 'centroid': [-214.9470818279184, 374.3056592243182], 'bounds': [-430.1630473345784, -0.2688836787415312, 0.2688836787415655, 748.880202127378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0000000000001, 'line_angle': 119.88000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.700-0.750', 'features': {'stroke_index': 4, 'analytic_vertices': [(-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144)], 'open_stroke_perimeter': 1008.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 874.0072667738061, 'height': 502.17058618220653, 'area': 0.0, 'perimeter': 1008.0, 'centroid': [-867.1666807214814, 497.7949090362747], 'bounds': [-1304.1703141083844, 246.70961594517144, -430.1630473345784, 748.880202127378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1008.0, 'line_angle': -150.12000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.600-0.750', 'features': {'stroke_index': 5, 'analytic_vertices': [(-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784)], 'open_stroke_perimeter': 864.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 430.4319310133203, 'height': 749.1490858061193, 'area': 0.0, 'perimeter': 864.0, 'centroid': [-1088.9543486017242, -127.8649269578882], 'bounds': [-1304.1703141083844, -502.43946986094784, -873.7383830950641, 246.70961594517144], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0, 'line_angle': -60.11999999999999, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.700-0.750', 'features': {'stroke_index': 6, 'analytic_vertices': [(-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196), (0.0, 0.0)], 'open_stroke_perimeter': 1008.3802589451768, 'compactness': 0.0006617950634326338, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.3802589451768, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1008.3802589451768, 'line_angle': 29.880000000000006, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:04,520 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:04,520 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:04,520 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-12 06:09:04,521 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-12 06:09:04,521 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.5945627390540774, 0.4938645542316988], 'orientation_degrees': -171.2237743881789}, geometry={'area': 0.400879334341646, 'perimeter': 2.5836719752938953, 'centroid': [0.3756656717826514, 0.5000000017401706], 'bounds': [0.0, 0.0, 0.751331356830061, 1.0], 'width': 0.751331356830061, 'height': 1.0}
2025-08-12 06:09:04,521 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_normal_0.300-0.500', 'line_normal_0.424-0.875', 'line_normal_0.300-0.875', 'line_normal_0.600-0.083', 'line_normal_0.700-0.750', 'line_normal_0.600-0.750', 'line_normal_0.700-0.750']
2025-08-12 06:09:04,521 - DEBUG - [PATCH][actions field] Joined: line_normal_0.300-0.500,line_normal_0.424-0.875,line_normal_0.300-0.875,line_normal_0.600-0.083,line_normal_0.700-0.750,line_normal_0.600-0.750,line_normal_0.700-0.750
2025-08-12 06:09:04,522 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.300-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)], 'open_stroke_perimeter': 5218.5599999999995, 'compactness': 0.7546424417129594, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5218.5599999999995, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.424-0.875', 'features': {'stroke_index': 1, 'analytic_vertices': [(432.0, 0.0), (0.26888367874164487, 431.73111632125847)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125836, 'height': 431.73111632125847, 'area': 0.0, 'perimeter': 610.56, 'centroid': [216.13444183937082, 215.86555816062923], 'bounds': [0.26888367874164487, 0.0, 432.0, 431.73111632125847], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': 135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.300-0.875', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312)], 'open_stroke_perimeter': 432.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 7.938094626069869e-14, 'height': 432.0, 'area': 0.0, 'perimeter': 432.0, 'centroid': [0.2688836787416052, 215.73111632125847], 'bounds': [0.2688836787415655, -0.2688836787415312, 0.26888367874164487, 431.73111632125847], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 432.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.600-0.083', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378)], 'open_stroke_perimeter': 864.0000000000001, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0000000000001, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 430.43193101331997, 'height': 749.1490858061195, 'area': 0.0, 'perimeter': 864.0000000000001, 'centroid': [-214.9470818279184, 374.3056592243182], 'bounds': [-430.1630473345784, -0.2688836787415312, 0.2688836787415655, 748.880202127378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0000000000001, 'line_angle': 119.88000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.700-0.750', 'features': {'stroke_index': 4, 'analytic_vertices': [(-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144)], 'open_stroke_perimeter': 1008.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 874.0072667738061, 'height': 502.17058618220653, 'area': 0.0, 'perimeter': 1008.0, 'centroid': [-867.1666807214814, 497.7949090362747], 'bounds': [-1304.1703141083844, 246.70961594517144, -430.1630473345784, 748.880202127378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1008.0, 'line_angle': -150.12000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.600-0.750', 'features': {'stroke_index': 5, 'analytic_vertices': [(-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784)], 'open_stroke_perimeter': 864.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 430.4319310133203, 'height': 749.1490858061193, 'area': 0.0, 'perimeter': 864.0, 'centroid': [-1088.9543486017242, -127.8649269578882], 'bounds': [-1304.1703141083844, -502.43946986094784, -873.7383830950641, 246.70961594517144], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0, 'line_angle': -60.11999999999999, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.700-0.750', 'features': {'stroke_index': 6, 'analytic_vertices': [(-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196), (0.0, 0.0)], 'open_stroke_perimeter': 1008.3802589451768, 'compactness': 0.0006617950634326338, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.3802589451768, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1008.3802589451768, 'line_angle': 29.880000000000006, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:04,522 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)]
2025-08-12 06:09:04,522 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(0.7511764851123751, 0.40152766803592244), (1.0, 0.40152766803592244), (0.7513313568300611, 0.7465483098318314), (0.7513313568300611, 0.4013127879499135), (0.5034110188795937, 1.0), (0.0, 0.5986872120500863), (0.2479203379504677, 0.0), (0.7513313568300612, 0.40131278794991393)]
2025-08-12 06:09:04,523 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_normal_0.300-0.500', 'line_normal_0.424-0.875', 'line_normal_0.300-0.875', 'line_normal_0.600-0.083', 'line_normal_0.700-0.750', 'line_normal_0.600-0.750', 'line_normal_0.700-0.750']]
2025-08-12 06:09:04,523 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:04,523 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:04,523 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|normal': 6}
2025-08-12 06:09:04,524 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)], 'open_stroke_perimeter': 5218.5599999999995, 'compactness': 0.7546424417129594, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5218.5599999999995, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(432.0, 0.0), (0.26888367874164487, 431.73111632125847)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125836, 'height': 431.73111632125847, 'area': 0.0, 'perimeter': 610.56, 'centroid': [216.13444183937082, 215.86555816062923], 'bounds': [0.26888367874164487, 0.0, 432.0, 431.73111632125847], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': 135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312)], 'open_stroke_perimeter': 432.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 7.938094626069869e-14, 'height': 432.0, 'area': 0.0, 'perimeter': 432.0, 'centroid': [0.2688836787416052, 215.73111632125847], 'bounds': [0.2688836787415655, -0.2688836787415312, 0.26888367874164487, 431.73111632125847], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 432.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378)], 'open_stroke_perimeter': 864.0000000000001, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0000000000001, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 430.43193101331997, 'height': 749.1490858061195, 'area': 0.0, 'perimeter': 864.0000000000001, 'centroid': [-214.9470818279184, 374.3056592243182], 'bounds': [-430.1630473345784, -0.2688836787415312, 0.2688836787415655, 748.880202127378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0000000000001, 'line_angle': 119.88000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144)], 'open_stroke_perimeter': 1008.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 874.0072667738061, 'height': 502.17058618220653, 'area': 0.0, 'perimeter': 1008.0, 'centroid': [-867.1666807214814, 497.7949090362747], 'bounds': [-1304.1703141083844, 246.70961594517144, -430.1630473345784, 748.880202127378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1008.0, 'line_angle': -150.12000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784)], 'open_stroke_perimeter': 864.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 430.4319310133203, 'height': 749.1490858061193, 'area': 0.0, 'perimeter': 864.0, 'centroid': [-1088.9543486017242, -127.8649269578882], 'bounds': [-1304.1703141083844, -502.43946986094784, -873.7383830950641, 246.70961594517144], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0, 'line_angle': -60.11999999999999, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [(-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196), (0.0, 0.0)], 'open_stroke_perimeter': 1008.3802589451768, 'compactness': 0.0006617950634326338, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.3802589451768, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1008.3802589451768, 'line_angle': 29.880000000000006, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 06:09:04,524 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-12 06:09:04,524 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.3756656717826514, 0.5000000017401706], 'width': 0.751331356830061, 'height': 1.0, 'area_raw': 0.5364422861812687, 'area_normalized': 1.0, 'perimeter_raw': 3.6031921119156425, 'perimeter_normalized': 1.0, 'aspect_ratio': 0.751331356830061, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.5192279142475262, 'polsby_popper_compactness': 0.42953647131763173, 'eccentricity': 0.1900369464251026, 'symmetry_score': 0.49709409633890417, 'horizontal_symmetry': 0.4333653676250645, 'vertical_symmetry': 0.6024159593128946, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 8.0, 'visual_complexity': 0.5309417398907414, 'curvature_score': 1.8319856161565666, 'angular_variance': 0.20962578956003447, 'moment_of_inertia': 0.25508721004071844, 'irregularity_score': 0.15060657451874362, 'standardized_complexity': 0.451302783091933, 'clustering_heights': [0.0, 0.0, 0.0, 0.0, 0.09242414306999132, 0.4560771307644675], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:04,524 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:04,525 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-12 06:09:04,525 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-12 06:09:04,525 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.300-0.500, stroke_index=0
2025-08-12 06:09:04,525 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.3, param2=None, param3=0.5
2025-08-12 06:09:04,526 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.45714285714285713, 0.5), (0.41428571428571426, 0.5), (0.37142857142857144, 0.5), (0.32857142857142857, 0.5), (0.2857142857142857, 0.5), (0.24285714285714288, 0.5), (0.2, 0.5)]
2025-08-12 06:09:04,526 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,527 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,527 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,528 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,528 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:04,528 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,529 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,529 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,530 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,530 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,530 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.2, 0.5)]
2025-08-12 06:09:04,531 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.2, 0.5)]
2025-08-12 06:09:04,531 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,531 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,531 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.424-0.875, stroke_index=0
2025-08-12 06:09:04,532 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.424, param2=None, param3=0.875
2025-08-12 06:09:04,532 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)]
2025-08-12 06:09:04,533 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,534 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,534 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:04,534 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,535 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,535 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,536 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,536 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,537 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,537 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,537 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,537 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,538 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.300-0.875, stroke_index=0
2025-08-12 06:09:04,538 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.3, param2=None, param3=0.875
2025-08-12 06:09:04,538 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5303045763365664, 0.4696954236634337), (0.5606091526731326, 0.43939084732686734), (0.590913729009699, 0.40908627099030104), (0.6212183053462652, 0.3787816946537347), (0.6515228816828316, 0.3484771183171684), (0.6818274580193979, 0.3181725419806021), (0.7121320343559642, 0.2878679656440357)]
2025-08-12 06:09:04,539 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,541 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,541 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:04,541 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,541 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,542 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,542 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,543 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,543 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,543 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,544 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,544 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,544 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.600-0.083, stroke_index=0
2025-08-12 06:09:04,545 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.6, param2=None, param3=0.083
2025-08-12 06:09:04,545 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5472947655180631, 0.5271737330185177), (0.5945895310361262, 0.5543474660370353), (0.6418842965541893, 0.5815211990555531), (0.6891790620722523, 0.6086949320740708), (0.7364738275903154, 0.6358686650925884), (0.7837685931083785, 0.6630423981111061), (0.8310633586264415, 0.6902161311296238), (0.8783581241445046, 0.7173898641481415), (0.9256528896625678, 0.7445635971666592), (0.9729476551806309, 0.7717373301851769), (1.020242420698694, 0.7989110632036945)]
2025-08-12 06:09:04,546 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,546 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,547 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,547 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,548 - INFO - Computed angular variance: 1.370778 for 12 vertices.
2025-08-12 06:09:04,548 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,548 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,548 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,549 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,549 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,550 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:04,550 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:04,551 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,551 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,551 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.700-0.750, stroke_index=0
2025-08-12 06:09:04,551 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.7, param2=None, param3=0.75
2025-08-12 06:09:04,552 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.4461538461538462), (0.5, 0.3923076923076923), (0.5, 0.3384615384615385), (0.49999999999999994, 0.2846153846153846), (0.49999999999999994, 0.23076923076923078), (0.49999999999999994, 0.17692307692307696), (0.49999999999999994, 0.12307692307692308), (0.49999999999999994, 0.06923076923076926), (0.49999999999999994, 0.015384615384615441), (0.4999999999999999, -0.038461538461538436), (0.4999999999999999, -0.09230769230769231), (0.4999999999999999, -0.14615384615384608), (0.4999999999999999, -0.19999999999999996)]
2025-08-12 06:09:04,552 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,553 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,553 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,554 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,554 - INFO - Computed angular variance: 1.208523 for 14 vertices.
2025-08-12 06:09:04,554 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,554 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,555 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,555 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,555 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,556 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.4999999999999999, -0.19999999999999996)]
2025-08-12 06:09:04,557 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.4999999999999999, -0.19999999999999996)]
2025-08-12 06:09:04,557 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,557 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,558 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.600-0.750, stroke_index=0
2025-08-12 06:09:04,558 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.6, param2=None, param3=0.75
2025-08-12 06:09:04,558 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)]
2025-08-12 06:09:04,559 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,559 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,559 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,561 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,561 - INFO - Computed angular variance: 1.370778 for 12 vertices.
2025-08-12 06:09:04,562 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,562 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,562 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,562 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,563 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,563 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.4999999999999999, -0.09999999999999998)]
2025-08-12 06:09:04,564 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.4999999999999999, -0.09999999999999998)]
2025-08-12 06:09:04,564 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,564 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,565 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.700-0.750, stroke_index=0
2025-08-12 06:09:04,565 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.7, param2=None, param3=0.75
2025-08-12 06:09:04,565 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.4461538461538462), (0.5, 0.3923076923076923), (0.5, 0.3384615384615385), (0.49999999999999994, 0.2846153846153846), (0.49999999999999994, 0.23076923076923078), (0.49999999999999994, 0.17692307692307696), (0.49999999999999994, 0.12307692307692308), (0.49999999999999994, 0.06923076923076926), (0.49999999999999994, 0.015384615384615441), (0.4999999999999999, -0.038461538461538436), (0.4999999999999999, -0.09230769230769231), (0.4999999999999999, -0.14615384615384608), (0.4999999999999999, -0.19999999999999996)]
2025-08-12 06:09:04,566 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,567 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,567 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,568 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,568 - INFO - Computed angular variance: 1.208523 for 14 vertices.
2025-08-12 06:09:04,568 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,569 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,569 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,570 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,570 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,571 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.4999999999999999, -0.19999999999999996)]
2025-08-12 06:09:04,571 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.4999999999999999, -0.19999999999999996)]
2025-08-12 06:09:04,571 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,572 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.28, 'num_vertices': 14, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,572 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:04,572 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,572 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,572 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,573 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,573 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,573 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,573 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,574 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,574 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,574 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,574 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 6}
2025-08-12 06:09:04,575 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,575 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_2', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/2.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.300-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)], 'open_stroke_perimeter': 5218.5599999999995, 'compactness': 0.7546424417129594, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5218.5599999999995, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.424-0.875', 'features': {'stroke_index': 1, 'analytic_vertices': [(432.0, 0.0), (0.26888367874164487, 431.73111632125847)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125836, 'height': 431.73111632125847, 'area': 0.0, 'perimeter': 610.56, 'centroid': [216.13444183937082, 215.86555816062923], 'bounds': [0.26888367874164487, 0.0, 432.0, 431.73111632125847], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': 135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.300-0.875', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312)], 'open_stroke_perimeter': 432.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 7.938094626069869e-14, 'height': 432.0, 'area': 0.0, 'perimeter': 432.0, 'centroid': [0.2688836787416052, 215.73111632125847], 'bounds': [0.2688836787415655, -0.2688836787415312, 0.26888367874164487, 431.73111632125847], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 432.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.600-0.083', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378)], 'open_stroke_perimeter': 864.0000000000001, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0000000000001, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 430.43193101331997, 'height': 749.1490858061195, 'area': 0.0, 'perimeter': 864.0000000000001, 'centroid': [-214.9470818279184, 374.3056592243182], 'bounds': [-430.1630473345784, -0.2688836787415312, 0.2688836787415655, 748.880202127378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0000000000001, 'line_angle': 119.88000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.700-0.750', 'features': {'stroke_index': 4, 'analytic_vertices': [(-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144)], 'open_stroke_perimeter': 1008.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 874.0072667738061, 'height': 502.17058618220653, 'area': 0.0, 'perimeter': 1008.0, 'centroid': [-867.1666807214814, 497.7949090362747], 'bounds': [-1304.1703141083844, 246.70961594517144, -430.1630473345784, 748.880202127378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1008.0, 'line_angle': -150.12000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.600-0.750', 'features': {'stroke_index': 5, 'analytic_vertices': [(-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784)], 'open_stroke_perimeter': 864.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 430.4319310133203, 'height': 749.1490858061193, 'area': 0.0, 'perimeter': 864.0, 'centroid': [-1088.9543486017242, -127.8649269578882], 'bounds': [-1304.1703141083844, -502.43946986094784, -873.7383830950641, 246.70961594517144], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0, 'line_angle': -60.11999999999999, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.700-0.750', 'features': {'stroke_index': 6, 'analytic_vertices': [(-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196), (0.0, 0.0)], 'open_stroke_perimeter': 1008.3802589451768, 'compactness': 0.0006617950634326338, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.3802589451768, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1008.3802589451768, 'line_angle': 29.880000000000006, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 7, 'raw_vertices': ['(0.0, 0.0)', '(432.0, 0.0)', '(0.26888367874164487, 431.73111632125847)', '(0.2688836787415655, -0.2688836787415312)', '(-430.1630473345784, 748.880202127378)', '(-1304.1703141083844, 246.70961594517144)', '(-873.7383830950641, -502.43946986094784)', '(0.26888367874175856, -0.2688836787410196)'], 'vertices': ['(0.7511764851123751, 0.40152766803592244)', '(1.0, 0.40152766803592244)', '(0.7513313568300611, 0.7465483098318314)', '(0.7513313568300611, 0.4013127879499135)', '(0.5034110188795937, 1.0)', '(0.0, 0.5986872120500863)', '(0.2479203379504677, 0.0)', '(0.7513313568300612, 0.40131278794991393)'], 'num_vertices': 8, 'position_label': ['0.5945627390540774', '0.4938645542316988'], 'rotation_label_degrees': ['-171.2237743881789'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.3756656717826514, 0.5000000017401706], 'width': 0.751331356830061, 'height': 1.0, 'area_raw': 0.5364422861812687, 'area_normalized': 1.0, 'perimeter_raw': 3.6031921119156425, 'perimeter_normalized': 1.0, 'aspect_ratio': 0.751331356830061, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.5192279142475262, 'polsby_popper_compactness': 0.42953647131763173, 'eccentricity': 0.1900369464251026, 'symmetry_score': 0.49709409633890417, 'horizontal_symmetry': 0.4333653676250645, 'vertical_symmetry': 0.6024159593128946, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 8.0, 'visual_complexity': 0.5309417398907414, 'curvature_score': 1.8319856161565666, 'angular_variance': 0.20962578956003447, 'moment_of_inertia': 0.25508721004071844, 'irregularity_score': 0.15060657451874362, 'standardized_complexity': 0.451302783091933, 'clustering_heights': [0.0, 0.0, 0.0, 0.0, 0.09242414306999132, 0.4560771307644675], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 1.099690774949583e-18, 'perimeter_mean': 0.06895238095238096, 'width_mean': 0.024378348075193346, 'height_mean': 0.024378348075193363, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.25508721004071844, 'center_of_mass': [0.3756656717826514, 0.5000000017401706], 'polsby_popper_compactness': 0.788359923989972, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.8319856161565666, 'angular_variance': 0.20962578956003447, 'edge_length_variance': 0.05097911241440849}, 'composition_features': {'stroke_type_distribution': {'line': 7}, 'shape_modifier_distribution': {'normal': 7}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 8, 'homogeneity_score': 1.0, 'pattern_regularity': 0.14285714285714285}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)], 'open_stroke_perimeter': 5218.5599999999995, 'compactness': 0.7546424417129594, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5218.5599999999995, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(432.0, 0.0), (0.26888367874164487, 431.73111632125847)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125836, 'height': 431.73111632125847, 'area': 0.0, 'perimeter': 610.56, 'centroid': [216.13444183937082, 215.86555816062923], 'bounds': [0.26888367874164487, 0.0, 432.0, 431.73111632125847], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': 135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312)], 'open_stroke_perimeter': 432.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 7.938094626069869e-14, 'height': 432.0, 'area': 0.0, 'perimeter': 432.0, 'centroid': [0.2688836787416052, 215.73111632125847], 'bounds': [0.2688836787415655, -0.2688836787415312, 0.26888367874164487, 431.73111632125847], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 432.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378)], 'open_stroke_perimeter': 864.0000000000001, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0000000000001, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 430.43193101331997, 'height': 749.1490858061195, 'area': 0.0, 'perimeter': 864.0000000000001, 'centroid': [-214.9470818279184, 374.3056592243182], 'bounds': [-430.1630473345784, -0.2688836787415312, 0.2688836787415655, 748.880202127378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0000000000001, 'line_angle': 119.88000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144)], 'open_stroke_perimeter': 1008.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 874.0072667738061, 'height': 502.17058618220653, 'area': 0.0, 'perimeter': 1008.0, 'centroid': [-867.1666807214814, 497.7949090362747], 'bounds': [-1304.1703141083844, 246.70961594517144, -430.1630473345784, 748.880202127378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1008.0, 'line_angle': -150.12000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784)], 'open_stroke_perimeter': 864.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 430.4319310133203, 'height': 749.1490858061193, 'area': 0.0, 'perimeter': 864.0, 'centroid': [-1088.9543486017242, -127.8649269578882], 'bounds': [-1304.1703141083844, -502.43946986094784, -873.7383830950641, 246.70961594517144], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0, 'line_angle': -60.11999999999999, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [(-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196), (0.0, 0.0)], 'open_stroke_perimeter': 1008.3802589451768, 'compactness': 0.0006617950634326338, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.3802589451768, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1008.3802589451768, 'line_angle': 29.880000000000006, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 7}}, 'processing_metadata': {'processing_timestamp': 1754959144.5758953, 'feature_count': 54}, 'actions': ['line_normal_0.300-0.500,line_normal_0.424-0.875,line_normal_0.300-0.875,line_normal_0.600-0.083,line_normal_0.700-0.750,line_normal_0.600-0.750,line_normal_0.700-0.750'], 'action_program': ['line_normal_0.300-0.500,line_normal_0.424-0.875,line_normal_0.300-0.875,line_normal_0.600-0.083,line_normal_0.700-0.750,line_normal_0.600-0.750,line_normal_0.700-0.750'], 'geometry': {'area': 0.400879334341646, 'perimeter': 2.5836719752938953, 'centroid': [0.3756656717826514, 0.5000000017401706], 'bounds': [0.0, 0.0, 0.751331356830061, 1.0], 'width': 0.751331356830061, 'height': 1.0}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 6}, 'analytic_attributes': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], 'analytic_ngram': {'normal|normal': 6}, 'alternation': 0.14285714285714285, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 7}}}, 'topological_features': {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 6, 1: 6, 2: 6, 3: 6, 4: 6, 5: 6, 6: 6}, 'adjacency_clustering': {0: 1.0, 1: 1.0, 2: 1.0, 3: 1.0, 4: 1.0, 5: 1.0, 6: 1.0}, 'intersection_count': 21, 'betweenness_centrality': {0: 0.0, 1: 0.0, 2: 0.0, 3: 0.0, 4: 0.0, 5: 0.0, 6: 0.0}, 'containment_score': 2, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 4416.284729167462, 'skeleton_graph_features': {'num_nodes': 7, 'num_edges': 21}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.20962578956003447, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.7509901105499983, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.6305750066707569, 'complexity': 4, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 2}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.1356029112239834, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.05863585355923949, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}}}
2025-08-12 06:09:04,576 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.5945627390540774, 0.4938645542316988], 'orientation_degrees': -171.2237743881789}
2025-08-12 06:09:04,576 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.400879334341646, 'perimeter': 2.5836719752938953, 'centroid': [0.3756656717826514, 0.5000000017401706], 'bounds': [0.0, 0.0, 0.751331356830061, 1.0], 'width': 0.751331356830061, 'height': 1.0}
2025-08-12 06:09:04,577 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.300-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)], 'open_stroke_perimeter': 5218.5599999999995, 'compactness': 0.7546424417129594, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5218.5599999999995, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.424-0.875', 'features': {'stroke_index': 1, 'analytic_vertices': [(432.0, 0.0), (0.26888367874164487, 431.73111632125847)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125836, 'height': 431.73111632125847, 'area': 0.0, 'perimeter': 610.56, 'centroid': [216.13444183937082, 215.86555816062923], 'bounds': [0.26888367874164487, 0.0, 432.0, 431.73111632125847], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': 135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.300-0.875', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312)], 'open_stroke_perimeter': 432.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 7.938094626069869e-14, 'height': 432.0, 'area': 0.0, 'perimeter': 432.0, 'centroid': [0.2688836787416052, 215.73111632125847], 'bounds': [0.2688836787415655, -0.2688836787415312, 0.26888367874164487, 431.73111632125847], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 432.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.600-0.083', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378)], 'open_stroke_perimeter': 864.0000000000001, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0000000000001, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 430.43193101331997, 'height': 749.1490858061195, 'area': 0.0, 'perimeter': 864.0000000000001, 'centroid': [-214.9470818279184, 374.3056592243182], 'bounds': [-430.1630473345784, -0.2688836787415312, 0.2688836787415655, 748.880202127378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0000000000001, 'line_angle': 119.88000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.700-0.750', 'features': {'stroke_index': 4, 'analytic_vertices': [(-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144)], 'open_stroke_perimeter': 1008.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 874.0072667738061, 'height': 502.17058618220653, 'area': 0.0, 'perimeter': 1008.0, 'centroid': [-867.1666807214814, 497.7949090362747], 'bounds': [-1304.1703141083844, 246.70961594517144, -430.1630473345784, 748.880202127378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1008.0, 'line_angle': -150.12000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.600-0.750', 'features': {'stroke_index': 5, 'analytic_vertices': [(-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784)], 'open_stroke_perimeter': 864.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 430.4319310133203, 'height': 749.1490858061193, 'area': 0.0, 'perimeter': 864.0, 'centroid': [-1088.9543486017242, -127.8649269578882], 'bounds': [-1304.1703141083844, -502.43946986094784, -873.7383830950641, 246.70961594517144], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0, 'line_angle': -60.11999999999999, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.700-0.750', 'features': {'stroke_index': 6, 'analytic_vertices': [(-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196), (0.0, 0.0)], 'open_stroke_perimeter': 1008.3802589451768, 'compactness': 0.0006617950634326338, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.3802589451768, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1008.3802589451768, 'line_angle': 29.880000000000006, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:04,577 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_normal_0.300-0.500', 'line_normal_0.424-0.875', 'line_normal_0.300-0.875', 'line_normal_0.600-0.083', 'line_normal_0.700-0.750', 'line_normal_0.600-0.750', 'line_normal_0.700-0.750']]
2025-08-12 06:09:04,577 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)]
2025-08-12 06:09:04,577 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(0.7511764851123751, 0.40152766803592244), (1.0, 0.40152766803592244), (0.7513313568300611, 0.7465483098318314), (0.7513313568300611, 0.4013127879499135), (0.5034110188795937, 1.0), (0.0, 0.5986872120500863), (0.2479203379504677, 0.0), (0.7513313568300612, 0.40131278794991393)]
2025-08-12 06:09:04,578 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.3756656717826514, 0.5000000017401706], 'width': 0.751331356830061, 'height': 1.0, 'area_raw': 0.5364422861812687, 'area_normalized': 1.0, 'perimeter_raw': 3.6031921119156425, 'perimeter_normalized': 1.0, 'aspect_ratio': 0.751331356830061, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.5192279142475262, 'polsby_popper_compactness': 0.42953647131763173, 'eccentricity': 0.1900369464251026, 'symmetry_score': 0.49709409633890417, 'horizontal_symmetry': 0.4333653676250645, 'vertical_symmetry': 0.6024159593128946, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 8.0, 'visual_complexity': 0.5309417398907414, 'curvature_score': 1.8319856161565666, 'angular_variance': 0.20962578956003447, 'moment_of_inertia': 0.25508721004071844, 'irregularity_score': 0.15060657451874362, 'standardized_complexity': 0.451302783091933, 'clustering_heights': [0.0, 0.0, 0.0, 0.0, 0.09242414306999132, 0.4560771307644675], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:04,578 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.25508721004071844, 'center_of_mass': [0.3756656717826514, 0.5000000017401706], 'polsby_popper_compactness': 0.788359923989972, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.8319856161565666, 'angular_variance': 0.20962578956003447, 'edge_length_variance': 0.05097911241440849}
2025-08-12 06:09:04,578 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 7}, 'shape_modifier_distribution': {'normal': 7}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 8, 'homogeneity_score': 1.0, 'pattern_regularity': 0.14285714285714285}
2025-08-12 06:09:04,580 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (432.0, 0.0), (0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196)], 'open_stroke_perimeter': 5218.5599999999995, 'compactness': 0.7546424417129594, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5218.5599999999995, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(432.0, 0.0), (0.26888367874164487, 431.73111632125847)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125836, 'height': 431.73111632125847, 'area': 0.0, 'perimeter': 610.56, 'centroid': [216.13444183937082, 215.86555816062923], 'bounds': [0.26888367874164487, 0.0, 432.0, 431.73111632125847], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': 135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.26888367874164487, 431.73111632125847), (0.2688836787415655, -0.2688836787415312)], 'open_stroke_perimeter': 432.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 432.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 7.938094626069869e-14, 'height': 432.0, 'area': 0.0, 'perimeter': 432.0, 'centroid': [0.2688836787416052, 215.73111632125847], 'bounds': [0.2688836787415655, -0.2688836787415312, 0.26888367874164487, 431.73111632125847], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 432.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(0.2688836787415655, -0.2688836787415312), (-430.1630473345784, 748.880202127378)], 'open_stroke_perimeter': 864.0000000000001, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0000000000001, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 430.43193101331997, 'height': 749.1490858061195, 'area': 0.0, 'perimeter': 864.0000000000001, 'centroid': [-214.9470818279184, 374.3056592243182], 'bounds': [-430.1630473345784, -0.2688836787415312, 0.2688836787415655, 748.880202127378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0000000000001, 'line_angle': 119.88000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(-430.1630473345784, 748.880202127378), (-1304.1703141083844, 246.70961594517144)], 'open_stroke_perimeter': 1008.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 874.0072667738061, 'height': 502.17058618220653, 'area': 0.0, 'perimeter': 1008.0, 'centroid': [-867.1666807214814, 497.7949090362747], 'bounds': [-1304.1703141083844, 246.70961594517144, -430.1630473345784, 748.880202127378], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1008.0, 'line_angle': -150.12000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(-1304.1703141083844, 246.70961594517144), (-873.7383830950641, -502.43946986094784)], 'open_stroke_perimeter': 864.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 430.4319310133203, 'height': 749.1490858061193, 'area': 0.0, 'perimeter': 864.0, 'centroid': [-1088.9543486017242, -127.8649269578882], 'bounds': [-1304.1703141083844, -502.43946986094784, -873.7383830950641, 246.70961594517144], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0, 'line_angle': -60.11999999999999, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [(-873.7383830950641, -502.43946986094784), (0.26888367874175856, -0.2688836787410196), (0.0, 0.0)], 'open_stroke_perimeter': 1008.3802589451768, 'compactness': 0.0006617950634326338, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1008.3802589451768, 'avg_stroke_length': 745.5628941350252, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1008.3802589451768, 'line_angle': 29.880000000000006, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 06:09:04,580 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}
2025-08-12 06:09:04,581 - INFO - [INPUT] Processing image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018, is_positive=False
2025-08-12 06:09:04,581 - INFO - [INPUT] action_commands type: <class 'list'>, value: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']]
2025-08-12 06:09:04,581 - INFO - [SHAPE SPLIT] Raw action_commands: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']]
2025-08-12 06:09:04,582 - INFO - [SHAPE SPLIT] Sublist 0: ['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']
2025-08-12 06:09:04,582 - INFO - [SHAPE SPLIT] Parsed shapes_commands (multi-object): [['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']]
2025-08-12 06:09:04,582 - INFO - ComprehensiveNVLabsParser initialized:
2025-08-12 06:09:04,582 - INFO -   Canvas size: 512x512
2025-08-12 06:09:04,582 - INFO -   Coordinate range: (-360, 360)
2025-08-12 06:09:04,583 - INFO -   Base scaling factor: 1440.0
2025-08-12 06:09:04,583 - INFO - [PARSER] Parsing shape 0 commands: ['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']
2025-08-12 06:09:04,583 - INFO - [LOGOPARSER] Input action_commands for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: ['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']
2025-08-12 06:09:04,583 - DEBUG - Parsing 8 commands for hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:04,583 - DEBUG - [ACTIONS_JOIN] line_normal_0.500-0.500,arc_normal_0.500_0.625-0.750,line_normal_0.500-0.750,line_normal_0.500-0.250,line_normal_0.762-0.788,line_normal_0.412-0.775,line_normal_0.400-0.789,line_normal_0.316-0.301
2025-08-12 06:09:04,584 - DEBUG - [ACTIONS_TYPES] ['LineAction', 'ArcAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:04,584 - DEBUG - [ACTIONS_ATTRS] [{'line_length': 720.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_0.500-0.500'}, {'arc_radius': 720.0, 'arc_angle': 90.0, 'arc_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'arc', 'raw_command': 'arc_normal_0.500_0.625-0.750'}, {'line_length': 720.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.500-0.750'}, {'line_length': 720.0, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.500-0.250'}, {'line_length': 1097.28, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 103.68, 'name': 'line', 'raw_command': 'line_normal_0.762-0.788'}, {'line_length': 593.28, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 99.0, 'name': 'line', 'raw_command': 'line_normal_0.412-0.775'}, {'line_length': 576.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 104.04000000000002, 'name': 'line', 'raw_command': 'line_normal_0.400-0.789'}, {'line_length': 455.04, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 71.64, 'name': 'line', 'raw_command': 'line_normal_0.316-0.301'}]
2025-08-12 06:09:04,584 - INFO - [OneStrokeShape.__init__] basic_actions: [line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301], start_coordinates: None, start_orientation: None, scaling_factors: None
2025-08-12 06:09:04,585 - DEBUG - [OUTPUT_SHAPE_ACTIONS] line_normal_0.500-0.500,arc_normal_0.500_0.625-0.750,line_normal_0.500-0.750,line_normal_0.500-0.250,line_normal_0.762-0.788,line_normal_0.412-0.775,line_normal_0.400-0.789,line_normal_0.316-0.301
2025-08-12 06:09:04,585 - DEBUG - [OUTPUT_SHAPE_TYPES] ['LineAction', 'ArcAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:04,585 - DEBUG - [OUTPUT_SHAPE_ATTRS] [{'line_length': 720.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_0.500-0.500'}, {'arc_radius': 720.0, 'arc_angle': 90.0, 'arc_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'arc', 'raw_command': 'arc_normal_0.500_0.625-0.750'}, {'line_length': 720.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.500-0.750'}, {'line_length': 720.0, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.500-0.250'}, {'line_length': 1097.28, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 103.68, 'name': 'line', 'raw_command': 'line_normal_0.762-0.788'}, {'line_length': 593.28, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 99.0, 'name': 'line', 'raw_command': 'line_normal_0.412-0.775'}, {'line_length': 576.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 104.04000000000002, 'name': 'line', 'raw_command': 'line_normal_0.400-0.789'}, {'line_length': 455.04, 'line_type': 'normal', 'turn_direction': 'R', 'turn_angle': 71.64, 'name': 'line', 'raw_command': 'line_normal_0.316-0.301'}]
2025-08-12 06:09:04,585 - INFO - [OneStrokeShape._calculate_vertices] INPUT basic_actions: [line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301]
2025-08-12 06:09:04,586 - INFO - [OneStrokeShape._calculate_vertices] OUTPUT vertices: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 06:09:04,586 - INFO - [LOGOPARSER] Shape for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 has 17 vertices.
2025-08-12 06:09:04,586 - INFO - [LOGOPARSER] Parsed vertices (raw): [[0.0, 0.0], [720.0, 0.0], [698.1787264292926, 123.75459208245697], [655.1992076432267, 241.83984944619894], [592.3673545714308, 350.667811300252], [511.5922812750398, 446.9317950932866], [415.32829748200515, 527.7068683896777], [306.5003356279521, 590.5387214614735], [188.41507826421014, 633.5182402475396], [64.66048618175317, 655.3395138182469], [-61.00321996183855, 655.3395138182469], [-61.00321996183869, -64.66048618175307], [-781.0032199618387, -64.66048618175299], [-521.497600507646, -1130.8125540743663], [25.905682602495745, -902.0532831360325], [-318.48758763863543, -440.35069985040786], [-58.00807320807286, -67.23969202295393]]
2025-08-12 06:09:04,587 - INFO - [LOGOPARSER] Vertices bounding box: min=(-781.00,-1130.81), max=(720.00,655.34), center=(139.83,91.52)
2025-08-12 06:09:04,587 - INFO - Successfully created OneStrokeShape with 8 actions using NVLabs implementation
2025-08-12 06:09:04,587 - INFO - [PARSER] Parsed shape 0: type=OneStrokeShape, num_actions=8, action_types=['str', 'str', 'str', 'str', 'str', 'str', 'str', 'str'], attributes={}
2025-08-12 06:09:04,587 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.500-0.500, stroke_index=0
2025-08-12 06:09:04,588 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.5, param2=None, param3=0.5
2025-08-12 06:09:04,588 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)]
2025-08-12 06:09:04,588 - INFO - [_calculate_vertices_from_action] Bounding box: (0.0, 0.5, 0.5, 0.5000000000000001)
2025-08-12 06:09:04,589 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,590 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,590 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,590 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,591 - INFO - Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 06:09:04,591 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,591 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,591 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,593 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,593 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,593 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.0, 0.5000000000000001)]
2025-08-12 06:09:04,594 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.0, 0.5000000000000001)]
2025-08-12 06:09:04,594 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,594 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,595 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,595 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3, stroke_idx=0, assigned is_positive=False
2025-08-12 06:09:04,596 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3, stroke_idx=0, stroke_dict: {'command': 'line_normal_0.500-0.500', 'vertices': [(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)], 'open_stroke_perimeter': 0.5, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,596 - INFO - [_vertices_from_command] INPUT: command=arc_normal_0.500_0.625-0.750, stroke_index=1
2025-08-12 06:09:04,596 - INFO - [_vertices_from_command] Parsed: action_type=arc, modifier=normal, param1=0.5, param2=0.625, param3=0.75
2025-08-12 06:09:04,596 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.4999999999999999, 0.0), (0.5002727076821033, 7.436948540329169e-08), (0.5005454152830822, 2.9747791951972857e-07), (0.500818122721812, 6.693252359579738e-07), (0.5010908299171685, 1.1899113240843029e-06), (0.501363536788027, 1.8592360290781151e-06), (0.5016362432532635, 2.6772991517654e-06), (0.5019089492317537, 3.6441004488962925e-06), (0.5021816546423731, 4.759639632756496e-06), (0.5024543594039989, 6.02391637155586e-06), (0.5027270634355068, 7.436930289206334e-06), (0.5029997666557735, 8.998680965377481e-06), (0.5032724689836758, 1.0709167935385455e-05), (0.5035451703380909, 1.2568390690526066e-05), (0.5038178706378958, 1.457634867763069e-05), (0.5040905698019686, 1.6733041299454854e-05), (0.504363267749187, 1.903846791434516e-05), (0.5046359643984296, 2.1492627836572353e-05), (0.504908659668575, 2.4095520335998266e-05), (0.5051813534785019, 2.684714463835336e-05), (0.505454045747091, 2.974749992512571e-05)]
2025-08-12 06:09:04,598 - INFO - [_calculate_vertices_from_action] Bounding box: (0.4999999999999999, 0.0, 0.505454045747091, 2.974749992512571e-05)
2025-08-12 06:09:04,598 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:04,599 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,599 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,600 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:04,601 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:04,601 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.42, 'num_vertices': 21, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,601 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.42, 'num_vertices': 21, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,602 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3, stroke_idx=1, assigned is_positive=False
2025-08-12 06:09:04,602 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3, stroke_idx=1, stroke_dict: {'command': 'arc_normal_0.500_0.625-0.750', 'vertices': [(0.4999999999999999, 0.0), (0.5002727076821033, 7.436948540329169e-08), (0.5005454152830822, 2.9747791951972857e-07), (0.500818122721812, 6.693252359579738e-07), (0.5010908299171685, 1.1899113240843029e-06), (0.501363536788027, 1.8592360290781151e-06), (0.5016362432532635, 2.6772991517654e-06), (0.5019089492317537, 3.6441004488962925e-06), (0.5021816546423731, 4.759639632756496e-06), (0.5024543594039989, 6.02391637155586e-06), (0.5027270634355068, 7.436930289206334e-06), (0.5029997666557735, 8.998680965377481e-06), (0.5032724689836758, 1.0709167935385455e-05), (0.5035451703380909, 1.2568390690526066e-05), (0.5038178706378958, 1.457634867763069e-05), (0.5040905698019686, 1.6733041299454854e-05), (0.504363267749187, 1.903846791434516e-05), (0.5046359643984296, 2.1492627836572353e-05), (0.504908659668575, 2.4095520335998266e-05), (0.5051813534785019, 2.684714463835336e-05), (0.505454045747091, 2.974749992512571e-05)], 'geometry': {'area': 2.6973744002665823e-08, 'perimeter': 0.010908280715892126, 'centroid': [0.5027270390713006, 1.1903978095376274e-05], 'bounds': [0.4999999999999999, 0.0, 0.505454045747091, 2.974749992512571e-05], 'width': 0.005454045747091074, 'height': 2.974749992512571e-05, 'compactness': 1, 'convexity_ratio': 0.0004954730962738947, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.010908280715892126, 'analytic_vertices': [(0.4999999999999999, 0.0), (0.5002727076821033, 7.436948540329169e-08), (0.5005454152830822, 2.9747791951972857e-07), (0.500818122721812, 6.693252359579738e-07), (0.5010908299171685, 1.1899113240843029e-06), (0.501363536788027, 1.8592360290781151e-06), (0.5016362432532635, 2.6772991517654e-06), (0.5019089492317537, 3.6441004488962925e-06), (0.5021816546423731, 4.759639632756496e-06), (0.5024543594039989, 6.02391637155586e-06), (0.5027270634355068, 7.436930289206334e-06), (0.5029997666557735, 8.998680965377481e-06), (0.5032724689836758, 1.0709167935385455e-05), (0.5035451703380909, 1.2568390690526066e-05), (0.5038178706378958, 1.457634867763069e-05), (0.5040905698019686, 1.6733041299454854e-05), (0.504363267749187, 1.903846791434516e-05), (0.5046359643984296, 2.1492627836572353e-05), (0.504908659668575, 2.4095520335998266e-05), (0.5051813534785019, 2.684714463835336e-05), (0.505454045747091, 2.974749992512571e-05)], 'open_stroke_perimeter': 0.005454153844878395}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,602 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.500-0.750, stroke_index=2
2025-08-12 06:09:04,603 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.5, param2=None, param3=0.75
2025-08-12 06:09:04,603 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)]
2025-08-12 06:09:04,603 - INFO - [_calculate_vertices_from_action] Bounding box: (0.4999999999999999, 0.0, 0.5, 0.5)
2025-08-12 06:09:04,604 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,605 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,605 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,606 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,606 - INFO - Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 06:09:04,606 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,606 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,607 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:04,607 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,608 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,608 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.4999999999999999, 0.0)]
2025-08-12 06:09:04,609 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.4999999999999999, 0.0)]
2025-08-12 06:09:04,609 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,609 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,610 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,610 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3, stroke_idx=2, assigned is_positive=False
2025-08-12 06:09:04,611 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3, stroke_idx=2, stroke_dict: {'command': 'line_normal_0.500-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)], 'open_stroke_perimeter': 0.5, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,611 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.500-0.250, stroke_index=3
2025-08-12 06:09:04,611 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.5, param2=None, param3=0.25
2025-08-12 06:09:04,611 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.5555555555555556), (0.5, 0.6111111111111112), (0.5, 0.6666666666666666), (0.5, 0.7222222222222222), (0.5, 0.7777777777777778), (0.5, 0.8333333333333333), (0.5, 0.8888888888888888), (0.5, 0.9444444444444444), (0.5, 1.0)]
2025-08-12 06:09:04,612 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.5, 0.5, 1.0)
2025-08-12 06:09:04,612 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,613 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,613 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,613 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,614 - INFO - Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 06:09:04,614 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,614 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,615 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:04,615 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,616 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,617 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.5, 1.0)]
2025-08-12 06:09:04,617 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.5, 1.0)]
2025-08-12 06:09:04,617 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,618 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,618 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,619 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3, stroke_idx=3, assigned is_positive=False
2025-08-12 06:09:04,619 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3, stroke_idx=3, stroke_dict: {'command': 'line_normal_0.500-0.250', 'vertices': [(0.5, 0.5), (0.5, 0.5555555555555556), (0.5, 0.6111111111111112), (0.5, 0.6666666666666666), (0.5, 0.7222222222222222), (0.5, 0.7777777777777778), (0.5, 0.8333333333333333), (0.5, 0.8888888888888888), (0.5, 0.9444444444444444), (0.5, 1.0)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.5555555555555556), (0.5, 0.6111111111111112), (0.5, 0.6666666666666666), (0.5, 0.7222222222222222), (0.5, 0.7777777777777778), (0.5, 0.8333333333333333), (0.5, 0.8888888888888888), (0.5, 0.9444444444444444), (0.5, 1.0)], 'open_stroke_perimeter': 0.5, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,619 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.762-0.788, stroke_index=4
2025-08-12 06:09:04,619 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.762, param2=None, param3=0.788
2025-08-12 06:09:04,620 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5128723025522913, 0.447115472822787), (0.5257446051045827, 0.39423094564557404), (0.5386169076568739, 0.3413464184683611), (0.5514892102091652, 0.2884618912911481), (0.5643615127614565, 0.23557736411393515), (0.5772338153137478, 0.18269283693672217), (0.5901061178660392, 0.1298083097595092), (0.6029784204183304, 0.07692378258229621), (0.6158507229706217, 0.024039255405083226), (0.628723025522913, -0.0288452717721297), (0.6415953280752043, -0.08172979894934274), (0.6544676306274957, -0.13461432612655566), (0.6673399331797869, -0.1874988533037687), (0.6802122357320782, -0.24038338048098162)]
2025-08-12 06:09:04,620 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, -0.24038338048098162, 0.6802122357320782, 0.5)
2025-08-12 06:09:04,621 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,622 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,622 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,623 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,623 - INFO - Computed angular variance: 1.140488 for 15 vertices.
2025-08-12 06:09:04,623 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,624 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,624 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:04,624 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,625 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,625 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,626 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,626 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.3, 'num_vertices': 15, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,626 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.3, 'num_vertices': 15, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,627 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,628 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3, stroke_idx=4, assigned is_positive=False
2025-08-12 06:09:04,628 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3, stroke_idx=4, stroke_dict: {'command': 'line_normal_0.762-0.788', 'vertices': [(0.5, 0.5), (0.5128723025522913, 0.447115472822787), (0.5257446051045827, 0.39423094564557404), (0.5386169076568739, 0.3413464184683611), (0.5514892102091652, 0.2884618912911481), (0.5643615127614565, 0.23557736411393515), (0.5772338153137478, 0.18269283693672217), (0.5901061178660392, 0.1298083097595092), (0.6029784204183304, 0.07692378258229621), (0.6158507229706217, 0.024039255405083226), (0.628723025522913, -0.0288452717721297), (0.6415953280752043, -0.08172979894934274), (0.6544676306274957, -0.13461432612655566), (0.6673399331797869, -0.1874988533037687), (0.6802122357320782, -0.24038338048098162)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5128723025522913, 0.447115472822787), (0.5257446051045827, 0.39423094564557404), (0.5386169076568739, 0.3413464184683611), (0.5514892102091652, 0.2884618912911481), (0.5643615127614565, 0.23557736411393515), (0.5772338153137478, 0.18269283693672217), (0.5901061178660392, 0.1298083097595092), (0.6029784204183304, 0.07692378258229621), (0.6158507229706217, 0.024039255405083226), (0.628723025522913, -0.0288452717721297), (0.6415953280752043, -0.08172979894934274), (0.6544676306274957, -0.13461432612655566), (0.6673399331797869, -0.1874988533037687), (0.6802122357320782, -0.24038338048098162)], 'open_stroke_perimeter': 0.7620000000000001, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,628 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.412-0.775, stroke_index=5
2025-08-12 06:09:04,628 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.412, param2=None, param3=0.775
2025-08-12 06:09:04,629 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5092072856566536, 0.4418674862392576), (0.5184145713133071, 0.3837349724785152), (0.5276218569699608, 0.3256024587177728), (0.5368291426266143, 0.2674699449570304), (0.5460364282832679, 0.209337431196288), (0.5552437139399216, 0.15120491743554565), (0.5644509995965751, 0.09307240367480324)]
2025-08-12 06:09:04,629 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.09307240367480324, 0.5644509995965751, 0.5)
2025-08-12 06:09:04,630 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,630 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,631 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,631 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,632 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:04,632 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,633 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,633 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:04,633 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,633 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,634 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,634 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,635 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,635 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,636 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,636 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3, stroke_idx=5, assigned is_positive=False
2025-08-12 06:09:04,636 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3, stroke_idx=5, stroke_dict: {'command': 'line_normal_0.412-0.775', 'vertices': [(0.5, 0.5), (0.5092072856566536, 0.4418674862392576), (0.5184145713133071, 0.3837349724785152), (0.5276218569699608, 0.3256024587177728), (0.5368291426266143, 0.2674699449570304), (0.5460364282832679, 0.209337431196288), (0.5552437139399216, 0.15120491743554565), (0.5644509995965751, 0.09307240367480324)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5092072856566536, 0.4418674862392576), (0.5184145713133071, 0.3837349724785152), (0.5276218569699608, 0.3256024587177728), (0.5368291426266143, 0.2674699449570304), (0.5460364282832679, 0.209337431196288), (0.5552437139399216, 0.15120491743554565), (0.5644509995965751, 0.09307240367480324)], 'open_stroke_perimeter': 0.41200000000000003, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,637 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.400-0.789, stroke_index=6
2025-08-12 06:09:04,637 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.4, param2=None, param3=0.789
2025-08-12 06:09:04,637 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5138628131883091, 0.44456419448627965), (0.527725626376618, 0.38912838897255936), (0.5415884395649271, 0.333692583458839), (0.5554512527532361, 0.2782567779451187), (0.5693140659415452, 0.22282097243139837), (0.5831768791298542, 0.16738516691767802), (0.5970396923181632, 0.11194936140395773)]
2025-08-12 06:09:04,638 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.11194936140395773, 0.5970396923181632, 0.5)
2025-08-12 06:09:04,638 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,639 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,639 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,639 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,640 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:04,640 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,640 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,640 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:04,641 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,641 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,642 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,642 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,642 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,643 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,643 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,644 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3, stroke_idx=6, assigned is_positive=False
2025-08-12 06:09:04,644 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3, stroke_idx=6, stroke_dict: {'command': 'line_normal_0.400-0.789', 'vertices': [(0.5, 0.5), (0.5138628131883091, 0.44456419448627965), (0.527725626376618, 0.38912838897255936), (0.5415884395649271, 0.333692583458839), (0.5554512527532361, 0.2782567779451187), (0.5693140659415452, 0.22282097243139837), (0.5831768791298542, 0.16738516691767802), (0.5970396923181632, 0.11194936140395773)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5138628131883091, 0.44456419448627965), (0.527725626376618, 0.38912838897255936), (0.5415884395649271, 0.333692583458839), (0.5554512527532361, 0.2782567779451187), (0.5693140659415452, 0.22282097243139837), (0.5831768791298542, 0.16738516691767802), (0.5970396923181632, 0.11194936140395773)], 'open_stroke_perimeter': 0.39999999999999997, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,644 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.316-0.301, stroke_index=7
2025-08-12 06:09:04,644 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.316, param2=None, param3=0.301
2025-08-12 06:09:04,644 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4857806085412748, 0.5428449116881333), (0.4715612170825496, 0.5856898233762666), (0.4573418256238244, 0.6285347350643999), (0.4431224341650993, 0.6713796467525333), (0.4289030427063741, 0.7142245584406666), (0.4146836512476489, 0.7570694701287998), (0.4004642597889237, 0.7999143818169331)]
2025-08-12 06:09:04,645 - INFO - [_calculate_vertices_from_action] Bounding box: (0.4004642597889237, 0.5, 0.5, 0.7999143818169331)
2025-08-12 06:09:04,645 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,646 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,646 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,646 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,647 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:04,647 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,647 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,648 - INFO - [compute_feature_statistics] INPUT: label=stroke_7, num_features=1
2025-08-12 06:09:04,648 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_7: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,648 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,650 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:04,650 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:04,650 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,650 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,651 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,651 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3, stroke_idx=7, assigned is_positive=False
2025-08-12 06:09:04,651 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3, stroke_idx=7, stroke_dict: {'command': 'line_normal_0.316-0.301', 'vertices': [(0.5, 0.5), (0.4857806085412748, 0.5428449116881333), (0.4715612170825496, 0.5856898233762666), (0.4573418256238244, 0.6285347350643999), (0.4431224341650993, 0.6713796467525333), (0.4289030427063741, 0.7142245584406666), (0.4146836512476489, 0.7570694701287998), (0.4004642597889237, 0.7999143818169331)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.4857806085412748, 0.5428449116881333), (0.4715612170825496, 0.5856898233762666), (0.4573418256238244, 0.6285347350643999), (0.4431224341650993, 0.6713796467525333), (0.4289030427063741, 0.7142245584406666), (0.4146836512476489, 0.7570694701287998), (0.4004642597889237, 0.7999143818169331)], 'open_stroke_perimeter': 0.316, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,652 - INFO - [ATTR DEBUG] Shape 0 strokes (dicts): [{'command': 'line_normal_0.500-0.500', 'vertices': [(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)], 'open_stroke_perimeter': 0.5, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'arc_normal_0.500_0.625-0.750', 'vertices': [(0.4999999999999999, 0.0), (0.5002727076821033, 7.436948540329169e-08), (0.5005454152830822, 2.9747791951972857e-07), (0.500818122721812, 6.693252359579738e-07), (0.5010908299171685, 1.1899113240843029e-06), (0.501363536788027, 1.8592360290781151e-06), (0.5016362432532635, 2.6772991517654e-06), (0.5019089492317537, 3.6441004488962925e-06), (0.5021816546423731, 4.759639632756496e-06), (0.5024543594039989, 6.02391637155586e-06), (0.5027270634355068, 7.436930289206334e-06), (0.5029997666557735, 8.998680965377481e-06), (0.5032724689836758, 1.0709167935385455e-05), (0.5035451703380909, 1.2568390690526066e-05), (0.5038178706378958, 1.457634867763069e-05), (0.5040905698019686, 1.6733041299454854e-05), (0.504363267749187, 1.903846791434516e-05), (0.5046359643984296, 2.1492627836572353e-05), (0.504908659668575, 2.4095520335998266e-05), (0.5051813534785019, 2.684714463835336e-05), (0.505454045747091, 2.974749992512571e-05)], 'geometry': {'area': 2.6973744002665823e-08, 'perimeter': 0.010908280715892126, 'centroid': [0.5027270390713006, 1.1903978095376274e-05], 'bounds': [0.4999999999999999, 0.0, 0.505454045747091, 2.974749992512571e-05], 'width': 0.005454045747091074, 'height': 2.974749992512571e-05, 'compactness': 1, 'convexity_ratio': 0.0004954730962738947, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.010908280715892126, 'analytic_vertices': [(0.4999999999999999, 0.0), (0.5002727076821033, 7.436948540329169e-08), (0.5005454152830822, 2.9747791951972857e-07), (0.500818122721812, 6.693252359579738e-07), (0.5010908299171685, 1.1899113240843029e-06), (0.501363536788027, 1.8592360290781151e-06), (0.5016362432532635, 2.6772991517654e-06), (0.5019089492317537, 3.6441004488962925e-06), (0.5021816546423731, 4.759639632756496e-06), (0.5024543594039989, 6.02391637155586e-06), (0.5027270634355068, 7.436930289206334e-06), (0.5029997666557735, 8.998680965377481e-06), (0.5032724689836758, 1.0709167935385455e-05), (0.5035451703380909, 1.2568390690526066e-05), (0.5038178706378958, 1.457634867763069e-05), (0.5040905698019686, 1.6733041299454854e-05), (0.504363267749187, 1.903846791434516e-05), (0.5046359643984296, 2.1492627836572353e-05), (0.504908659668575, 2.4095520335998266e-05), (0.5051813534785019, 2.684714463835336e-05), (0.505454045747091, 2.974749992512571e-05)], 'open_stroke_perimeter': 0.005454153844878395}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.500-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)], 'open_stroke_perimeter': 0.5, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.500-0.250', 'vertices': [(0.5, 0.5), (0.5, 0.5555555555555556), (0.5, 0.6111111111111112), (0.5, 0.6666666666666666), (0.5, 0.7222222222222222), (0.5, 0.7777777777777778), (0.5, 0.8333333333333333), (0.5, 0.8888888888888888), (0.5, 0.9444444444444444), (0.5, 1.0)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.5555555555555556), (0.5, 0.6111111111111112), (0.5, 0.6666666666666666), (0.5, 0.7222222222222222), (0.5, 0.7777777777777778), (0.5, 0.8333333333333333), (0.5, 0.8888888888888888), (0.5, 0.9444444444444444), (0.5, 1.0)], 'open_stroke_perimeter': 0.5, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.762-0.788', 'vertices': [(0.5, 0.5), (0.5128723025522913, 0.447115472822787), (0.5257446051045827, 0.39423094564557404), (0.5386169076568739, 0.3413464184683611), (0.5514892102091652, 0.2884618912911481), (0.5643615127614565, 0.23557736411393515), (0.5772338153137478, 0.18269283693672217), (0.5901061178660392, 0.1298083097595092), (0.6029784204183304, 0.07692378258229621), (0.6158507229706217, 0.024039255405083226), (0.628723025522913, -0.0288452717721297), (0.6415953280752043, -0.08172979894934274), (0.6544676306274957, -0.13461432612655566), (0.6673399331797869, -0.1874988533037687), (0.6802122357320782, -0.24038338048098162)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5128723025522913, 0.447115472822787), (0.5257446051045827, 0.39423094564557404), (0.5386169076568739, 0.3413464184683611), (0.5514892102091652, 0.2884618912911481), (0.5643615127614565, 0.23557736411393515), (0.5772338153137478, 0.18269283693672217), (0.5901061178660392, 0.1298083097595092), (0.6029784204183304, 0.07692378258229621), (0.6158507229706217, 0.024039255405083226), (0.628723025522913, -0.0288452717721297), (0.6415953280752043, -0.08172979894934274), (0.6544676306274957, -0.13461432612655566), (0.6673399331797869, -0.1874988533037687), (0.6802122357320782, -0.24038338048098162)], 'open_stroke_perimeter': 0.7620000000000001, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.412-0.775', 'vertices': [(0.5, 0.5), (0.5092072856566536, 0.4418674862392576), (0.5184145713133071, 0.3837349724785152), (0.5276218569699608, 0.3256024587177728), (0.5368291426266143, 0.2674699449570304), (0.5460364282832679, 0.209337431196288), (0.5552437139399216, 0.15120491743554565), (0.5644509995965751, 0.09307240367480324)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5092072856566536, 0.4418674862392576), (0.5184145713133071, 0.3837349724785152), (0.5276218569699608, 0.3256024587177728), (0.5368291426266143, 0.2674699449570304), (0.5460364282832679, 0.209337431196288), (0.5552437139399216, 0.15120491743554565), (0.5644509995965751, 0.09307240367480324)], 'open_stroke_perimeter': 0.41200000000000003, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.400-0.789', 'vertices': [(0.5, 0.5), (0.5138628131883091, 0.44456419448627965), (0.527725626376618, 0.38912838897255936), (0.5415884395649271, 0.333692583458839), (0.5554512527532361, 0.2782567779451187), (0.5693140659415452, 0.22282097243139837), (0.5831768791298542, 0.16738516691767802), (0.5970396923181632, 0.11194936140395773)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5138628131883091, 0.44456419448627965), (0.527725626376618, 0.38912838897255936), (0.5415884395649271, 0.333692583458839), (0.5554512527532361, 0.2782567779451187), (0.5693140659415452, 0.22282097243139837), (0.5831768791298542, 0.16738516691767802), (0.5970396923181632, 0.11194936140395773)], 'open_stroke_perimeter': 0.39999999999999997, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.316-0.301', 'vertices': [(0.5, 0.5), (0.4857806085412748, 0.5428449116881333), (0.4715612170825496, 0.5856898233762666), (0.4573418256238244, 0.6285347350643999), (0.4431224341650993, 0.6713796467525333), (0.4289030427063741, 0.7142245584406666), (0.4146836512476489, 0.7570694701287998), (0.4004642597889237, 0.7999143818169331)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.4857806085412748, 0.5428449116881333), (0.4715612170825496, 0.5856898233762666), (0.4573418256238244, 0.6285347350643999), (0.4431224341650993, 0.6713796467525333), (0.4289030427063741, 0.7142245584406666), (0.4146836512476489, 0.7570694701287998), (0.4004642597889237, 0.7999143818169331)], 'open_stroke_perimeter': 0.316, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-12 06:09:04,654 - INFO - [PATCH][SHAPE GEOMETRY] idx=0, vertices=[(0.5203208158218974, 0.633099820783206), (1.0, 0.633099820783206), (0.9854622073553833, 0.7023854064323992), (0.9568283455391784, 0.7684969427827529), (0.9149684399532374, 0.8294256642563134), (0.8611543826466551, 0.883320282482527), (0.7970212865194649, 0.9285432367585834), (0.7245178032445789, 0.9637204505027231), (0.6458469144727719, 0.9877830818758601), (0.5633989953499846, 1.0), (0.4796791841781028, 1.0), (0.47967918417810274, 0.5968988234862387), (0.0, 0.5968988234862388), (0.17288811642975047, 0.0), (0.5375797279001502, 0.12807379340787864), (0.3081376683089076, 0.38656386913270946), (0.4816746141105195, 0.5954548222236565)], geometry={'area': 0.33719587035626253, 'perimeter': 3.7428926365541084, 'centroid': [0.44867678683185835, 0.5358196079379418], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 06:09:04,654 - INFO - [robust_curvature] INPUT: [(0.5203208158218974, 0.633099820783206), (1.0, 0.633099820783206), (0.9854622073553833, 0.7023854064323992), (0.9568283455391784, 0.7684969427827529), (0.9149684399532374, 0.8294256642563134), (0.8611543826466551, 0.883320282482527), (0.7970212865194649, 0.9285432367585834), (0.7245178032445789, 0.9637204505027231), (0.6458469144727719, 0.9877830818758601), (0.5633989953499846, 1.0), (0.4796791841781028, 1.0), (0.47967918417810274, 0.5968988234862387), (0.0, 0.5968988234862388), (0.17288811642975047, 0.0), (0.5375797279001502, 0.12807379340787864), (0.3081376683089076, 0.38656386913270946), (0.4816746141105195, 0.5954548222236565)]
2025-08-12 06:09:04,655 - INFO - [robust_curvature] OUTPUT: 1.3061532745519022
2025-08-12 06:09:04,655 - INFO - Computed angular variance: 0.547549 for 17 vertices.
2025-08-12 06:09:04,656 - INFO - [PATCH][SHAPE PHYSICS] idx=0, physics features: {'robust_curvature': 1.3061532745519022, 'robust_angular_variance': 0.5475491675431053, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 1.5707963267948966}
2025-08-12 06:09:04,656 - INFO - [robust_curvature] INPUT: [[    0.             0.        ]
 [  720.             0.        ]
 [  698.17872643   123.75459208]
 [  655.19920764   241.83984945]
 [  592.36735457   350.6678113 ]
 [  511.59228128   446.93179509]
 [  415.32829748   527.70686839]
 [  306.50033563   590.53872146]
 [  188.41507826   633.51824025]
 [   64.66048618   655.33951382]
 [  -61.00321996   655.33951382]
 [  -61.00321996   -64.66048618]
 [ -781.00321996   -64.66048618]
 [ -521.49760051 -1130.81255407]
 [   25.9056826   -902.05328314]
 [ -318.48758764  -440.35069985]
 [  -58.00807321   -67.23969202]]
2025-08-12 06:09:04,657 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,657 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,657 - INFO - Computed angular variance: 0.518415 for 17 vertices.
2025-08-12 06:09:04,658 - INFO - [robust_curvature] INPUT: [[   0.            0.        ]
 [ -61.00321996  -64.66048618]
 [-781.00321996  -64.66048618]
 [ -58.00807321  -67.23969202]]
2025-08-12 06:09:04,658 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,659 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,659 - INFO - [robust_curvature] INPUT: [[720.           0.        ]
 [698.17872643 123.75459208]
 [655.19920764 241.83984945]
 [592.36735457 350.6678113 ]
 [511.59228128 446.93179509]
 [415.32829748 527.70686839]
 [306.50033563 590.53872146]]
2025-08-12 06:09:04,659 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,660 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,660 - INFO - [robust_curvature] INPUT: [[ -521.49760051 -1130.81255407]
 [   25.9056826   -902.05328314]
 [ -318.48758764  -440.35069985]]
2025-08-12 06:09:04,660 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,661 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,661 - INFO - [robust_curvature] INPUT: [[188.41507826 633.51824025]
 [ 64.66048618 655.33951382]
 [-61.00321996 655.33951382]]
2025-08-12 06:09:04,662 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,662 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,662 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 7, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,662 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.5184145939966879, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 7, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,664 - INFO - [robust_curvature] INPUT: [[ 2.53957235e+00 -2.57948860e-01]
 [ 7.17154182e+02  4.74754643e-01]
 [ 6.98097558e+02  1.23732843e+02]
 [ 6.55123049e+02  2.41804336e+02]
 [ 5.92298520e+02  3.50619613e+02]
 [ 5.11532862e+02  4.46872376e+02]
 [ 4.15280099e+02  5.27638034e+02]
 [ 3.06464822e+02  5.90462563e+02]
 [ 1.88393329e+02  6.33437072e+02]
 [ 6.46531623e+01  6.55255802e+02]
 [-6.05211415e+01  6.52577407e+02]
 [-6.37653263e+01 -6.18983798e+01]
 [-7.77245583e+02 -6.87505214e+01]
 [-5.20393151e+02 -1.12584494e+03]
 [ 2.24845202e+01 -9.01159652e+02]
 [-3.16167139e+02 -4.40690560e+02]
 [-5.87848061e+01 -6.84130935e+01]]
2025-08-12 06:09:04,664 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,664 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,665 - INFO - Computed angular variance: 0.504713 for 17 vertices.
2025-08-12 06:09:04,666 - INFO - [robust_curvature] INPUT: [[ 7.17154182e+02  4.74754643e-01]
 [ 6.98097558e+02  1.23732843e+02]
 [ 6.55123049e+02  2.41804336e+02]
 [ 5.92298520e+02  3.50619613e+02]
 [ 5.11532862e+02  4.46872376e+02]
 [ 4.15280099e+02  5.27638034e+02]
 [ 3.06464822e+02  5.90462563e+02]
 [ 1.88393329e+02  6.33437072e+02]
 [ 6.46531623e+01  6.55255802e+02]
 [-6.05211415e+01  6.52577407e+02]]
2025-08-12 06:09:04,666 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,666 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,667 - INFO - [robust_curvature] INPUT: [[ 2.53957235e+00 -2.57948860e-01]
 [-6.37653263e+01 -6.18983798e+01]
 [-7.77245583e+02 -6.87505214e+01]
 [-5.87848061e+01 -6.84130935e+01]]
2025-08-12 06:09:04,667 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,667 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,668 - INFO - [robust_curvature] INPUT: [[ -520.39315056 -1125.84493906]
 [   22.48452023  -901.1596523 ]
 [ -316.1671391   -440.69056006]]
2025-08-12 06:09:04,668 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,668 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,669 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,669 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.5047128236969246, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,670 - INFO - [robust_curvature] INPUT: [[  70.56973888   -7.24125578]
 [ 640.81016493   13.21984275]
 [ 695.71426998  123.17830698]
 [ 653.06511715  240.8447067 ]
 [ 590.43849043  349.31720609]
 [ 509.92725105  445.26676486]
 [ 413.97769227  525.77800425]
 [ 305.50519289  588.40463096]
 [ 187.8056349   631.24376666]
 [  64.48791434  652.80954088]
 [ -47.75039151  578.49921727]
 [-137.73612591   11.8927322 ]
 [-676.33119267 -178.18417271]
 [-490.67559632 -992.50473334]
 [ -69.26180594 -876.81505083]
 [-254.06794226 -449.84733705]
 [ -79.33388335 -100.00246567]]
2025-08-12 06:09:04,670 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,670 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,670 - INFO - Computed angular variance: 0.262833 for 17 vertices.
2025-08-12 06:09:04,671 - INFO - [robust_curvature] INPUT: [[640.81016493  13.21984275]
 [695.71426998 123.17830698]
 [653.06511715 240.8447067 ]
 [590.43849043 349.31720609]
 [509.92725105 445.26676486]
 [413.97769227 525.77800425]
 [305.50519289 588.40463096]
 [187.8056349  631.24376666]
 [ 64.48791434 652.80954088]
 [-47.75039151 578.49921727]]
2025-08-12 06:09:04,672 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,672 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,672 - INFO - [robust_curvature] INPUT: [[  70.56973888   -7.24125578]
 [-137.73612591   11.8927322 ]
 [-676.33119267 -178.18417271]
 [-254.06794226 -449.84733705]
 [ -79.33388335 -100.00246567]]
2025-08-12 06:09:04,673 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,673 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,673 - INFO - [robust_curvature] INPUT: [[-490.67559632 -992.50473334]
 [ -69.26180594 -876.81505083]]
2025-08-12 06:09:04,674 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,674 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,674 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,674 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.2628330890647883, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,674 - INFO - [robust_curvature] INPUT: [[ 183.71114336  -36.39384812]
 [ 489.70736725   38.91356556]
 [ 645.29854771  128.51680857]
 [ 642.03173513  237.81621211]
 [ 583.34533368  344.43481255]
 [ 503.88748854  439.22700235]
 [ 409.07848108  518.78120555]
 [ 301.91195522  580.56995257]
 [ 186.07939915  619.81138042]
 [  68.25863     603.66358536]
 [ -56.34017159  432.63963109]
 [-251.79526689   90.29024365]
 [-455.52712952 -327.35798695]
 [-411.76802931 -709.61945358]
 [-238.39885693 -747.36521139]
 [-163.16773266 -471.54876082]
 [ -59.16836536 -186.51943471]]
2025-08-12 06:09:04,676 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,676 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,676 - INFO - Computed angular variance: 0.179105 for 17 vertices.
2025-08-12 06:09:04,677 - INFO - [robust_curvature] INPUT: [[ 183.71114336  -36.39384812]
 [-251.79526689   90.29024365]
 [-455.52712952 -327.35798695]
 [-411.76802931 -709.61945358]
 [-238.39885693 -747.36521139]
 [-163.16773266 -471.54876082]
 [ -59.16836536 -186.51943471]]
2025-08-12 06:09:04,678 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,678 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,679 - INFO - [robust_curvature] INPUT: [[489.70736725  38.91356556]
 [645.29854771 128.51680857]
 [642.03173513 237.81621211]
 [583.34533368 344.43481255]
 [503.88748854 439.22700235]
 [409.07848108 518.78120555]
 [301.91195522 580.56995257]
 [186.07939915 619.81138042]
 [ 68.25863    603.66358536]
 [-56.34017159 432.63963109]]
2025-08-12 06:09:04,679 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,679 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,679 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 10, 'curvature': 0.0, 'complexity': 2}}
2025-08-12 06:09:04,680 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.17910460511527623, 'complexity': 3, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 10, 'curvature': 0.0, 'complexity': 2}}}
2025-08-12 06:09:04,680 - INFO - [robust_curvature] INPUT: [[ 207.04166455 -108.9505742 ]
 [ 369.09939322   21.03082087]
 [ 486.86509252  133.09695726]
 [ 539.24024801  235.06074916]
 [ 528.95714934  330.49101795]
 [ 473.08089239  416.31168423]
 [ 388.91768722  484.78133466]
 [ 287.29092839  523.09228632]
 [ 172.82588699  511.58811341]
 [  47.57315346  427.51045471]
 [ -81.97486959  259.23453488]
 [-197.17907652   25.42390741]
 [-269.68157133 -217.34981043]
 [-278.09599593 -393.54348087]
 [-221.36066931 -449.72794631]
 [-112.00804155 -387.2365942 ]
 [  36.55265697 -254.95375065]]
2025-08-12 06:09:04,681 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,681 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,681 - INFO - Computed angular variance: 0.094178 for 17 vertices.
2025-08-12 06:09:04,682 - INFO - [robust_curvature] INPUT: [[ 207.04166455 -108.9505742 ]
 [ 369.09939322   21.03082087]
 [ 486.86509252  133.09695726]
 [ 539.24024801  235.06074916]
 [ 528.95714934  330.49101795]
 [ 473.08089239  416.31168423]
 [ 388.91768722  484.78133466]
 [ 287.29092839  523.09228632]
 [ 172.82588699  511.58811341]
 [  47.57315346  427.51045471]
 [ -81.97486959  259.23453488]
 [-197.17907652   25.42390741]
 [  36.55265697 -254.95375065]]
2025-08-12 06:09:04,683 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,683 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,683 - INFO - [robust_curvature] INPUT: [[-269.68157133 -217.34981043]
 [-278.09599593 -393.54348087]
 [-221.36066931 -449.72794631]
 [-112.00804155 -387.2365942 ]]
2025-08-12 06:09:04,683 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,684 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,684 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 13, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,684 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.09417832304137702, 'complexity': 2, 'groups': {'group_0': {'size': 13, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,684 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.5184145939966879, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 7, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.5047128236969246, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.2628330890647883, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.17910460511527623, 'complexity': 3, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 10, 'curvature': 0.0, 'complexity': 2}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.09417832304137702, 'complexity': 2, 'groups': {'group_0': {'size': 13, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:04,685 - DEBUG - [extract_image_features] Calculated width: 1501.0032199618386, height: 1786.152067892613
2025-08-12 06:09:04,685 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 06:09:04,687 - INFO - [robust_curvature] OUTPUT: 1.2939324252224287
2025-08-12 06:09:04,687 - INFO - Computed angular variance: 0.518415 for 17 vertices.
2025-08-12 06:09:04,688 - INFO - [robust_curvature] INPUT: [[    0.             0.        ]
 [  720.             0.        ]
 [  698.17872643   123.75459208]
 [  655.19920764   241.83984945]
 [  592.36735457   350.6678113 ]
 [  511.59228128   446.93179509]
 [  415.32829748   527.70686839]
 [  306.50033563   590.53872146]
 [  188.41507826   633.51824025]
 [   64.66048618   655.33951382]
 [  -61.00321996   655.33951382]
 [  -61.00321996   -64.66048618]
 [ -781.00321996   -64.66048618]
 [ -521.49760051 -1130.81255407]
 [   25.9056826   -902.05328314]
 [ -318.48758764  -440.35069985]
 [  -58.00807321   -67.23969202]]
2025-08-12 06:09:04,688 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,688 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,688 - INFO - Computed angular variance: 0.518415 for 17 vertices.
2025-08-12 06:09:04,689 - INFO - [robust_curvature] INPUT: [[   0.            0.        ]
 [ -61.00321996  -64.66048618]
 [-781.00321996  -64.66048618]
 [ -58.00807321  -67.23969202]]
2025-08-12 06:09:04,689 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,690 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,690 - INFO - [robust_curvature] INPUT: [[720.           0.        ]
 [698.17872643 123.75459208]
 [655.19920764 241.83984945]
 [592.36735457 350.6678113 ]
 [511.59228128 446.93179509]
 [415.32829748 527.70686839]
 [306.50033563 590.53872146]]
2025-08-12 06:09:04,691 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,691 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,691 - INFO - [robust_curvature] INPUT: [[ -521.49760051 -1130.81255407]
 [   25.9056826   -902.05328314]
 [ -318.48758764  -440.35069985]]
2025-08-12 06:09:04,692 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,692 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,692 - INFO - [robust_curvature] INPUT: [[188.41507826 633.51824025]
 [ 64.66048618 655.33951382]
 [-61.00321996 655.33951382]]
2025-08-12 06:09:04,693 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,693 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,693 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 7, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,694 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.5184145939966879, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 7, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,694 - INFO - [robust_curvature] INPUT: [[ 2.53957235e+00 -2.57948860e-01]
 [ 7.17154182e+02  4.74754643e-01]
 [ 6.98097558e+02  1.23732843e+02]
 [ 6.55123049e+02  2.41804336e+02]
 [ 5.92298520e+02  3.50619613e+02]
 [ 5.11532862e+02  4.46872376e+02]
 [ 4.15280099e+02  5.27638034e+02]
 [ 3.06464822e+02  5.90462563e+02]
 [ 1.88393329e+02  6.33437072e+02]
 [ 6.46531623e+01  6.55255802e+02]
 [-6.05211415e+01  6.52577407e+02]
 [-6.37653263e+01 -6.18983798e+01]
 [-7.77245583e+02 -6.87505214e+01]
 [-5.20393151e+02 -1.12584494e+03]
 [ 2.24845202e+01 -9.01159652e+02]
 [-3.16167139e+02 -4.40690560e+02]
 [-5.87848061e+01 -6.84130935e+01]]
2025-08-12 06:09:04,694 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,696 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,696 - INFO - Computed angular variance: 0.504713 for 17 vertices.
2025-08-12 06:09:04,697 - INFO - [robust_curvature] INPUT: [[ 7.17154182e+02  4.74754643e-01]
 [ 6.98097558e+02  1.23732843e+02]
 [ 6.55123049e+02  2.41804336e+02]
 [ 5.92298520e+02  3.50619613e+02]
 [ 5.11532862e+02  4.46872376e+02]
 [ 4.15280099e+02  5.27638034e+02]
 [ 3.06464822e+02  5.90462563e+02]
 [ 1.88393329e+02  6.33437072e+02]
 [ 6.46531623e+01  6.55255802e+02]
 [-6.05211415e+01  6.52577407e+02]]
2025-08-12 06:09:04,697 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,698 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,698 - INFO - [robust_curvature] INPUT: [[ 2.53957235e+00 -2.57948860e-01]
 [-6.37653263e+01 -6.18983798e+01]
 [-7.77245583e+02 -6.87505214e+01]
 [-5.87848061e+01 -6.84130935e+01]]
2025-08-12 06:09:04,698 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,698 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,699 - INFO - [robust_curvature] INPUT: [[ -520.39315056 -1125.84493906]
 [   22.48452023  -901.1596523 ]
 [ -316.1671391   -440.69056006]]
2025-08-12 06:09:04,699 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,699 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,700 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,700 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.5047128236969246, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,700 - INFO - [robust_curvature] INPUT: [[  70.56973888   -7.24125578]
 [ 640.81016493   13.21984275]
 [ 695.71426998  123.17830698]
 [ 653.06511715  240.8447067 ]
 [ 590.43849043  349.31720609]
 [ 509.92725105  445.26676486]
 [ 413.97769227  525.77800425]
 [ 305.50519289  588.40463096]
 [ 187.8056349   631.24376666]
 [  64.48791434  652.80954088]
 [ -47.75039151  578.49921727]
 [-137.73612591   11.8927322 ]
 [-676.33119267 -178.18417271]
 [-490.67559632 -992.50473334]
 [ -69.26180594 -876.81505083]
 [-254.06794226 -449.84733705]
 [ -79.33388335 -100.00246567]]
2025-08-12 06:09:04,701 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,701 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,701 - INFO - Computed angular variance: 0.262833 for 17 vertices.
2025-08-12 06:09:04,702 - INFO - [robust_curvature] INPUT: [[640.81016493  13.21984275]
 [695.71426998 123.17830698]
 [653.06511715 240.8447067 ]
 [590.43849043 349.31720609]
 [509.92725105 445.26676486]
 [413.97769227 525.77800425]
 [305.50519289 588.40463096]
 [187.8056349  631.24376666]
 [ 64.48791434 652.80954088]
 [-47.75039151 578.49921727]]
2025-08-12 06:09:04,703 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,703 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,704 - INFO - [robust_curvature] INPUT: [[  70.56973888   -7.24125578]
 [-137.73612591   11.8927322 ]
 [-676.33119267 -178.18417271]
 [-254.06794226 -449.84733705]
 [ -79.33388335 -100.00246567]]
2025-08-12 06:09:04,704 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,704 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,705 - INFO - [robust_curvature] INPUT: [[-490.67559632 -992.50473334]
 [ -69.26180594 -876.81505083]]
2025-08-12 06:09:04,705 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,705 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,705 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,705 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.2628330890647883, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,706 - INFO - [robust_curvature] INPUT: [[ 183.71114336  -36.39384812]
 [ 489.70736725   38.91356556]
 [ 645.29854771  128.51680857]
 [ 642.03173513  237.81621211]
 [ 583.34533368  344.43481255]
 [ 503.88748854  439.22700235]
 [ 409.07848108  518.78120555]
 [ 301.91195522  580.56995257]
 [ 186.07939915  619.81138042]
 [  68.25863     603.66358536]
 [ -56.34017159  432.63963109]
 [-251.79526689   90.29024365]
 [-455.52712952 -327.35798695]
 [-411.76802931 -709.61945358]
 [-238.39885693 -747.36521139]
 [-163.16773266 -471.54876082]
 [ -59.16836536 -186.51943471]]
2025-08-12 06:09:04,706 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,707 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,707 - INFO - Computed angular variance: 0.179105 for 17 vertices.
2025-08-12 06:09:04,708 - INFO - [robust_curvature] INPUT: [[ 183.71114336  -36.39384812]
 [-251.79526689   90.29024365]
 [-455.52712952 -327.35798695]
 [-411.76802931 -709.61945358]
 [-238.39885693 -747.36521139]
 [-163.16773266 -471.54876082]
 [ -59.16836536 -186.51943471]]
2025-08-12 06:09:04,708 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,708 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,709 - INFO - [robust_curvature] INPUT: [[489.70736725  38.91356556]
 [645.29854771 128.51680857]
 [642.03173513 237.81621211]
 [583.34533368 344.43481255]
 [503.88748854 439.22700235]
 [409.07848108 518.78120555]
 [301.91195522 580.56995257]
 [186.07939915 619.81138042]
 [ 68.25863    603.66358536]
 [-56.34017159 432.63963109]]
2025-08-12 06:09:04,709 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,709 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,710 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 10, 'curvature': 0.0, 'complexity': 2}}
2025-08-12 06:09:04,710 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.17910460511527623, 'complexity': 3, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 10, 'curvature': 0.0, 'complexity': 2}}}
2025-08-12 06:09:04,710 - INFO - [robust_curvature] INPUT: [[ 207.04166455 -108.9505742 ]
 [ 369.09939322   21.03082087]
 [ 486.86509252  133.09695726]
 [ 539.24024801  235.06074916]
 [ 528.95714934  330.49101795]
 [ 473.08089239  416.31168423]
 [ 388.91768722  484.78133466]
 [ 287.29092839  523.09228632]
 [ 172.82588699  511.58811341]
 [  47.57315346  427.51045471]
 [ -81.97486959  259.23453488]
 [-197.17907652   25.42390741]
 [-269.68157133 -217.34981043]
 [-278.09599593 -393.54348087]
 [-221.36066931 -449.72794631]
 [-112.00804155 -387.2365942 ]
 [  36.55265697 -254.95375065]]
2025-08-12 06:09:04,710 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,711 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,712 - INFO - Computed angular variance: 0.094178 for 17 vertices.
2025-08-12 06:09:04,713 - INFO - [robust_curvature] INPUT: [[ 207.04166455 -108.9505742 ]
 [ 369.09939322   21.03082087]
 [ 486.86509252  133.09695726]
 [ 539.24024801  235.06074916]
 [ 528.95714934  330.49101795]
 [ 473.08089239  416.31168423]
 [ 388.91768722  484.78133466]
 [ 287.29092839  523.09228632]
 [ 172.82588699  511.58811341]
 [  47.57315346  427.51045471]
 [ -81.97486959  259.23453488]
 [-197.17907652   25.42390741]
 [  36.55265697 -254.95375065]]
2025-08-12 06:09:04,713 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,713 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,714 - INFO - [robust_curvature] INPUT: [[-269.68157133 -217.34981043]
 [-278.09599593 -393.54348087]
 [-221.36066931 -449.72794631]
 [-112.00804155 -387.2365942 ]]
2025-08-12 06:09:04,714 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,714 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,714 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 13, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,715 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.09417832304137702, 'complexity': 2, 'groups': {'group_0': {'size': 13, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,715 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.5184145939966879, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 7, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.5047128236969246, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.2628330890647883, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.17910460511527623, 'complexity': 3, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 10, 'curvature': 0.0, 'complexity': 2}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.09417832304137702, 'complexity': 2, 'groups': {'group_0': {'size': 13, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:04,716 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,717 - DEBUG - [extract_image_features] Stroke 0 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:04,717 - DEBUG - [extract_image_features] Stroke 1 geometry: {'area': 2.6973744002665823e-08, 'perimeter': 0.010908280715892126, 'centroid': [0.5027270390713006, 1.1903978095376274e-05], 'bounds': [0.4999999999999999, 0.0, 0.505454045747091, 2.974749992512571e-05], 'width': 0.005454045747091074, 'height': 2.974749992512571e-05}
2025-08-12 06:09:04,718 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,718 - DEBUG - [extract_image_features] Stroke 2 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:04,719 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,719 - DEBUG - [extract_image_features] Stroke 3 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:04,720 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,720 - DEBUG - [extract_image_features] Stroke 4 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:04,721 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,721 - DEBUG - [extract_image_features] Stroke 5 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:04,722 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,722 - DEBUG - [extract_image_features] Stroke 6 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:04,723 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,723 - DEBUG - [extract_image_features] Stroke 7 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:04,724 - INFO - [extract_image_features] stroke_type_distribution INPUT: [{'command': 'line_normal_0.500-0.500', 'vertices': [(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'arc_normal_0.500_0.625-0.750', 'vertices': [(0.4999999999999999, 0.0), (0.5002727076821033, 7.436948540329169e-08), (0.5005454152830822, 2.9747791951972857e-07), (0.500818122721812, 6.693252359579738e-07), (0.5010908299171685, 1.1899113240843029e-06), (0.501363536788027, 1.8592360290781151e-06), (0.5016362432532635, 2.6772991517654e-06), (0.5019089492317537, 3.6441004488962925e-06), (0.5021816546423731, 4.759639632756496e-06), (0.5024543594039989, 6.02391637155586e-06), (0.5027270634355068, 7.436930289206334e-06), (0.5029997666557735, 8.998680965377481e-06), (0.5032724689836758, 1.0709167935385455e-05), (0.5035451703380909, 1.2568390690526066e-05), (0.5038178706378958, 1.457634867763069e-05), (0.5040905698019686, 1.6733041299454854e-05), (0.504363267749187, 1.903846791434516e-05), (0.5046359643984296, 2.1492627836572353e-05), (0.504908659668575, 2.4095520335998266e-05), (0.5051813534785019, 2.684714463835336e-05), (0.505454045747091, 2.974749992512571e-05)], 'geometry': {'area': 2.6973744002665823e-08, 'perimeter': 0.010908280715892126, 'centroid': [0.5027270390713006, 1.1903978095376274e-05], 'bounds': [0.4999999999999999, 0.0, 0.505454045747091, 2.974749992512571e-05], 'width': 0.005454045747091074, 'height': 2.974749992512571e-05}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.005454045747091074, 'height': 2.974749992512571e-05}, {'command': 'line_normal_0.500-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.500-0.250', 'vertices': [(0.5, 0.5), (0.5, 0.5555555555555556), (0.5, 0.6111111111111112), (0.5, 0.6666666666666666), (0.5, 0.7222222222222222), (0.5, 0.7777777777777778), (0.5, 0.8333333333333333), (0.5, 0.8888888888888888), (0.5, 0.9444444444444444), (0.5, 1.0)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.762-0.788', 'vertices': [(0.5, 0.5), (0.5128723025522913, 0.447115472822787), (0.5257446051045827, 0.39423094564557404), (0.5386169076568739, 0.3413464184683611), (0.5514892102091652, 0.2884618912911481), (0.5643615127614565, 0.23557736411393515), (0.5772338153137478, 0.18269283693672217), (0.5901061178660392, 0.1298083097595092), (0.6029784204183304, 0.07692378258229621), (0.6158507229706217, 0.024039255405083226), (0.628723025522913, -0.0288452717721297), (0.6415953280752043, -0.08172979894934274), (0.6544676306274957, -0.13461432612655566), (0.6673399331797869, -0.1874988533037687), (0.6802122357320782, -0.24038338048098162)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.412-0.775', 'vertices': [(0.5, 0.5), (0.5092072856566536, 0.4418674862392576), (0.5184145713133071, 0.3837349724785152), (0.5276218569699608, 0.3256024587177728), (0.5368291426266143, 0.2674699449570304), (0.5460364282832679, 0.209337431196288), (0.5552437139399216, 0.15120491743554565), (0.5644509995965751, 0.09307240367480324)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.400-0.789', 'vertices': [(0.5, 0.5), (0.5138628131883091, 0.44456419448627965), (0.527725626376618, 0.38912838897255936), (0.5415884395649271, 0.333692583458839), (0.5554512527532361, 0.2782567779451187), (0.5693140659415452, 0.22282097243139837), (0.5831768791298542, 0.16738516691767802), (0.5970396923181632, 0.11194936140395773)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.316-0.301', 'vertices': [(0.5, 0.5), (0.4857806085412748, 0.5428449116881333), (0.4715612170825496, 0.5856898233762666), (0.4573418256238244, 0.6285347350643999), (0.4431224341650993, 0.6713796467525333), (0.4289030427063741, 0.7142245584406666), (0.4146836512476489, 0.7570694701287998), (0.4004642597889237, 0.7999143818169331)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}]
2025-08-12 06:09:04,724 - INFO - [extract_image_features] stroke_type_distribution OUTPUT: {'line': 7, 'arc': 1}
2025-08-12 06:09:04,724 - INFO - [extract_image_features] modifier_distribution OUTPUT: {'normal': 8}
2025-08-12 06:09:04,724 - INFO - [extract_image_features] relational INPUT: []
2025-08-12 06:09:04,725 - INFO - [extract_image_features] relational OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:04,725 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:04,725 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,725 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,725 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,725 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,727 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,727 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,727 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,727 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,727 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,728 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,728 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,728 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 7}
2025-08-12 06:09:04,728 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,729 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,729 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,729 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,729 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,729 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,730 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,730 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,730 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,730 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,731 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,731 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,731 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,731 - DEBUG - [_detect_alternation] OUTPUT: 0.125
2025-08-12 06:09:04,732 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:04,732 - INFO - [extract_image_features] PATCHED ngram: {'normal|normal': 7}
2025-08-12 06:09:04,732 - INFO - [extract_image_features] PATCHED alternation: 0.125
2025-08-12 06:09:04,732 - INFO - [extract_image_features] PATCHED regularity: 0.125
2025-08-12 06:09:04,733 - INFO - [extract_image_features] PATCHED dominant_shape_functions: line
2025-08-12 06:09:04,733 - INFO - [extract_image_features] PATCHED dominant_modifiers: normal
2025-08-12 06:09:04,733 - INFO - [extract_image_features] PATCHED image_canonical_summary: {'area': 904028.874112255, 'perimeter': 6101.377143165675, 'compactness': 0.30516619611440166, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.125}
2025-08-12 06:09:04,733 - INFO - [extract_image_features] OUTPUT: {'area': 904028.874112255, 'perimeter': 6101.377143165675, 'convexity_ratio': 0.44855530977784025, 'compactness': 0.30516619611440166, 'aspect_ratio': 0.840355783218835, 'centroid_x': -107.5379182050878, 'centroid_y': -173.7572533386023, 'width': 1501.0032199618386, 'height': 1786.152067892613, 'bounding_box': (-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469), 'num_vertices': 17, 'curvature': 1.2939324252224287, 'angular_variance': 0.5184145939966879, 'complexity': 0.16607408214158384, 'num_strokes': 8, 'stroke_type_distribution': {'line': 7, 'arc': 1}, 'modifier_distribution': {'normal': 8}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.16607408214158384, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.5184145939966879, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 7, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.5047128236969246, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.2628330890647883, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.17910460511527623, 'complexity': 3, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 10, 'curvature': 0.0, 'complexity': 2}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.09417832304137702, 'complexity': 2, 'groups': {'group_0': {'size': 13, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 208603.73127009015, 'center_of_mass_x': 0.4486767868318584, 'center_of_mass_y': 0.5358196079379418, 'symmetry_score': 690.8295705132692, 'ngram': {'normal|normal': 7}, 'alternation': 0.125, 'regularity': 0.125, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 904028.874112255, 'perimeter': 6101.377143165675, 'compactness': 0.30516619611440166, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.125}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 5, 'vertical': 2}}
2025-08-12 06:09:04,733 - DEBUG - [extract_image_features] FINAL OUTPUT bounding_box: (-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469)
2025-08-12 06:09:04,734 - DEBUG - [extract_image_features] FINAL OUTPUT width: 1501.0032199618386, height: 1786.152067892613
2025-08-12 06:09:04,734 - DEBUG - [extract_image_features] FINAL OUTPUT curvature: 1.2939324252224287
2025-08-12 06:09:04,734 - INFO - [DIAG] Shape 0 extracted attributes: {'area': 904028.874112255, 'perimeter': 6101.377143165675, 'convexity_ratio': 0.44855530977784025, 'compactness': 0.30516619611440166, 'aspect_ratio': 0.840355783218835, 'centroid_x': -107.5379182050878, 'centroid_y': -173.7572533386023, 'width': 1501.0032199618386, 'height': 1786.152067892613, 'bounding_box': (-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469), 'num_vertices': 17, 'curvature': 1.2939324252224287, 'angular_variance': 0.5184145939966879, 'complexity': 0.16607408214158384, 'num_strokes': 8, 'stroke_type_distribution': {'line': 7, 'arc': 1}, 'modifier_distribution': {'normal': 8}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.16607408214158384, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.5184145939966879, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 7, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.5047128236969246, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.2628330890647883, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.17910460511527623, 'complexity': 3, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 10, 'curvature': 0.0, 'complexity': 2}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.09417832304137702, 'complexity': 2, 'groups': {'group_0': {'size': 13, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 208603.73127009015, 'center_of_mass_x': 0.4486767868318584, 'center_of_mass_y': 0.5358196079379418, 'symmetry_score': 690.8295705132692, 'ngram': {'normal|normal': 7}, 'alternation': 0.125, 'regularity': 0.125, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 904028.874112255, 'perimeter': 6101.377143165675, 'compactness': 0.30516619611440166, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.125}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 5, 'vertical': 2}}
2025-08-12 06:09:04,734 - INFO - [VALIDATION] expected_strokes=8, actual_shapes=1
2025-08-12 06:09:04,734 - INFO - [VALIDATION] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: Number of action commands matches number of parsed shapes (8)
2025-08-12 06:09:04,734 - INFO - [standardize_coordinates] INPUT vertices: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 06:09:04,736 - INFO - [standardize_coordinates] OUTPUT normalized vertices: [[0.5203208158218974, 0.633099820783206], [1.0, 0.633099820783206], [0.9854622073553833, 0.7023854064323992], [0.9568283455391784, 0.7684969427827529], [0.9149684399532374, 0.8294256642563134], [0.8611543826466551, 0.883320282482527], [0.7970212865194649, 0.9285432367585834], [0.7245178032445789, 0.9637204505027231], [0.6458469144727719, 0.9877830818758601], [0.5633989953499846, 1.0], [0.4796791841781028, 1.0], [0.47967918417810274, 0.5968988234862387], [0.0, 0.5968988234862388], [0.17288811642975047, 0.0], [0.5375797279001502, 0.12807379340787864], [0.3081376683089076, 0.38656386913270946], [0.4816746141105195, 0.5954548222236565]]
2025-08-12 06:09:04,736 - DEBUG - [process_single_image] Passing shape_list to extract_relational_features: [{'vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]}]
2025-08-12 06:09:04,736 - INFO - [extract_relational_features] INPUT: [{'vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]}]
2025-08-12 06:09:04,737 - DEBUG - [extract_relational_features] Shape 0 vertices: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 06:09:04,737 - INFO - [calculate_relationships] INPUT: strokes=[{'vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]}], buffer_amt=0.001
2025-08-12 06:09:04,737 - DEBUG - [calculate_relationships] Stroke 0: {'vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]}
2025-08-12 06:09:04,738 - DEBUG - [calculate_relationships] Vertices for stroke 0: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 06:09:04,738 - DEBUG - [calculate_relationships] Created LineString for stroke 0: LINESTRING (0 0, 720 0, 698.1787264292926 123.75459208245697, 655.1992076432267 241.83984944619894, 592.3673545714308 350.667811300252, 511.5922812750398 446.9317950932866, 415.32829748200515 527.7068683896777, 306.5003356279521 590.5387214614735, 188.41507826421014 633.5182402475396, 64.66048618175317 655.3395138182469, -61.00321996183855 655.3395138182469, -61.00321996183869 -64.66048618175307, -781.0032199618387 -64.66048618175299, -521.497600507646 -1130.8125540743663, 25.905682602495745 -902.0532831360325, -318.48758763863543 -440.35069985040786, -58.00807320807286 -67.23969202295393)
2025-08-12 06:09:04,738 - DEBUG - [calculate_relationships] Buffered geometries: ['POLYGON ((719.9988082464074 0.001, 698.1777568137867 123.75433227476469, 655.198297873491 241.83942521360444, 592.366532290359 350.6672355328466, 511.59157146722555 446.93108528547236, 415.3277217145997 527.7060461086058, 306.49991139535757 590.5378116917378, 188.41481845651785 633.5172706320336, 64.66039869308983 655.338513818247, -61.002219961838556 655.338513818247, -61.00221996183869 -64.66048618175307, -61.00222477711202 -64.6605841988934, -61.002239176558284 -64.66068127207508, -61.002263021502955 -64.66077646643032, -61.002296082306174 -64.66086886518544, -61.00233804057434 -64.6609575784899, -61.00238849222639 -64.66104175198609, -61.00244695138532 -64.66112057503723, -61.0025128550575 -64.66119328853426, -61.00258556855452 -64.66125919220643, -61.00266439160567 -64.66131765136538, -61.00274856510186 -64.66136810301742, -61.002837278406325 -64.66141006128558, -61.00292967716143 -64.6614431220888, -61.00302487151667 -64.66146696703348, -61.00312194469836 -64.66148136647975, -61.00321996183869 -64.66148618175308, -781.0019473613718 -64.66148618175299, -521.4969057806611 -1130.8111799407764, 25.904115201160284 -902.052854343549, -318.4883892056203 -440.35129775539093, -318.4884429194266 -440.351218015216, -318.4884887273007 -440.3511334852973, -318.48852620580993 -440.35104494700147, -318.4885550085154 -440.3509532187471, -318.4885748691744 -440.35085914843984, -318.48858560420155 -440.35076360563437, -318.4885871143658 -440.3506674734967, -318.4885793857078 -440.3505716406405, -318.48856248966865 -440.3504769929129, -318.4885365824297 -440.35038440520606, -318.4885019034689 -440.3502947333701, -318.4884587733471 -440.35020880630174, -318.48840759074477 -440.3501274182823, -58.00889316018218 -67.23911959082834, -58.008833103728676 -67.23904197788453, -58.008765729064606 -67.23897062523007, -58.00869168504481 -67.23890622003006, -58.00861168475368 -67.23884938254177, -58.00852649863776 -67.23880066014128, -58.008436947085904 -67.23876052205195, -58.00834389252851 -67.23872935482551, -58.00824823113183 -67.2387074586194, -58.00815088416743 -67.23869504430606, -58.00805278913976 -67.23869223144207, -58.00795489075759 -67.23869904711691, -58.00785813183584 -67.23871542569186, -58.007763444215826 -67.23874120943232, -58.00767173979109 -67.23877615002675, -58.007583901725376 -67.23881991097815, -58.007500775947264 -67.23887207084461, -58.007423163003445 -67.23893212729811, -58.007351810349 -67.23899950196218, -58.007287405148986 -67.23907354598198, -58.0072305676607 -67.2391535462731, -58.00718184526021 -67.23923873238903, -58.00714170717088 -67.23932828394089, -58.00711053994444 -67.23942133849829, -58.00708864373833 -67.23951699989496, -58.007076229424975 -67.23961434685937, -58.007073416561006 -67.23971244188702, -58.007080232235836 -67.2398103402692, -58.00709661081079 -67.23990709919094, -58.007122394551246 -67.24000178681096, -58.007157335145685 -67.2400934912357, -58.00720109609707 -67.24018132930142, -58.00725325596353 -67.24026445507953, -318.4863545316264 -440.350680479215, 25.906484169480617 -902.0526852310495, 25.906540308672984 -902.0527689958634, 25.906587726577722 -902.0528579885331, 25.906625941042343 -902.0529513041677, 25.906654563496332 -902.0530479939194, 25.90667330290219 -902.0531470746322, 25.906681968714775 -902.053247538838, 25.90668047281878 -902.0533483650015, 25.906668830424707 -902.053448527907, 25.906647159914197 -902.0535470090825, 25.906615681636314 -902.0536428071565, 25.906574715667006 -902.0537349480395, 25.906524678554508 -902.0538224948289, 25.90646607908384 -902.0539045573356, 25.906399513103388 -902.0539803011354, 25.906325657466212 -902.0540489560537, 25.906245263147735 -902.054109823997, 25.906159147609685 -902.0541622860507, 25.90606818648802 -902.0542058087724, -521.4972149236537 -1130.813476747106, -521.497305133069 -1130.8135094558918, -521.4973980621762 -1130.8135333679033, -521.497492855321 -1130.8135482629687, -521.4975886396857 -1130.8135540039395, -521.4976845333258 -1130.8135505379557, -521.4977796532908 -1130.8135378969305, -521.4978731237538 -1130.8135161972575, -521.4979640840759 -1130.8134856387385, -521.4980516967304 -1130.8134465027445, -521.4981351550148 -1130.8133991496238, -521.4982136904783 -1130.8133440153856, -521.4982865799977 -1130.8132816076838, -521.498353152435 -1130.8132125011439, -521.4984127948177 -1130.8131373320716, -521.4984649579824 -1130.8130567925934, -521.4985091616312 -1130.8129716242854, -521.4985449987548 -1130.8128826113434, -521.4985721393789 -1130.8127905733634, -781.0041915935716 -64.66072268075001, -781.0042104232643 -64.66062397204368, -781.0042192513113 -64.66052387193567, -781.0042179885671 -64.66042339123346, -781.0042066477829 -64.6603235445878, -781.0041853434775 -64.6602253402467, -781.0041542907811 -64.66012976987427, -781.0041138032628 -64.6600377985369, -781.0040642897642 -64.65995035495801, -781.0040062502708 -64.6598683221399, -781.0039402708636 -64.65979252844717, -781.0038670178003 -64.65972373924198, -781.0037872307878 -64.65966264915536, -781.0037017155128 -64.65960987507295, -781.0036113355055 -64.65956594990563, -781.0035170034203 -64.65953131720823, -781.0034196718192 -64.65950632670061, -781.0033203235536 -64.65949123073601, -781.0032199618387 -64.65948618175298, -61.004219961838686 -64.65948618175307, -61.00421996183855 655.3395138182469, -61.00421514656522 655.3396118353872, -61.00420074711896 655.3397089085689, -61.00417690217429 655.3398041029242, -61.00414384137107 655.3398965016793, -61.004101883102905 655.3399852149837, -61.004051431450854 655.34006938848, -61.00399297229192 655.3401482115311, -61.00392706861974 655.3402209250281, -61.00385435512272 655.3402868287003, -61.00377553207157 655.3403452878592, -61.00369135857538 655.3403957395112, -61.00360264527092 655.3404376977794, -61.00351024651581 655.3404707585827, -61.00341505216057 655.3404946035273, -61.003317978978885 655.3405090029736, -61.00321996183855 655.3405138182469, 64.66048618175317 655.3405138182469, 64.66057333749592 655.3405100129451, 64.66065982993084 655.3404986259999, 188.41525191238782 633.5192250552925, 188.41533708325525 633.5192061733659, 188.41542028435347 633.5191799401604, 306.5006776480954 590.5396611540943, 306.5007582462138 590.5396277692606, 306.5008356279521 590.5395874868773, 415.32879748200514 527.7077344150814, 415.3288710584415 527.707687541722, 415.32894026961486 527.7076344341208, 511.5929240626495 446.93256113772975, 511.592988381821 446.9325022000678, 511.59304731948293 446.9324378808963, 592.368120615874 350.66845408786173, 592.3681737234751 350.6683848766884, 592.3682205968346 350.668311300252, 655.2000736686305 241.84034944619893, 655.2001139510138 241.8402720644607, 655.2001473358475 241.84019146634228, 698.1796661219134 123.75493410260029, 698.179692355119 123.75485090150207, 698.1797112370456 123.75476573063463, 720.000984807753 0.0001736481776669, 720.0009969929412 7.749242068098432e-5, 720.0009998119705 -1.9391331763279458e-5, 720.0009932383578 -0.0001160929141173, 720.0009773338583 -0.0002117038722221, 720.0009522478854 -0.0003053259976885, 720.0009182161069 -0.0003960797660333, 720.0008755582313 -0.0004831125992915, 720.0008246750041 -0.0005656068754821, 720.0007660444431 -0.0006427876096829, 720.0007002173478 -0.0007139297345549, 720.0006278121247 -0.0007783649119218, 720.0005495089781 -0.0008354878114112, 720.0004660435197 -0.0008847617971754, 720.0003781998581 -0.0009257239692681, 720.0002868032327 -0.000957989512315, 720.0001927122605 -0.0009812553106272, 720.0000968108707 -0.0009953027957931, 720 -0.001, 0 -0.001, -9.801714032956045e-5 -0.0009951847266722, -0.0001950903220161 -0.0009807852804032, -0.0002902846772545 -0.0009569403357322, -0.0003826834323651 -0.0009238795325113, -0.000471396736826 -0.0008819212643484, -0.0005555702330196 -0.0008314696123025, -0.0006343932841636 -0.0007730104533627, -0.0007071067811865 -0.0007071067811865, -0.0007730104533627 -0.0006343932841636, -0.0008314696123025 -0.0005555702330196, -0.0008819212643484 -0.000471396736826, -0.0009238795325113 -0.0003826834323651, -0.0009569403357322 -0.0002902846772545, -0.0009807852804032 -0.0001950903220161, -0.0009951847266722 -9.801714032956059e-5, -0.001 0, -0.0009951847266722 9.801714032956083e-5, -0.0009807852804032 0.0001950903220161, -0.0009569403357322 0.0002902846772545, -0.0009238795325113 0.0003826834323651, -0.0008819212643484 0.000471396736826, -0.0008314696123025 0.0005555702330196, -0.0007730104533627 0.0006343932841636, -0.0007071067811865 0.0007071067811865, -0.0006343932841636 0.0007730104533627, -0.0005555702330196 0.0008314696123025, -0.000471396736826 0.0008819212643484, -0.0003826834323651 0.0009238795325113, -0.0002902846772545 0.0009569403357322, -0.0001950903220161 0.0009807852804032, -9.801714032956064e-5 0.0009951847266722, 0 0.001, 719.9988082464074 0.001))']
2025-08-12 06:09:04,738 - INFO - [calculate_relationships] Intermediate results: adjacency=0, intersections=0, containment=0, overlap=0.0
2025-08-12 06:09:04,739 - INFO - [calculate_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:04,739 - WARNING - [calculate_relationships] All relational features are zero/default. Strokes: [{'vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]}]
2025-08-12 06:09:04,739 - INFO - [extract_relational_features] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:04,739 - DEBUG - [extract_relational_features] Output is JSON serializable.
2025-08-12 06:09:04,740 - INFO - [robust_curvature] INPUT: [[0.52032082 0.63309982]
 [1.         0.63309982]
 [0.98546221 0.70238541]
 [0.95682835 0.76849694]
 [0.91496844 0.82942566]
 [0.86115438 0.88332028]
 [0.79702129 0.92854324]
 [0.7245178  0.96372045]
 [0.64584691 0.98778308]
 [0.563399   1.        ]
 [0.47967918 1.        ]
 [0.47967918 0.59689882]
 [0.         0.59689882]
 [0.17288812 0.        ]
 [0.53757973 0.12807379]
 [0.30813767 0.38656387]
 [0.48167461 0.59545482]]
2025-08-12 06:09:04,740 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,740 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,741 - INFO - Computed angular variance: 0.547549 for 17 vertices.
2025-08-12 06:09:04,742 - INFO - [robust_curvature] INPUT: [[0.52032082 0.63309982]
 [0.47967918 0.59689882]
 [0.         0.59689882]
 [0.48167461 0.59545482]]
2025-08-12 06:09:04,742 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,742 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,744 - INFO - [robust_curvature] INPUT: [[0.86115438 0.88332028]
 [0.79702129 0.92854324]
 [0.7245178  0.96372045]
 [0.64584691 0.98778308]
 [0.563399   1.        ]
 [0.47967918 1.        ]]
2025-08-12 06:09:04,744 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,744 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,744 - INFO - [robust_curvature] INPUT: [[0.17288812 0.        ]
 [0.53757973 0.12807379]
 [0.30813767 0.38656387]]
2025-08-12 06:09:04,745 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,745 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,745 - INFO - [robust_curvature] INPUT: [[1.         0.63309982]
 [0.98546221 0.70238541]
 [0.95682835 0.76849694]
 [0.91496844 0.82942566]]
2025-08-12 06:09:04,745 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,745 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,746 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 4, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,746 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.5475491675431053, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,747 - INFO - [robust_curvature] INPUT: [[0.52201273 0.6329554 ]
 [0.99810406 0.63336562]
 [0.98540813 0.70237323]
 [0.95677761 0.76847706]
 [0.91492258 0.82939868]
 [0.8611148  0.88328702]
 [0.79698918 0.9285047 ]
 [0.72449414 0.96367781]
 [0.64583242 0.98773764]
 [0.56339412 0.99995313]
 [0.48000036 0.9984536 ]
 [0.47783901 0.59844522]
 [0.00250342 0.59460897]
 [0.17362392 0.00278118]
 [0.53530048 0.1285741 ]
 [0.3096836  0.38637359]
 [0.48115714 0.59479788]]
2025-08-12 06:09:04,747 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,747 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,748 - INFO - Computed angular variance: 0.533705 for 17 vertices.
2025-08-12 06:09:04,749 - INFO - [robust_curvature] INPUT: [[0.99810406 0.63336562]
 [0.98540813 0.70237323]
 [0.95677761 0.76847706]
 [0.91492258 0.82939868]
 [0.8611148  0.88328702]
 [0.79698918 0.9285047 ]
 [0.72449414 0.96367781]
 [0.64583242 0.98773764]
 [0.56339412 0.99995313]
 [0.48000036 0.9984536 ]]
2025-08-12 06:09:04,749 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,749 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,749 - INFO - [robust_curvature] INPUT: [[0.52201273 0.6329554 ]
 [0.47783901 0.59844522]
 [0.00250342 0.59460897]
 [0.48115714 0.59479788]]
2025-08-12 06:09:04,750 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,750 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,750 - INFO - [robust_curvature] INPUT: [[0.17362392 0.00278118]
 [0.53530048 0.1285741 ]
 [0.3096836  0.38637359]]
2025-08-12 06:09:04,751 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,751 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,751 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:04,751 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.5337050222423345, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:04,752 - INFO - [robust_curvature] INPUT: [[0.56733586 0.62904571]
 [0.94724206 0.64050112]
 [0.98382033 0.70206277]
 [0.95540657 0.7679398 ]
 [0.91368339 0.82866951]
 [0.8600451  0.88238809]
 [0.79612148 0.92746334]
 [0.72385482 0.96252565]
 [0.64544089 0.98650969]
 [0.56328402 0.99858356]
 [0.4885085  0.95697998]
 [0.4285581  0.63975812]
 [0.06973471 0.53334114]
 [0.19342239 0.0774334 ]
 [0.47417714 0.14220374]
 [0.35105539 0.38124706]
 [0.46746691 0.57711217]]
2025-08-12 06:09:04,752 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,752 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,753 - INFO - Computed angular variance: 0.285617 for 17 vertices.
2025-08-12 06:09:04,754 - INFO - [robust_curvature] INPUT: [[0.56733586 0.62904571]
 [0.4285581  0.63975812]
 [0.06973471 0.53334114]
 [0.19342239 0.0774334 ]
 [0.47417714 0.14220374]
 [0.35105539 0.38124706]
 [0.46746691 0.57711217]]
2025-08-12 06:09:04,754 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,754 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,755 - INFO - [robust_curvature] INPUT: [[0.94724206 0.64050112]
 [0.98382033 0.70206277]
 [0.95540657 0.7679398 ]
 [0.91368339 0.82866951]
 [0.8600451  0.88238809]
 [0.79612148 0.92746334]]
2025-08-12 06:09:04,755 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,755 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,755 - INFO - [robust_curvature] INPUT: [[0.72385482 0.96252565]
 [0.64544089 0.98650969]
 [0.56328402 0.99858356]
 [0.4885085  0.95697998]]
2025-08-12 06:09:04,756 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,757 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,757 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 06:09:04,757 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.2856173383967654, 'complexity': 5, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}
2025-08-12 06:09:04,758 - INFO - [robust_curvature] INPUT: [[0.64271305 0.61272426]
 [0.84657419 0.65488608]
 [0.95023232 0.70505159]
 [0.9480559  0.76624426]
 [0.90895778 0.82593604]
 [0.85602129 0.87900666]
 [0.79285753 0.92354609]
 [0.72146093 0.95813931]
 [0.64429084 0.98010912]
 [0.56579615 0.97106857]
 [0.48278581 0.87531863]
 [0.3525695  0.68364996]
 [0.21683904 0.44982428]
 [0.24599227 0.23581033]
 [0.36149447 0.21467788]
 [0.41161503 0.36909724]
 [0.4809016  0.52867454]]
2025-08-12 06:09:04,758 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,758 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,759 - INFO - Computed angular variance: 0.178387 for 17 vertices.
2025-08-12 06:09:04,760 - INFO - [robust_curvature] INPUT: [[0.64271305 0.61272426]
 [0.84657419 0.65488608]
 [0.95023232 0.70505159]
 [0.9480559  0.76624426]
 [0.90895778 0.82593604]
 [0.85602129 0.87900666]
 [0.79285753 0.92354609]
 [0.72146093 0.95813931]
 [0.64429084 0.98010912]
 [0.56579615 0.97106857]
 [0.48278581 0.87531863]]
2025-08-12 06:09:04,760 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,760 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,760 - INFO - [robust_curvature] INPUT: [[0.3525695  0.68364996]
 [0.21683904 0.44982428]
 [0.24599227 0.23581033]
 [0.36149447 0.21467788]
 [0.41161503 0.36909724]
 [0.4809016  0.52867454]]
2025-08-12 06:09:04,761 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,761 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,761 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 11, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 06:09:04,762 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.17838703534085873, 'complexity': 3, 'groups': {'group_0': {'size': 11, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}
2025-08-12 06:09:04,762 - INFO - [robust_curvature] INPUT: [[0.65825634 0.57210245]
 [0.76622262 0.64487419]
 [0.84468061 0.70761585]
 [0.87957404 0.76470158]
 [0.87272322 0.81812943]
 [0.83549728 0.86617722]
 [0.77942598 0.90451083]
 [0.71172009 0.9259597 ]
 [0.63546107 0.91951895]
 [0.55201505 0.872447  ]
 [0.46570743 0.77823558]
 [0.38895596 0.64733372]
 [0.34065327 0.51141376]
 [0.3350474  0.41276949]
 [0.37284567 0.3813139 ]
 [0.4456987  0.41630048]
 [0.54467297 0.49036071]]
2025-08-12 06:09:04,763 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,763 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,763 - INFO - Computed angular variance: 0.086302 for 17 vertices.
2025-08-12 06:09:04,764 - INFO - [robust_curvature] INPUT: [[0.65825634 0.57210245]
 [0.55201505 0.872447  ]
 [0.46570743 0.77823558]
 [0.38895596 0.64733372]
 [0.34065327 0.51141376]
 [0.3350474  0.41276949]
 [0.37284567 0.3813139 ]
 [0.4456987  0.41630048]
 [0.54467297 0.49036071]]
2025-08-12 06:09:04,765 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,765 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,765 - INFO - [robust_curvature] INPUT: [[0.76622262 0.64487419]
 [0.84468061 0.70761585]
 [0.87957404 0.76470158]
 [0.87272322 0.81812943]
 [0.83549728 0.86617722]
 [0.77942598 0.90451083]
 [0.71172009 0.9259597 ]
 [0.63546107 0.91951895]]
2025-08-12 06:09:04,765 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:04,767 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:04,767 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 9, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 8, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 06:09:04,767 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.08630224293781551, 'complexity': 2, 'groups': {'group_0': {'size': 9, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 8, 'curvature': 0.0, 'complexity': 1}}}
2025-08-12 06:09:04,768 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.5475491675431053, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.5337050222423345, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.2856173383967654, 'complexity': 5, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.17838703534085873, 'complexity': 3, 'groups': {'group_0': {'size': 11, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.08630224293781551, 'complexity': 2, 'groups': {'group_0': {'size': 9, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 8, 'curvature': 0.0, 'complexity': 1}}}}
2025-08-12 06:09:04,768 - INFO - [_calculate_image_features] INPUTS: vertices=[(0.5203208158218974, 0.633099820783206), (1.0, 0.633099820783206), (0.9854622073553833, 0.7023854064323992), (0.9568283455391784, 0.7684969427827529), (0.9149684399532374, 0.8294256642563134), (0.8611543826466551, 0.883320282482527), (0.7970212865194649, 0.9285432367585834), (0.7245178032445789, 0.9637204505027231), (0.6458469144727719, 0.9877830818758601), (0.5633989953499846, 1.0), (0.4796791841781028, 1.0), (0.47967918417810274, 0.5968988234862387), (0.0, 0.5968988234862388), (0.17288811642975047, 0.0), (0.5375797279001502, 0.12807379340787864), (0.3081376683089076, 0.38656386913270946), (0.4816746141105195, 0.5954548222236565)], strokes=[{'command': 'line_normal_0.500-0.500', 'vertices': [(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'arc_normal_0.500_0.625-0.750', 'vertices': [(0.4999999999999999, 0.0), (0.5002727076821033, 7.436948540329169e-08), (0.5005454152830822, 2.9747791951972857e-07), (0.500818122721812, 6.693252359579738e-07), (0.5010908299171685, 1.1899113240843029e-06), (0.501363536788027, 1.8592360290781151e-06), (0.5016362432532635, 2.6772991517654e-06), (0.5019089492317537, 3.6441004488962925e-06), (0.5021816546423731, 4.759639632756496e-06), (0.5024543594039989, 6.02391637155586e-06), (0.5027270634355068, 7.436930289206334e-06), (0.5029997666557735, 8.998680965377481e-06), (0.5032724689836758, 1.0709167935385455e-05), (0.5035451703380909, 1.2568390690526066e-05), (0.5038178706378958, 1.457634867763069e-05), (0.5040905698019686, 1.6733041299454854e-05), (0.504363267749187, 1.903846791434516e-05), (0.5046359643984296, 2.1492627836572353e-05), (0.504908659668575, 2.4095520335998266e-05), (0.5051813534785019, 2.684714463835336e-05), (0.505454045747091, 2.974749992512571e-05)], 'geometry': {'area': 2.6973744002665823e-08, 'perimeter': 0.010908280715892126, 'centroid': [0.5027270390713006, 1.1903978095376274e-05], 'bounds': [0.4999999999999999, 0.0, 0.505454045747091, 2.974749992512571e-05], 'width': 0.005454045747091074, 'height': 2.974749992512571e-05}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.005454045747091074, 'height': 2.974749992512571e-05}, {'command': 'line_normal_0.500-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.500-0.250', 'vertices': [(0.5, 0.5), (0.5, 0.5555555555555556), (0.5, 0.6111111111111112), (0.5, 0.6666666666666666), (0.5, 0.7222222222222222), (0.5, 0.7777777777777778), (0.5, 0.8333333333333333), (0.5, 0.8888888888888888), (0.5, 0.9444444444444444), (0.5, 1.0)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.762-0.788', 'vertices': [(0.5, 0.5), (0.5128723025522913, 0.447115472822787), (0.5257446051045827, 0.39423094564557404), (0.5386169076568739, 0.3413464184683611), (0.5514892102091652, 0.2884618912911481), (0.5643615127614565, 0.23557736411393515), (0.5772338153137478, 0.18269283693672217), (0.5901061178660392, 0.1298083097595092), (0.6029784204183304, 0.07692378258229621), (0.6158507229706217, 0.024039255405083226), (0.628723025522913, -0.0288452717721297), (0.6415953280752043, -0.08172979894934274), (0.6544676306274957, -0.13461432612655566), (0.6673399331797869, -0.1874988533037687), (0.6802122357320782, -0.24038338048098162)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.412-0.775', 'vertices': [(0.5, 0.5), (0.5092072856566536, 0.4418674862392576), (0.5184145713133071, 0.3837349724785152), (0.5276218569699608, 0.3256024587177728), (0.5368291426266143, 0.2674699449570304), (0.5460364282832679, 0.209337431196288), (0.5552437139399216, 0.15120491743554565), (0.5644509995965751, 0.09307240367480324)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.400-0.789', 'vertices': [(0.5, 0.5), (0.5138628131883091, 0.44456419448627965), (0.527725626376618, 0.38912838897255936), (0.5415884395649271, 0.333692583458839), (0.5554512527532361, 0.2782567779451187), (0.5693140659415452, 0.22282097243139837), (0.5831768791298542, 0.16738516691767802), (0.5970396923181632, 0.11194936140395773)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.316-0.301', 'vertices': [(0.5, 0.5), (0.4857806085412748, 0.5428449116881333), (0.4715612170825496, 0.5856898233762666), (0.4573418256238244, 0.6285347350643999), (0.4431224341650993, 0.6713796467525333), (0.4289030427063741, 0.7142245584406666), (0.4146836512476489, 0.7570694701287998), (0.4004642597889237, 0.7999143818169331)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}], geometry={'area': 0.33719587035626253, 'perimeter': 3.7428926365541084, 'centroid': [0.44867678683185835, 0.5358196079379418], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 06:09:04,769 - DEBUG - [POLYGON CREATION] Attempting to create Polygon with vertices: [(0.5203208158218974, 0.633099820783206), (1.0, 0.633099820783206), (0.9854622073553833, 0.7023854064323992), (0.9568283455391784, 0.7684969427827529), (0.9149684399532374, 0.8294256642563134), (0.8611543826466551, 0.883320282482527), (0.7970212865194649, 0.9285432367585834), (0.7245178032445789, 0.9637204505027231), (0.6458469144727719, 0.9877830818758601), (0.5633989953499846, 1.0), (0.4796791841781028, 1.0), (0.47967918417810274, 0.5968988234862387), (0.0, 0.5968988234862388), (0.17288811642975047, 0.0), (0.5375797279001502, 0.12807379340787864), (0.3081376683089076, 0.38656386913270946), (0.4816746141105195, 0.5954548222236565)]
2025-08-12 06:09:04,770 - DEBUG - polygon: raw build 17 verts in 0.000s
2025-08-12 06:09:04,771 - DEBUG - [POLYGON REPAIR] Final polygon: is_valid=True, is_empty=False, area=0.33719587035626253
2025-08-12 06:09:04,771 - INFO - [_calculate_perimeter] INPUT vertices: [(0.5203208158218974, 0.633099820783206), (1.0, 0.633099820783206), (0.9854622073553833, 0.7023854064323992), (0.9568283455391784, 0.7684969427827529), (0.9149684399532374, 0.8294256642563134), (0.8611543826466551, 0.883320282482527), (0.7970212865194649, 0.9285432367585834), (0.7245178032445789, 0.9637204505027231), (0.6458469144727719, 0.9877830818758601), (0.5633989953499846, 1.0), (0.4796791841781028, 1.0), (0.47967918417810274, 0.5968988234862387), (0.0, 0.5968988234862388), (0.17288811642975047, 0.0), (0.5375797279001502, 0.12807379340787864), (0.3081376683089076, 0.38656386913270946), (0.4816746141105195, 0.5954548222236565)]
2025-08-12 06:09:04,771 - INFO - [_calculate_perimeter] OUTPUT perimeter: 3.7428926365541084
2025-08-12 06:09:04,772 - INFO - [robust_curvature] INPUT: [(0.5203208158218974, 0.633099820783206), (1.0, 0.633099820783206), (0.9854622073553833, 0.7023854064323992), (0.9568283455391784, 0.7684969427827529), (0.9149684399532374, 0.8294256642563134), (0.8611543826466551, 0.883320282482527), (0.7970212865194649, 0.9285432367585834), (0.7245178032445789, 0.9637204505027231), (0.6458469144727719, 0.9877830818758601), (0.5633989953499846, 1.0), (0.4796791841781028, 1.0), (0.47967918417810274, 0.5968988234862387), (0.0, 0.5968988234862388), (0.17288811642975047, 0.0), (0.5375797279001502, 0.12807379340787864), (0.3081376683089076, 0.38656386913270946), (0.4816746141105195, 0.5954548222236565)]
2025-08-12 06:09:04,773 - INFO - [robust_curvature] OUTPUT: 1.3061532745519022
2025-08-12 06:09:04,773 - INFO - Computed angular variance: 0.547549 for 17 vertices.
2025-08-12 06:09:04,775 - INFO - [complexity] Calling calculate_complexity with vertices: [(0.5203208158218974, 0.633099820783206), (1.0, 0.633099820783206), (0.9854622073553833, 0.7023854064323992), (0.9568283455391784, 0.7684969427827529), (0.9149684399532374, 0.8294256642563134), (0.8611543826466551, 0.883320282482527), (0.7970212865194649, 0.9285432367585834), (0.7245178032445789, 0.9637204505027231), (0.6458469144727719, 0.9877830818758601), (0.5633989953499846, 1.0), (0.4796791841781028, 1.0), (0.47967918417810274, 0.5968988234862387), (0.0, 0.5968988234862388), (0.17288811642975047, 0.0), (0.5375797279001502, 0.12807379340787864), (0.3081376683089076, 0.38656386913270946), (0.4816746141105195, 0.5954548222236565)]
2025-08-12 06:09:04,778 - INFO - Complexity: n=17, n_norm=0.83, curvature=0.65, irregularity=0.62, result=0.74
2025-08-12 06:09:04,778 - INFO - [complexity] Output for vertices count 17: 0.7365644242405919
2025-08-12 06:09:04,778 - INFO - [_calculate_image_features] polsby_popper: 0.3024665632719423
2025-08-12 06:09:04,783 - ERROR - [_calculate_image_features] Exception: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull i Qt
Options selected for Qhull 2020.2.r 2020/08/31:
  run-id 2057925310  incidence  Qtriangulate  _pre-merge  _zero-centrum
  _max-width 0.5  Error-roundoff 3.4e-16  _one-merge 1.7e-15
  _near-inside 8.4e-15  Visible-distance 6.7e-16  U-max-coplanar 6.7e-16
  Width-outside 1.3e-15  _wide-facet 4e-15  _maxoutside 2e-15

The input to qhull appears to be less than 2 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p2(v3):     0     0
- p1(v2):   0.5 1.2e-05
- p0(v1):     0     0

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 3.4e-16.  The center point, facets and distances
to the center point are as follows:

center point   0.1676 3.968e-06

facet p1 p0 distance=    0
facet p2 p0 distance= -0.12
facet p2 p1 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:         0    0.5027  difference= 0.5027
  1:         0  1.19e-05  difference= 1.19e-05

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 3.4e-16.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.
Traceback (most recent call last):
  File "C:\Users\HP\AI_Projects\BongordSolver\scripts\logo_to_shape.py", line 1314, in _calculate_image_features
    features['nested_convex_hull_levels'] = nested_convex_hull_levels(groups) if groups else 0
                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AI_Projects\BongordSolver\src\Derive_labels\compositional_hierarchical.py", line 69, in nested_convex_hull_levels
    hull = ConvexHull(np.vstack(group))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "scipy/spatial/_qhull.pyx", line 2492, in scipy.spatial._qhull.ConvexHull.__init__
  File "scipy/spatial/_qhull.pyx", line 356, in scipy.spatial._qhull._Qhull.__init__
scipy.spatial._qhull.QhullError: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull i Qt
Options selected for Qhull 2020.2.r 2020/08/31:
  run-id 2057925310  incidence  Qtriangulate  _pre-merge  _zero-centrum
  _max-width 0.5  Error-roundoff 3.4e-16  _one-merge 1.7e-15
  _near-inside 8.4e-15  Visible-distance 6.7e-16  U-max-coplanar 6.7e-16
  Width-outside 1.3e-15  _wide-facet 4e-15  _maxoutside 2e-15

The input to qhull appears to be less than 2 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p2(v3):     0     0
- p1(v2):   0.5 1.2e-05
- p0(v1):     0     0

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 3.4e-16.  The center point, facets and distances
to the center point are as follows:

center point   0.1676 3.968e-06

facet p1 p0 distance=    0
facet p2 p0 distance= -0.12
facet p2 p1 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:         0    0.5027  difference= 0.5027
  1:         0  1.19e-05  difference= 1.19e-05

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 3.4e-16.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.

2025-08-12 06:09:04,789 - WARNING - [_calculate_image_features] Returning default features due to error.
2025-08-12 06:09:04,789 - DEBUG - [_calculate_composition_features] INPUTS: strokes count=8
2025-08-12 06:09:04,790 - DEBUG - [_calculate_composition_features] OUTPUT: {'stroke_type_distribution': {'line': 7, 'arc': 1}, 'shape_modifier_distribution': {'normal': 8}, 'stroke_diversity': 2, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 9, 'homogeneity_score': 1.0, 'pattern_regularity': 0.125}
2025-08-12 06:09:04,790 - INFO - [_calculate_physics_features] INPUT vertices: [(0.5203208158218974, 0.633099820783206), (1.0, 0.633099820783206), (0.9854622073553833, 0.7023854064323992), (0.9568283455391784, 0.7684969427827529), (0.9149684399532374, 0.8294256642563134), (0.8611543826466551, 0.883320282482527), (0.7970212865194649, 0.9285432367585834), (0.7245178032445789, 0.9637204505027231), (0.6458469144727719, 0.9877830818758601), (0.5633989953499846, 1.0), (0.4796791841781028, 1.0), (0.47967918417810274, 0.5968988234862387), (0.0, 0.5968988234862388), (0.17288811642975047, 0.0), (0.5375797279001502, 0.12807379340787864), (0.3081376683089076, 0.38656386913270946), (0.4816746141105195, 0.5954548222236565)]
2025-08-12 06:09:04,790 - INFO - [_calculate_physics_features] INPUT centroid: [0.44867678683185835, 0.5358196079379418]
2025-08-12 06:09:04,790 - INFO - [_calculate_physics_features] INPUT strokes: ['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']
2025-08-12 06:09:04,791 - INFO - [_calculate_physics_features] polsby_popper: 0.3024665632719423
2025-08-12 06:09:04,794 - INFO - Computed angular variance: 0.547549 for 17 vertices.
2025-08-12 06:09:04,795 - INFO - [_calculate_physics_features] OUTPUT: {'moment_of_inertia': 0.312557639067535, 'center_of_mass': [0.44867678683185835, 0.5358196079379418], 'polsby_popper_compactness': 0.3024665632719423, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.3061532745519022, 'angular_variance': 0.5475491675431053, 'edge_length_variance': 0.03442052296557477}
2025-08-12 06:09:04,795 - INFO - [calculate_shape_relationships] INPUT: shapes=[{'vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]}], buffer_amt=0.001
2025-08-12 06:09:04,795 - DEBUG - [calculate_shape_relationships] Shape 0 vertices: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 06:09:04,796 - DEBUG - [calculate_shape_relationships] Created Polygon for shape 0: POLYGON ((0 0, 720 0, 698.1787264292926 123.75459208245697, 655.1992076432267 241.83984944619894, 592.3673545714308 350.667811300252, 511.5922812750398 446.9317950932866, 415.32829748200515 527.7068683896777, 306.5003356279521 590.5387214614735, 188.41507826421014 633.5182402475396, 64.66048618175317 655.3395138182469, -61.00321996183855 655.3395138182469, -61.00321996183869 -64.66048618175307, -781.0032199618387 -64.66048618175299, -521.497600507646 -1130.8125540743663, 25.905682602495745 -902.0532831360325, -318.48758763863543 -440.35069985040786, -58.00807320807286 -67.23969202295393, 0 0))
2025-08-12 06:09:04,796 - INFO - [calculate_shape_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:04,796 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal'], n=2
2025-08-12 06:09:04,796 - DEBUG - [ensure_str_list] Converting list: ['normal']
2025-08-12 06:09:04,797 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,797 - DEBUG - [ensure_str_list] Result: ['normal']
2025-08-12 06:09:04,797 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal']
2025-08-12 06:09:04,797 - DEBUG - [_extract_ngram_features] OUTPUT: {}
2025-08-12 06:09:04,797 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,798 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'arc'], n=2
2025-08-12 06:09:04,798 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc']
2025-08-12 06:09:04,798 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,798 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:04,798 - DEBUG - [ensure_str_list] Result: ['normal', 'arc']
2025-08-12 06:09:04,798 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'arc']
2025-08-12 06:09:04,798 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|arc': 1}
2025-08-12 06:09:04,800 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,800 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'arc', 'normal'], n=2
2025-08-12 06:09:04,800 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc', 'normal']
2025-08-12 06:09:04,800 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,800 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:04,801 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,801 - DEBUG - [ensure_str_list] Result: ['normal', 'arc', 'normal']
2025-08-12 06:09:04,801 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'arc', 'normal']
2025-08-12 06:09:04,802 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|arc': 1, 'arc|normal': 1}
2025-08-12 06:09:04,802 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,802 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'arc', 'normal', 'normal'], n=2
2025-08-12 06:09:04,802 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc', 'normal', 'normal']
2025-08-12 06:09:04,803 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,803 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:04,803 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,803 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,803 - DEBUG - [ensure_str_list] Result: ['normal', 'arc', 'normal', 'normal']
2025-08-12 06:09:04,804 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'arc', 'normal', 'normal']
2025-08-12 06:09:04,804 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 1}
2025-08-12 06:09:04,804 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,804 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'arc', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:04,805 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,805 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,805 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:04,805 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,806 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,806 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,806 - DEBUG - [ensure_str_list] Result: ['normal', 'arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,806 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'arc', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,807 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 2}
2025-08-12 06:09:04,807 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,807 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'arc', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:04,807 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,807 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,808 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:04,808 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,808 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,808 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,808 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,809 - DEBUG - [ensure_str_list] Result: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,809 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,809 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 3}
2025-08-12 06:09:04,809 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,810 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:04,810 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,810 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,810 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:04,810 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,810 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,812 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,812 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,812 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,812 - DEBUG - [ensure_str_list] Result: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,812 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,813 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 4}
2025-08-12 06:09:04,813 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,813 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:04,813 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,813 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,814 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:04,814 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,814 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,815 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,815 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,815 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,815 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,815 - DEBUG - [ensure_str_list] Result: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,816 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,816 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 5}
2025-08-12 06:09:04,816 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,816 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,817 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,817 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,817 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:04,817 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,817 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,817 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,819 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,819 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,819 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,819 - DEBUG - [ensure_str_list] Result: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,820 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,820 - DEBUG - [_detect_alternation] OUTPUT: 0.375
2025-08-12 06:09:04,820 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:04,820 - INFO - [extract_regularity_features] INPUT: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,820 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,820 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,821 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:04,821 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,821 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,822 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,822 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,822 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,822 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,822 - DEBUG - [ensure_str_list] Result: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,824 - INFO - [extract_regularity_features] OUTPUT: {'regularity_score': 0.875, 'most_common_element': 'normal', 'distribution': {'normal': 7, 'arc': 1}}
2025-08-12 06:09:04,824 - DEBUG - [extract_regularity_features] Output is JSON serializable.
2025-08-12 06:09:04,824 - INFO - [extract_dominant_shape_modifiers] INPUT: {'modifiers': ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']}
2025-08-12 06:09:04,824 - DEBUG - [ensure_str_list] Converting list: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,825 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,825 - DEBUG - [ensure_str_list] Returning string: arc
2025-08-12 06:09:04,825 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,825 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,825 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,826 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,826 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,826 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,826 - DEBUG - [ensure_str_list] Result: ['normal', 'arc', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,827 - INFO - [extract_dominant_shape_modifiers] OUTPUT: {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 7, 'arc': 1}}
2025-08-12 06:09:04,827 - DEBUG - [extract_dominant_shape_modifiers] Output is JSON serializable.
2025-08-12 06:09:04,827 - WARNING - [PATCH] Failed to load canonical summary for image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_3: type object 'FileIO' has no attribute 'load_canonical_features'
2025-08-12 06:09:04,828 - DEBUG - [process_single_image] Passing topo_shape_list to extract_topological_features: [{'vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]}]
2025-08-12 06:09:04,844 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image type: <class 'bongard.bongard.BongardImage'> | problem_id=hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:04,844 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image.one_stroke_shapes: [<src.data_pipeline.logo_parser.OneStrokeShape object at 0x000002594758F410>]
2025-08-12 06:09:04,844 - INFO - [extract_stroke_features_from_shapes] problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 | num_shapes=1 | total_strokes=8
2025-08-12 06:09:04,845 - INFO - [extract_stroke_features_from_shapes] PATCH: shapes=[<src.data_pipeline.logo_parser.OneStrokeShape object at 0x000002594758F410>]
2025-08-12 06:09:04,845 - INFO - [extract_stroke_features_from_shapes] Shape 0 actions: [line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301]
2025-08-12 06:09:04,845 - INFO - [extract_stroke_features_from_shapes] Shape 0: [line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301], None, None, None
2025-08-12 06:09:04,845 - INFO - [extract_stroke_features_from_shapes] Shape 0 geometry: {'area': 0.33719587035626253, 'perimeter': 3.7428926365541084, 'centroid': [0.44867678683185835, 0.5358196079379418], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'robust_curvature': 1.3061532745519022, 'robust_angular_variance': 0.5475491675431053, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 1.5707963267948966}
2025-08-12 06:09:04,845 - INFO - [extract_stroke_features_from_shapes] Shape 0: num_actions=8 | actions=[line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301]
2025-08-12 06:09:04,846 - INFO - [extract_stroke_features_from_shapes] PATCH: Validated/corrected shape_vertices for shape 0: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 06:09:04,846 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=0 | stroke=line_normal_0.500-0.500
2025-08-12 06:09:04,846 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697)]
2025-08-12 06:09:04,846 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,847 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,847 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,848 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,848 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,850 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 06:09:04,850 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 06:09:04,851 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 0: {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 845.6637061435918, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:04,851 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=1 | stroke=arc_normal_0.500_0.625-0.750
2025-08-12 06:09:04,851 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252)]
2025-08-12 06:09:04,853 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,853 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,853 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:04,854 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,854 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,855 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.08911567099058536}
2025-08-12 06:09:04,855 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.08911567099058536, 'is_simple': True}
2025-08-12 06:09:04,855 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252)], 'open_stroke_perimeter': 251.32741228718348, 'compactness': 0.08911567099058536, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718348, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:04,856 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_normal_0.500-0.750
2025-08-12 06:09:04,856 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777)]
2025-08-12 06:09:04,856 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,856 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,856 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:04,857 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,857 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,857 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.0684517115362759}
2025-08-12 06:09:04,858 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.0684517115362759, 'is_simple': True}
2025-08-12 06:09:04,858 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777)], 'open_stroke_perimeter': 251.3274122871835, 'compactness': 0.0684517115362759, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.3274122871835, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'line_length': 251.3274122871835, 'line_angle': 130.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:04,858 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_normal_0.500-0.250
2025-08-12 06:09:04,859 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396)]
2025-08-12 06:09:04,859 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,859 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,859 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:04,860 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,861 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,861 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.08911567099058497}
2025-08-12 06:09:04,861 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.08911567099058497, 'is_simple': True}
2025-08-12 06:09:04,862 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396)], 'open_stroke_perimeter': 251.32741228718345, 'compactness': 0.08911567099058497, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718345, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'line_length': 251.32741228718345, 'line_angle': 150.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:04,862 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=4 | stroke=line_normal_0.762-0.788
2025-08-12 06:09:04,862 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469)]
2025-08-12 06:09:04,863 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,863 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,863 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:04,864 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,864 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,865 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.34381499237488267}
2025-08-12 06:09:04,865 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.34381499237488267, 'is_simple': True}
2025-08-12 06:09:04,865 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 4: {'stroke_index': 4, 'analytic_vertices': [(188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469)], 'open_stroke_perimeter': 251.32741228718345, 'compactness': 0.34381499237488267, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718345, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'line_length': 251.32741228718345, 'line_angle': 170.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:04,865 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=5 | stroke=line_normal_0.412-0.775
2025-08-12 06:09:04,866 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299)]
2025-08-12 06:09:04,866 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,866 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,866 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:04,867 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,867 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,868 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.5390120844526471}
2025-08-12 06:09:04,868 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.5390120844526471, 'is_simple': True}
2025-08-12 06:09:04,869 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 5: {'stroke_index': 5, 'analytic_vertices': [(-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299)], 'open_stroke_perimeter': 1440.0, 'compactness': 0.5390120844526471, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'line_length': 1440.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:04,869 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=6 | stroke=line_normal_0.400-0.789
2025-08-12 06:09:04,869 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325)]
2025-08-12 06:09:04,869 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,869 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,870 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:04,870 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,870 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,871 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.5103104524345886}
2025-08-12 06:09:04,871 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.5103104524345886, 'is_simple': True}
2025-08-12 06:09:04,872 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 6: {'stroke_index': 6, 'analytic_vertices': [(-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325)], 'open_stroke_perimeter': 1690.56, 'compactness': 0.5103104524345886, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1690.56, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}}}, 'line_length': 1690.56, 'line_angle': -76.32000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:04,872 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=7 | stroke=line_normal_0.316-0.301
2025-08-12 06:09:04,873 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 06:09:04,873 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:04,873 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:04,874 - INFO - [compute_feature_statistics] INPUT: label=stroke_7, num_features=1
2025-08-12 06:09:04,874 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_7: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,874 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,876 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.6085570249581287}
2025-08-12 06:09:04,876 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.6085570249581287, 'is_simple': True}
2025-08-12 06:09:04,876 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 7: {'stroke_index': 7, 'analytic_vertices': [(25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 1119.8437878733494, 'compactness': 0.6085570249581287, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1119.8437878733494, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 7.0, 'var': 0.0, 'min': 7.0, 'max': 7.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 7.0, 'var': 0.0, 'min': 7.0, 'max': 7.0, 'count': 1}}}, 'line_length': 1119.8437878733494, 'line_angle': 126.72000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:04,876 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=8
2025-08-12 06:09:04,878 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['arc_is_major', 'line_is_long', 'line_angle', 'avg_stroke_length', 'arc_is_small', 'visual_complexity', 'line_is_vertical', 'arc_span_angle', 'line_is_short', 'is_normal', 'line_curvature_score', 'is_geometric', 'arc_radius', 'convexity_ratio', 'arc_length', 'compactness', 'stroke_index', 'open_stroke_perimeter', 'arc_curvature_score', 'robust_curvature', 'arc_is_full_circle', 'robust_angular_variance', 'degenerate_case', 'is_simple', 'line_length', 'stroke_length', 'geom_complexity', 'arc_is_large', 'geometric_complexity', 'line_is_horizontal', 'arc_curvature', 'num_vertices', 'is_pattern']
2025-08-12 06:09:04,878 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (8) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-12 06:09:04,878 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=8
2025-08-12 06:09:04,878 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 8
2025-08-12 06:09:04,879 - WARNING - Variance: only one value, returning None
2025-08-12 06:09:04,879 - WARNING - Variance: only one value, returning None
2025-08-12 06:09:04,879 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 7, 'num_arcs': 1, 'line_ratio': 0.875, 'arc_ratio': 0.125, 'stroke_diversity': 1}, 'line_aggregate': {'total_line_length': 11016.959380027225, 'avg_line_length': 1573.8513400038894, 'line_length_variance': 3598160.2424409133, 'line_angle_variance': 10603.076440816332, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'diagonal-down'}, 'arc_aggregate': {'total_arc_length': 0.7853981633974483, 'avg_arc_radius': 0.5, 'avg_arc_span': 90.0, 'arc_radius_variance': None, 'arc_span_variance': None, 'total_curvature': 2.0, 'has_full_circles': False, 'has_major_arcs': False, 'curvature_complexity': 1}}
2025-08-12 06:09:04,879 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_normal_0.500-0.500,arc_normal_0.500_0.625-0.750,line_normal_0.500-0.750,line_normal_0.500-0.250,line_normal_0.762-0.788,line_normal_0.412-0.775,line_normal_0.400-0.789,line_normal_0.316-0.301
2025-08-12 06:09:04,880 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']]
2025-08-12 06:09:04,880 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']
2025-08-12 06:09:04,880 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']
2025-08-12 06:09:04,882 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']]
2025-08-12 06:09:04,882 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.500-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 845.6637061435918, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'arc_normal_0.500_0.625-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252)], 'open_stroke_perimeter': 251.32741228718348, 'compactness': 0.08911567099058536, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718348, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.500-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777)], 'open_stroke_perimeter': 251.3274122871835, 'compactness': 0.0684517115362759, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.3274122871835, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.3274122871835, 'line_angle': 130.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.500-0.250', 'features': {'stroke_index': 3, 'analytic_vertices': [(415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396)], 'open_stroke_perimeter': 251.32741228718345, 'compactness': 0.08911567099058497, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718345, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.32741228718345, 'line_angle': 150.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.762-0.788', 'features': {'stroke_index': 4, 'analytic_vertices': [(188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469)], 'open_stroke_perimeter': 251.32741228718345, 'compactness': 0.34381499237488267, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718345, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.32741228718345, 'line_angle': 170.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.412-0.775', 'features': {'stroke_index': 5, 'analytic_vertices': [(-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299)], 'open_stroke_perimeter': 1440.0, 'compactness': 0.5390120844526471, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1440.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.400-0.789', 'features': {'stroke_index': 6, 'analytic_vertices': [(-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325)], 'open_stroke_perimeter': 1690.56, 'compactness': 0.5103104524345886, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1690.56, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1690.56, 'line_angle': -76.32000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 7, 'stroke_command': 'line_normal_0.316-0.301', 'features': {'stroke_index': 7, 'analytic_vertices': [(25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 1119.8437878733494, 'compactness': 0.6085570249581287, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1119.8437878733494, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1119.8437878733494, 'line_angle': 126.72000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:04,882 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:04,883 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:04,883 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-12 06:09:04,883 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-12 06:09:04,884 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.6134798638828637, 0.6843391081408409], 'orientation_degrees': 46.16578543292882}, geometry={'area': 0.33719587035626253, 'perimeter': 3.7428926365541084, 'centroid': [0.44867678683185835, 0.5358196079379418], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 06:09:04,884 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']
2025-08-12 06:09:04,884 - DEBUG - [PATCH][actions field] Joined: line_normal_0.500-0.500,arc_normal_0.500_0.625-0.750,line_normal_0.500-0.750,line_normal_0.500-0.250,line_normal_0.762-0.788,line_normal_0.412-0.775,line_normal_0.400-0.789,line_normal_0.316-0.301
2025-08-12 06:09:04,885 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.500-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 845.6637061435918, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'arc_normal_0.500_0.625-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252)], 'open_stroke_perimeter': 251.32741228718348, 'compactness': 0.08911567099058536, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718348, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.500-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777)], 'open_stroke_perimeter': 251.3274122871835, 'compactness': 0.0684517115362759, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.3274122871835, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.3274122871835, 'line_angle': 130.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.500-0.250', 'features': {'stroke_index': 3, 'analytic_vertices': [(415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396)], 'open_stroke_perimeter': 251.32741228718345, 'compactness': 0.08911567099058497, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718345, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.32741228718345, 'line_angle': 150.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.762-0.788', 'features': {'stroke_index': 4, 'analytic_vertices': [(188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469)], 'open_stroke_perimeter': 251.32741228718345, 'compactness': 0.34381499237488267, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718345, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.32741228718345, 'line_angle': 170.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.412-0.775', 'features': {'stroke_index': 5, 'analytic_vertices': [(-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299)], 'open_stroke_perimeter': 1440.0, 'compactness': 0.5390120844526471, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1440.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.400-0.789', 'features': {'stroke_index': 6, 'analytic_vertices': [(-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325)], 'open_stroke_perimeter': 1690.56, 'compactness': 0.5103104524345886, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1690.56, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1690.56, 'line_angle': -76.32000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 7, 'stroke_command': 'line_normal_0.316-0.301', 'features': {'stroke_index': 7, 'analytic_vertices': [(25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 1119.8437878733494, 'compactness': 0.6085570249581287, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1119.8437878733494, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1119.8437878733494, 'line_angle': 126.72000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:04,885 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 06:09:04,885 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(0.5203208158218974, 0.633099820783206), (1.0, 0.633099820783206), (0.9854622073553833, 0.7023854064323992), (0.9568283455391784, 0.7684969427827529), (0.9149684399532374, 0.8294256642563134), (0.8611543826466551, 0.883320282482527), (0.7970212865194649, 0.9285432367585834), (0.7245178032445789, 0.9637204505027231), (0.6458469144727719, 0.9877830818758601), (0.5633989953499846, 1.0), (0.4796791841781028, 1.0), (0.47967918417810274, 0.5968988234862387), (0.0, 0.5968988234862388), (0.17288811642975047, 0.0), (0.5375797279001502, 0.12807379340787864), (0.3081376683089076, 0.38656386913270946), (0.4816746141105195, 0.5954548222236565)]
2025-08-12 06:09:04,886 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']]
2025-08-12 06:09:04,886 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:04,886 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:04,886 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 5}
2025-08-12 06:09:04,887 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 845.6637061435918, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777)], 'open_stroke_perimeter': 251.3274122871835, 'compactness': 0.0684517115362759, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.3274122871835, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.3274122871835, 'line_angle': 130.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396)], 'open_stroke_perimeter': 251.32741228718345, 'compactness': 0.08911567099058497, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718345, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.32741228718345, 'line_angle': 150.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469)], 'open_stroke_perimeter': 251.32741228718345, 'compactness': 0.34381499237488267, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718345, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.32741228718345, 'line_angle': 170.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299)], 'open_stroke_perimeter': 1440.0, 'compactness': 0.5390120844526471, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1440.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [(-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325)], 'open_stroke_perimeter': 1690.56, 'compactness': 0.5103104524345886, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1690.56, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1690.56, 'line_angle': -76.32000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 7, 'analytic_vertices': [(25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 1119.8437878733494, 'compactness': 0.6085570249581287, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1119.8437878733494, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1119.8437878733494, 'line_angle': 126.72000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': [{'stroke_index': 1, 'analytic_vertices': [(698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252)], 'open_stroke_perimeter': 251.32741228718348, 'compactness': 0.08911567099058536, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718348, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}]}
2025-08-12 06:09:04,887 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-12 06:09:04,887 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': {'x': 0, 'y': 0, 'width': 0, 'height': 0}, 'centroid': [0.0, 0.0], 'width': 0.0, 'height': 0.0, 'area_raw': 0.0, 'area_normalized': 0.0, 'perimeter_raw': 0.0, 'perimeter_normalized': 0.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.0, 'is_convex': False, 'compactness': 0.0, 'polsby_popper_compactness': 0.0, 'eccentricity': 0.0, 'symmetry_score': 0.0, 'horizontal_symmetry': 0.0, 'vertical_symmetry': 0.0, 'rotational_symmetry': 0.0, 'has_quadrangle': False, 'geometric_complexity': 0.0, 'visual_complexity': 0.0, 'curvature_score': 0.0, 'angular_variance': 0.0, 'moment_of_inertia': 0.0, 'irregularity_score': 0.0, 'standardized_complexity': 0.0}
2025-08-12 06:09:04,888 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:04,888 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-12 06:09:04,888 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-12 06:09:04,889 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.500-0.500, stroke_index=0
2025-08-12 06:09:04,889 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.5, param2=None, param3=0.5
2025-08-12 06:09:04,889 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)]
2025-08-12 06:09:04,890 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,890 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,891 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,891 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,891 - INFO - Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 06:09:04,891 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,892 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,892 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,892 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,893 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,893 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.0, 0.5000000000000001)]
2025-08-12 06:09:04,893 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.0, 0.5000000000000001)]
2025-08-12 06:09:04,894 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,894 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,894 - INFO - [_vertices_from_command] INPUT: command=arc_normal_0.500_0.625-0.750, stroke_index=0
2025-08-12 06:09:04,895 - INFO - [_vertices_from_command] Parsed: action_type=arc, modifier=normal, param1=0.5, param2=0.625, param3=0.75
2025-08-12 06:09:04,895 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.4999999999999999, 0.0), (0.5002727076821033, 7.436948540329169e-08), (0.5005454152830822, 2.9747791951972857e-07), (0.500818122721812, 6.693252359579738e-07), (0.5010908299171685, 1.1899113240843029e-06), (0.501363536788027, 1.8592360290781151e-06), (0.5016362432532635, 2.6772991517654e-06), (0.5019089492317537, 3.6441004488962925e-06), (0.5021816546423731, 4.759639632756496e-06), (0.5024543594039989, 6.02391637155586e-06), (0.5027270634355068, 7.436930289206334e-06), (0.5029997666557735, 8.998680965377481e-06), (0.5032724689836758, 1.0709167935385455e-05), (0.5035451703380909, 1.2568390690526066e-05), (0.5038178706378958, 1.457634867763069e-05), (0.5040905698019686, 1.6733041299454854e-05), (0.504363267749187, 1.903846791434516e-05), (0.5046359643984296, 2.1492627836572353e-05), (0.504908659668575, 2.4095520335998266e-05), (0.5051813534785019, 2.684714463835336e-05), (0.505454045747091, 2.974749992512571e-05)]
2025-08-12 06:09:04,895 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,896 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,896 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,898 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:04,898 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:04,898 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.42, 'num_vertices': 21, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,898 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.42, 'num_vertices': 21, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,900 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.500-0.750, stroke_index=0
2025-08-12 06:09:04,900 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.5, param2=None, param3=0.75
2025-08-12 06:09:04,900 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)]
2025-08-12 06:09:04,901 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,901 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,902 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,902 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,903 - INFO - Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 06:09:04,903 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,903 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,904 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,904 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,904 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,905 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.4999999999999999, 0.0)]
2025-08-12 06:09:04,905 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.4999999999999999, 0.0)]
2025-08-12 06:09:04,906 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,906 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,906 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.500-0.250, stroke_index=0
2025-08-12 06:09:04,906 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.5, param2=None, param3=0.25
2025-08-12 06:09:04,907 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.5555555555555556), (0.5, 0.6111111111111112), (0.5, 0.6666666666666666), (0.5, 0.7222222222222222), (0.5, 0.7777777777777778), (0.5, 0.8333333333333333), (0.5, 0.8888888888888888), (0.5, 0.9444444444444444), (0.5, 1.0)]
2025-08-12 06:09:04,907 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,908 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,908 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,908 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,909 - INFO - Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 06:09:04,909 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,909 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,909 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,911 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,912 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,912 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.5, 1.0)]
2025-08-12 06:09:04,912 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.5, 1.0)]
2025-08-12 06:09:04,913 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,913 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,913 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.762-0.788, stroke_index=0
2025-08-12 06:09:04,913 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.762, param2=None, param3=0.788
2025-08-12 06:09:04,914 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5128723025522913, 0.447115472822787), (0.5257446051045827, 0.39423094564557404), (0.5386169076568739, 0.3413464184683611), (0.5514892102091652, 0.2884618912911481), (0.5643615127614565, 0.23557736411393515), (0.5772338153137478, 0.18269283693672217), (0.5901061178660392, 0.1298083097595092), (0.6029784204183304, 0.07692378258229621), (0.6158507229706217, 0.024039255405083226), (0.628723025522913, -0.0288452717721297), (0.6415953280752043, -0.08172979894934274), (0.6544676306274957, -0.13461432612655566), (0.6673399331797869, -0.1874988533037687), (0.6802122357320782, -0.24038338048098162)]
2025-08-12 06:09:04,914 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,915 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,915 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,916 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,916 - INFO - Computed angular variance: 1.140488 for 15 vertices.
2025-08-12 06:09:04,916 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,917 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,917 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,917 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,918 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,918 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,920 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,920 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.3, 'num_vertices': 15, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,920 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.3, 'num_vertices': 15, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,920 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.412-0.775, stroke_index=0
2025-08-12 06:09:04,921 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.412, param2=None, param3=0.775
2025-08-12 06:09:04,921 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5092072856566536, 0.4418674862392576), (0.5184145713133071, 0.3837349724785152), (0.5276218569699608, 0.3256024587177728), (0.5368291426266143, 0.2674699449570304), (0.5460364282832679, 0.209337431196288), (0.5552437139399216, 0.15120491743554565), (0.5644509995965751, 0.09307240367480324)]
2025-08-12 06:09:04,921 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,922 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,922 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,922 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,923 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:04,923 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,923 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,923 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,923 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,925 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,925 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,926 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,926 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,926 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,926 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.400-0.789, stroke_index=0
2025-08-12 06:09:04,926 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.4, param2=None, param3=0.789
2025-08-12 06:09:04,926 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5138628131883091, 0.44456419448627965), (0.527725626376618, 0.38912838897255936), (0.5415884395649271, 0.333692583458839), (0.5554512527532361, 0.2782567779451187), (0.5693140659415452, 0.22282097243139837), (0.5831768791298542, 0.16738516691767802), (0.5970396923181632, 0.11194936140395773)]
2025-08-12 06:09:04,927 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,927 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,928 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,928 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,929 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:04,929 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,929 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,929 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,930 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,930 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,931 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,931 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:04,931 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,931 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,931 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.316-0.301, stroke_index=0
2025-08-12 06:09:04,933 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.316, param2=None, param3=0.301
2025-08-12 06:09:04,933 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4857806085412748, 0.5428449116881333), (0.4715612170825496, 0.5856898233762666), (0.4573418256238244, 0.6285347350643999), (0.4431224341650993, 0.6713796467525333), (0.4289030427063741, 0.7142245584406666), (0.4146836512476489, 0.7570694701287998), (0.4004642597889237, 0.7999143818169331)]
2025-08-12 06:09:04,933 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,934 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,934 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,934 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,935 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:04,935 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,935 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,936 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,936 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,936 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:04,937 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:04,937 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 0.0), (0.0, 1.0)]
2025-08-12 06:09:04,937 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,938 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:04,938 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:04,938 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,939 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,939 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,939 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,939 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,939 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,941 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,941 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,941 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:04,941 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,941 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:04,941 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 7}
2025-08-12 06:09:04,941 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:04,943 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_3', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/3.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.500-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 845.6637061435918, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'arc_normal_0.500_0.625-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252)], 'open_stroke_perimeter': 251.32741228718348, 'compactness': 0.08911567099058536, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718348, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.500-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777)], 'open_stroke_perimeter': 251.3274122871835, 'compactness': 0.0684517115362759, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.3274122871835, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.3274122871835, 'line_angle': 130.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.500-0.250', 'features': {'stroke_index': 3, 'analytic_vertices': [(415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396)], 'open_stroke_perimeter': 251.32741228718345, 'compactness': 0.08911567099058497, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718345, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.32741228718345, 'line_angle': 150.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.762-0.788', 'features': {'stroke_index': 4, 'analytic_vertices': [(188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469)], 'open_stroke_perimeter': 251.32741228718345, 'compactness': 0.34381499237488267, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718345, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.32741228718345, 'line_angle': 170.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.412-0.775', 'features': {'stroke_index': 5, 'analytic_vertices': [(-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299)], 'open_stroke_perimeter': 1440.0, 'compactness': 0.5390120844526471, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1440.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.400-0.789', 'features': {'stroke_index': 6, 'analytic_vertices': [(-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325)], 'open_stroke_perimeter': 1690.56, 'compactness': 0.5103104524345886, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1690.56, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1690.56, 'line_angle': -76.32000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 7, 'stroke_command': 'line_normal_0.316-0.301', 'features': {'stroke_index': 7, 'analytic_vertices': [(25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 1119.8437878733494, 'compactness': 0.6085570249581287, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1119.8437878733494, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1119.8437878733494, 'line_angle': 126.72000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 8, 'raw_vertices': ['(0.0, 0.0)', '(720.0, 0.0)', '(698.1787264292926, 123.75459208245697)', '(655.1992076432267, 241.83984944619894)', '(592.3673545714308, 350.667811300252)', '(511.5922812750398, 446.9317950932866)', '(415.32829748200515, 527.7068683896777)', '(306.5003356279521, 590.5387214614735)', '(188.41507826421014, 633.5182402475396)', '(64.66048618175317, 655.3395138182469)', '(-61.00321996183855, 655.3395138182469)', '(-61.00321996183869, -64.66048618175307)', '(-781.0032199618387, -64.66048618175299)', '(-521.497600507646, -1130.8125540743663)', '(25.905682602495745, -902.0532831360325)', '(-318.48758763863543, -440.35069985040786)', '(-58.00807320807286, -67.23969202295393)'], 'vertices': ['(0.5203208158218974, 0.633099820783206)', '(1.0, 0.633099820783206)', '(0.9854622073553833, 0.7023854064323992)', '(0.9568283455391784, 0.7684969427827529)', '(0.9149684399532374, 0.8294256642563134)', '(0.8611543826466551, 0.883320282482527)', '(0.7970212865194649, 0.9285432367585834)', '(0.7245178032445789, 0.9637204505027231)', '(0.6458469144727719, 0.9877830818758601)', '(0.5633989953499846, 1.0)', '(0.4796791841781028, 1.0)', '(0.47967918417810274, 0.5968988234862387)', '(0.0, 0.5968988234862388)', '(0.17288811642975047, 0.0)', '(0.5375797279001502, 0.12807379340787864)', '(0.3081376683089076, 0.38656386913270946)', '(0.4816746141105195, 0.5954548222236565)'], 'num_vertices': 17, 'position_label': ['0.6134798638828637', '0.6843391081408409'], 'rotation_label_degrees': ['46.16578543292882'], 'image_features': {'bounding_box': {'x': 0, 'y': 0, 'width': 0, 'height': 0}, 'centroid': [0.0, 0.0], 'width': 0.0, 'height': 0.0, 'area_raw': 0.0, 'area_normalized': 0.0, 'perimeter_raw': 0.0, 'perimeter_normalized': 0.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.0, 'is_convex': False, 'compactness': 0.0, 'polsby_popper_compactness': 0.0, 'eccentricity': 0.0, 'symmetry_score': 0.0, 'horizontal_symmetry': 0.0, 'vertical_symmetry': 0.0, 'rotational_symmetry': 0.0, 'has_quadrangle': False, 'geometric_complexity': 0.0, 'visual_complexity': 0.0, 'curvature_score': 0.0, 'angular_variance': 0.0, 'moment_of_inertia': 0.0, 'irregularity_score': 0.0, 'standardized_complexity': 0.0}, 'image_level_features': {'area_mean': 3.371718000333228e-09, 'perimeter_mean': 0.0013635350894865158, 'width_mean': 0.0006817557183863843, 'height_mean': 3.7184374906407136e-06, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.312557639067535, 'center_of_mass': [0.44867678683185835, 0.5358196079379418], 'polsby_popper_compactness': 0.3024665632719423, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.3061532745519022, 'angular_variance': 0.5475491675431053, 'edge_length_variance': 0.03442052296557477}, 'composition_features': {'stroke_type_distribution': {'line': 7, 'arc': 1}, 'shape_modifier_distribution': {'normal': 8}, 'stroke_diversity': 2, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 9, 'homogeneity_score': 1.0, 'pattern_regularity': 0.125}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 845.6637061435918, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777)], 'open_stroke_perimeter': 251.3274122871835, 'compactness': 0.0684517115362759, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.3274122871835, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.3274122871835, 'line_angle': 130.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396)], 'open_stroke_perimeter': 251.32741228718345, 'compactness': 0.08911567099058497, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718345, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.32741228718345, 'line_angle': 150.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469)], 'open_stroke_perimeter': 251.32741228718345, 'compactness': 0.34381499237488267, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718345, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.32741228718345, 'line_angle': 170.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299)], 'open_stroke_perimeter': 1440.0, 'compactness': 0.5390120844526471, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1440.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [(-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325)], 'open_stroke_perimeter': 1690.56, 'compactness': 0.5103104524345886, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1690.56, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1690.56, 'line_angle': -76.32000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 7, 'analytic_vertices': [(25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 1119.8437878733494, 'compactness': 0.6085570249581287, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1119.8437878733494, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1119.8437878733494, 'line_angle': 126.72000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': [{'stroke_index': 1, 'analytic_vertices': [(698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252)], 'open_stroke_perimeter': 251.32741228718348, 'compactness': 0.08911567099058536, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718348, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}]}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 7, 'arc': 1}}, 'processing_metadata': {'processing_timestamp': 1754959144.9434466, 'feature_count': 45}, 'actions': ['line_normal_0.500-0.500,arc_normal_0.500_0.625-0.750,line_normal_0.500-0.750,line_normal_0.500-0.250,line_normal_0.762-0.788,line_normal_0.412-0.775,line_normal_0.400-0.789,line_normal_0.316-0.301'], 'action_program': ['line_normal_0.500-0.500,arc_normal_0.500_0.625-0.750,line_normal_0.500-0.750,line_normal_0.500-0.250,line_normal_0.762-0.788,line_normal_0.412-0.775,line_normal_0.400-0.789,line_normal_0.316-0.301'], 'geometry': {'area': 0.33719587035626253, 'perimeter': 3.7428926365541084, 'centroid': [0.44867678683185835, 0.5358196079379418], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 5}, 'analytic_attributes': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], 'analytic_ngram': {'normal|normal': 7}, 'alternation': 0.375, 'regularity': {'regularity_score': 0.875, 'most_common_element': 'normal', 'distribution': {'normal': 7, 'arc': 1}}}, 'topological_features': {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 6, 2: 7, 3: 6, 4: 6, 5: 6, 6: 6, 7: 6, 1: 1}, 'adjacency_clustering': {0: 1.0, 2: 0.7142857142857143, 3: 1.0, 4: 1.0, 5: 1.0, 6: 1.0, 7: 1.0, 1: 0}, 'intersection_count': 22, 'betweenness_centrality': {0: 0.0, 2: 0.2857142857142857, 3: 0.0, 4: 0.0, 5: 0.0, 6: 0.0, 7: 0.0, 1: 0.0}, 'containment_score': 0, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 4977.952978073034, 'skeleton_graph_features': {'num_nodes': 8, 'num_edges': 22}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.5475491675431053, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.5337050222423345, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.2856173383967654, 'complexity': 5, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.17838703534085873, 'complexity': 3, 'groups': {'group_0': {'size': 11, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.08630224293781551, 'complexity': 2, 'groups': {'group_0': {'size': 9, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 8, 'curvature': 0.0, 'complexity': 1}}}}}
2025-08-12 06:09:04,943 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.6134798638828637, 0.6843391081408409], 'orientation_degrees': 46.16578543292882}
2025-08-12 06:09:04,943 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.33719587035626253, 'perimeter': 3.7428926365541084, 'centroid': [0.44867678683185835, 0.5358196079379418], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 06:09:04,944 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.500-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 845.6637061435918, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'arc_normal_0.500_0.625-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252)], 'open_stroke_perimeter': 251.32741228718348, 'compactness': 0.08911567099058536, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718348, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.500-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777)], 'open_stroke_perimeter': 251.3274122871835, 'compactness': 0.0684517115362759, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.3274122871835, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.3274122871835, 'line_angle': 130.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.500-0.250', 'features': {'stroke_index': 3, 'analytic_vertices': [(415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396)], 'open_stroke_perimeter': 251.32741228718345, 'compactness': 0.08911567099058497, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718345, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.32741228718345, 'line_angle': 150.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.762-0.788', 'features': {'stroke_index': 4, 'analytic_vertices': [(188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469)], 'open_stroke_perimeter': 251.32741228718345, 'compactness': 0.34381499237488267, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718345, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.32741228718345, 'line_angle': 170.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.412-0.775', 'features': {'stroke_index': 5, 'analytic_vertices': [(-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299)], 'open_stroke_perimeter': 1440.0, 'compactness': 0.5390120844526471, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1440.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.400-0.789', 'features': {'stroke_index': 6, 'analytic_vertices': [(-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325)], 'open_stroke_perimeter': 1690.56, 'compactness': 0.5103104524345886, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1690.56, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1690.56, 'line_angle': -76.32000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 7, 'stroke_command': 'line_normal_0.316-0.301', 'features': {'stroke_index': 7, 'analytic_vertices': [(25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 1119.8437878733494, 'compactness': 0.6085570249581287, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1119.8437878733494, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1119.8437878733494, 'line_angle': 126.72000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:04,944 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']]
2025-08-12 06:09:04,945 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 06:09:04,945 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(0.5203208158218974, 0.633099820783206), (1.0, 0.633099820783206), (0.9854622073553833, 0.7023854064323992), (0.9568283455391784, 0.7684969427827529), (0.9149684399532374, 0.8294256642563134), (0.8611543826466551, 0.883320282482527), (0.7970212865194649, 0.9285432367585834), (0.7245178032445789, 0.9637204505027231), (0.6458469144727719, 0.9877830818758601), (0.5633989953499846, 1.0), (0.4796791841781028, 1.0), (0.47967918417810274, 0.5968988234862387), (0.0, 0.5968988234862388), (0.17288811642975047, 0.0), (0.5375797279001502, 0.12807379340787864), (0.3081376683089076, 0.38656386913270946), (0.4816746141105195, 0.5954548222236565)]
2025-08-12 06:09:04,945 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': {'x': 0, 'y': 0, 'width': 0, 'height': 0}, 'centroid': [0.0, 0.0], 'width': 0.0, 'height': 0.0, 'area_raw': 0.0, 'area_normalized': 0.0, 'perimeter_raw': 0.0, 'perimeter_normalized': 0.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.0, 'is_convex': False, 'compactness': 0.0, 'polsby_popper_compactness': 0.0, 'eccentricity': 0.0, 'symmetry_score': 0.0, 'horizontal_symmetry': 0.0, 'vertical_symmetry': 0.0, 'rotational_symmetry': 0.0, 'has_quadrangle': False, 'geometric_complexity': 0.0, 'visual_complexity': 0.0, 'curvature_score': 0.0, 'angular_variance': 0.0, 'moment_of_inertia': 0.0, 'irregularity_score': 0.0, 'standardized_complexity': 0.0}
2025-08-12 06:09:04,947 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.312557639067535, 'center_of_mass': [0.44867678683185835, 0.5358196079379418], 'polsby_popper_compactness': 0.3024665632719423, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.3061532745519022, 'angular_variance': 0.5475491675431053, 'edge_length_variance': 0.03442052296557477}
2025-08-12 06:09:04,947 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 7, 'arc': 1}, 'shape_modifier_distribution': {'normal': 8}, 'stroke_diversity': 2, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 9, 'homogeneity_score': 1.0, 'pattern_regularity': 0.125}
2025-08-12 06:09:04,947 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 845.6637061435918, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777)], 'open_stroke_perimeter': 251.3274122871835, 'compactness': 0.0684517115362759, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.3274122871835, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.3274122871835, 'line_angle': 130.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396)], 'open_stroke_perimeter': 251.32741228718345, 'compactness': 0.08911567099058497, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718345, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.32741228718345, 'line_angle': 150.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469)], 'open_stroke_perimeter': 251.32741228718345, 'compactness': 0.34381499237488267, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718345, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 251.32741228718345, 'line_angle': 170.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299)], 'open_stroke_perimeter': 1440.0, 'compactness': 0.5390120844526471, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1440.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [(-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325)], 'open_stroke_perimeter': 1690.56, 'compactness': 0.5103104524345886, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1690.56, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1690.56, 'line_angle': -76.32000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 7, 'analytic_vertices': [(25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 1119.8437878733494, 'compactness': 0.6085570249581287, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1119.8437878733494, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 1119.8437878733494, 'line_angle': 126.72000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': [{'stroke_index': 1, 'analytic_vertices': [(698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252)], 'open_stroke_perimeter': 251.32741228718348, 'compactness': 0.08911567099058536, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 251.32741228718348, 'avg_stroke_length': 762.6721428957094, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}]}
2025-08-12 06:09:04,948 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}
2025-08-12 06:09:04,950 - INFO - [INPUT] Processing image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018, is_positive=False
2025-08-12 06:09:04,950 - INFO - [INPUT] action_commands type: <class 'list'>, value: [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-12 06:09:04,950 - INFO - [SHAPE SPLIT] Raw action_commands: [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-12 06:09:04,950 - INFO - [SHAPE SPLIT] Sublist 0: ['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-12 06:09:04,950 - INFO - [SHAPE SPLIT] Parsed shapes_commands (multi-object): [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-12 06:09:04,952 - INFO - ComprehensiveNVLabsParser initialized:
2025-08-12 06:09:04,952 - INFO -   Canvas size: 512x512
2025-08-12 06:09:04,952 - INFO -   Coordinate range: (-360, 360)
2025-08-12 06:09:04,953 - INFO -   Base scaling factor: 1440.0
2025-08-12 06:09:04,953 - INFO - [PARSER] Parsing shape 0 commands: ['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-12 06:09:04,953 - INFO - [LOGOPARSER] Input action_commands for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: ['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-12 06:09:04,954 - DEBUG - Parsing 7 commands for hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:04,954 - DEBUG - [ACTIONS_JOIN] line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930
2025-08-12 06:09:04,954 - DEBUG - [ACTIONS_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:04,954 - DEBUG - [ACTIONS_ATTRS] [{'line_length': 1287.3600000000001, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_zigzag_0.894-0.500'}, {'line_length': 720.0, 'line_type': 'circle', 'turn_direction': 'L', 'turn_angle': 153.36, 'name': 'line', 'raw_command': 'line_circle_0.500-0.926'}, {'line_length': 720.0, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 53.28, 'name': 'line', 'raw_command': 'line_zigzag_0.500-0.648'}, {'line_length': 839.52, 'line_type': 'zigzag', 'turn_direction': 'R', 'turn_angle': 120.96000000000001, 'name': 'line', 'raw_command': 'line_zigzag_0.583-0.164'}, {'line_length': 519.84, 'line_type': 'triangle', 'turn_direction': 'L', 'turn_angle': 154.8, 'name': 'line', 'raw_command': 'line_triangle_0.361-0.930'}, {'line_length': 519.84, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 67.32, 'name': 'line', 'raw_command': 'line_circle_0.361-0.313'}, {'line_length': 839.52, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 154.8, 'name': 'line', 'raw_command': 'line_normal_0.583-0.930'}]
2025-08-12 06:09:04,955 - INFO - [OneStrokeShape.__init__] basic_actions: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], start_coordinates: None, start_orientation: None, scaling_factors: None
2025-08-12 06:09:04,955 - DEBUG - [OUTPUT_SHAPE_ACTIONS] line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930
2025-08-12 06:09:04,955 - DEBUG - [OUTPUT_SHAPE_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:04,957 - DEBUG - [OUTPUT_SHAPE_ATTRS] [{'line_length': 1287.3600000000001, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_zigzag_0.894-0.500'}, {'line_length': 720.0, 'line_type': 'circle', 'turn_direction': 'L', 'turn_angle': 153.36, 'name': 'line', 'raw_command': 'line_circle_0.500-0.926'}, {'line_length': 720.0, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 53.28, 'name': 'line', 'raw_command': 'line_zigzag_0.500-0.648'}, {'line_length': 839.52, 'line_type': 'zigzag', 'turn_direction': 'R', 'turn_angle': 120.96000000000001, 'name': 'line', 'raw_command': 'line_zigzag_0.583-0.164'}, {'line_length': 519.84, 'line_type': 'triangle', 'turn_direction': 'L', 'turn_angle': 154.8, 'name': 'line', 'raw_command': 'line_triangle_0.361-0.930'}, {'line_length': 519.84, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 67.32, 'name': 'line', 'raw_command': 'line_circle_0.361-0.313'}, {'line_length': 839.52, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 154.8, 'name': 'line', 'raw_command': 'line_normal_0.583-0.930'}]
2025-08-12 06:09:04,957 - INFO - [OneStrokeShape._calculate_vertices] INPUT basic_actions: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-12 06:09:04,957 - INFO - [OneStrokeShape._calculate_vertices] OUTPUT vertices: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 06:09:04,957 - INFO - [LOGOPARSER] Shape for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 has 8 vertices.
2025-08-12 06:09:04,957 - INFO - [LOGOPARSER] Parsed vertices (raw): [[0.0, 0.0], [1287.3600000000001, 0.0], [643.79417461109, 322.83591558482294], [0.22834922218021347, -3.979039320256561e-13], [63.46670899899013, 837.1348399467902], [-192.6726722314738, 384.778516919384], [-708.8127653910458, 446.689984623101], [2.829815511103675, 1.3152351739121855]]
2025-08-12 06:09:04,958 - INFO - [LOGOPARSER] Vertices bounding box: min=(-708.81,-0.00), max=(1287.36,837.13), center=(137.02,249.09)
2025-08-12 06:09:04,958 - INFO - Successfully created OneStrokeShape with 7 actions using NVLabs implementation
2025-08-12 06:09:04,958 - INFO - [PARSER] Parsed shape 0: type=OneStrokeShape, num_actions=7, action_types=['str', 'str', 'str', 'str', 'str', 'str', 'str'], attributes={}
2025-08-12 06:09:04,958 - INFO - [_vertices_from_command] INPUT: command=line_zigzag_0.894-0.500, stroke_index=0
2025-08-12 06:09:04,958 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.894, param2=None, param3=0.5
2025-08-12 06:09:04,960 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)]
2025-08-12 06:09:04,960 - INFO - [_calculate_vertices_from_action] Bounding box: (-0.394, 0.5, 0.5, 0.5000000000000001)
2025-08-12 06:09:04,960 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,962 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,962 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,963 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,963 - INFO - Computed angular variance: 1.024526 for 17 vertices.
2025-08-12 06:09:04,964 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,964 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,964 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:04,966 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,966 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:04,967 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (-0.394, 0.5000000000000001)]
2025-08-12 06:09:04,967 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (-0.394, 0.5000000000000001)]
2025-08-12 06:09:04,967 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,967 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:04,968 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,969 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=0, assigned is_positive=False
2025-08-12 06:09:04,969 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=0, stroke_dict: {'command': 'line_zigzag_0.894-0.500', 'vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'open_stroke_perimeter': 0.894, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,970 - INFO - [_vertices_from_command] INPUT: command=line_circle_0.500-0.926, stroke_index=1
2025-08-12 06:09:04,970 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.5, param2=None, param3=0.926
2025-08-12 06:09:04,970 - INFO - [_vertices_from_command] Circle vertices: [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)]
2025-08-12 06:09:04,970 - INFO - [_calculate_vertices_from_action] Bounding box: (0.0, 0.0, 1.0, 1.0)
2025-08-12 06:09:04,972 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:04,972 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,973 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:04,977 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275}
2025-08-12 06:09:04,977 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275, 'has_curved_edges': True}
2025-08-12 06:09:04,978 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=1, assigned is_positive=False
2025-08-12 06:09:04,978 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=1, stroke_dict: {'command': 'line_circle_0.500-0.926', 'vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'geometry': {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'open_stroke_perimeter': 2.972254835764386, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,978 - INFO - [_vertices_from_command] INPUT: command=line_zigzag_0.500-0.648, stroke_index=2
2025-08-12 06:09:04,979 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.5, param2=None, param3=0.648
2025-08-12 06:09:04,979 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)]
2025-08-12 06:09:04,979 - INFO - [_calculate_vertices_from_action] Bounding box: (0.20104750847124048, 0.0992165075645618, 0.5, 0.5)
2025-08-12 06:09:04,980 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,981 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,982 - INFO - Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 06:09:04,982 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,982 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,982 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:04,983 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,983 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:04,984 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:04,984 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:04,985 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,985 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:04,987 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=2, assigned is_positive=False
2025-08-12 06:09:04,988 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=2, stroke_dict: {'command': 'line_zigzag_0.500-0.648', 'vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'geometry': {'area': 1.951563910473908e-18, 'perimeter': 0.21194111779932434, 'centroid': [0.26850591607192903, 0.18965300486244888], 'bounds': [0.23733801375732866, 0.14786850366075738, 0.300698338980827, 0.2328110050430412], 'width': 0.06336032522349833, 'height': 0.08494250138228382, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.21194111779932434, 'analytic_vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'open_stroke_perimeter': 0.49999999999999994, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,988 - INFO - [_vertices_from_command] INPUT: command=line_zigzag_0.583-0.164, stroke_index=3
2025-08-12 06:09:04,988 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.583, param2=None, param3=0.164
2025-08-12 06:09:04,988 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)]
2025-08-12 06:09:04,989 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.5, 0.7999182481946182, 0.9999380405608993)
2025-08-12 06:09:04,989 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:04,990 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,991 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:04,991 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:04,991 - INFO - Computed angular variance: 1.468206 for 11 vertices.
2025-08-12 06:09:04,991 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,993 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:04,993 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:04,994 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:04,994 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:04,995 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:04,995 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:04,996 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:04,996 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:04,996 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:04,998 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=3, assigned is_positive=False
2025-08-12 06:09:04,998 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=3, stroke_dict: {'command': 'line_zigzag_0.583-0.164', 'vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'open_stroke_perimeter': 0.5830000000000001, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:04,998 - INFO - [_vertices_from_command] INPUT: command=line_triangle_0.361-0.930, stroke_index=4
2025-08-12 06:09:04,999 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=0.361, param2=None, param3=0.93
2025-08-12 06:09:04,999 - INFO - [_vertices_from_command] Triangle vertices: [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)]
2025-08-12 06:09:04,999 - INFO - [_calculate_vertices_from_action] Bounding box: (0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823)
2025-08-12 06:09:04,999 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,001 - INFO - Convexity: poly_area=0.1693, hull_area=0.1693, ratio=1.0000
2025-08-12 06:09:05,001 - INFO - Computed angular variance: 0.068539 for 4 vertices.
2025-08-12 06:09:05,001 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,002 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,002 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:05,003 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,003 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:05,004 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-12 06:09:05,004 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-12 06:09:05,004 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=4, assigned is_positive=False
2025-08-12 06:09:05,006 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=4, stroke_dict: {'command': 'line_triangle_0.361-0.930', 'vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'geometry': {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'open_stroke_perimeter': 1.8758110245970938, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:05,006 - INFO - [_vertices_from_command] INPUT: command=line_circle_0.361-0.313, stroke_index=5
2025-08-12 06:09:05,006 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.361, param2=None, param3=0.313
2025-08-12 06:09:05,007 - INFO - [_vertices_from_command] Circle vertices: [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)]
2025-08-12 06:09:05,007 - INFO - [_calculate_vertices_from_action] Bounding box: (0.139, 0.139, 0.861, 0.861)
2025-08-12 06:09:05,007 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:05,007 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,008 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:05,010 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547272}
2025-08-12 06:09:05,010 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547272, 'has_curved_edges': True}
2025-08-12 06:09:05,012 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=5, assigned is_positive=False
2025-08-12 06:09:05,012 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=5, stroke_dict: {'command': 'line_circle_0.361-0.313', 'vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'geometry': {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'open_stroke_perimeter': 2.1459679914218865, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:05,012 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.583-0.930, stroke_index=6
2025-08-12 06:09:05,013 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.583, param2=None, param3=0.93
2025-08-12 06:09:05,013 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)]
2025-08-12 06:09:05,013 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.25177067301756295, 1.0275141715876894, 0.5)
2025-08-12 06:09:05,014 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,016 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:05,017 - INFO - Computed angular variance: 1.468206 for 11 vertices.
2025-08-12 06:09:05,017 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,017 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,017 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:05,019 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,019 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,020 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:05,020 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:05,021 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,021 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,023 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=6, assigned is_positive=False
2025-08-12 06:09:05,023 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=6, stroke_dict: {'command': 'line_normal_0.583-0.930', 'vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'geometry': {'area': 2.6020852139652106e-18, 'perimeter': 0.2915, 'centroid': [0.5791271257381535, 0.4627656009526344], 'bounds': [0.5, 0.4379426682543907, 0.6318785428969224, 0.5], 'width': 0.13187854289692236, 'height': 0.06205733174560929, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.2915, 'analytic_vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'open_stroke_perimeter': 0.583, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:05,025 - INFO - [ATTR DEBUG] Shape 0 strokes (dicts): [{'command': 'line_zigzag_0.894-0.500', 'vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'open_stroke_perimeter': 0.894, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_circle_0.500-0.926', 'vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'geometry': {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'open_stroke_perimeter': 2.972254835764386, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_zigzag_0.500-0.648', 'vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'geometry': {'area': 1.951563910473908e-18, 'perimeter': 0.21194111779932434, 'centroid': [0.26850591607192903, 0.18965300486244888], 'bounds': [0.23733801375732866, 0.14786850366075738, 0.300698338980827, 0.2328110050430412], 'width': 0.06336032522349833, 'height': 0.08494250138228382, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.21194111779932434, 'analytic_vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'open_stroke_perimeter': 0.49999999999999994, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_zigzag_0.583-0.164', 'vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'open_stroke_perimeter': 0.5830000000000001, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_triangle_0.361-0.930', 'vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'geometry': {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'open_stroke_perimeter': 1.8758110245970938, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_circle_0.361-0.313', 'vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'geometry': {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'open_stroke_perimeter': 2.1459679914218865, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.583-0.930', 'vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'geometry': {'area': 2.6020852139652106e-18, 'perimeter': 0.2915, 'centroid': [0.5791271257381535, 0.4627656009526344], 'bounds': [0.5, 0.4379426682543907, 0.6318785428969224, 0.5], 'width': 0.13187854289692236, 'height': 0.06205733174560929, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.2915, 'analytic_vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'open_stroke_perimeter': 0.583, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-12 06:09:05,026 - INFO - [PATCH][SHAPE GEOMETRY] idx=0, vertices=[(0.35508588118232887, 0.0), (1.0, 0.0), (0.6776001373494158, 0.3856438654558243), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.4596374425699941), (0.0, 0.5335938289839823), (0.35650350172107487, 0.001571115083438391)], geometry={'area': 0.12433152925499812, 'perimeter': 1.6501113434590915, 'centroid': [0.6776001373494157, 0.12854795515194142], 'bounds': [0.3552002746988317, 0.0, 1.0, 0.3856438654558243], 'width': 0.6447997253011684, 'height': 0.3856438654558243}
2025-08-12 06:09:05,027 - INFO - [robust_curvature] INPUT: [(0.35508588118232887, 0.0), (1.0, 0.0), (0.6776001373494158, 0.3856438654558243), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.4596374425699941), (0.0, 0.5335938289839823), (0.35650350172107487, 0.001571115083438391)]
2025-08-12 06:09:05,028 - INFO - [robust_curvature] OUTPUT: 2.2526438834642915
2025-08-12 06:09:05,028 - INFO - Computed angular variance: 0.247408 for 8 vertices.
2025-08-12 06:09:05,029 - INFO - [PATCH][SHAPE PHYSICS] idx=0, physics features: {'robust_curvature': 2.2526438834642915, 'robust_angular_variance': 0.24740782502259082, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 2.436099559535669}
2025-08-12 06:09:05,029 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 1.28736000e+03  0.00000000e+00]
 [ 6.43794175e+02  3.22835916e+02]
 [ 2.28349222e-01 -3.97903932e-13]
 [ 6.34667090e+01  8.37134840e+02]
 [-1.92672672e+02  3.84778517e+02]
 [-7.08812765e+02  4.46689985e+02]
 [ 2.82981551e+00  1.31523517e+00]]
2025-08-12 06:09:05,030 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,030 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,031 - INFO - Computed angular variance: 0.454561 for 8 vertices.
2025-08-12 06:09:05,032 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 2.28349222e-01 -3.97903932e-13]
 [ 6.34667090e+01  8.37134840e+02]
 [-1.92672672e+02  3.84778517e+02]
 [-7.08812765e+02  4.46689985e+02]
 [ 2.82981551e+00  1.31523517e+00]]
2025-08-12 06:09:05,033 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,033 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,033 - INFO - [robust_curvature] INPUT: [[1287.36          0.        ]
 [ 643.79417461  322.83591558]]
2025-08-12 06:09:05,034 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,034 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,034 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,035 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.4545612501981901, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,035 - INFO - [robust_curvature] INPUT: [[ 4.94950203e+00  5.04558251e-03]
 [ 1.27995247e+03  1.23848212e+00]
 [ 6.43794175e+02  3.20358951e+02]
 [ 2.93983300e+00  4.44994802e+00]
 [ 6.22414933e+01  8.32188018e+02]
 [-1.93670102e+02  3.86751381e+02]
 [-7.04102673e+02  4.44743903e+02]
 [ 8.89144936e-02  3.01876239e+00]]
2025-08-12 06:09:05,035 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,035 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,035 - INFO - Computed angular variance: 1.010010 for 8 vertices.
2025-08-12 06:09:05,037 - INFO - [robust_curvature] INPUT: [[ 4.94950203e+00  5.04558251e-03]
 [ 2.93983300e+00  4.44994802e+00]
 [ 6.22414933e+01  8.32188018e+02]
 [-1.93670102e+02  3.86751381e+02]
 [-7.04102673e+02  4.44743903e+02]
 [ 8.89144936e-02  3.01876239e+00]]
2025-08-12 06:09:05,037 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,037 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,038 - INFO - [robust_curvature] INPUT: [[1.27995247e+03 1.23848212e+00]
 [6.43794175e+02 3.20358951e+02]]
2025-08-12 06:09:05,038 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,039 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,039 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,039 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 1.010010108320618, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,041 - INFO - [robust_curvature] INPUT: [[ 1.37324546e+02  3.43058815e-01]
 [ 1.08113288e+03  3.43664795e+01]
 [ 6.43471172e+02  2.54154171e+02]
 [ 7.57569296e+01  1.23581312e+02]
 [ 2.94180525e+01  6.99628780e+02]
 [-2.20247463e+02  4.39320008e+02]
 [-5.77723543e+02  3.92674134e+02]
 [-7.29389663e+01  4.86865488e+01]]
2025-08-12 06:09:05,041 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,041 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,042 - INFO - Computed angular variance: 0.855591 for 8 vertices.
2025-08-12 06:09:05,042 - INFO - [robust_curvature] INPUT: [[ 1.37324546e+02  3.43058815e-01]
 [ 7.57569296e+01  1.23581312e+02]
 [ 2.94180525e+01  6.99628780e+02]
 [-2.20247463e+02  4.39320008e+02]
 [-5.77723543e+02  3.92674134e+02]
 [-7.29389663e+01  4.86865488e+01]]
2025-08-12 06:09:05,043 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,043 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,043 - INFO - [robust_curvature] INPUT: [[1081.1328835    34.36647948]
 [ 643.47117165  254.15417112]]
2025-08-12 06:09:05,044 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,044 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,044 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,045 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.8555913871130585, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,045 - INFO - [robust_curvature] INPUT: [[ 307.84276878   43.79517399]
 [ 666.61713018   83.9808085 ]
 [ 570.79265603  175.82180969]
 [ 227.19083724  303.43444681]
 [ -19.03888626  468.62829124]
 [-229.65792568  465.65560038]
 [-319.40740292  316.91198002]
 [-108.14556664  134.52638163]]
2025-08-12 06:09:05,046 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,046 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,046 - INFO - Computed angular variance: 0.420841 for 8 vertices.
2025-08-12 06:09:05,047 - INFO - [robust_curvature] INPUT: [[307.84276878  43.79517399]
 [666.61713018  83.9808085 ]
 [570.79265603 175.82180969]
 [227.19083724 303.43444681]]
2025-08-12 06:09:05,049 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,049 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,049 - INFO - [robust_curvature] INPUT: [[ -19.03888626  468.62829124]
 [-229.65792568  465.65560038]
 [-319.40740292  316.91198002]
 [-108.14556664  134.52638163]]
2025-08-12 06:09:05,049 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,050 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,050 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,050 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.42084093020365354, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,051 - INFO - [robust_curvature] INPUT: [[208.94936789 168.52941266]
 [313.10511921 172.30075115]
 [311.32131352 220.08358756]
 [207.76452468 285.02208037]
 [ 65.55715001 329.90683898]
 [-35.12639085 327.26263521]
 [-37.73905341 277.86631981]
 [ 62.36157967 211.78286651]]
2025-08-12 06:09:05,051 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,051 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,053 - INFO - Computed angular variance: 0.269743 for 8 vertices.
2025-08-12 06:09:05,054 - INFO - [robust_curvature] INPUT: [[208.94936789 168.52941266]
 [313.10511921 172.30075115]
 [311.32131352 220.08358756]
 [207.76452468 285.02208037]]
2025-08-12 06:09:05,054 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,055 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,055 - INFO - [robust_curvature] INPUT: [[ 65.55715001 329.90683898]
 [-35.12639085 327.26263521]
 [-37.73905341 277.86631981]
 [ 62.36157967 211.78286651]]
2025-08-12 06:09:05,055 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,057 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,057 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,057 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.26974345350763407, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,057 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.4545612501981901, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 1.010010108320618, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.8555913871130585, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.42084093020365354, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.26974345350763407, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:05,059 - DEBUG - [extract_image_features] Calculated width: 1287.1316507778192, height: 322.83591558482294
2025-08-12 06:09:05,059 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 06:09:05,060 - INFO - [robust_curvature] OUTPUT: 2.1905491448917287
2025-08-12 06:09:05,060 - INFO - Computed angular variance: 0.454561 for 8 vertices.
2025-08-12 06:09:05,061 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 1.28736000e+03  0.00000000e+00]
 [ 6.43794175e+02  3.22835916e+02]
 [ 2.28349222e-01 -3.97903932e-13]
 [ 6.34667090e+01  8.37134840e+02]
 [-1.92672672e+02  3.84778517e+02]
 [-7.08812765e+02  4.46689985e+02]
 [ 2.82981551e+00  1.31523517e+00]]
2025-08-12 06:09:05,061 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,061 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,061 - INFO - Computed angular variance: 0.454561 for 8 vertices.
2025-08-12 06:09:05,063 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 2.28349222e-01 -3.97903932e-13]
 [ 6.34667090e+01  8.37134840e+02]
 [-1.92672672e+02  3.84778517e+02]
 [-7.08812765e+02  4.46689985e+02]
 [ 2.82981551e+00  1.31523517e+00]]
2025-08-12 06:09:05,064 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,064 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,064 - INFO - [robust_curvature] INPUT: [[1287.36          0.        ]
 [ 643.79417461  322.83591558]]
2025-08-12 06:09:05,064 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,066 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,066 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,066 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.4545612501981901, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,067 - INFO - [robust_curvature] INPUT: [[ 4.94950203e+00  5.04558251e-03]
 [ 1.27995247e+03  1.23848212e+00]
 [ 6.43794175e+02  3.20358951e+02]
 [ 2.93983300e+00  4.44994802e+00]
 [ 6.22414933e+01  8.32188018e+02]
 [-1.93670102e+02  3.86751381e+02]
 [-7.04102673e+02  4.44743903e+02]
 [ 8.89144936e-02  3.01876239e+00]]
2025-08-12 06:09:05,067 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,068 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,068 - INFO - Computed angular variance: 1.010010 for 8 vertices.
2025-08-12 06:09:05,069 - INFO - [robust_curvature] INPUT: [[ 4.94950203e+00  5.04558251e-03]
 [ 2.93983300e+00  4.44994802e+00]
 [ 6.22414933e+01  8.32188018e+02]
 [-1.93670102e+02  3.86751381e+02]
 [-7.04102673e+02  4.44743903e+02]
 [ 8.89144936e-02  3.01876239e+00]]
2025-08-12 06:09:05,069 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,070 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,070 - INFO - [robust_curvature] INPUT: [[1.27995247e+03 1.23848212e+00]
 [6.43794175e+02 3.20358951e+02]]
2025-08-12 06:09:05,071 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,071 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,071 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,072 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 1.010010108320618, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,072 - INFO - [robust_curvature] INPUT: [[ 1.37324546e+02  3.43058815e-01]
 [ 1.08113288e+03  3.43664795e+01]
 [ 6.43471172e+02  2.54154171e+02]
 [ 7.57569296e+01  1.23581312e+02]
 [ 2.94180525e+01  6.99628780e+02]
 [-2.20247463e+02  4.39320008e+02]
 [-5.77723543e+02  3.92674134e+02]
 [-7.29389663e+01  4.86865488e+01]]
2025-08-12 06:09:05,073 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,073 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,074 - INFO - Computed angular variance: 0.855591 for 8 vertices.
2025-08-12 06:09:05,075 - INFO - [robust_curvature] INPUT: [[ 1.37324546e+02  3.43058815e-01]
 [ 7.57569296e+01  1.23581312e+02]
 [ 2.94180525e+01  6.99628780e+02]
 [-2.20247463e+02  4.39320008e+02]
 [-5.77723543e+02  3.92674134e+02]
 [-7.29389663e+01  4.86865488e+01]]
2025-08-12 06:09:05,075 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,075 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,076 - INFO - [robust_curvature] INPUT: [[1081.1328835    34.36647948]
 [ 643.47117165  254.15417112]]
2025-08-12 06:09:05,076 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,076 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,076 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,077 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.8555913871130585, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,077 - INFO - [robust_curvature] INPUT: [[ 307.84276878   43.79517399]
 [ 666.61713018   83.9808085 ]
 [ 570.79265603  175.82180969]
 [ 227.19083724  303.43444681]
 [ -19.03888626  468.62829124]
 [-229.65792568  465.65560038]
 [-319.40740292  316.91198002]
 [-108.14556664  134.52638163]]
2025-08-12 06:09:05,077 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,078 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,078 - INFO - Computed angular variance: 0.420841 for 8 vertices.
2025-08-12 06:09:05,079 - INFO - [robust_curvature] INPUT: [[307.84276878  43.79517399]
 [666.61713018  83.9808085 ]
 [570.79265603 175.82180969]
 [227.19083724 303.43444681]]
2025-08-12 06:09:05,079 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,080 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,080 - INFO - [robust_curvature] INPUT: [[ -19.03888626  468.62829124]
 [-229.65792568  465.65560038]
 [-319.40740292  316.91198002]
 [-108.14556664  134.52638163]]
2025-08-12 06:09:05,081 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,081 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,082 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,082 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.42084093020365354, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,083 - INFO - [robust_curvature] INPUT: [[208.94936789 168.52941266]
 [313.10511921 172.30075115]
 [311.32131352 220.08358756]
 [207.76452468 285.02208037]
 [ 65.55715001 329.90683898]
 [-35.12639085 327.26263521]
 [-37.73905341 277.86631981]
 [ 62.36157967 211.78286651]]
2025-08-12 06:09:05,083 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,083 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,084 - INFO - Computed angular variance: 0.269743 for 8 vertices.
2025-08-12 06:09:05,085 - INFO - [robust_curvature] INPUT: [[208.94936789 168.52941266]
 [313.10511921 172.30075115]
 [311.32131352 220.08358756]
 [207.76452468 285.02208037]]
2025-08-12 06:09:05,085 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,085 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,086 - INFO - [robust_curvature] INPUT: [[ 65.55715001 329.90683898]
 [-35.12639085 327.26263521]
 [-37.73905341 277.86631981]
 [ 62.36157967 211.78286651]]
2025-08-12 06:09:05,087 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,087 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,088 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,088 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.26974345350763407, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,088 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.4545612501981901, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 1.010010108320618, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.8555913871130585, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.42084093020365354, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.26974345350763407, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:05,090 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,090 - DEBUG - [extract_image_features] Stroke 0 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:05,091 - DEBUG - [extract_image_features] Stroke 1 geometry: {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 06:09:05,092 - DEBUG - [extract_image_features] Stroke 2 geometry: {'area': 1.951563910473908e-18, 'perimeter': 0.21194111779932434, 'centroid': [0.26850591607192903, 0.18965300486244888], 'bounds': [0.23733801375732866, 0.14786850366075738, 0.300698338980827, 0.2328110050430412], 'width': 0.06336032522349833, 'height': 0.08494250138228382}
2025-08-12 06:09:05,093 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,094 - DEBUG - [extract_image_features] Stroke 3 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:05,094 - DEBUG - [extract_image_features] Stroke 4 geometry: {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646}
2025-08-12 06:09:05,094 - DEBUG - [extract_image_features] Stroke 5 geometry: {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722}
2025-08-12 06:09:05,095 - DEBUG - [extract_image_features] Stroke 6 geometry: {'area': 2.6020852139652106e-18, 'perimeter': 0.2915, 'centroid': [0.5791271257381535, 0.4627656009526344], 'bounds': [0.5, 0.4379426682543907, 0.6318785428969224, 0.5], 'width': 0.13187854289692236, 'height': 0.06205733174560929}
2025-08-12 06:09:05,095 - INFO - [extract_image_features] stroke_type_distribution INPUT: [{'command': 'line_zigzag_0.894-0.500', 'vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_circle_0.500-0.926', 'vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'geometry': {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 1.0, 'height': 1.0}, {'command': 'line_zigzag_0.500-0.648', 'vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'geometry': {'area': 1.951563910473908e-18, 'perimeter': 0.21194111779932434, 'centroid': [0.26850591607192903, 0.18965300486244888], 'bounds': [0.23733801375732866, 0.14786850366075738, 0.300698338980827, 0.2328110050430412], 'width': 0.06336032522349833, 'height': 0.08494250138228382}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.06336032522349833, 'height': 0.08494250138228382}, {'command': 'line_zigzag_0.583-0.164', 'vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_triangle_0.361-0.930', 'vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'geometry': {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.5415000000000001, 'height': 0.6252703415323646}, {'command': 'line_circle_0.361-0.313', 'vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'geometry': {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.722, 'height': 0.722}, {'command': 'line_normal_0.583-0.930', 'vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'geometry': {'area': 2.6020852139652106e-18, 'perimeter': 0.2915, 'centroid': [0.5791271257381535, 0.4627656009526344], 'bounds': [0.5, 0.4379426682543907, 0.6318785428969224, 0.5], 'width': 0.13187854289692236, 'height': 0.06205733174560929}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.13187854289692236, 'height': 0.06205733174560929}]
2025-08-12 06:09:05,097 - INFO - [extract_image_features] stroke_type_distribution OUTPUT: {'line': 7}
2025-08-12 06:09:05,097 - INFO - [extract_image_features] modifier_distribution OUTPUT: {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}
2025-08-12 06:09:05,097 - INFO - [extract_image_features] relational INPUT: []
2025-08-12 06:09:05,097 - INFO - [extract_image_features] relational OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:05,098 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:05,098 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,098 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,098 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,099 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,100 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,100 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,100 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,101 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,101 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,101 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,101 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 6}
2025-08-12 06:09:05,102 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,102 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,102 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,103 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,103 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,103 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,103 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,104 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,104 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,104 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,105 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,105 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,105 - DEBUG - [_detect_alternation] OUTPUT: 0.14285714285714285
2025-08-12 06:09:05,105 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:05,106 - INFO - [extract_image_features] PATCHED ngram: {'normal|normal': 6}
2025-08-12 06:09:05,106 - INFO - [extract_image_features] PATCHED alternation: 0.14285714285714285
2025-08-12 06:09:05,106 - INFO - [extract_image_features] PATCHED regularity: 0.14285714285714285
2025-08-12 06:09:05,107 - INFO - [extract_image_features] PATCHED dominant_shape_functions: line
2025-08-12 06:09:05,107 - INFO - [extract_image_features] PATCHED dominant_modifiers: zigzag
2025-08-12 06:09:05,107 - INFO - [extract_image_features] PATCHED image_canonical_summary: {'area': 207766.1624785309, 'perimeter': 2727.1316507778183, 'compactness': 0.35105282701376045, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'zigzag', 'regularity': 0.14285714285714285}
2025-08-12 06:09:05,107 - INFO - [extract_image_features] OUTPUT: {'area': 207766.1624785309, 'perimeter': 2727.1316507778183, 'convexity_ratio': 0.5375400042896898, 'compactness': 0.35105282701376045, 'aspect_ratio': 3.9869530886802282, 'centroid_x': 643.7941746110904, 'centroid_y': 107.61197186160764, 'width': 1287.1316507778192, 'height': 322.83591558482294, 'bounding_box': (-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902), 'num_vertices': 8, 'curvature': 2.1905491448917287, 'angular_variance': 0.4545612501981901, 'complexity': -0.1253420815946918, 'num_strokes': 7, 'stroke_type_distribution': {'line': 7}, 'modifier_distribution': {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}, 'avg_stroke_length': 0.0, 'stroke_complexity': -0.1253420815946918, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.4545612501981901, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 1.010010108320618, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.8555913871130585, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.42084093020365354, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.26974345350763407, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 179555.5085392413, 'center_of_mass_x': 0.4850858828170155, 'center_of_mass_y': 0.2611596268754171, 'symmetry_score': 803.9190614060234, 'ngram': {'normal|normal': 6}, 'alternation': 0.14285714285714285, 'regularity': 0.14285714285714285, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'zigzag', 'image_canonical_summary': {'area': 207766.1624785309, 'perimeter': 2727.1316507778183, 'compactness': 0.35105282701376045, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'zigzag', 'regularity': 0.14285714285714285}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 7}}
2025-08-12 06:09:05,108 - DEBUG - [extract_image_features] FINAL OUTPUT bounding_box: (-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902)
2025-08-12 06:09:05,108 - DEBUG - [extract_image_features] FINAL OUTPUT width: 1287.1316507778192, height: 322.83591558482294
2025-08-12 06:09:05,108 - DEBUG - [extract_image_features] FINAL OUTPUT curvature: 2.1905491448917287
2025-08-12 06:09:05,109 - INFO - [DIAG] Shape 0 extracted attributes: {'area': 207766.1624785309, 'perimeter': 2727.1316507778183, 'convexity_ratio': 0.5375400042896898, 'compactness': 0.35105282701376045, 'aspect_ratio': 3.9869530886802282, 'centroid_x': 643.7941746110904, 'centroid_y': 107.61197186160764, 'width': 1287.1316507778192, 'height': 322.83591558482294, 'bounding_box': (-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902), 'num_vertices': 8, 'curvature': 2.1905491448917287, 'angular_variance': 0.4545612501981901, 'complexity': -0.1253420815946918, 'num_strokes': 7, 'stroke_type_distribution': {'line': 7}, 'modifier_distribution': {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}, 'avg_stroke_length': 0.0, 'stroke_complexity': -0.1253420815946918, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.4545612501981901, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 1.010010108320618, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.8555913871130585, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.42084093020365354, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.26974345350763407, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 179555.5085392413, 'center_of_mass_x': 0.4850858828170155, 'center_of_mass_y': 0.2611596268754171, 'symmetry_score': 803.9190614060234, 'ngram': {'normal|normal': 6}, 'alternation': 0.14285714285714285, 'regularity': 0.14285714285714285, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'zigzag', 'image_canonical_summary': {'area': 207766.1624785309, 'perimeter': 2727.1316507778183, 'compactness': 0.35105282701376045, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'zigzag', 'regularity': 0.14285714285714285}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 7}}
2025-08-12 06:09:05,109 - INFO - [VALIDATION] expected_strokes=7, actual_shapes=1
2025-08-12 06:09:05,109 - INFO - [VALIDATION] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: Number of action commands matches number of parsed shapes (7)
2025-08-12 06:09:05,109 - INFO - [standardize_coordinates] INPUT vertices: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 06:09:05,111 - INFO - [standardize_coordinates] OUTPUT normalized vertices: [[0.35508588118232887, 4.753164162310427e-16], [1.0, 4.753164162310427e-16], [0.6776001373494158, 0.3856438654558245], [0.3552002746988317, 0.0], [0.3868800776062828, 1.0], [0.2585648407333427, 0.45963744256999434], [0.0, 0.5335938289839826], [0.35650350172107487, 0.0015711150834388655]]
2025-08-12 06:09:05,112 - DEBUG - [process_single_image] Passing shape_list to extract_relational_features: [{'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}]
2025-08-12 06:09:05,112 - INFO - [extract_relational_features] INPUT: [{'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}]
2025-08-12 06:09:05,113 - DEBUG - [extract_relational_features] Shape 0 vertices: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 06:09:05,113 - INFO - [calculate_relationships] INPUT: strokes=[{'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}], buffer_amt=0.001
2025-08-12 06:09:05,113 - DEBUG - [calculate_relationships] Stroke 0: {'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}
2025-08-12 06:09:05,113 - DEBUG - [calculate_relationships] Vertices for stroke 0: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 06:09:05,113 - DEBUG - [calculate_relationships] Created LineString for stroke 0: LINESTRING (0 0, 1287.3600000000001 0, 643.79417461109 322.83591558482294, 0.2283492221802135 -3.979039320256561e-13, 63.46670899899013 837.1348399467902, -192.6726722314738 384.778516919384, -708.8127653910458 446.689984623101, 2.829815511103675 1.3152351739121855)
2025-08-12 06:09:05,114 - DEBUG - [calculate_relationships] Buffered geometries: ['POLYGON ((0.2274219144119125 0.001, 0.4396133104905972 2.8099408235973145, -708.81329590223 446.68913694516493, -708.8133751015216 446.6891919988927, -708.813448628408 446.68925442675277, -708.813515798836 446.6893236479513, -708.8135759878895 446.68939901849296, -708.8136286356034 446.6894798371724, -708.8136732521727 446.6895653520978, -708.8137094225099 446.68965476768614, -708.8137368101063 446.68974725206476, -708.813755160163 446.6898419448107, -708.8137643019614 446.68993796495573, -708.8137641504514 446.69003441918204, -708.8137547070424 446.6901304101334, -708.8137360595907 446.6902250447638, -708.8137083815817 446.6903174426455, -708.8136719305161 446.6904067441603, -708.8136270455143 446.6904921184968, -708.8135741441613 446.69057277138006, -708.8135137186216 446.6906479524606, -708.8134463310606 446.69071696229577, -708.8133726084145 446.6907791588567, -708.8132932365577 446.69083396350123, -708.8132089539215 446.69088086635776, -708.8131205446243 446.69091943106827, -708.8130288311768 446.69094929884824, -708.8129346668297 446.6909701918246, -708.8128389276354 446.69098191562074, -708.8127425042978 446.6909843611651, -708.8126462938857 446.6909775057056, -192.6732143036966 384.77958910984984, 63.46583881523546 837.1353326741317, 63.46589033347885 837.1354142174413, 63.4659494681283 837.1354904180578, 63.4660156690281 837.1355605670534, 63.466088320282104 837.1356240118012, 63.46616674598368 837.1356801620465, 63.46625021650395 837.1357284953991, 63.46633795527989 837.1357685621923, 63.46642914603899 837.1357999896672, 63.46652294039344 837.1358224854401, 63.466618465733006 837.135835840223, 63.466714833343374 837.1358399297702, 63.466811146674175 837.1358347160351, 63.46690650968005 837.1358202475233, 63.467000035156936 837.1357966588417, 63.467090852996094 837.1357641694464, 63.46717811827914 837.1357230816002, 63.46726101913869 837.1356737775617, 63.46733878431151 837.1356167160282, 63.46741069031392 837.1355524278679, 63.467476068172694 837.1354815111822, 63.4675343096488 837.1354046257403, 63.46758487289611 837.1353224868412, 63.46762728750246 837.1352358586594, 63.467661158866065 837.1351455471348, 63.4676861718667 837.1350523924757, 63.467702093797406 837.1349572613407, 63.467708776529435 837.1348610387768, 63.46770615789039 837.1347646199847, 0.4416986518692786 2.8109951191469182, 2.8303460222879817 1.3160828518482706, 2.830426554698841 1.3160267708581157, 2.830501202425849 1.3159630663566408, 2.830569246570587 1.3158923518530192, 2.8306300318307454 1.3158153083665773, 2.8306829728110396 1.315732677868206, 2.8307275596608887 1.3156452561347747, 2.830763362984556 1.3155538850853663, 2.8307900379764614 1.315459444673135, 2.8308073277418515 1.3153628444108767, 2.830815065770834 1.3152650146119242, 2.8308131775419594 1.3151668974307207, 2.8308016812399037 1.3150694377893573, 2.8307806875803414 1.3149735742774575, 2.8307503987436893 1.314880230113045, 2.8307111064280024 1.3147903042514502, 2.8306631890397598 1.3147046627278787, 2.8306071080496054 1.3146241303170192, 2.83054340354813 1.3145494825900113, 2.8304726890445084 1.3144814384452732, 2.8303956455580668 1.314420653185115, 2.8303130150596956 1.3143677122048207, 2.830225593326264 1.3143231253549714, 2.8301342222768557 1.3142873220313045, 2.8300397818646243 1.314260647039399, 2.829943181602366 1.3142433572740089, 2.8298453518034137 1.3142356192450266, 2.82974723462221 1.3142375074739012, 2.829649774980847 1.3142490037759564, 2.8295539114689467 1.314269997435519, 2.8294605673045345 1.314300286272171, 2.8293706414429396 1.314339578587858, 2.829284999919368 1.3143874959761004, 0.4415284662814811 2.8087422415374275, 0.2294794123879221 0.0016857109986829, 643.793726227874 322.8368094262471, 643.7938208097363 322.8368509054108, 643.7939191653321 322.8368824082116, 643.7940202455762 322.83690359863266, 643.7941229723215 322.8369142506517, 643.7942262498586 322.8369142506517, 643.7943289766039 322.83690359863266, 643.794430056848 322.8368824082116, 643.7945284124438 322.8368509054108, 643.7946229943061 322.8368094262471, 1287.3604483832162 0.0008938414241513, 1287.360534647369 0.0008450752575891, 1287.3606156614753 0.0007880107536255, 1287.360690630006 0.0007232082653356, 1287.3607588167963 0.0006513041300236, 1287.3608195522766 0.0005730044206326, 1287.360872240046 0.0004890780123603, 1287.3609163627298 0.0004003490325793, 1287.3609514870584 0.0003076887681997, 1287.3609772681236 0.0002120071099436, 1287.360993452765 0.000114243617542, 1287.3609998820546 1.535829359450424e-5, 1287.3609964928594 -8.367784331404813e-5, 1287.36098331846 -0.0001818922936694, 1287.3609604882242 -0.0002783206266259, 1287.3609282263371 -0.0003720159503734, 1287.3608868495985 -0.0004620582102763, 1287.3608367643135 -0.0005475632234823, 1287.3607784623016 -0.0006276913612821, 1287.360712516068 -0.0007016557939636, 1287.3606395731806 -0.0007687302171989, 1287.360560349913 -0.0008282559840935, 1287.3604756242091 -0.0008796485728637, 1287.3603862280454 -0.000922403326632, 1287.3602930392601 -0.0009561004089774, 1287.360196972934 -0.0009804089265791, 1287.3600989724039 -0.0009950901784711, 1287.3600000000001 -0.001, 0 -0.001, -9.801714032956045e-5 -0.0009951847266722, -0.0001950903220161 -0.0009807852804032, -0.0002902846772545 -0.0009569403357322, -0.0003826834323651 -0.0009238795325113, -0.000471396736826 -0.0008819212643484, -0.0005555702330196 -0.0008314696123025, -0.0006343932841636 -0.0007730104533627, -0.0007071067811865 -0.0007071067811865, -0.0007730104533627 -0.0006343932841636, -0.0008314696123025 -0.0005555702330196, -0.0008819212643484 -0.000471396736826, -0.0009238795325113 -0.0003826834323651, -0.0009569403357322 -0.0002902846772545, -0.0009807852804032 -0.0001950903220161, -0.0009951847266722 -9.801714032956059e-5, -0.001 0, -0.0009951847266722 9.801714032956083e-5, -0.0009807852804032 0.0001950903220161, -0.0009569403357322 0.0002902846772545, -0.0009238795325113 0.0003826834323651, -0.0008819212643484 0.000471396736826, -0.0008314696123025 0.0005555702330196, -0.0007730104533627 0.0006343932841636, -0.0007071067811865 0.0007071067811865, -0.0006343932841636 0.0007730104533627, -0.0005555702330196 0.0008314696123025, -0.000471396736826 0.0008819212643484, -0.0003826834323651 0.0009238795325113, -0.0002902846772545 0.0009569403357322, -0.0001950903220161 0.0009807852804032, -9.801714032956064e-5 0.0009951847266722, 0 0.001, 0.2274219144119125 0.001), (0.2325729338548419 0.001, 1287.3557762883263 0.001, 643.79417461109 322.8347968181458, 0.2325729338548419 0.001), (0.4397834960783947 2.8121937012068052, 63.46537484733379 837.130454241116, -192.67180204771913 384.77802419204244, -192.67185438294055 384.7779414858286, -192.6719145525729 384.7778642918615, -192.67198198023357 384.7777933496048, -192.6720560200133 384.7777293386352, -192.67213596266322 384.7776728721325, -192.67222104238937 384.7776244910059, -192.67231044418804 384.7775846587124, -192.6724033116532 384.7775537568172, -192.67249875518016 384.7775320813387, -192.6725958604874 384.77751983991254, -192.67269369737474 384.777517149803, -192.6727913286339 384.7775240367794, -708.8084425867735 446.6884589304305, 0.4397834960783947 2.8121937012068052))']
2025-08-12 06:09:05,114 - INFO - [calculate_relationships] Intermediate results: adjacency=0, intersections=0, containment=0, overlap=0.0
2025-08-12 06:09:05,114 - INFO - [calculate_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:05,114 - WARNING - [calculate_relationships] All relational features are zero/default. Strokes: [{'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}]
2025-08-12 06:09:05,115 - INFO - [extract_relational_features] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:05,115 - DEBUG - [extract_relational_features] Output is JSON serializable.
2025-08-12 06:09:05,115 - INFO - [robust_curvature] INPUT: [[3.55085881e-01 4.75316416e-16]
 [1.00000000e+00 4.75316416e-16]
 [6.77600137e-01 3.85643865e-01]
 [3.55200275e-01 0.00000000e+00]
 [3.86880078e-01 1.00000000e+00]
 [2.58564841e-01 4.59637443e-01]
 [0.00000000e+00 5.33593829e-01]
 [3.56503502e-01 1.57111508e-03]]
2025-08-12 06:09:05,115 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,115 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,117 - INFO - Computed angular variance: 0.247408 for 8 vertices.
2025-08-12 06:09:05,118 - INFO - [robust_curvature] INPUT: [[3.55085881e-01 4.75316416e-16]
 [1.00000000e+00 4.75316416e-16]
 [6.77600137e-01 3.85643865e-01]
 [3.55200275e-01 0.00000000e+00]
 [3.56503502e-01 1.57111508e-03]]
2025-08-12 06:09:05,118 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,118 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,119 - INFO - [robust_curvature] INPUT: [[0.38688008 1.        ]
 [0.25856484 0.45963744]
 [0.         0.53359383]]
2025-08-12 06:09:05,119 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,119 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,120 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,120 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.2474078250225908, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,120 - INFO - [robust_curvature] INPUT: [[3.57565377e-01 6.02720406e-06]
 [9.96289133e-01 1.47942967e-03]
 [6.77600137e-01 3.82685006e-01]
 [3.56558616e-01 5.31568847e-03]
 [3.86266295e-01 9.94090771e-01]
 [2.58065170e-01 4.61994129e-01]
 [2.35956134e-03 5.31269136e-01]
 [3.55130424e-01 3.60606470e-03]]
2025-08-12 06:09:05,121 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,121 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,121 - INFO - Computed angular variance: 0.784881 for 8 vertices.
2025-08-12 06:09:05,123 - INFO - [robust_curvature] INPUT: [[3.57565377e-01 6.02720406e-06]
 [9.96289133e-01 1.47942967e-03]
 [6.77600137e-01 3.82685006e-01]
 [3.56558616e-01 5.31568847e-03]
 [3.55130424e-01 3.60606470e-03]]
2025-08-12 06:09:05,123 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,124 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,124 - INFO - [robust_curvature] INPUT: [[0.3862663  0.99409077]
 [0.25806517 0.46199413]
 [0.00235956 0.53126914]]
2025-08-12 06:09:05,124 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,125 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,125 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,125 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.7848807085191869, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,125 - INFO - [robust_curvature] INPUT: [[4.23879799e-01 4.09801144e-04]
 [8.96688744e-01 4.10525017e-02]
 [6.77438326e-01 3.03600040e-01]
 [3.93036970e-01 1.47624141e-01]
 [3.69823109e-01 8.35742041e-01]
 [2.44751011e-01 5.24790018e-01]
 [6.56702788e-02 4.69069157e-01]
 [3.18546476e-01 5.81585504e-02]]
2025-08-12 06:09:05,126 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,126 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,126 - INFO - Computed angular variance: 0.568203 for 8 vertices.
2025-08-12 06:09:05,127 - INFO - [robust_curvature] INPUT: [[4.23879799e-01 4.09801144e-04]
 [8.96688744e-01 4.10525017e-02]
 [6.77438326e-01 3.03600040e-01]
 [3.93036970e-01 1.47624141e-01]
 [3.18546476e-01 5.81585504e-02]]
2025-08-12 06:09:05,127 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,128 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,128 - INFO - [robust_curvature] INPUT: [[0.36982311 0.83574204]
 [0.24475101 0.52479002]
 [0.06567028 0.46906916]]
2025-08-12 06:09:05,128 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,129 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,129 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,129 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.5682027026722688, 'complexity': 4, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,130 - INFO - [robust_curvature] INPUT: [[0.50930238 0.05231556]
 [0.68903349 0.10031933]
 [0.6410294  0.21002806]
 [0.46889909 0.36246783]
 [0.34554819 0.55980025]
 [0.24003676 0.55624922]
 [0.19507598 0.37856742]
 [0.30090942 0.16069858]]
2025-08-12 06:09:05,130 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,130 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,131 - INFO - Computed angular variance: 0.195097 for 8 vertices.
2025-08-12 06:09:05,132 - INFO - [robust_curvature] INPUT: [[0.46889909 0.36246783]
 [0.34554819 0.55980025]
 [0.24003676 0.55624922]
 [0.19507598 0.37856742]
 [0.30090942 0.16069858]]
2025-08-12 06:09:05,132 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,132 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,133 - INFO - [robust_curvature] INPUT: [[0.50930238 0.05231556]
 [0.68903349 0.10031933]
 [0.6410294  0.21002806]]
2025-08-12 06:09:05,133 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,133 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,134 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,134 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.19509708599975403, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,134 - INFO - [robust_curvature] INPUT: [[0.45976087 0.20131693]
 [0.5119386  0.20582198]
 [0.51104498 0.262901  ]
 [0.45916732 0.34047332]
 [0.3879273  0.39409044]
 [0.33748901 0.39093181]
 [0.33618018 0.3319254 ]
 [0.38632645 0.25298537]]
2025-08-12 06:09:05,135 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,135 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,136 - INFO - Computed angular variance: 0.182001 for 8 vertices.
2025-08-12 06:09:05,137 - INFO - [robust_curvature] INPUT: [[0.45916732 0.34047332]
 [0.3879273  0.39409044]
 [0.33748901 0.39093181]
 [0.33618018 0.3319254 ]
 [0.38632645 0.25298537]]
2025-08-12 06:09:05,137 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,137 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,139 - INFO - [robust_curvature] INPUT: [[0.45976087 0.20131693]
 [0.5119386  0.20582198]
 [0.51104498 0.262901  ]]
2025-08-12 06:09:05,139 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,139 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,139 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,140 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.18200108496378298, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,140 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.2474078250225908, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.7848807085191869, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.5682027026722688, 'complexity': 4, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.19509708599975403, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.18200108496378298, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:05,140 - INFO - [_calculate_image_features] INPUTS: vertices=[(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)], strokes=[{'command': 'line_zigzag_0.894-0.500', 'vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_circle_0.500-0.926', 'vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'geometry': {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 1.0, 'height': 1.0}, {'command': 'line_zigzag_0.500-0.648', 'vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'geometry': {'area': 1.951563910473908e-18, 'perimeter': 0.21194111779932434, 'centroid': [0.26850591607192903, 0.18965300486244888], 'bounds': [0.23733801375732866, 0.14786850366075738, 0.300698338980827, 0.2328110050430412], 'width': 0.06336032522349833, 'height': 0.08494250138228382}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.06336032522349833, 'height': 0.08494250138228382}, {'command': 'line_zigzag_0.583-0.164', 'vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_triangle_0.361-0.930', 'vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'geometry': {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.5415000000000001, 'height': 0.6252703415323646}, {'command': 'line_circle_0.361-0.313', 'vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'geometry': {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.722, 'height': 0.722}, {'command': 'line_normal_0.583-0.930', 'vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'geometry': {'area': 2.6020852139652106e-18, 'perimeter': 0.2915, 'centroid': [0.5791271257381535, 0.4627656009526344], 'bounds': [0.5, 0.4379426682543907, 0.6318785428969224, 0.5], 'width': 0.13187854289692236, 'height': 0.06205733174560929}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.13187854289692236, 'height': 0.06205733174560929}], geometry={'area': 0.12433152925499794, 'perimeter': 1.6501113434590904, 'centroid': [0.677600137349416, 0.12854795515194184], 'bounds': [0.3552002746988321, 4.753164162310427e-16, 1.0, 0.3856438654558245], 'width': 0.6447997253011679, 'height': 0.385643865455824}
2025-08-12 06:09:05,141 - DEBUG - [POLYGON CREATION] Attempting to create Polygon with vertices: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-12 06:09:05,141 - DEBUG - [POLYGON REPAIR] Final polygon: is_valid=True, is_empty=False, area=0.5084825935046632
2025-08-12 06:09:05,141 - INFO - [_calculate_perimeter] INPUT vertices: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-12 06:09:05,141 - INFO - [_calculate_perimeter] OUTPUT perimeter: 4.117589844652146
2025-08-12 06:09:05,142 - INFO - [robust_curvature] INPUT: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-12 06:09:05,142 - INFO - [robust_curvature] OUTPUT: 2.252643883464292
2025-08-12 06:09:05,143 - INFO - Computed angular variance: 0.247408 for 8 vertices.
2025-08-12 06:09:05,143 - INFO - [complexity] Calling calculate_complexity with vertices: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-12 06:09:05,144 - INFO - Complexity: n=8, n_norm=0.33, curvature=1.00, irregularity=0.13, result=0.49
2025-08-12 06:09:05,145 - INFO - [complexity] Output for vertices count 8: 0.49298736326093345
2025-08-12 06:09:05,145 - INFO - [_calculate_image_features] polsby_popper: 0.17429059689039136
2025-08-12 06:09:05,148 - INFO - [_calculate_image_features] OUTPUT: {'bounding_box': (0.0, 0.0, 1.0, 1.0), 'centroid': [0.677600137349416, 0.12854795515194184], 'width': 0.6447997253011679, 'height': 0.385643865455824, 'area_raw': 0.5084825935046632, 'area_normalized': 1.0, 'perimeter_raw': 4.117589844652146, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.6720082518077304, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.37687713209159157, 'polsby_popper_compactness': 0.17429059689039136, 'eccentricity': 0.541552212030195, 'symmetry_score': 0.40273020218695216, 'horizontal_symmetry': 0.6007061294530136, 'vertical_symmetry': 0.4500485603803981, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 8.0, 'visual_complexity': 0.5711116454474393, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'moment_of_inertia': 0.1988356493263487, 'irregularity_score': 0.131603482971322, 'standardized_complexity': 0.49298736326093345, 'clustering_heights': [0.0, 0.10746205320699521, 0.3957146229643306, 0.49314337760036253, 1.462991292310712, 4.729190345240624], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:05,148 - DEBUG - [_calculate_composition_features] INPUTS: strokes count=7
2025-08-12 06:09:05,148 - DEBUG - [_calculate_composition_features] OUTPUT: {'stroke_type_distribution': {'line': 7}, 'shape_modifier_distribution': {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'zigzag', 'composition_complexity': 11, 'homogeneity_score': 0.30612244897959184, 'pattern_regularity': 0.5714285714285714}
2025-08-12 06:09:05,149 - INFO - [_calculate_physics_features] INPUT vertices: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-12 06:09:05,149 - INFO - [_calculate_physics_features] INPUT centroid: [0.677600137349416, 0.12854795515194184]
2025-08-12 06:09:05,149 - INFO - [_calculate_physics_features] INPUT strokes: ['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-12 06:09:05,150 - INFO - [_calculate_physics_features] polsby_popper: 0.6802566981244207
2025-08-12 06:09:05,151 - INFO - Computed angular variance: 0.247408 for 8 vertices.
2025-08-12 06:09:05,152 - INFO - [_calculate_physics_features] OUTPUT: {'moment_of_inertia': 0.1988356493263487, 'center_of_mass': [0.677600137349416, 0.12854795515194184], 'polsby_popper_compactness': 0.6802566981244207, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'edge_length_variance': 0.07423181245043547}
2025-08-12 06:09:05,152 - INFO - [calculate_shape_relationships] INPUT: shapes=[{'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}], buffer_amt=0.001
2025-08-12 06:09:05,152 - DEBUG - [calculate_shape_relationships] Shape 0 vertices: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 06:09:05,153 - WARNING - calculate_shape_relationships: No valid geometries found.
2025-08-12 06:09:05,153 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal'], n=2
2025-08-12 06:09:05,153 - DEBUG - [ensure_str_list] Converting list: ['normal']
2025-08-12 06:09:05,154 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,154 - DEBUG - [ensure_str_list] Result: ['normal']
2025-08-12 06:09:05,154 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal']
2025-08-12 06:09:05,155 - DEBUG - [_extract_ngram_features] OUTPUT: {}
2025-08-12 06:09:05,155 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,155 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal'], n=2
2025-08-12 06:09:05,155 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal']
2025-08-12 06:09:05,156 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,156 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,156 - DEBUG - [ensure_str_list] Result: ['normal', 'normal']
2025-08-12 06:09:05,156 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal']
2025-08-12 06:09:05,158 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 1}
2025-08-12 06:09:05,158 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,158 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal'], n=2
2025-08-12 06:09:05,158 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal']
2025-08-12 06:09:05,158 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,159 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,159 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,159 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal']
2025-08-12 06:09:05,160 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal']
2025-08-12 06:09:05,160 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 2}
2025-08-12 06:09:05,160 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,160 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:05,161 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,161 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,161 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,161 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,161 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,161 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,163 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,163 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-12 06:09:05,163 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,163 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:05,163 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,164 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,164 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,164 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,164 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,165 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,165 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,165 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,165 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 4}
2025-08-12 06:09:05,166 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,166 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:05,166 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,166 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,167 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,167 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,167 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,167 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,167 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,167 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,169 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,169 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-12 06:09:05,169 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,169 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:05,170 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,170 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,170 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,170 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,171 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,171 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,171 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,171 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,171 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,172 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,172 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 6}
2025-08-12 06:09:05,172 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,173 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,173 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,173 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,173 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,173 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,173 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,174 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,174 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,174 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,174 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,174 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,174 - DEBUG - [_detect_alternation] OUTPUT: 0.14285714285714285
2025-08-12 06:09:05,175 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:05,175 - INFO - [extract_regularity_features] INPUT: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,175 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,175 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,176 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,176 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,176 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,176 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,176 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,178 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,178 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,178 - INFO - [extract_regularity_features] OUTPUT: {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 7}}
2025-08-12 06:09:05,178 - DEBUG - [extract_regularity_features] Output is JSON serializable.
2025-08-12 06:09:05,179 - INFO - [extract_dominant_shape_modifiers] INPUT: {'modifiers': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']}
2025-08-12 06:09:05,179 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,179 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,179 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,179 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,179 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,179 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,180 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,180 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,180 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,180 - INFO - [extract_dominant_shape_modifiers] OUTPUT: {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 7}}
2025-08-12 06:09:05,181 - DEBUG - [extract_dominant_shape_modifiers] Output is JSON serializable.
2025-08-12 06:09:05,181 - WARNING - [PATCH] Failed to load canonical summary for image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4: type object 'FileIO' has no attribute 'load_canonical_features'
2025-08-12 06:09:05,181 - DEBUG - [process_single_image] Passing topo_shape_list to extract_topological_features: [{'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}]
2025-08-12 06:09:05,195 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image type: <class 'bongard.bongard.BongardImage'> | problem_id=hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:05,195 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image.one_stroke_shapes: [<src.data_pipeline.logo_parser.OneStrokeShape object at 0x0000025947585C90>]
2025-08-12 06:09:05,196 - INFO - [extract_stroke_features_from_shapes] problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 | num_shapes=1 | total_strokes=7
2025-08-12 06:09:05,196 - INFO - [extract_stroke_features_from_shapes] PATCH: shapes=[<src.data_pipeline.logo_parser.OneStrokeShape object at 0x0000025947585C90>]
2025-08-12 06:09:05,196 - INFO - [extract_stroke_features_from_shapes] Shape 0 actions: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-12 06:09:05,197 - INFO - [extract_stroke_features_from_shapes] Shape 0: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None
2025-08-12 06:09:05,197 - INFO - [extract_stroke_features_from_shapes] Shape 0 geometry: {'area': 0.12433152925499812, 'perimeter': 1.6501113434590915, 'centroid': [0.6776001373494157, 0.12854795515194142], 'bounds': [0.3552002746988317, 0.0, 1.0, 0.3856438654558243], 'width': 0.6447997253011684, 'height': 0.3856438654558243, 'robust_curvature': 2.2526438834642915, 'robust_angular_variance': 0.24740782502259082, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 2.436099559535669}
2025-08-12 06:09:05,197 - INFO - [extract_stroke_features_from_shapes] Shape 0: num_actions=7 | actions=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-12 06:09:05,197 - INFO - [extract_stroke_features_from_shapes] PATCH: Validated/corrected shape_vertices for shape 0: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 06:09:05,197 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=0 | stroke=line_zigzag_0.894-0.500
2025-08-12 06:09:05,198 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1287.3600000000001, 0.0)]
2025-08-12 06:09:05,198 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:05,198 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:05,198 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,198 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,200 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,200 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704183}
2025-08-12 06:09:05,200 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704183, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,201 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 0: {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704183, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1287.3600000000001, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}
2025-08-12 06:09:05,201 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=1 | stroke=line_circle_0.500-0.926
2025-08-12 06:09:05,201 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294)]
2025-08-12 06:09:05,202 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:05,202 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:05,202 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-12 06:09:05,202 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.894-0.500
2025-08-12 06:09:05,204 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:05,204 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:05,204 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,205 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,205 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,207 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704183}
2025-08-12 06:09:05,207 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704183, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,207 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.500-0.926
2025-08-12 06:09:05,207 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:05,208 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:05,208 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,208 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=720.0. Returning 0.0.
2025-08-12 06:09:05,208 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,208 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,210 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,210 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,210 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:05,211 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,211 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:05,211 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294)]
2025-08-12 06:09:05,211 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,212 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:05,212 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.500-0.648
2025-08-12 06:09:05,212 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:05,212 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:05,213 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,213 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=720.0. Returning 0.0.
2025-08-12 06:09:05,213 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,214 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,214 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,214 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,215 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:05,215 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,215 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,216 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294)]
2025-08-12 06:09:05,216 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,216 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,216 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.583-0.164
2025-08-12 06:09:05,217 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:05,217 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:05,217 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,218 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=720.0. Returning 0.0.
2025-08-12 06:09:05,218 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,218 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,218 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,218 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,218 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:05,219 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,220 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,220 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294)]
2025-08-12 06:09:05,220 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,220 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,221 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.361-0.930
2025-08-12 06:09:05,221 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 06:09:05,221 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 06:09:05,221 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,222 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=720.0. Returning 0.0.
2025-08-12 06:09:05,222 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,222 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,222 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,222 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,222 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:05,224 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,224 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:05,225 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294)]
2025-08-12 06:09:05,225 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,225 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_sharp_angles': True}
2025-08-12 06:09:05,225 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.361-0.313
2025-08-12 06:09:05,226 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:05,226 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:05,226 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,226 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=720.0. Returning 0.0.
2025-08-12 06:09:05,227 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,227 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,227 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,227 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,227 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:05,229 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,229 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:05,229 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294)]
2025-08-12 06:09:05,230 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,230 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:05,230 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.583-0.930
2025-08-12 06:09:05,230 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,230 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,231 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,231 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=720.0. Returning 0.0.
2025-08-12 06:09:05,231 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,232 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,232 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,232 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,232 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:05,233 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,233 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,233 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294)]
2025-08-12 06:09:05,233 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,233 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,235 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:05,235 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:05,235 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:05,236 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=720.0. Returning 0.0.
2025-08-12 06:09:05,236 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,236 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,236 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 617.1428571428571, 'var': 63477.551020408144, 'min': 0.0, 'max': 720.0, 'count': 7}, 'width': {'mean': 551.6278503333515, 'var': 50715.54754389908, 'min': 0.0, 'max': 643.5658253889101, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:05,237 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 617.1428571428571, 'var': 63477.551020408144, 'min': 0.0, 'max': 720.0, 'count': 7}, 'width': {'mean': 551.6278503333515, 'var': 50715.54754389908, 'min': 0.0, 'max': 643.5658253889101, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:05,237 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:05,238 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,238 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:05,238 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294)]
2025-08-12 06:09:05,239 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,239 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:05,239 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294)], 'open_stroke_perimeter': 720.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 720.0, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 720.0, 'var': 0.0, 'min': 720.0, 'max': 720.0, 'count': 1}, 'width': {'mean': 643.5658253889101, 'var': 0.0, 'min': 643.5658253889101, 'max': 643.5658253889101, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 322.83591558482294, 'var': 0.0, 'min': 322.83591558482294, 'max': 322.83591558482294, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 720.0, 'var': 0.0, 'min': 720.0, 'max': 720.0, 'count': 1}, 'width': {'mean': 643.5658253889101, 'var': 0.0, 'min': 643.5658253889101, 'max': 643.5658253889101, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 322.83591558482294, 'var': 0.0, 'min': 322.83591558482294, 'max': 322.83591558482294, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 643.5658253889101, 'height': 322.83591558482294, 'area': 0.0, 'perimeter': 720.0, 'centroid': [965.5770873055451, 161.41795779241147], 'bounds': [643.79417461109, 0.0, 1287.3600000000001, 322.83591558482294], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 720.0, 'line_angle': 153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}
2025-08-12 06:09:05,241 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_zigzag_0.500-0.648
2025-08-12 06:09:05,241 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13)]
2025-08-12 06:09:05,241 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:05,241 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:05,242 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-12 06:09:05,242 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.894-0.500
2025-08-12 06:09:05,242 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:05,242 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:05,243 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,243 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,244 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,245 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704183}
2025-08-12 06:09:05,245 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704183, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,245 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.500-0.926
2025-08-12 06:09:05,246 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:05,246 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:05,246 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,247 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=720.0. Returning 0.0.
2025-08-12 06:09:05,247 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,247 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,247 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,248 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,248 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:05,249 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,249 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:05,249 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13)]
2025-08-12 06:09:05,250 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,250 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:05,250 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.500-0.648
2025-08-12 06:09:05,250 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:05,251 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:05,251 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,251 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=720.0. Returning 0.0.
2025-08-12 06:09:05,251 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,252 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,252 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,252 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,252 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:05,253 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,253 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,254 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13)]
2025-08-12 06:09:05,254 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,254 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,254 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.583-0.164
2025-08-12 06:09:05,255 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:05,255 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:05,255 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,255 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=720.0. Returning 0.0.
2025-08-12 06:09:05,256 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,256 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,257 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,257 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,257 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:05,258 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,258 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,258 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13)]
2025-08-12 06:09:05,258 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,259 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,259 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.361-0.930
2025-08-12 06:09:05,259 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 06:09:05,259 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 06:09:05,260 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,260 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=720.0. Returning 0.0.
2025-08-12 06:09:05,260 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,261 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,261 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,261 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,261 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:05,262 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,262 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:05,262 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13)]
2025-08-12 06:09:05,263 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,263 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_sharp_angles': True}
2025-08-12 06:09:05,263 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.361-0.313
2025-08-12 06:09:05,263 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:05,264 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:05,265 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,265 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=720.0. Returning 0.0.
2025-08-12 06:09:05,265 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,265 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,266 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,266 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,266 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:05,266 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,267 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:05,267 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13)]
2025-08-12 06:09:05,267 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,267 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:05,268 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.583-0.930
2025-08-12 06:09:05,268 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,268 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,269 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,269 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=720.0. Returning 0.0.
2025-08-12 06:09:05,269 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,269 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,269 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,269 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,269 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:05,271 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,271 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,271 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13)]
2025-08-12 06:09:05,271 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,272 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,272 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:05,272 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:05,273 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:05,273 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=720.0. Returning 0.0.
2025-08-12 06:09:05,273 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,274 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,274 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 617.1428571428571, 'var': 63477.551020408144, 'min': 0.0, 'max': 720.0, 'count': 7}, 'width': {'mean': 551.6278503333513, 'var': 50715.54754389905, 'min': 0.0, 'max': 643.5658253889098, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 276.71649907270574, 'var': 12762.003476509117, 'min': 0.0, 'max': 322.83591558482334, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:05,274 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 617.1428571428571, 'var': 63477.551020408144, 'min': 0.0, 'max': 720.0, 'count': 7}, 'width': {'mean': 551.6278503333513, 'var': 50715.54754389905, 'min': 0.0, 'max': 643.5658253889098, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 276.71649907270574, 'var': 12762.003476509117, 'min': 0.0, 'max': 322.83591558482334, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:05,275 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:05,275 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,275 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,275 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13)]
2025-08-12 06:09:05,276 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,276 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,276 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13)], 'open_stroke_perimeter': 720.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 720.0, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 720.0, 'var': 0.0, 'min': 720.0, 'max': 720.0, 'count': 1}, 'width': {'mean': 643.5658253889098, 'var': 0.0, 'min': 643.5658253889098, 'max': 643.5658253889098, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 322.83591558482334, 'var': 0.0, 'min': 322.83591558482334, 'max': 322.83591558482334, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 720.0, 'var': 0.0, 'min': 720.0, 'max': 720.0, 'count': 1}, 'width': {'mean': 643.5658253889098, 'var': 0.0, 'min': 643.5658253889098, 'max': 643.5658253889098, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 322.83591558482334, 'var': 0.0, 'min': 322.83591558482334, 'max': 322.83591558482334, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'geometry': {'width': 643.5658253889098, 'height': 322.83591558482334, 'area': 0.0, 'perimeter': 720.0, 'centroid': [322.01126191663514, 161.41795779241127], 'bounds': [0.22834922218021347, -3.979039320256561e-13, 643.79417461109, 322.83591558482294], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 720.0, 'line_angle': -153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}
2025-08-12 06:09:05,276 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_zigzag_0.583-0.164
2025-08-12 06:09:05,277 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902)]
2025-08-12 06:09:05,277 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:05,277 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:05,278 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-12 06:09:05,278 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.894-0.500
2025-08-12 06:09:05,278 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:05,278 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:05,279 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,279 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,279 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,282 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704183}
2025-08-12 06:09:05,283 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704183, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,283 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.500-0.926
2025-08-12 06:09:05,283 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:05,283 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:05,284 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,284 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=839.5200000000001. Returning 0.0.
2025-08-12 06:09:05,284 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,286 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,286 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,286 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,286 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:05,287 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,287 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:05,287 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902)]
2025-08-12 06:09:05,287 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,287 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:05,288 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.500-0.648
2025-08-12 06:09:05,288 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:05,288 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:05,288 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,289 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=839.5200000000001. Returning 0.0.
2025-08-12 06:09:05,289 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,289 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,289 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,289 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,289 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:05,291 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,291 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,291 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902)]
2025-08-12 06:09:05,292 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,292 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,292 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.583-0.164
2025-08-12 06:09:05,292 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:05,292 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:05,293 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,293 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=839.5200000000001. Returning 0.0.
2025-08-12 06:09:05,293 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,293 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,295 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,295 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,295 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:05,295 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,295 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,296 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902)]
2025-08-12 06:09:05,296 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,296 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,296 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.361-0.930
2025-08-12 06:09:05,298 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 06:09:05,298 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 06:09:05,298 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,298 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=839.5200000000001. Returning 0.0.
2025-08-12 06:09:05,299 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,299 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,299 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,299 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,301 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:05,301 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,301 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:05,301 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902)]
2025-08-12 06:09:05,301 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,301 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_sharp_angles': True}
2025-08-12 06:09:05,303 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.361-0.313
2025-08-12 06:09:05,303 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:05,303 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:05,304 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,304 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=839.5200000000001. Returning 0.0.
2025-08-12 06:09:05,304 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,305 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,305 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,305 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,305 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:05,307 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,307 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:05,308 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902)]
2025-08-12 06:09:05,308 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,308 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:05,308 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.583-0.930
2025-08-12 06:09:05,309 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,309 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,309 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,310 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=839.5200000000001. Returning 0.0.
2025-08-12 06:09:05,310 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,310 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,310 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,312 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,312 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:05,313 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,313 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,313 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902)]
2025-08-12 06:09:05,313 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,313 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,315 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:05,315 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:05,315 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:05,316 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=839.5200000000001. Returning 0.0.
2025-08-12 06:09:05,316 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,316 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,317 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 719.5885714285715, 'var': 86301.28535510205, 'min': 0.0, 'max': 839.5200000000001, 'count': 7}, 'width': {'mean': 54.20430838012279, 'var': 489.684507827908, 'min': 0.0, 'max': 63.238359776809915, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 717.5441485258206, 'var': 85811.60084727417, 'min': 0.0, 'max': 837.1348399467906, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:05,317 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 719.5885714285715, 'var': 86301.28535510205, 'min': 0.0, 'max': 839.5200000000001, 'count': 7}, 'width': {'mean': 54.20430838012279, 'var': 489.684507827908, 'min': 0.0, 'max': 63.238359776809915, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 717.5441485258206, 'var': 85811.60084727417, 'min': 0.0, 'max': 837.1348399467906, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:05,317 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:05,318 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,318 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,318 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902)]
2025-08-12 06:09:05,318 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,319 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,319 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902)], 'open_stroke_perimeter': 839.5200000000001, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 839.5200000000001, 'avg_stroke_length': 839.5200000000001, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 839.5200000000001, 'var': 0.0, 'min': 839.5200000000001, 'max': 839.5200000000001, 'count': 1}, 'width': {'mean': 63.238359776809915, 'var': 0.0, 'min': 63.238359776809915, 'max': 63.238359776809915, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 839.5200000000001, 'var': 0.0, 'min': 839.5200000000001, 'max': 839.5200000000001, 'count': 1}, 'width': {'mean': 63.238359776809915, 'var': 0.0, 'min': 63.238359776809915, 'max': 63.238359776809915, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'geometry': {'width': 63.238359776809915, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 839.5200000000001, 'centroid': [31.84752911058517, 418.56741997339486], 'bounds': [0.22834922218021347, -3.979039320256561e-13, 63.46670899899013, 837.1348399467902], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 839.5200000000001, 'line_angle': 85.68000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}
2025-08-12 06:09:05,319 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=4 | stroke=line_triangle_0.361-0.930
2025-08-12 06:09:05,320 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384)]
2025-08-12 06:09:05,320 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 06:09:05,320 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 06:09:05,320 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-12 06:09:05,320 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.894-0.500
2025-08-12 06:09:05,322 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:05,322 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:05,322 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,323 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,323 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,325 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704183}
2025-08-12 06:09:05,325 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704183, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,325 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.500-0.926
2025-08-12 06:09:05,326 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:05,326 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:05,327 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,327 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.8399999999999. Returning 0.0.
2025-08-12 06:09:05,327 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,327 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,329 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,329 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,329 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:05,330 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,330 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:05,330 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384)]
2025-08-12 06:09:05,331 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,331 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:05,332 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.500-0.648
2025-08-12 06:09:05,333 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:05,333 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:05,333 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,334 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.8399999999999. Returning 0.0.
2025-08-12 06:09:05,334 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,334 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,334 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,334 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,336 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:05,336 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,337 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,337 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384)]
2025-08-12 06:09:05,337 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,337 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,338 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.583-0.164
2025-08-12 06:09:05,338 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:05,338 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:05,339 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,339 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.8399999999999. Returning 0.0.
2025-08-12 06:09:05,339 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,340 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,340 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,340 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,340 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:05,342 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,342 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,342 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384)]
2025-08-12 06:09:05,343 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,343 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,343 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.361-0.930
2025-08-12 06:09:05,343 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 06:09:05,343 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 06:09:05,345 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,345 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.8399999999999. Returning 0.0.
2025-08-12 06:09:05,345 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,345 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,346 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,346 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,346 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:05,346 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,347 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:05,347 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384)]
2025-08-12 06:09:05,347 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,348 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_sharp_angles': True}
2025-08-12 06:09:05,348 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.361-0.313
2025-08-12 06:09:05,348 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:05,350 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:05,350 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,350 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.8399999999999. Returning 0.0.
2025-08-12 06:09:05,350 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,351 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,351 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,351 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,351 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:05,353 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,353 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:05,353 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384)]
2025-08-12 06:09:05,353 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,354 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:05,354 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.583-0.930
2025-08-12 06:09:05,355 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,355 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,355 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,356 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.8399999999999. Returning 0.0.
2025-08-12 06:09:05,356 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,357 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,357 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,357 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,358 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:05,358 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,358 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,359 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384)]
2025-08-12 06:09:05,359 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,359 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,359 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:05,361 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:05,361 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:05,362 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.8399999999999. Returning 0.0.
2025-08-12 06:09:05,362 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,362 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,362 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 445.57714285714286, 'var': 33089.83170612243, 'min': 0.0, 'max': 519.8399999999999, 'count': 7}, 'width': {'mean': 219.54804105468335, 'var': 8033.557055158154, 'min': 0.0, 'max': 256.1393812304639, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 387.7339911663481, 'var': 25056.274650964286, 'min': 0.0, 'max': 452.3563230274062, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:05,364 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 445.57714285714286, 'var': 33089.83170612243, 'min': 0.0, 'max': 519.8399999999999, 'count': 7}, 'width': {'mean': 219.54804105468335, 'var': 8033.557055158154, 'min': 0.0, 'max': 256.1393812304639, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 387.7339911663481, 'var': 25056.274650964286, 'min': 0.0, 'max': 452.3563230274062, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:05,364 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:05,365 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,365 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:05,365 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384)]
2025-08-12 06:09:05,366 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,366 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_sharp_angles': True}
2025-08-12 06:09:05,366 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 4: {'stroke_index': 4, 'analytic_vertices': [(63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384)], 'open_stroke_perimeter': 519.8399999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.8399999999999, 'avg_stroke_length': 519.8399999999999, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 519.8399999999999, 'var': 0.0, 'min': 519.8399999999999, 'max': 519.8399999999999, 'count': 1}, 'width': {'mean': 256.1393812304639, 'var': 0.0, 'min': 256.1393812304639, 'max': 256.1393812304639, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 452.3563230274062, 'var': 0.0, 'min': 452.3563230274062, 'max': 452.3563230274062, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 519.8399999999999, 'var': 0.0, 'min': 519.8399999999999, 'max': 519.8399999999999, 'count': 1}, 'width': {'mean': 256.1393812304639, 'var': 0.0, 'min': 256.1393812304639, 'max': 256.1393812304639, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 452.3563230274062, 'var': 0.0, 'min': 452.3563230274062, 'max': 452.3563230274062, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'geometry': {'width': 256.1393812304639, 'height': 452.3563230274062, 'area': 0.0, 'perimeter': 519.8399999999999, 'centroid': [-64.60298161624183, 610.9566784330871], 'bounds': [-192.6726722314738, 384.778516919384, 63.46670899899013, 837.1348399467902], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.8399999999999, 'line_angle': -119.52000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}
2025-08-12 06:09:05,367 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=5 | stroke=line_circle_0.361-0.313
2025-08-12 06:09:05,367 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101)]
2025-08-12 06:09:05,367 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:05,367 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:05,368 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-12 06:09:05,368 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.894-0.500
2025-08-12 06:09:05,368 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:05,368 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:05,369 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,369 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,369 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,372 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704183}
2025-08-12 06:09:05,372 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704183, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,373 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.500-0.926
2025-08-12 06:09:05,373 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:05,373 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:05,374 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,374 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.84. Returning 0.0.
2025-08-12 06:09:05,374 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,375 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,375 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,375 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,376 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:05,376 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,377 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:05,377 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101)]
2025-08-12 06:09:05,378 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,378 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:05,378 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.500-0.648
2025-08-12 06:09:05,380 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:05,380 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:05,380 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,381 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.84. Returning 0.0.
2025-08-12 06:09:05,381 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,381 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,382 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,382 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,382 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:05,383 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,383 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,383 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101)]
2025-08-12 06:09:05,384 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,384 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,384 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.583-0.164
2025-08-12 06:09:05,385 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:05,385 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:05,385 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,386 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.84. Returning 0.0.
2025-08-12 06:09:05,386 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,387 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,387 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,387 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,388 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:05,388 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,390 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,390 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101)]
2025-08-12 06:09:05,390 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,390 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,391 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.361-0.930
2025-08-12 06:09:05,391 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 06:09:05,391 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 06:09:05,392 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,392 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.84. Returning 0.0.
2025-08-12 06:09:05,392 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,393 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,393 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,393 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,394 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:05,394 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,394 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:05,396 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101)]
2025-08-12 06:09:05,396 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,396 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_sharp_angles': True}
2025-08-12 06:09:05,396 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.361-0.313
2025-08-12 06:09:05,397 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:05,397 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:05,398 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,398 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.84. Returning 0.0.
2025-08-12 06:09:05,398 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,399 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,399 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,399 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,399 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:05,401 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,401 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:05,401 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101)]
2025-08-12 06:09:05,402 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,402 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:05,402 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.583-0.930
2025-08-12 06:09:05,403 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,403 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,404 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,404 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.84. Returning 0.0.
2025-08-12 06:09:05,404 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,405 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,405 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,405 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,405 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:05,406 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,406 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,406 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101)]
2025-08-12 06:09:05,408 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,408 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,408 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 06:09:05,408 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 06:09:05,409 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:05,409 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=519.84. Returning 0.0.
2025-08-12 06:09:05,409 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,410 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,410 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 445.5771428571429, 'var': 33089.83170612246, 'min': 0.0, 'max': 519.84, 'count': 7}, 'width': {'mean': 442.4057941367759, 'var': 32620.481114298567, 'min': 0.0, 'max': 516.140093159572, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 53.06697231747171, 'var': 469.3505918238848, 'min': 0.0, 'max': 61.911467703716994, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:05,410 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 445.5771428571429, 'var': 33089.83170612246, 'min': 0.0, 'max': 519.84, 'count': 7}, 'width': {'mean': 442.4057941367759, 'var': 32620.481114298567, 'min': 0.0, 'max': 516.140093159572, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height': {'mean': 53.06697231747171, 'var': 469.3505918238848, 'min': 0.0, 'max': 61.911467703716994, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 06:09:05,411 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:05,411 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,412 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:05,412 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101)]
2025-08-12 06:09:05,412 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,413 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:05,413 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 5: {'stroke_index': 5, 'analytic_vertices': [(-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101)], 'open_stroke_perimeter': 519.84, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.84, 'avg_stroke_length': 519.84, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 519.84, 'var': 0.0, 'min': 519.84, 'max': 519.84, 'count': 1}, 'width': {'mean': 516.140093159572, 'var': 0.0, 'min': 516.140093159572, 'max': 516.140093159572, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 61.911467703716994, 'var': 0.0, 'min': 61.911467703716994, 'max': 61.911467703716994, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 519.84, 'var': 0.0, 'min': 519.84, 'max': 519.84, 'count': 1}, 'width': {'mean': 516.140093159572, 'var': 0.0, 'min': 516.140093159572, 'max': 516.140093159572, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 61.911467703716994, 'var': 0.0, 'min': 61.911467703716994, 'max': 61.911467703716994, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'geometry': {'width': 516.140093159572, 'height': 61.911467703716994, 'area': 0.0, 'perimeter': 519.84, 'centroid': [-450.7427188112598, 415.7342507712425], 'bounds': [-708.8127653910458, 384.778516919384, -192.6726722314738, 446.689984623101], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.84, 'line_angle': 173.16000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}
2025-08-12 06:09:05,413 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=6 | stroke=line_normal_0.583-0.930
2025-08-12 06:09:05,414 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 06:09:05,414 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,415 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,415 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 06:09:05,415 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,416 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,417 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.00542620984884826}
2025-08-12 06:09:05,417 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.00542620984884826, 'is_simple': True}
2025-08-12 06:09:05,417 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 6: {'stroke_index': 6, 'analytic_vertices': [(-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 842.640528703534, 'compactness': 0.00542620984884826, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 842.640528703534, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}}}, 'line_length': 842.640528703534, 'line_angle': -32.03999999999995, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:05,418 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=7
2025-08-12 06:09:05,419 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['line_is_long', 'has_repetitive_pattern', 'line_angle', 'avg_stroke_length', 'visual_complexity', 'line_is_vertical', 'has_curved_edges', 'line_is_short', 'is_normal', 'line_curvature_score', 'is_geometric', 'convexity_ratio', 'compactness', 'stroke_index', 'open_stroke_perimeter', 'arc_curvature_score', 'robust_curvature', 'robust_angular_variance', 'degenerate_case', 'is_simple', 'line_length', 'stroke_length', 'geom_complexity', 'geometric_complexity', 'line_is_horizontal', 'has_sharp_angles', 'num_vertices', 'is_pattern']
2025-08-12 06:09:05,419 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (7) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-12 06:09:05,419 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=7
2025-08-12 06:09:05,419 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 7
2025-08-12 06:09:05,421 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 7, 'num_arcs': 0, 'line_ratio': 1.0, 'arc_ratio': 0.0, 'stroke_diversity': 0}, 'line_aggregate': {'total_line_length': 9607.920528703535, 'avg_line_length': 1372.5600755290764, 'line_length_variance': 2780634.768865585, 'line_angle_variance': 14004.496653061226, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'horizontal'}}
2025-08-12 06:09:05,421 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930
2025-08-12 06:09:05,422 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-12 06:09:05,422 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-12 06:09:05,422 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-12 06:09:05,422 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-12 06:09:05,423 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_zigzag_0.894-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704183, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1287.3600000000001, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_circle_0.500-0.926', 'features': {'stroke_index': 1, 'analytic_vertices': [(1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294)], 'open_stroke_perimeter': 720.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 643.5658253889101, 'height': 322.83591558482294, 'area': 0.0, 'perimeter': 720.0, 'centroid': [965.5770873055451, 161.41795779241147], 'bounds': [643.79417461109, 0.0, 1287.3600000000001, 322.83591558482294], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 720.0, 'line_angle': 153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.500-0.648', 'features': {'stroke_index': 2, 'analytic_vertices': [(643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13)], 'open_stroke_perimeter': 720.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 643.5658253889098, 'height': 322.83591558482334, 'area': 0.0, 'perimeter': 720.0, 'centroid': [322.01126191663514, 161.41795779241127], 'bounds': [0.22834922218021347, -3.979039320256561e-13, 643.79417461109, 322.83591558482294], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 720.0, 'line_angle': -153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_zigzag_0.583-0.164', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902)], 'open_stroke_perimeter': 839.5200000000001, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 839.5200000000001, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 63.238359776809915, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 839.5200000000001, 'centroid': [31.84752911058517, 418.56741997339486], 'bounds': [0.22834922218021347, -3.979039320256561e-13, 63.46670899899013, 837.1348399467902], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 839.5200000000001, 'line_angle': 85.68000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_triangle_0.361-0.930', 'features': {'stroke_index': 4, 'analytic_vertices': [(63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384)], 'open_stroke_perimeter': 519.8399999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.8399999999999, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 256.1393812304639, 'height': 452.3563230274062, 'area': 0.0, 'perimeter': 519.8399999999999, 'centroid': [-64.60298161624183, 610.9566784330871], 'bounds': [-192.6726722314738, 384.778516919384, 63.46670899899013, 837.1348399467902], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.8399999999999, 'line_angle': -119.52000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_circle_0.361-0.313', 'features': {'stroke_index': 5, 'analytic_vertices': [(-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101)], 'open_stroke_perimeter': 519.84, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.84, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 516.140093159572, 'height': 61.911467703716994, 'area': 0.0, 'perimeter': 519.84, 'centroid': [-450.7427188112598, 415.7342507712425], 'bounds': [-708.8127653910458, 384.778516919384, -192.6726722314738, 446.689984623101], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.84, 'line_angle': 173.16000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.583-0.930', 'features': {'stroke_index': 6, 'analytic_vertices': [(-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 842.640528703534, 'compactness': 0.00542620984884826, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 842.640528703534, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 842.640528703534, 'line_angle': -32.03999999999995, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:05,423 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:05,424 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:05,424 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-12 06:09:05,425 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-12 06:09:05,425 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.4237293391614096, 0.2975557815116552], 'orientation_degrees': 118.30663895797257}, geometry={'area': 0.12433152925499794, 'perimeter': 1.6501113434590904, 'centroid': [0.677600137349416, 0.12854795515194184], 'bounds': [0.3552002746988321, 4.753164162310427e-16, 1.0, 0.3856438654558245], 'width': 0.6447997253011679, 'height': 0.385643865455824}
2025-08-12 06:09:05,425 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-12 06:09:05,425 - DEBUG - [PATCH][actions field] Joined: line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930
2025-08-12 06:09:05,426 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_zigzag_0.894-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704183, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1287.3600000000001, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_circle_0.500-0.926', 'features': {'stroke_index': 1, 'analytic_vertices': [(1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294)], 'open_stroke_perimeter': 720.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 643.5658253889101, 'height': 322.83591558482294, 'area': 0.0, 'perimeter': 720.0, 'centroid': [965.5770873055451, 161.41795779241147], 'bounds': [643.79417461109, 0.0, 1287.3600000000001, 322.83591558482294], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 720.0, 'line_angle': 153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.500-0.648', 'features': {'stroke_index': 2, 'analytic_vertices': [(643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13)], 'open_stroke_perimeter': 720.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 643.5658253889098, 'height': 322.83591558482334, 'area': 0.0, 'perimeter': 720.0, 'centroid': [322.01126191663514, 161.41795779241127], 'bounds': [0.22834922218021347, -3.979039320256561e-13, 643.79417461109, 322.83591558482294], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 720.0, 'line_angle': -153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_zigzag_0.583-0.164', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902)], 'open_stroke_perimeter': 839.5200000000001, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 839.5200000000001, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 63.238359776809915, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 839.5200000000001, 'centroid': [31.84752911058517, 418.56741997339486], 'bounds': [0.22834922218021347, -3.979039320256561e-13, 63.46670899899013, 837.1348399467902], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 839.5200000000001, 'line_angle': 85.68000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_triangle_0.361-0.930', 'features': {'stroke_index': 4, 'analytic_vertices': [(63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384)], 'open_stroke_perimeter': 519.8399999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.8399999999999, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 256.1393812304639, 'height': 452.3563230274062, 'area': 0.0, 'perimeter': 519.8399999999999, 'centroid': [-64.60298161624183, 610.9566784330871], 'bounds': [-192.6726722314738, 384.778516919384, 63.46670899899013, 837.1348399467902], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.8399999999999, 'line_angle': -119.52000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_circle_0.361-0.313', 'features': {'stroke_index': 5, 'analytic_vertices': [(-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101)], 'open_stroke_perimeter': 519.84, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.84, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 516.140093159572, 'height': 61.911467703716994, 'area': 0.0, 'perimeter': 519.84, 'centroid': [-450.7427188112598, 415.7342507712425], 'bounds': [-708.8127653910458, 384.778516919384, -192.6726722314738, 446.689984623101], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.84, 'line_angle': 173.16000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.583-0.930', 'features': {'stroke_index': 6, 'analytic_vertices': [(-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 842.640528703534, 'compactness': 0.00542620984884826, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 842.640528703534, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 842.640528703534, 'line_angle': -32.03999999999995, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:05,426 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 06:09:05,426 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-12 06:09:05,428 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-12 06:09:05,428 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:05,428 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:05,429 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|normal': 6}
2025-08-12 06:09:05,429 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704183, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1287.3600000000001, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 1, 'analytic_vertices': [(1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294)], 'open_stroke_perimeter': 720.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 643.5658253889101, 'height': 322.83591558482294, 'area': 0.0, 'perimeter': 720.0, 'centroid': [965.5770873055451, 161.41795779241147], 'bounds': [643.79417461109, 0.0, 1287.3600000000001, 322.83591558482294], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 720.0, 'line_angle': 153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 2, 'analytic_vertices': [(643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13)], 'open_stroke_perimeter': 720.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 643.5658253889098, 'height': 322.83591558482334, 'area': 0.0, 'perimeter': 720.0, 'centroid': [322.01126191663514, 161.41795779241127], 'bounds': [0.22834922218021347, -3.979039320256561e-13, 643.79417461109, 322.83591558482294], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 720.0, 'line_angle': -153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [(0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902)], 'open_stroke_perimeter': 839.5200000000001, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 839.5200000000001, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 63.238359776809915, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 839.5200000000001, 'centroid': [31.84752911058517, 418.56741997339486], 'bounds': [0.22834922218021347, -3.979039320256561e-13, 63.46670899899013, 837.1348399467902], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 839.5200000000001, 'line_angle': 85.68000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 4, 'analytic_vertices': [(63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384)], 'open_stroke_perimeter': 519.8399999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.8399999999999, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 256.1393812304639, 'height': 452.3563230274062, 'area': 0.0, 'perimeter': 519.8399999999999, 'centroid': [-64.60298161624183, 610.9566784330871], 'bounds': [-192.6726722314738, 384.778516919384, 63.46670899899013, 837.1348399467902], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.8399999999999, 'line_angle': -119.52000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 5, 'analytic_vertices': [(-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101)], 'open_stroke_perimeter': 519.84, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.84, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 516.140093159572, 'height': 61.911467703716994, 'area': 0.0, 'perimeter': 519.84, 'centroid': [-450.7427188112598, 415.7342507712425], 'bounds': [-708.8127653910458, 384.778516919384, -192.6726722314738, 446.689984623101], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.84, 'line_angle': 173.16000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 6, 'analytic_vertices': [(-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 842.640528703534, 'compactness': 0.00542620984884826, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 842.640528703534, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 842.640528703534, 'line_angle': -32.03999999999995, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 06:09:05,429 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-12 06:09:05,430 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.677600137349416, 0.12854795515194184], 'width': 0.6447997253011679, 'height': 0.385643865455824, 'area_raw': 0.5084825935046632, 'area_normalized': 1.0, 'perimeter_raw': 4.117589844652146, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.6720082518077304, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.37687713209159157, 'polsby_popper_compactness': 0.17429059689039136, 'eccentricity': 0.541552212030195, 'symmetry_score': 0.40273020218695216, 'horizontal_symmetry': 0.6007061294530136, 'vertical_symmetry': 0.4500485603803981, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 8.0, 'visual_complexity': 0.5711116454474393, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'moment_of_inertia': 0.1988356493263487, 'irregularity_score': 0.131603482971322, 'standardized_complexity': 0.49298736326093345, 'clustering_heights': [0.0, 0.10746205320699521, 0.3957146229643306, 0.49314337760036253, 1.462991292310712, 4.729190345240624], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:05,430 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:05,430 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-12 06:09:05,431 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-12 06:09:05,431 - INFO - [_vertices_from_command] INPUT: command=line_zigzag_0.894-0.500, stroke_index=0
2025-08-12 06:09:05,431 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.894, param2=None, param3=0.5
2025-08-12 06:09:05,432 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)]
2025-08-12 06:09:05,432 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,433 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,434 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:05,434 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:05,434 - INFO - Computed angular variance: 1.024526 for 17 vertices.
2025-08-12 06:09:05,435 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,435 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,435 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,437 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,437 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,439 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (-0.394, 0.5000000000000001)]
2025-08-12 06:09:05,439 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (-0.394, 0.5000000000000001)]
2025-08-12 06:09:05,440 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,440 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,440 - INFO - [_vertices_from_command] INPUT: command=line_circle_0.500-0.926, stroke_index=0
2025-08-12 06:09:05,441 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.5, param2=None, param3=0.926
2025-08-12 06:09:05,441 - INFO - [_vertices_from_command] Circle vertices: [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)]
2025-08-12 06:09:05,441 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,443 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,443 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:05,446 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275}
2025-08-12 06:09:05,446 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275, 'has_curved_edges': True}
2025-08-12 06:09:05,446 - INFO - [_vertices_from_command] INPUT: command=line_zigzag_0.500-0.648, stroke_index=0
2025-08-12 06:09:05,446 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.5, param2=None, param3=0.648
2025-08-12 06:09:05,446 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)]
2025-08-12 06:09:05,447 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,448 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:05,448 - INFO - Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 06:09:05,448 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,449 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,449 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,449 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,450 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,450 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:05,451 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(1.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:05,451 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,451 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,451 - INFO - [_vertices_from_command] INPUT: command=line_zigzag_0.583-0.164, stroke_index=0
2025-08-12 06:09:05,451 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.583, param2=None, param3=0.164
2025-08-12 06:09:05,453 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)]
2025-08-12 06:09:05,453 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,454 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,454 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:05,454 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:05,455 - INFO - Computed angular variance: 1.468206 for 11 vertices.
2025-08-12 06:09:05,455 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,455 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,456 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,456 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,456 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,457 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:05,457 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 0.0), (1.0, 1.0)]
2025-08-12 06:09:05,458 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,458 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,458 - INFO - [_vertices_from_command] INPUT: command=line_triangle_0.361-0.930, stroke_index=0
2025-08-12 06:09:05,458 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=0.361, param2=None, param3=0.93
2025-08-12 06:09:05,459 - INFO - [_vertices_from_command] Triangle vertices: [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)]
2025-08-12 06:09:05,459 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,460 - INFO - Convexity: poly_area=0.1693, hull_area=0.1693, ratio=1.0000
2025-08-12 06:09:05,460 - INFO - Computed angular variance: 0.068539 for 4 vertices.
2025-08-12 06:09:05,460 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,460 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,461 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,461 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,462 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:05,462 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-12 06:09:05,462 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-12 06:09:05,463 - INFO - [_vertices_from_command] INPUT: command=line_circle_0.361-0.313, stroke_index=0
2025-08-12 06:09:05,463 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.361, param2=None, param3=0.313
2025-08-12 06:09:05,463 - INFO - [_vertices_from_command] Circle vertices: [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)]
2025-08-12 06:09:05,464 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,464 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,464 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:05,467 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547272}
2025-08-12 06:09:05,468 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547272, 'has_curved_edges': True}
2025-08-12 06:09:05,468 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.583-0.930, stroke_index=0
2025-08-12 06:09:05,468 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.583, param2=None, param3=0.93
2025-08-12 06:09:05,468 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)]
2025-08-12 06:09:05,468 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,469 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:05,469 - INFO - Computed angular variance: 1.468206 for 11 vertices.
2025-08-12 06:09:05,470 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,470 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,470 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,471 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,471 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,472 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:05,472 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:05,472 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,472 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,473 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['zigzag', 'circle', 'zigzag', 'zigzag', 'triangle', 'circle', 'normal'], n=2
2025-08-12 06:09:05,473 - DEBUG - [ensure_str_list] Converting list: ['zigzag', 'circle', 'zigzag', 'zigzag', 'triangle', 'circle', 'normal']
2025-08-12 06:09:05,473 - DEBUG - [ensure_str_list] Returning string: zigzag
2025-08-12 06:09:05,474 - DEBUG - [ensure_str_list] Returning string: circle
2025-08-12 06:09:05,474 - DEBUG - [ensure_str_list] Returning string: zigzag
2025-08-12 06:09:05,474 - DEBUG - [ensure_str_list] Returning string: zigzag
2025-08-12 06:09:05,474 - DEBUG - [ensure_str_list] Returning string: triangle
2025-08-12 06:09:05,474 - DEBUG - [ensure_str_list] Returning string: circle
2025-08-12 06:09:05,475 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,475 - DEBUG - [ensure_str_list] Result: ['zigzag', 'circle', 'zigzag', 'zigzag', 'triangle', 'circle', 'normal']
2025-08-12 06:09:05,475 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['zigzag', 'circle', 'zigzag', 'zigzag', 'triangle', 'circle', 'normal']
2025-08-12 06:09:05,475 - DEBUG - [_extract_ngram_features] OUTPUT: {'zigzag|circle': 1, 'circle|zigzag': 1, 'zigzag|zigzag': 1, 'zigzag|triangle': 1, 'triangle|circle': 1, 'circle|normal': 1}
2025-08-12 06:09:05,477 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,477 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_4', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/4.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_zigzag_0.894-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704183, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1287.3600000000001, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_circle_0.500-0.926', 'features': {'stroke_index': 1, 'analytic_vertices': [(1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294)], 'open_stroke_perimeter': 720.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 643.5658253889101, 'height': 322.83591558482294, 'area': 0.0, 'perimeter': 720.0, 'centroid': [965.5770873055451, 161.41795779241147], 'bounds': [643.79417461109, 0.0, 1287.3600000000001, 322.83591558482294], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 720.0, 'line_angle': 153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.500-0.648', 'features': {'stroke_index': 2, 'analytic_vertices': [(643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13)], 'open_stroke_perimeter': 720.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 643.5658253889098, 'height': 322.83591558482334, 'area': 0.0, 'perimeter': 720.0, 'centroid': [322.01126191663514, 161.41795779241127], 'bounds': [0.22834922218021347, -3.979039320256561e-13, 643.79417461109, 322.83591558482294], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 720.0, 'line_angle': -153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_zigzag_0.583-0.164', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902)], 'open_stroke_perimeter': 839.5200000000001, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 839.5200000000001, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 63.238359776809915, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 839.5200000000001, 'centroid': [31.84752911058517, 418.56741997339486], 'bounds': [0.22834922218021347, -3.979039320256561e-13, 63.46670899899013, 837.1348399467902], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 839.5200000000001, 'line_angle': 85.68000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_triangle_0.361-0.930', 'features': {'stroke_index': 4, 'analytic_vertices': [(63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384)], 'open_stroke_perimeter': 519.8399999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.8399999999999, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 256.1393812304639, 'height': 452.3563230274062, 'area': 0.0, 'perimeter': 519.8399999999999, 'centroid': [-64.60298161624183, 610.9566784330871], 'bounds': [-192.6726722314738, 384.778516919384, 63.46670899899013, 837.1348399467902], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.8399999999999, 'line_angle': -119.52000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_circle_0.361-0.313', 'features': {'stroke_index': 5, 'analytic_vertices': [(-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101)], 'open_stroke_perimeter': 519.84, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.84, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 516.140093159572, 'height': 61.911467703716994, 'area': 0.0, 'perimeter': 519.84, 'centroid': [-450.7427188112598, 415.7342507712425], 'bounds': [-708.8127653910458, 384.778516919384, -192.6726722314738, 446.689984623101], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.84, 'line_angle': 173.16000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.583-0.930', 'features': {'stroke_index': 6, 'analytic_vertices': [(-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 842.640528703534, 'compactness': 0.00542620984884826, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 842.640528703534, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 842.640528703534, 'line_angle': -32.03999999999995, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 7, 'raw_vertices': ['(0.0, 0.0)', '(1287.3600000000001, 0.0)', '(643.79417461109, 322.83591558482294)', '(0.22834922218021347, -3.979039320256561e-13)', '(63.46670899899013, 837.1348399467902)', '(-192.6726722314738, 384.778516919384)', '(-708.8127653910458, 446.689984623101)', '(2.829815511103675, 1.3152351739121855)'], 'vertices': ['(0.35508588118232887, 4.753164162310427e-16)', '(1.0, 4.753164162310427e-16)', '(0.6776001373494158, 0.3856438654558245)', '(0.3552002746988317, 0.0)', '(0.3868800776062828, 1.0)', '(0.2585648407333427, 0.45963744256999434)', '(0.0, 0.5335938289839826)', '(0.35650350172107487, 0.0015711150834388655)'], 'num_vertices': 8, 'position_label': ['0.4237293391614096', '0.2975557815116552'], 'rotation_label_degrees': ['118.30663895797257'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.677600137349416, 0.12854795515194184], 'width': 0.6447997253011679, 'height': 0.385643865455824, 'area_raw': 0.5084825935046632, 'area_normalized': 1.0, 'perimeter_raw': 4.117589844652146, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.6720082518077304, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.37687713209159157, 'polsby_popper_compactness': 0.17429059689039136, 'eccentricity': 0.541552212030195, 'symmetry_score': 0.40273020218695216, 'horizontal_symmetry': 0.6007061294530136, 'vertical_symmetry': 0.4500485603803981, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 8.0, 'visual_complexity': 0.5711116454474393, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'moment_of_inertia': 0.1988356493263487, 'irregularity_score': 0.131603482971322, 'standardized_complexity': 0.49298736326093345, 'clustering_heights': [0.0, 0.10746205320699521, 0.3957146229643306, 0.49314337760036253, 1.462991292310712, 4.729190345240624], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 0.1920783525923759, 'perimeter_mean': 1.109550731197424, 'width_mean': 0.3512484097314887, 'height_mean': 0.3563243106657511, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.1988356493263487, 'center_of_mass': [0.677600137349416, 0.12854795515194184], 'polsby_popper_compactness': 0.6802566981244207, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'edge_length_variance': 0.07423181245043547}, 'composition_features': {'stroke_type_distribution': {'line': 7}, 'shape_modifier_distribution': {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'zigzag', 'composition_complexity': 11, 'homogeneity_score': 0.30612244897959184, 'pattern_regularity': 0.5714285714285714}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704183, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1287.3600000000001, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 1, 'analytic_vertices': [(1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294)], 'open_stroke_perimeter': 720.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 643.5658253889101, 'height': 322.83591558482294, 'area': 0.0, 'perimeter': 720.0, 'centroid': [965.5770873055451, 161.41795779241147], 'bounds': [643.79417461109, 0.0, 1287.3600000000001, 322.83591558482294], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 720.0, 'line_angle': 153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 2, 'analytic_vertices': [(643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13)], 'open_stroke_perimeter': 720.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 643.5658253889098, 'height': 322.83591558482334, 'area': 0.0, 'perimeter': 720.0, 'centroid': [322.01126191663514, 161.41795779241127], 'bounds': [0.22834922218021347, -3.979039320256561e-13, 643.79417461109, 322.83591558482294], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 720.0, 'line_angle': -153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [(0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902)], 'open_stroke_perimeter': 839.5200000000001, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 839.5200000000001, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 63.238359776809915, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 839.5200000000001, 'centroid': [31.84752911058517, 418.56741997339486], 'bounds': [0.22834922218021347, -3.979039320256561e-13, 63.46670899899013, 837.1348399467902], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 839.5200000000001, 'line_angle': 85.68000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 4, 'analytic_vertices': [(63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384)], 'open_stroke_perimeter': 519.8399999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.8399999999999, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 256.1393812304639, 'height': 452.3563230274062, 'area': 0.0, 'perimeter': 519.8399999999999, 'centroid': [-64.60298161624183, 610.9566784330871], 'bounds': [-192.6726722314738, 384.778516919384, 63.46670899899013, 837.1348399467902], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.8399999999999, 'line_angle': -119.52000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 5, 'analytic_vertices': [(-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101)], 'open_stroke_perimeter': 519.84, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.84, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 516.140093159572, 'height': 61.911467703716994, 'area': 0.0, 'perimeter': 519.84, 'centroid': [-450.7427188112598, 415.7342507712425], 'bounds': [-708.8127653910458, 384.778516919384, -192.6726722314738, 446.689984623101], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.84, 'line_angle': 173.16000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 6, 'analytic_vertices': [(-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 842.640528703534, 'compactness': 0.00542620984884826, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 842.640528703534, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 842.640528703534, 'line_angle': -32.03999999999995, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 7}}, 'processing_metadata': {'processing_timestamp': 1754959145.477041, 'feature_count': 54}, 'actions': ['line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930'], 'action_program': ['line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930'], 'geometry': {'area': 0.12433152925499794, 'perimeter': 1.6501113434590904, 'centroid': [0.677600137349416, 0.12854795515194184], 'bounds': [0.3552002746988321, 4.753164162310427e-16, 1.0, 0.3856438654558245], 'width': 0.6447997253011679, 'height': 0.385643865455824}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 6}, 'analytic_attributes': ['zigzag', 'circle', 'zigzag', 'zigzag', 'triangle', 'circle', 'normal'], 'analytic_ngram': {'zigzag|circle': 1, 'circle|zigzag': 1, 'zigzag|zigzag': 1, 'zigzag|triangle': 1, 'triangle|circle': 1, 'circle|normal': 1}, 'alternation': 0.14285714285714285, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 7}}}, 'topological_features': {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 5, 1: 2, 2: 6, 3: 4, 5: 5, 6: 4, 4: 2}, 'adjacency_clustering': {0: 0.7, 1: 1.0, 2: 0.5333333333333333, 3: 1.0, 5: 0.7, 6: 1.0, 4: 1.0}, 'intersection_count': 14, 'betweenness_centrality': {0: 0.1, 1: 0.0, 2: 0.26666666666666666, 3: 0.0, 5: 0.1, 6: 0.0, 4: 0.0}, 'containment_score': 2, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1692919449698877, 0.40271403723937527, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1692919449698877, 0.0, 0.0, 0.16927386481281592, 0.0, 0.0, 0.40271403723937527, 0.0, 0.0, 0.16927386481281592, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 4473.356250504268, 'skeleton_graph_features': {'num_nodes': 7, 'num_edges': 14}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.2474078250225908, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.7848807085191869, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.5682027026722688, 'complexity': 4, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.19509708599975403, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.18200108496378298, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}}
2025-08-12 06:09:05,478 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.4237293391614096, 0.2975557815116552], 'orientation_degrees': 118.30663895797257}
2025-08-12 06:09:05,478 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.12433152925499794, 'perimeter': 1.6501113434590904, 'centroid': [0.677600137349416, 0.12854795515194184], 'bounds': [0.3552002746988321, 4.753164162310427e-16, 1.0, 0.3856438654558245], 'width': 0.6447997253011679, 'height': 0.385643865455824}
2025-08-12 06:09:05,478 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_zigzag_0.894-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704183, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1287.3600000000001, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_circle_0.500-0.926', 'features': {'stroke_index': 1, 'analytic_vertices': [(1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294)], 'open_stroke_perimeter': 720.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 643.5658253889101, 'height': 322.83591558482294, 'area': 0.0, 'perimeter': 720.0, 'centroid': [965.5770873055451, 161.41795779241147], 'bounds': [643.79417461109, 0.0, 1287.3600000000001, 322.83591558482294], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 720.0, 'line_angle': 153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.500-0.648', 'features': {'stroke_index': 2, 'analytic_vertices': [(643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13)], 'open_stroke_perimeter': 720.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 643.5658253889098, 'height': 322.83591558482334, 'area': 0.0, 'perimeter': 720.0, 'centroid': [322.01126191663514, 161.41795779241127], 'bounds': [0.22834922218021347, -3.979039320256561e-13, 643.79417461109, 322.83591558482294], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 720.0, 'line_angle': -153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_zigzag_0.583-0.164', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902)], 'open_stroke_perimeter': 839.5200000000001, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 839.5200000000001, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 63.238359776809915, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 839.5200000000001, 'centroid': [31.84752911058517, 418.56741997339486], 'bounds': [0.22834922218021347, -3.979039320256561e-13, 63.46670899899013, 837.1348399467902], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 839.5200000000001, 'line_angle': 85.68000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_triangle_0.361-0.930', 'features': {'stroke_index': 4, 'analytic_vertices': [(63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384)], 'open_stroke_perimeter': 519.8399999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.8399999999999, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 256.1393812304639, 'height': 452.3563230274062, 'area': 0.0, 'perimeter': 519.8399999999999, 'centroid': [-64.60298161624183, 610.9566784330871], 'bounds': [-192.6726722314738, 384.778516919384, 63.46670899899013, 837.1348399467902], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.8399999999999, 'line_angle': -119.52000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_circle_0.361-0.313', 'features': {'stroke_index': 5, 'analytic_vertices': [(-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101)], 'open_stroke_perimeter': 519.84, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.84, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 516.140093159572, 'height': 61.911467703716994, 'area': 0.0, 'perimeter': 519.84, 'centroid': [-450.7427188112598, 415.7342507712425], 'bounds': [-708.8127653910458, 384.778516919384, -192.6726722314738, 446.689984623101], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.84, 'line_angle': 173.16000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.583-0.930', 'features': {'stroke_index': 6, 'analytic_vertices': [(-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 842.640528703534, 'compactness': 0.00542620984884826, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 842.640528703534, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 842.640528703534, 'line_angle': -32.03999999999995, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:05,479 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-12 06:09:05,479 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 06:09:05,479 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-12 06:09:05,480 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.677600137349416, 0.12854795515194184], 'width': 0.6447997253011679, 'height': 0.385643865455824, 'area_raw': 0.5084825935046632, 'area_normalized': 1.0, 'perimeter_raw': 4.117589844652146, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.6720082518077304, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.37687713209159157, 'polsby_popper_compactness': 0.17429059689039136, 'eccentricity': 0.541552212030195, 'symmetry_score': 0.40273020218695216, 'horizontal_symmetry': 0.6007061294530136, 'vertical_symmetry': 0.4500485603803981, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 8.0, 'visual_complexity': 0.5711116454474393, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'moment_of_inertia': 0.1988356493263487, 'irregularity_score': 0.131603482971322, 'standardized_complexity': 0.49298736326093345, 'clustering_heights': [0.0, 0.10746205320699521, 0.3957146229643306, 0.49314337760036253, 1.462991292310712, 4.729190345240624], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:05,480 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.1988356493263487, 'center_of_mass': [0.677600137349416, 0.12854795515194184], 'polsby_popper_compactness': 0.6802566981244207, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'edge_length_variance': 0.07423181245043547}
2025-08-12 06:09:05,480 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 7}, 'shape_modifier_distribution': {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'zigzag', 'composition_complexity': 11, 'homogeneity_score': 0.30612244897959184, 'pattern_regularity': 0.5714285714285714}
2025-08-12 06:09:05,481 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704183, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1287.3600000000001, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 1, 'analytic_vertices': [(1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294)], 'open_stroke_perimeter': 720.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 643.5658253889101, 'height': 322.83591558482294, 'area': 0.0, 'perimeter': 720.0, 'centroid': [965.5770873055451, 161.41795779241147], 'bounds': [643.79417461109, 0.0, 1287.3600000000001, 322.83591558482294], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 720.0, 'line_angle': 153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 2, 'analytic_vertices': [(643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13)], 'open_stroke_perimeter': 720.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 720.0, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 643.5658253889098, 'height': 322.83591558482334, 'area': 0.0, 'perimeter': 720.0, 'centroid': [322.01126191663514, 161.41795779241127], 'bounds': [0.22834922218021347, -3.979039320256561e-13, 643.79417461109, 322.83591558482294], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 720.0, 'line_angle': -153.36, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [(0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902)], 'open_stroke_perimeter': 839.5200000000001, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 839.5200000000001, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 63.238359776809915, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 839.5200000000001, 'centroid': [31.84752911058517, 418.56741997339486], 'bounds': [0.22834922218021347, -3.979039320256561e-13, 63.46670899899013, 837.1348399467902], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 839.5200000000001, 'line_angle': 85.68000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 4, 'analytic_vertices': [(63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384)], 'open_stroke_perimeter': 519.8399999999999, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.8399999999999, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 256.1393812304639, 'height': 452.3563230274062, 'area': 0.0, 'perimeter': 519.8399999999999, 'centroid': [-64.60298161624183, 610.9566784330871], 'bounds': [-192.6726722314738, 384.778516919384, 63.46670899899013, 837.1348399467902], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.8399999999999, 'line_angle': -119.52000000000002, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 5, 'analytic_vertices': [(-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101)], 'open_stroke_perimeter': 519.84, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 519.84, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 516.140093159572, 'height': 61.911467703716994, 'area': 0.0, 'perimeter': 519.84, 'centroid': [-450.7427188112598, 415.7342507712425], 'bounds': [-708.8127653910458, 384.778516919384, -192.6726722314738, 446.689984623101], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 519.84, 'line_angle': 173.16000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 6, 'analytic_vertices': [(-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 842.640528703534, 'compactness': 0.00542620984884826, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 842.640528703534, 'avg_stroke_length': 778.4572183862192, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 842.640528703534, 'line_angle': -32.03999999999995, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 06:09:05,481 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}
2025-08-12 06:09:05,482 - INFO - [INPUT] Processing image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018, is_positive=False
2025-08-12 06:09:05,482 - INFO - [INPUT] action_commands type: <class 'list'>, value: [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-12 06:09:05,483 - INFO - [SHAPE SPLIT] Raw action_commands: [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-12 06:09:05,483 - INFO - [SHAPE SPLIT] Sublist 0: ['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-12 06:09:05,483 - INFO - [SHAPE SPLIT] Parsed shapes_commands (multi-object): [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-12 06:09:05,483 - INFO - ComprehensiveNVLabsParser initialized:
2025-08-12 06:09:05,484 - INFO -   Canvas size: 512x512
2025-08-12 06:09:05,484 - INFO -   Coordinate range: (-360, 360)
2025-08-12 06:09:05,484 - INFO -   Base scaling factor: 1440.0
2025-08-12 06:09:05,484 - INFO - [PARSER] Parsing shape 0 commands: ['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-12 06:09:05,485 - INFO - [LOGOPARSER] Input action_commands for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: ['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-12 06:09:05,485 - DEBUG - Parsing 4 commands for hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:05,485 - DEBUG - [ACTIONS_JOIN] line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750
2025-08-12 06:09:05,485 - DEBUG - [ACTIONS_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:05,486 - DEBUG - [ACTIONS_ATTRS] [{'line_length': 187.20000000000002, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_0.130-0.500'}, {'line_length': 1152.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.800-0.750'}, {'line_length': 187.20000000000002, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.130-0.750'}, {'line_length': 1440.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_1.000-0.750'}]
2025-08-12 06:09:05,486 - INFO - [OneStrokeShape.__init__] basic_actions: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], start_coordinates: None, start_orientation: None, scaling_factors: None
2025-08-12 06:09:05,486 - DEBUG - [OUTPUT_SHAPE_ACTIONS] line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750
2025-08-12 06:09:05,486 - DEBUG - [OUTPUT_SHAPE_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:05,487 - DEBUG - [OUTPUT_SHAPE_ATTRS] [{'line_length': 187.20000000000002, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_0.130-0.500'}, {'line_length': 1152.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.800-0.750'}, {'line_length': 187.20000000000002, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.130-0.750'}, {'line_length': 1440.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_1.000-0.750'}]
2025-08-12 06:09:05,487 - INFO - [OneStrokeShape._calculate_vertices] INPUT basic_actions: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750]
2025-08-12 06:09:05,487 - INFO - [OneStrokeShape._calculate_vertices] OUTPUT vertices: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 06:09:05,487 - INFO - [LOGOPARSER] Shape for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 has 5 vertices.
2025-08-12 06:09:05,488 - INFO - [LOGOPARSER] Parsed vertices (raw): [[0.0, 0.0], [187.20000000000002, 0.0], [187.20000000000007, 1152.0], [5.684341886080802e-14, 1152.0], [-2.0768028975502026e-13, -288.0]]
2025-08-12 06:09:05,488 - INFO - [LOGOPARSER] Vertices bounding box: min=(-0.00,-288.00), max=(187.20,1152.00), center=(74.88,403.20)
2025-08-12 06:09:05,488 - INFO - Successfully created OneStrokeShape with 4 actions using NVLabs implementation
2025-08-12 06:09:05,488 - INFO - [PARSER] Parsed shape 0: type=OneStrokeShape, num_actions=4, action_types=['str', 'str', 'str', 'str'], attributes={}
2025-08-12 06:09:05,488 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.130-0.500, stroke_index=0
2025-08-12 06:09:05,489 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.13, param2=None, param3=0.5
2025-08-12 06:09:05,489 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)]
2025-08-12 06:09:05,489 - INFO - [_calculate_vertices_from_action] Bounding box: (0.37, 0.5, 0.5, 0.5)
2025-08-12 06:09:05,490 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,490 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,491 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:05,491 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:05,492 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:05,492 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,492 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,492 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,493 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,493 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,494 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.37, 0.5)]
2025-08-12 06:09:05,494 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.37, 0.5)]
2025-08-12 06:09:05,494 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,494 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,495 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,495 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=0, assigned is_positive=False
2025-08-12 06:09:05,495 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=0, stroke_dict: {'command': 'line_normal_0.130-0.500', 'vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:05,496 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.800-0.750, stroke_index=1
2025-08-12 06:09:05,496 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.8, param2=None, param3=0.75
2025-08-12 06:09:05,496 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)]
2025-08-12 06:09:05,497 - INFO - [_calculate_vertices_from_action] Bounding box: (0.49999999999999983, -0.30000000000000004, 0.5, 0.5)
2025-08-12 06:09:05,497 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,498 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,498 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:05,500 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:05,500 - INFO - Computed angular variance: 1.079488 for 16 vertices.
2025-08-12 06:09:05,500 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,500 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,501 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:05,501 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,501 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,502 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.49999999999999983, -0.30000000000000004)]
2025-08-12 06:09:05,502 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.49999999999999983, -0.30000000000000004)]
2025-08-12 06:09:05,503 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.32, 'num_vertices': 16, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,503 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.32, 'num_vertices': 16, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,504 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,504 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=1, assigned is_positive=False
2025-08-12 06:09:05,505 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=1, stroke_dict: {'command': 'line_normal_0.800-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'open_stroke_perimeter': 0.8, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:05,505 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.130-0.750, stroke_index=2
2025-08-12 06:09:05,505 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.13, param2=None, param3=0.75
2025-08-12 06:09:05,506 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)]
2025-08-12 06:09:05,506 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.37, 0.5, 0.5)
2025-08-12 06:09:05,506 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,506 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,508 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:05,508 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:05,508 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:05,509 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,509 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,509 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:05,510 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,510 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,510 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.5, 0.37)]
2025-08-12 06:09:05,510 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.5, 0.37)]
2025-08-12 06:09:05,511 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,511 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,512 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,512 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=2, assigned is_positive=False
2025-08-12 06:09:05,513 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=2, stroke_dict: {'command': 'line_normal_0.130-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:05,513 - INFO - [_vertices_from_command] INPUT: command=line_normal_1.000-0.750, stroke_index=3
2025-08-12 06:09:05,513 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=1.0, param2=None, param3=0.75
2025-08-12 06:09:05,514 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)]
2025-08-12 06:09:05,514 - INFO - [_calculate_vertices_from_action] Bounding box: (0.49999999999999983, -0.5, 0.5, 0.5)
2025-08-12 06:09:05,514 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,515 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,516 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:05,516 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:05,517 - INFO - Computed angular variance: 0.888264 for 20 vertices.
2025-08-12 06:09:05,517 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,517 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,517 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:05,517 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,518 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,519 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.49999999999999983, -0.5)]
2025-08-12 06:09:05,519 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.49999999999999983, -0.5)]
2025-08-12 06:09:05,519 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,520 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,520 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,521 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=3, assigned is_positive=False
2025-08-12 06:09:05,521 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=3, stroke_dict: {'command': 'line_normal_1.000-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'open_stroke_perimeter': 1.0, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:05,521 - INFO - [ATTR DEBUG] Shape 0 strokes (dicts): [{'command': 'line_normal_0.130-0.500', 'vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.800-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'open_stroke_perimeter': 0.8, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.130-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_1.000-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'open_stroke_perimeter': 1.0, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-12 06:09:05,522 - INFO - [PATCH][SHAPE GEOMETRY] idx=0, vertices=[(0.0, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (0.0, 1.0), (0.0, 0.0)], geometry={'area': 0.7999999999999999, 'perimeter': 3.8, 'centroid': [0.49999999999999994, 0.6], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 06:09:05,522 - INFO - [robust_curvature] INPUT: [(0.0, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (0.0, 1.0), (0.0, 0.0)]
2025-08-12 06:09:05,522 - INFO - [robust_curvature] OUTPUT: 1.806415775814131
2025-08-12 06:09:05,524 - INFO - Computed angular variance: 0.394784 for 5 vertices.
2025-08-12 06:09:05,524 - INFO - [PATCH][SHAPE PHYSICS] idx=0, physics features: {'robust_curvature': 1.806415775814131, 'robust_angular_variance': 0.3947841760435743, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 1.5707963267948966}
2025-08-12 06:09:05,524 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 1.87200000e+02  0.00000000e+00]
 [ 1.87200000e+02  1.15200000e+03]
 [ 5.68434189e-14  1.15200000e+03]
 [-2.07680290e-13 -2.88000000e+02]]
2025-08-12 06:09:05,524 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,525 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,525 - INFO - Computed angular variance: 0.394784 for 5 vertices.
2025-08-12 06:09:05,526 - INFO - [robust_curvature] INPUT: [[ 0.0000000e+00  0.0000000e+00]
 [ 1.8720000e+02  0.0000000e+00]
 [-2.0768029e-13 -2.8800000e+02]]
2025-08-12 06:09:05,526 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,526 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,526 - INFO - [robust_curvature] INPUT: [[1.87200000e+02 1.15200000e+03]
 [5.68434189e-14 1.15200000e+03]]
2025-08-12 06:09:05,527 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,527 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,527 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,527 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.3947841760435744, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,527 - INFO - [robust_curvature] INPUT: [[ 7.18147647e-01 -1.10484253e+00]
 [ 1.86481852e+02  4.41937014e+00]
 [ 1.86481852e+02  1.14758063e+03]
 [ 7.18147647e-01  1.14647579e+03]
 [-2.05868793e-13 -2.81370945e+02]]
2025-08-12 06:09:05,529 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,529 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,529 - INFO - Computed angular variance: 0.401841 for 5 vertices.
2025-08-12 06:09:05,530 - INFO - [robust_curvature] INPUT: [[ 7.18147647e-01 -1.10484253e+00]
 [ 1.86481852e+02  4.41937014e+00]
 [-2.05868793e-13 -2.81370945e+02]]
2025-08-12 06:09:05,530 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,530 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,531 - INFO - [robust_curvature] INPUT: [[1.86481852e+02 1.14758063e+03]
 [7.18147647e-01 1.14647579e+03]]
2025-08-12 06:09:05,531 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,531 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,531 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,532 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.40184065448996753, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,532 - INFO - [robust_curvature] INPUT: [[ 1.99769801e+01 -3.00498772e+01]
 [ 1.67173624e+02  1.22859269e+02]
 [ 1.67173624e+02  1.02868477e+03]
 [ 1.99769801e+01  9.98102943e+02]
 [ 9.87910870e-02 -1.03597107e+02]]
2025-08-12 06:09:05,533 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,533 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,533 - INFO - Computed angular variance: 0.714286 for 5 vertices.
2025-08-12 06:09:05,534 - INFO - [robust_curvature] INPUT: [[ 1.99769801e+01 -3.00498772e+01]
 [ 1.67173624e+02  1.22859269e+02]
 [ 9.87910870e-02 -1.03597107e+02]]
2025-08-12 06:09:05,534 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,534 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,535 - INFO - [robust_curvature] INPUT: [[ 167.1736244  1028.68477239]
 [  19.97698006  998.10294321]]
2025-08-12 06:09:05,535 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,535 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,536 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,536 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.71428640705769, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,537 - INFO - [robust_curvature] INPUT: [[ 56.25889127  64.88024718]
 [120.00432518 329.38274081]
 [120.00432518 721.66233413]
 [ 56.25889127 668.76183541]
 [ 21.8735671  231.31284248]]
2025-08-12 06:09:05,537 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,537 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,537 - INFO - Computed angular variance: 1.060016 for 5 vertices.
2025-08-12 06:09:05,539 - INFO - [robust_curvature] INPUT: [[ 56.25889127  64.88024718]
 [120.00432518 329.38274081]
 [ 21.8735671  231.31284248]]
2025-08-12 06:09:05,539 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,540 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,540 - INFO - [robust_curvature] INPUT: [[120.00432518 721.66233413]
 [ 56.25889127 668.76183541]]
2025-08-12 06:09:05,540 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,541 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,541 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,541 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 1.0600163620254444, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,542 - INFO - [robust_curvature] INPUT: [[ 73.28849518 370.01026178]
 [ 79.04537533 397.365925  ]
 [ 79.04537533 432.79287978]
 [ 73.28849518 427.32174713]
 [ 69.73225897 388.50918631]]
2025-08-12 06:09:05,542 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,542 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,543 - INFO - Computed angular variance: 1.141483 for 5 vertices.
2025-08-12 06:09:05,543 - INFO - [robust_curvature] INPUT: [[ 73.28849518 370.01026178]
 [ 79.04537533 397.365925  ]
 [ 69.73225897 388.50918631]]
2025-08-12 06:09:05,544 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,544 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,544 - INFO - [robust_curvature] INPUT: [[ 79.04537533 432.79287978]
 [ 73.28849518 427.32174713]]
2025-08-12 06:09:05,544 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,544 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,545 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,545 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 1.1414826212674263, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,545 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.3947841760435744, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.40184065448996753, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.71428640705769, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 1.0600163620254444, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 1.1414826212674263, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:05,546 - DEBUG - [extract_image_features] Calculated width: 187.20000000000027, height: 1440.0
2025-08-12 06:09:05,546 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 06:09:05,546 - INFO - [robust_curvature] OUTPUT: 1.9878219002802675
2025-08-12 06:09:05,547 - INFO - Computed angular variance: 0.394784 for 5 vertices.
2025-08-12 06:09:05,547 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 1.87200000e+02  0.00000000e+00]
 [ 1.87200000e+02  1.15200000e+03]
 [ 5.68434189e-14  1.15200000e+03]
 [-2.07680290e-13 -2.88000000e+02]]
2025-08-12 06:09:05,547 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,548 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,548 - INFO - Computed angular variance: 0.394784 for 5 vertices.
2025-08-12 06:09:05,550 - INFO - [robust_curvature] INPUT: [[ 0.0000000e+00  0.0000000e+00]
 [ 1.8720000e+02  0.0000000e+00]
 [-2.0768029e-13 -2.8800000e+02]]
2025-08-12 06:09:05,550 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,550 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,551 - INFO - [robust_curvature] INPUT: [[1.87200000e+02 1.15200000e+03]
 [5.68434189e-14 1.15200000e+03]]
2025-08-12 06:09:05,551 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,551 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,552 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,552 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.3947841760435744, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,552 - INFO - [robust_curvature] INPUT: [[ 7.18147647e-01 -1.10484253e+00]
 [ 1.86481852e+02  4.41937014e+00]
 [ 1.86481852e+02  1.14758063e+03]
 [ 7.18147647e-01  1.14647579e+03]
 [-2.05868793e-13 -2.81370945e+02]]
2025-08-12 06:09:05,553 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,553 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,553 - INFO - Computed angular variance: 0.401841 for 5 vertices.
2025-08-12 06:09:05,554 - INFO - [robust_curvature] INPUT: [[ 7.18147647e-01 -1.10484253e+00]
 [ 1.86481852e+02  4.41937014e+00]
 [-2.05868793e-13 -2.81370945e+02]]
2025-08-12 06:09:05,554 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,555 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,555 - INFO - [robust_curvature] INPUT: [[1.86481852e+02 1.14758063e+03]
 [7.18147647e-01 1.14647579e+03]]
2025-08-12 06:09:05,555 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,556 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,556 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,556 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.40184065448996753, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,557 - INFO - [robust_curvature] INPUT: [[ 1.99769801e+01 -3.00498772e+01]
 [ 1.67173624e+02  1.22859269e+02]
 [ 1.67173624e+02  1.02868477e+03]
 [ 1.99769801e+01  9.98102943e+02]
 [ 9.87910870e-02 -1.03597107e+02]]
2025-08-12 06:09:05,557 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,557 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,557 - INFO - Computed angular variance: 0.714286 for 5 vertices.
2025-08-12 06:09:05,558 - INFO - [robust_curvature] INPUT: [[ 1.99769801e+01 -3.00498772e+01]
 [ 1.67173624e+02  1.22859269e+02]
 [ 9.87910870e-02 -1.03597107e+02]]
2025-08-12 06:09:05,558 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,558 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,559 - INFO - [robust_curvature] INPUT: [[ 167.1736244  1028.68477239]
 [  19.97698006  998.10294321]]
2025-08-12 06:09:05,559 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,559 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,560 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,560 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.71428640705769, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,560 - INFO - [robust_curvature] INPUT: [[ 56.25889127  64.88024718]
 [120.00432518 329.38274081]
 [120.00432518 721.66233413]
 [ 56.25889127 668.76183541]
 [ 21.8735671  231.31284248]]
2025-08-12 06:09:05,561 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,561 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,561 - INFO - Computed angular variance: 1.060016 for 5 vertices.
2025-08-12 06:09:05,562 - INFO - [robust_curvature] INPUT: [[ 56.25889127  64.88024718]
 [120.00432518 329.38274081]
 [ 21.8735671  231.31284248]]
2025-08-12 06:09:05,562 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,563 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,563 - INFO - [robust_curvature] INPUT: [[120.00432518 721.66233413]
 [ 56.25889127 668.76183541]]
2025-08-12 06:09:05,563 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,564 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,564 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,564 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 1.0600163620254444, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,565 - INFO - [robust_curvature] INPUT: [[ 73.28849518 370.01026178]
 [ 79.04537533 397.365925  ]
 [ 79.04537533 432.79287978]
 [ 73.28849518 427.32174713]
 [ 69.73225897 388.50918631]]
2025-08-12 06:09:05,565 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,565 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,565 - INFO - Computed angular variance: 1.141483 for 5 vertices.
2025-08-12 06:09:05,566 - INFO - [robust_curvature] INPUT: [[ 73.28849518 370.01026178]
 [ 79.04537533 397.365925  ]
 [ 69.73225897 388.50918631]]
2025-08-12 06:09:05,567 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,567 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,567 - INFO - [robust_curvature] INPUT: [[ 79.04537533 432.79287978]
 [ 73.28849518 427.32174713]]
2025-08-12 06:09:05,568 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,568 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,568 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,569 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 1.1414826212674263, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,569 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.3947841760435744, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.40184065448996753, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.71428640705769, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 1.0600163620254444, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 1.1414826212674263, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:05,570 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,570 - DEBUG - [extract_image_features] Stroke 0 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:05,571 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,571 - DEBUG - [extract_image_features] Stroke 1 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:05,572 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,572 - DEBUG - [extract_image_features] Stroke 2 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:05,573 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,574 - DEBUG - [extract_image_features] Stroke 3 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:05,574 - INFO - [extract_image_features] stroke_type_distribution INPUT: [{'command': 'line_normal_0.130-0.500', 'vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.800-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.130-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_1.000-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}]
2025-08-12 06:09:05,574 - INFO - [extract_image_features] stroke_type_distribution OUTPUT: {'line': 4}
2025-08-12 06:09:05,575 - INFO - [extract_image_features] modifier_distribution OUTPUT: {'normal': 4}
2025-08-12 06:09:05,575 - INFO - [extract_image_features] relational INPUT: []
2025-08-12 06:09:05,575 - INFO - [extract_image_features] relational OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:05,575 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:05,576 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,576 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,576 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,576 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,577 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,577 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,577 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,577 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-12 06:09:05,578 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,578 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,578 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,579 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,579 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,579 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,579 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,579 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,580 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,580 - DEBUG - [_detect_alternation] OUTPUT: 0.25
2025-08-12 06:09:05,581 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:05,581 - INFO - [extract_image_features] PATCHED ngram: {'normal|normal': 3}
2025-08-12 06:09:05,581 - INFO - [extract_image_features] PATCHED alternation: 0.25
2025-08-12 06:09:05,581 - INFO - [extract_image_features] PATCHED regularity: 0.25
2025-08-12 06:09:05,581 - INFO - [extract_image_features] PATCHED dominant_shape_functions: line
2025-08-12 06:09:05,582 - INFO - [extract_image_features] PATCHED dominant_modifiers: normal
2025-08-12 06:09:05,582 - INFO - [extract_image_features] PATCHED image_canonical_summary: {'area': 215654.40000000014, 'perimeter': 3254.4, 'compactness': 0.2558740981857143, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.25}
2025-08-12 06:09:05,582 - INFO - [extract_image_features] OUTPUT: {'area': 215654.40000000014, 'perimeter': 3254.4, 'convexity_ratio': 0.11111111111111101, 'compactness': 0.2558740981857143, 'aspect_ratio': 0.1300000000000002, 'centroid_x': 93.59999999999998, 'centroid_y': 575.9999999999999, 'width': 187.20000000000027, 'height': 1440.0, 'bounding_box': (-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0), 'num_vertices': 5, 'curvature': 1.9878219002802675, 'angular_variance': 0.3947841760435744, 'complexity': 0.03500383731876051, 'num_strokes': 4, 'stroke_type_distribution': {'line': 4}, 'modifier_distribution': {'normal': 4}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.03500383731876051, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.3947841760435744, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.40184065448996753, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.71428640705769, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 1.0600163620254444, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 1.1414826212674263, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 227024.63999999993, 'center_of_mass_x': 0.5000000000000003, 'center_of_mass_y': 0.5999999999999999, 'symmetry_score': 132.37038943812178, 'ngram': {'normal|normal': 3}, 'alternation': 0.25, 'regularity': 0.25, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 215654.40000000014, 'perimeter': 3254.4, 'compactness': 0.2558740981857143, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.25}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 1, 'vertical': 3}}
2025-08-12 06:09:05,582 - DEBUG - [extract_image_features] FINAL OUTPUT bounding_box: (-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0)
2025-08-12 06:09:05,583 - DEBUG - [extract_image_features] FINAL OUTPUT width: 187.20000000000027, height: 1440.0
2025-08-12 06:09:05,583 - DEBUG - [extract_image_features] FINAL OUTPUT curvature: 1.9878219002802675
2025-08-12 06:09:05,583 - INFO - [DIAG] Shape 0 extracted attributes: {'area': 215654.40000000014, 'perimeter': 3254.4, 'convexity_ratio': 0.11111111111111101, 'compactness': 0.2558740981857143, 'aspect_ratio': 0.1300000000000002, 'centroid_x': 93.59999999999998, 'centroid_y': 575.9999999999999, 'width': 187.20000000000027, 'height': 1440.0, 'bounding_box': (-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0), 'num_vertices': 5, 'curvature': 1.9878219002802675, 'angular_variance': 0.3947841760435744, 'complexity': 0.03500383731876051, 'num_strokes': 4, 'stroke_type_distribution': {'line': 4}, 'modifier_distribution': {'normal': 4}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.03500383731876051, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.3947841760435744, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.40184065448996753, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.71428640705769, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 1.0600163620254444, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 1.1414826212674263, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 227024.63999999993, 'center_of_mass_x': 0.5000000000000003, 'center_of_mass_y': 0.5999999999999999, 'symmetry_score': 132.37038943812178, 'ngram': {'normal|normal': 3}, 'alternation': 0.25, 'regularity': 0.25, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 215654.40000000014, 'perimeter': 3254.4, 'compactness': 0.2558740981857143, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.25}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 1, 'vertical': 3}}
2025-08-12 06:09:05,583 - INFO - [VALIDATION] expected_strokes=4, actual_shapes=1
2025-08-12 06:09:05,584 - INFO - [VALIDATION] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: Number of action commands matches number of parsed shapes (4)
2025-08-12 06:09:05,584 - INFO - [standardize_coordinates] INPUT vertices: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 06:09:05,584 - INFO - [standardize_coordinates] OUTPUT normalized vertices: [[1.1094032572383544e-15, 0.2], [0.9999999999999997, 0.2], [1.0, 1.0], [1.4130539990161747e-15, 1.0], [0.0, 0.0]]
2025-08-12 06:09:05,585 - DEBUG - [process_single_image] Passing shape_list to extract_relational_features: [{'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}]
2025-08-12 06:09:05,585 - INFO - [extract_relational_features] INPUT: [{'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}]
2025-08-12 06:09:05,585 - DEBUG - [extract_relational_features] Shape 0 vertices: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 06:09:05,586 - INFO - [calculate_relationships] INPUT: strokes=[{'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}], buffer_amt=0.001
2025-08-12 06:09:05,586 - DEBUG - [calculate_relationships] Stroke 0: {'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}
2025-08-12 06:09:05,586 - DEBUG - [calculate_relationships] Vertices for stroke 0: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 06:09:05,586 - DEBUG - [calculate_relationships] Created LineString for stroke 0: LINESTRING (0 0, 187.20000000000002 0, 187.20000000000007 1152, 5.684341886080802e-14 1152, -2.0768028975502026e-13 -288)
2025-08-12 06:09:05,586 - DEBUG - [calculate_relationships] Buffered geometries: ['POLYGON ((0.0009999999998452 -0.001, 0.0009999999997923 -288, 0.0009951847264645 -288.0000980171403, 0.0009807852801956 -288.000195090322, 0.0009569403355245 -288.00029028467725, 0.0009238795323036 -288.00038268343235, 0.0008819212641407 -288.0004713967368, 0.0008314696120949 -288.000555570233, 0.0007730104531551 -288.00063439328414, 0.0007071067809789 -288.0007071067812, 0.000634393283956 -288.0007730104534, 0.0005555702328119 -288.0008314696123, 0.0004713967366183 -288.00088192126435, 0.0003826834321574 -288.00092387953254, 0.0002902846770468 -288.00095694033575, 0.0001950903218084 -288.0009807852804, 9.801714012188025e-5 -288.00099518472666, -2.0768028975502026e-13 -288.001, -9.801714053724117e-5 -288.00099518472666, -0.0001950903222238 -288.0009807852804, -0.0002902846774621 -288.00095694033575, -0.0003826834325728 -288.00092387953254, -0.0004713967370337 -288.00088192126435, -0.0005555702332273 -288.0008314696123, -0.0006343932843713 -288.0007730104534, -0.0007071067813942 -288.0007071067812, -0.0007730104535704 -288.00063439328414, -0.0008314696125102 -288.000555570233, -0.000881921264556 -288.0004713967368, -0.000923879532719 -288.00038268343235, -0.0009569403359399 -288.00029028467725, -0.0009807852806109 -288.000195090322, -0.0009951847268799 -288.0000980171403, -0.0010000000002077 -288, -0.0009999999999432 1152, -0.0009951847266154 1152.0000980171403, -0.0009807852803464 1152.000195090322, -0.0009569403356754 1152.0002902846772, -0.0009238795324544 1152.0003826834325, -0.0008819212642915 1152.0004713967369, -0.0008314696122457 1152.000555570233, -0.0007730104533059 1152.0006343932841, -0.0007071067811297 1152.0007071067812, -0.0006343932841068 1152.0007730104533, -0.0005555702329628 1152.0008314696122, -0.0004713967367692 1152.0008819212644, -0.0003826834323082 1152.0009238795326, -0.0002902846771976 1152.0009569403358, -0.0001950903219593 1152.0009807852805, -9.801714027271722e-5 1152.0009951847267, 5.684341886080802e-14 1152.001, 187.20000000000007 1152.001, 187.2000980171404 1152.0009951847267, 187.2001950903221 1152.0009807852805, 187.20029028467732 1152.0009569403358, 187.20038268343245 1152.0009238795326, 187.2004713967369 1152.0008819212644, 187.2005555702331 1152.0008314696122, 187.20063439328425 1152.0007730104533, 187.20070710678127 1152.0007071067812, 187.20077301045345 1152.0006343932841, 187.20083146961238 1152.000555570233, 187.20088192126443 1152.0004713967369, 187.20092387953258 1152.0003826834325, 187.2009569403358 1152.0002902846772, 187.20098078528048 1152.000195090322, 187.20099518472674 1152.0000980171403, 187.20100000000008 1152, 187.20100000000002 -4.934324553889585e-20, 187.20099518472668 -9.801714032956066e-5, 187.20098078528042 -0.0001950903220161, 187.20095694033574 -0.0002902846772545, 187.20092387953252 -0.0003826834323651, 187.20088192126437 -0.000471396736826, 187.20083146961233 -0.0005555702330196, 187.2007730104534 -0.0006343932841636, 187.2007071067812 -0.0007071067811865, 187.2006343932842 -0.0007730104533627, 187.20055557023304 -0.0008314696123025, 187.20047139673684 -0.0008819212643484, 187.2003826834324 -0.0009238795325113, 187.20029028467727 -0.0009569403357322, 187.20019509032204 -0.0009807852804032, 187.20009801714033 -0.0009951847266722, 187.20000000000002 -0.001, 0.0009999999998452 -0.001), (0.0009999999998452 0.001, 187.199 0.001, 187.19900000000007 1151.999, 0.0010000000000568 1151.999, 0.0009999999998452 0.001))']
2025-08-12 06:09:05,587 - INFO - [calculate_relationships] Intermediate results: adjacency=0, intersections=0, containment=0, overlap=0.0
2025-08-12 06:09:05,587 - INFO - [calculate_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:05,587 - WARNING - [calculate_relationships] All relational features are zero/default. Strokes: [{'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}]
2025-08-12 06:09:05,588 - INFO - [extract_relational_features] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:05,588 - DEBUG - [extract_relational_features] Output is JSON serializable.
2025-08-12 06:09:05,588 - INFO - [robust_curvature] INPUT: [[1.10940326e-15 2.00000000e-01]
 [1.00000000e+00 2.00000000e-01]
 [1.00000000e+00 1.00000000e+00]
 [1.41305400e-15 1.00000000e+00]
 [0.00000000e+00 0.00000000e+00]]
2025-08-12 06:09:05,588 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,589 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,589 - INFO - Computed angular variance: 0.394784 for 5 vertices.
2025-08-12 06:09:05,590 - INFO - [robust_curvature] INPUT: [[1.10940326e-15 2.00000000e-01]
 [1.41305400e-15 1.00000000e+00]
 [0.00000000e+00 0.00000000e+00]]
2025-08-12 06:09:05,590 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,590 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,592 - INFO - [robust_curvature] INPUT: [[1.  0.2]
 [1.  1. ]]
2025-08-12 06:09:05,592 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,592 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,593 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,593 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.39478417604357513, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,594 - INFO - [robust_curvature] INPUT: [[3.83625880e-03 1.99232748e-01]
 [9.96163741e-01 2.03069007e-01]
 [9.96163741e-01 9.96930993e-01]
 [3.83625880e-03 9.96163741e-01]
 [9.67679884e-18 4.60351056e-03]]
2025-08-12 06:09:05,594 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,594 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,595 - INFO - Computed angular variance: 0.390837 for 5 vertices.
2025-08-12 06:09:05,596 - INFO - [robust_curvature] INPUT: [[3.83625880e-03 1.99232748e-01]
 [3.83625880e-03 9.96163741e-01]
 [9.67679884e-18 4.60351056e-03]]
2025-08-12 06:09:05,596 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,596 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,597 - INFO - [robust_curvature] INPUT: [[0.99616374 0.20306901]
 [0.99616374 0.99693099]]
2025-08-12 06:09:05,597 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,597 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,597 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,598 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.3908367443832657, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,598 - INFO - [robust_curvature] INPUT: [[1.06714637e-01 1.79132030e-01]
 [8.93021498e-01 2.85318937e-01]
 [8.93021498e-01 9.14364425e-01]
 [1.06714637e-01 8.93127044e-01]
 [5.27730165e-04 1.28057564e-01]]
2025-08-12 06:09:05,598 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,599 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,599 - INFO - Computed angular variance: 0.358245 for 5 vertices.
2025-08-12 06:09:05,600 - INFO - [robust_curvature] INPUT: [[1.06714637e-01 1.79132030e-01]
 [1.06714637e-01 8.93127044e-01]
 [5.27730165e-04 1.28057564e-01]]
2025-08-12 06:09:05,600 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,600 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,601 - INFO - [robust_curvature] INPUT: [[0.8930215  0.28531894]
 [0.8930215  0.91436443]]
2025-08-12 06:09:05,601 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,601 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,601 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,601 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.35824474057827027, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,602 - INFO - [robust_curvature] INPUT: [[0.30052827 0.24505573]
 [0.64104875 0.42873801]
 [0.64104875 0.7011544 ]
 [0.30052827 0.66441794]
 [0.11684598 0.36063392]]
2025-08-12 06:09:05,602 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,602 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,603 - INFO - Computed angular variance: 0.090395 for 5 vertices.
2025-08-12 06:09:05,604 - INFO - [robust_curvature] INPUT: [[0.64104875 0.42873801]
 [0.64104875 0.7011544 ]
 [0.30052827 0.66441794]]
2025-08-12 06:09:05,604 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,604 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,605 - INFO - [robust_curvature] INPUT: [[0.30052827 0.24505573]
 [0.11684598 0.36063392]]
2025-08-12 06:09:05,605 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,605 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,605 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,606 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.09039485581711845, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,606 - INFO - [robust_curvature] INPUT: [[0.39149837 0.45695157]
 [0.42225094 0.47594856]
 [0.42225094 0.50055061]
 [0.39149837 0.49675121]
 [0.37250138 0.46979805]]
2025-08-12 06:09:05,606 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,607 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,607 - INFO - Computed angular variance: 0.109997 for 5 vertices.
2025-08-12 06:09:05,608 - INFO - [robust_curvature] INPUT: [[0.42225094 0.47594856]
 [0.42225094 0.50055061]
 [0.39149837 0.49675121]]
2025-08-12 06:09:05,608 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,608 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,609 - INFO - [robust_curvature] INPUT: [[0.39149837 0.45695157]
 [0.37250138 0.46979805]]
2025-08-12 06:09:05,609 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,609 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,609 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,610 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.10999735993543273, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,610 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.39478417604357513, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.3908367443832657, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.35824474057827027, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.09039485581711845, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.10999735993543273, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:05,610 - INFO - [_calculate_image_features] INPUTS: vertices=[(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)], strokes=[{'command': 'line_normal_0.130-0.500', 'vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.800-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_0.130-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_normal_1.000-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}], geometry={'area': 0.7999999999999994, 'perimeter': 3.9999999999999973, 'centroid': [0.5000000000000003, 0.5999999999999999], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 06:09:05,611 - DEBUG - [POLYGON CREATION] Attempting to create Polygon with vertices: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-12 06:09:05,611 - DEBUG - [POLYGON REPAIR] Final polygon: is_valid=True, is_empty=False, area=0.7999999999999994
2025-08-12 06:09:05,611 - INFO - [_calculate_perimeter] INPUT vertices: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-12 06:09:05,611 - INFO - [_calculate_perimeter] OUTPUT perimeter: 3.9999999999999973
2025-08-12 06:09:05,612 - INFO - [robust_curvature] INPUT: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-12 06:09:05,612 - INFO - [robust_curvature] OUTPUT: 1.80641577581413
2025-08-12 06:09:05,613 - INFO - Computed angular variance: 0.394784 for 5 vertices.
2025-08-12 06:09:05,613 - INFO - [complexity] Calling calculate_complexity with vertices: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-12 06:09:05,614 - INFO - Complexity: n=5, n_norm=0.17, curvature=0.90, irregularity=0.16, result=0.39
2025-08-12 06:09:05,614 - INFO - [complexity] Output for vertices count 5: 0.38629569970545297
2025-08-12 06:09:05,614 - INFO - [_calculate_image_features] polsby_popper: 0.6283185307179591
2025-08-12 06:09:05,617 - ERROR - [_calculate_image_features] Exception: QH6421 qhull internal error (qh_maxsimplex): qh.MAXwidth required for qh_maxsimplex.  Used to estimate determinate

While executing:  | qhull i Qt
Options selected for Qhull 2020.2.r 2020/08/31:
  run-id 2057942117  incidence  Qtriangulate  _pre-merge  _zero-centrum
  _max-width  0  Error-roundoff  0  _one-merge  0  _near-inside  0
  Visible-distance  0  U-max-coplanar  0  Width-outside  0  _wide-facet  0
  _maxoutside  0

A Qhull internal error has occurred.  Please send the input and output to
qhull_bug@qhull.org. If you can duplicate the error with logging ('T4z'), please
include the log file.
Traceback (most recent call last):
  File "C:\Users\HP\AI_Projects\BongordSolver\scripts\logo_to_shape.py", line 1314, in _calculate_image_features
    features['nested_convex_hull_levels'] = nested_convex_hull_levels(groups) if groups else 0
                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AI_Projects\BongordSolver\src\Derive_labels\compositional_hierarchical.py", line 69, in nested_convex_hull_levels
    hull = ConvexHull(np.vstack(group))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "scipy/spatial/_qhull.pyx", line 2492, in scipy.spatial._qhull.ConvexHull.__init__
  File "scipy/spatial/_qhull.pyx", line 356, in scipy.spatial._qhull._Qhull.__init__
scipy.spatial._qhull.QhullError: QH6421 qhull internal error (qh_maxsimplex): qh.MAXwidth required for qh_maxsimplex.  Used to estimate determinate

While executing:  | qhull i Qt
Options selected for Qhull 2020.2.r 2020/08/31:
  run-id 2057942117  incidence  Qtriangulate  _pre-merge  _zero-centrum
  _max-width  0  Error-roundoff  0  _one-merge  0  _near-inside  0
  Visible-distance  0  U-max-coplanar  0  Width-outside  0  _wide-facet  0
  _maxoutside  0

A Qhull internal error has occurred.  Please send the input and output to
qhull_bug@qhull.org. If you can duplicate the error with logging ('T4z'), please
include the log file.

2025-08-12 06:09:05,618 - WARNING - [_calculate_image_features] Returning default features due to error.
2025-08-12 06:09:05,618 - DEBUG - [_calculate_composition_features] INPUTS: strokes count=4
2025-08-12 06:09:05,619 - DEBUG - [_calculate_composition_features] OUTPUT: {'stroke_type_distribution': {'line': 4}, 'shape_modifier_distribution': {'normal': 4}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 5, 'homogeneity_score': 1.0, 'pattern_regularity': 0.25}
2025-08-12 06:09:05,619 - INFO - [_calculate_physics_features] INPUT vertices: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-12 06:09:05,619 - INFO - [_calculate_physics_features] INPUT centroid: [0.5000000000000003, 0.5999999999999999]
2025-08-12 06:09:05,619 - INFO - [_calculate_physics_features] INPUT strokes: ['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-12 06:09:05,620 - INFO - [_calculate_physics_features] polsby_popper: 0.6283185307179591
2025-08-12 06:09:05,621 - INFO - Computed angular variance: 0.394784 for 5 vertices.
2025-08-12 06:09:05,622 - INFO - [_calculate_physics_features] OUTPUT: {'moment_of_inertia': 0.3733333333333334, 'center_of_mass': [0.5000000000000003, 0.5999999999999999], 'polsby_popper_compactness': 0.6283185307179591, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': False, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'edge_length_variance': 0.09599999999999975}
2025-08-12 06:09:05,622 - INFO - [calculate_shape_relationships] INPUT: shapes=[{'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}], buffer_amt=0.001
2025-08-12 06:09:05,622 - DEBUG - [calculate_shape_relationships] Shape 0 vertices: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 06:09:05,623 - DEBUG - [calculate_shape_relationships] Created Polygon for shape 0: POLYGON ((0 0, 187.20000000000002 0, 187.20000000000007 1152, 5.684341886080802e-14 1152, -2.0768028975502026e-13 -288, 0 0))
2025-08-12 06:09:05,623 - INFO - [calculate_shape_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:05,623 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal'], n=2
2025-08-12 06:09:05,624 - DEBUG - [ensure_str_list] Converting list: ['normal']
2025-08-12 06:09:05,624 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,624 - DEBUG - [ensure_str_list] Result: ['normal']
2025-08-12 06:09:05,624 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal']
2025-08-12 06:09:05,625 - DEBUG - [_extract_ngram_features] OUTPUT: {}
2025-08-12 06:09:05,625 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,625 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal'], n=2
2025-08-12 06:09:05,625 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal']
2025-08-12 06:09:05,626 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,626 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,626 - DEBUG - [ensure_str_list] Result: ['normal', 'normal']
2025-08-12 06:09:05,626 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal']
2025-08-12 06:09:05,626 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 1}
2025-08-12 06:09:05,626 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,627 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal'], n=2
2025-08-12 06:09:05,627 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal']
2025-08-12 06:09:05,627 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,627 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,628 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,628 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal']
2025-08-12 06:09:05,628 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal']
2025-08-12 06:09:05,628 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 2}
2025-08-12 06:09:05,628 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,630 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:05,630 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,630 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,630 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,630 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,631 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,631 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,631 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,631 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-12 06:09:05,632 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,632 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,632 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,632 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,632 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,632 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,632 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,633 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,633 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,633 - DEBUG - [_detect_alternation] OUTPUT: 0.25
2025-08-12 06:09:05,633 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:05,634 - INFO - [extract_regularity_features] INPUT: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,634 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,634 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,634 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,635 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,635 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,635 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,635 - INFO - [extract_regularity_features] OUTPUT: {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 4}}
2025-08-12 06:09:05,636 - DEBUG - [extract_regularity_features] Output is JSON serializable.
2025-08-12 06:09:05,636 - INFO - [extract_dominant_shape_modifiers] INPUT: {'modifiers': ['normal', 'normal', 'normal', 'normal']}
2025-08-12 06:09:05,636 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,636 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,636 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,637 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,637 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,637 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,637 - INFO - [extract_dominant_shape_modifiers] OUTPUT: {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 4}}
2025-08-12 06:09:05,637 - DEBUG - [extract_dominant_shape_modifiers] Output is JSON serializable.
2025-08-12 06:09:05,638 - WARNING - [PATCH] Failed to load canonical summary for image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5: type object 'FileIO' has no attribute 'load_canonical_features'
2025-08-12 06:09:05,638 - DEBUG - [process_single_image] Passing topo_shape_list to extract_topological_features: [{'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}]
2025-08-12 06:09:05,644 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image type: <class 'bongard.bongard.BongardImage'> | problem_id=hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:05,645 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image.one_stroke_shapes: [<src.data_pipeline.logo_parser.OneStrokeShape object at 0x00000259465BE110>]
2025-08-12 06:09:05,645 - INFO - [extract_stroke_features_from_shapes] problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 | num_shapes=1 | total_strokes=4
2025-08-12 06:09:05,645 - INFO - [extract_stroke_features_from_shapes] PATCH: shapes=[<src.data_pipeline.logo_parser.OneStrokeShape object at 0x00000259465BE110>]
2025-08-12 06:09:05,645 - INFO - [extract_stroke_features_from_shapes] Shape 0 actions: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750]
2025-08-12 06:09:05,647 - INFO - [extract_stroke_features_from_shapes] Shape 0: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None
2025-08-12 06:09:05,647 - INFO - [extract_stroke_features_from_shapes] Shape 0 geometry: {'area': 0.7999999999999999, 'perimeter': 3.8, 'centroid': [0.49999999999999994, 0.6], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'robust_curvature': 1.806415775814131, 'robust_angular_variance': 0.3947841760435743, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 1.5707963267948966}
2025-08-12 06:09:05,647 - INFO - [extract_stroke_features_from_shapes] Shape 0: num_actions=4 | actions=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750]
2025-08-12 06:09:05,647 - INFO - [extract_stroke_features_from_shapes] PATCH: Validated/corrected shape_vertices for shape 0: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 06:09:05,647 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=0 | stroke=line_normal_0.130-0.500
2025-08-12 06:09:05,648 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (187.20000000000002, 0.0)]
2025-08-12 06:09:05,648 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,648 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,649 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,649 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,649 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,650 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6961978179700373}
2025-08-12 06:09:05,651 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6961978179700373, 'is_simple': True}
2025-08-12 06:09:05,651 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 0: {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6961978179700373, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 187.20000000000002, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:05,651 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=1 | stroke=line_normal_0.800-0.750
2025-08-12 06:09:05,651 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(187.20000000000002, 0.0), (187.20000000000007, 1152.0)]
2025-08-12 06:09:05,652 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,652 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,653 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750]
2025-08-12 06:09:05,653 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.130-0.500
2025-08-12 06:09:05,653 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,654 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,654 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,655 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,655 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,656 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6961978179700373}
2025-08-12 06:09:05,656 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6961978179700373, 'is_simple': True}
2025-08-12 06:09:05,656 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.800-0.750
2025-08-12 06:09:05,657 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,657 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,657 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,658 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1152.0. Returning 0.0.
2025-08-12 06:09:05,658 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,658 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,658 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,659 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,659 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:05,659 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,659 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,660 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(187.20000000000002, 0.0), (187.20000000000007, 1152.0)]
2025-08-12 06:09:05,660 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,660 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,660 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.130-0.750
2025-08-12 06:09:05,661 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,661 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,661 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,662 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1152.0. Returning 0.0.
2025-08-12 06:09:05,662 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,662 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,662 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,662 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,662 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:05,664 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,664 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,664 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(187.20000000000002, 0.0), (187.20000000000007, 1152.0)]
2025-08-12 06:09:05,665 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,665 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,665 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_1.000-0.750
2025-08-12 06:09:05,665 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,666 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,666 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,666 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1152.0. Returning 0.0.
2025-08-12 06:09:05,667 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,667 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,667 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,667 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,667 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:05,668 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,668 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,668 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(187.20000000000002, 0.0), (187.20000000000007, 1152.0)]
2025-08-12 06:09:05,668 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,670 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,670 - INFO - [collect_stroke_features] Collected 4 valid stroke features
2025-08-12 06:09:05,670 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=4
2025-08-12 06:09:05,671 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:05,671 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1152.0. Returning 0.0.
2025-08-12 06:09:05,671 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,672 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,672 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'perimeter': {'mean': 864.0, 'var': 248832.0, 'min': 0.0, 'max': 1152.0, 'count': 4}, 'width': {'mean': 4.263256414560601e-14, 'var': 6.058451752097371e-28, 'min': 0.0, 'max': 5.684341886080802e-14, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'height': {'mean': 864.0, 'var': 248832.0, 'min': 0.0, 'max': 1152.0, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}}}
2025-08-12 06:09:05,672 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'perimeter': {'mean': 864.0, 'var': 248832.0, 'min': 0.0, 'max': 1152.0, 'count': 4}, 'width': {'mean': 4.263256414560601e-14, 'var': 6.058451752097371e-28, 'min': 0.0, 'max': 5.684341886080802e-14, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'height': {'mean': 864.0, 'var': 248832.0, 'min': 0.0, 'max': 1152.0, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}}}
2025-08-12 06:09:05,673 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:05,673 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,673 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,673 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(187.20000000000002, 0.0), (187.20000000000007, 1152.0)]
2025-08-12 06:09:05,674 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,674 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,674 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(187.20000000000002, 0.0), (187.20000000000007, 1152.0)], 'open_stroke_perimeter': 1152.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1152.0, 'avg_stroke_length': 1152.0, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 1152.0, 'var': 0.0, 'min': 1152.0, 'max': 1152.0, 'count': 1}, 'width': {'mean': 5.684341886080802e-14, 'var': 0.0, 'min': 5.684341886080802e-14, 'max': 5.684341886080802e-14, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1152.0, 'var': 0.0, 'min': 1152.0, 'max': 1152.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 1152.0, 'var': 0.0, 'min': 1152.0, 'max': 1152.0, 'count': 1}, 'width': {'mean': 5.684341886080802e-14, 'var': 0.0, 'min': 5.684341886080802e-14, 'max': 5.684341886080802e-14, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1152.0, 'var': 0.0, 'min': 1152.0, 'max': 1152.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 5.684341886080802e-14, 'height': 1152.0, 'area': 0.0, 'perimeter': 1152.0, 'centroid': [187.20000000000005, 576.0], 'bounds': [187.20000000000002, 0.0, 187.20000000000007, 1152.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1152.0, 'line_angle': 90.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:05,675 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_normal_0.130-0.750
2025-08-12 06:09:05,675 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0)]
2025-08-12 06:09:05,675 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,675 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,676 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750]
2025-08-12 06:09:05,676 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.130-0.500
2025-08-12 06:09:05,676 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,676 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,677 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,677 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,677 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,678 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6961978179700373}
2025-08-12 06:09:05,678 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6961978179700373, 'is_simple': True}
2025-08-12 06:09:05,679 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.800-0.750
2025-08-12 06:09:05,679 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,679 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,680 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,680 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=187.20000000000002. Returning 0.0.
2025-08-12 06:09:05,680 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,681 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,681 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,681 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,681 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:05,682 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,682 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,682 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0)]
2025-08-12 06:09:05,683 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,683 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,683 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.130-0.750
2025-08-12 06:09:05,683 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,684 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,684 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,684 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=187.20000000000002. Returning 0.0.
2025-08-12 06:09:05,684 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,685 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,685 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,685 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,685 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:05,686 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,686 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,686 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0)]
2025-08-12 06:09:05,688 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,689 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,689 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_1.000-0.750
2025-08-12 06:09:05,690 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,690 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,691 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,691 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=187.20000000000002. Returning 0.0.
2025-08-12 06:09:05,691 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,692 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,692 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,692 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,692 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:05,692 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,693 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,693 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0)]
2025-08-12 06:09:05,693 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,693 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,694 - INFO - [collect_stroke_features] Collected 4 valid stroke features
2025-08-12 06:09:05,694 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=4
2025-08-12 06:09:05,694 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:05,695 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=187.20000000000002. Returning 0.0.
2025-08-12 06:09:05,695 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:05,695 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:05,696 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'perimeter': {'mean': 140.4, 'var': 6570.720000000001, 'min': 0.0, 'max': 187.20000000000002, 'count': 4}, 'width': {'mean': 140.4, 'var': 6570.720000000001, 'min': 0.0, 'max': 187.20000000000002, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}}}
2025-08-12 06:09:05,696 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'perimeter': {'mean': 140.4, 'var': 6570.720000000001, 'min': 0.0, 'max': 187.20000000000002, 'count': 4}, 'width': {'mean': 140.4, 'var': 6570.720000000001, 'min': 0.0, 'max': 187.20000000000002, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}}}
2025-08-12 06:09:05,696 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:05,697 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,697 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,697 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0)]
2025-08-12 06:09:05,698 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,698 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,698 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0)], 'open_stroke_perimeter': 187.20000000000002, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 187.20000000000002, 'avg_stroke_length': 187.20000000000002, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 187.20000000000002, 'var': 0.0, 'min': 187.20000000000002, 'max': 187.20000000000002, 'count': 1}, 'width': {'mean': 187.20000000000002, 'var': 0.0, 'min': 187.20000000000002, 'max': 187.20000000000002, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 187.20000000000002, 'var': 0.0, 'min': 187.20000000000002, 'max': 187.20000000000002, 'count': 1}, 'width': {'mean': 187.20000000000002, 'var': 0.0, 'min': 187.20000000000002, 'max': 187.20000000000002, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'geometry': {'width': 187.20000000000002, 'height': 0.0, 'area': 0.0, 'perimeter': 187.20000000000002, 'centroid': [93.60000000000007, 1152.0], 'bounds': [5.684341886080802e-14, 1152.0, 187.20000000000007, 1152.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 187.20000000000002, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:05,699 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_normal_1.000-0.750
2025-08-12 06:09:05,699 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 06:09:05,699 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,699 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,700 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750]
2025-08-12 06:09:05,700 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.130-0.500
2025-08-12 06:09:05,700 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,701 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,701 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,702 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,702 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,702 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6961978179700373}
2025-08-12 06:09:05,704 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6961978179700373, 'is_simple': True}
2025-08-12 06:09:05,704 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.800-0.750
2025-08-12 06:09:05,704 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,705 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,705 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,706 - INFO - Convexity: poly_area=0.0000, hull_area=0.0000, ratio=1.0000
2025-08-12 06:09:05,706 - INFO - Computed angular variance: 2.193245 for 3 vertices.
2025-08-12 06:09:05,707 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,707 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,707 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:05,707 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,708 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,708 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(5.684341886080802e-14, 1152.0), (0.0, 0.0)]
2025-08-12 06:09:05,708 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(5.684341886080802e-14, 1152.0), (0.0, 0.0)]
2025-08-12 06:09:05,709 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,709 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,709 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.130-0.750
2025-08-12 06:09:05,710 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,710 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,710 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,711 - INFO - Convexity: poly_area=0.0000, hull_area=0.0000, ratio=1.0000
2025-08-12 06:09:05,711 - INFO - Computed angular variance: 2.193245 for 3 vertices.
2025-08-12 06:09:05,711 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,712 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,712 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:05,712 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,712 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,712 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(5.684341886080802e-14, 1152.0), (0.0, 0.0)]
2025-08-12 06:09:05,712 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(5.684341886080802e-14, 1152.0), (0.0, 0.0)]
2025-08-12 06:09:05,714 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,714 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,714 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_1.000-0.750
2025-08-12 06:09:05,714 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,714 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,715 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,715 - INFO - Convexity: poly_area=0.0000, hull_area=0.0000, ratio=1.0000
2025-08-12 06:09:05,715 - INFO - Computed angular variance: 2.193245 for 3 vertices.
2025-08-12 06:09:05,716 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,716 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,716 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:05,717 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,717 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,717 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(5.684341886080802e-14, 1152.0), (0.0, 0.0)]
2025-08-12 06:09:05,717 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(5.684341886080802e-14, 1152.0), (0.0, 0.0)]
2025-08-12 06:09:05,718 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,718 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,718 - INFO - [collect_stroke_features] Collected 4 valid stroke features
2025-08-12 06:09:05,718 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=4
2025-08-12 06:09:05,719 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:05,719 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=1728.0. Returning 0.0.
2025-08-12 06:09:05,720 - INFO - Convexity: poly_area=0.0000, hull_area=0.0000, ratio=1.0000
2025-08-12 06:09:05,720 - INFO - Computed angular variance: 2.193245 for 3 vertices.
2025-08-12 06:09:05,721 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'perimeter': {'mean': 2160.0, 'var': 1555200.0, 'min': 0.0, 'max': 2880.0, 'count': 4}, 'width': {'mean': 1.983927814618712e-13, 'var': 1.311989857872593e-26, 'min': 0.0, 'max': 2.6452370861582827e-13, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'area': {'mean': 8.35787959372015e-11, 'var': 2.328471710104123e-21, 'min': 0.0, 'max': 1.1143839458293532e-10, 'count': 4}, 'height': {'mean': 1080.0, 'var': 388800.0, 'min': 0.0, 'max': 1440.0, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}}}
2025-08-12 06:09:05,721 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'perimeter': {'mean': 2160.0, 'var': 1555200.0, 'min': 0.0, 'max': 2880.0, 'count': 4}, 'width': {'mean': 1.983927814618712e-13, 'var': 1.311989857872593e-26, 'min': 0.0, 'max': 2.6452370861582827e-13, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'area': {'mean': 8.35787959372015e-11, 'var': 2.328471710104123e-21, 'min': 0.0, 'max': 1.1143839458293532e-10, 'count': 4}, 'height': {'mean': 1080.0, 'var': 388800.0, 'min': 0.0, 'max': 1440.0, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}}}
2025-08-12 06:09:05,721 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:05,722 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,722 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,722 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(5.684341886080802e-14, 1152.0), (0.0, 0.0)]
2025-08-12 06:09:05,722 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(5.684341886080802e-14, 1152.0), (0.0, 0.0)]
2025-08-12 06:09:05,722 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,722 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,724 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 1728.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.15, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1728.0, 'avg_stroke_length': 1728.0, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 2.193245422464302, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.15, 'var': 0.0, 'min': 0.15, 'max': 0.15, 'count': 1}, 'perimeter': {'mean': 1728.0, 'var': 0.0, 'min': 1728.0, 'max': 1728.0, 'count': 1}, 'width': {'mean': 2.6452370861582827e-13, 'var': 0.0, 'min': 2.6452370861582827e-13, 'max': 2.6452370861582827e-13, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.15, 'var': 0.0, 'min': 0.15, 'max': 0.15, 'count': 1}, 'perimeter': {'mean': 1728.0, 'var': 0.0, 'min': 1728.0, 'max': 1728.0, 'count': 1}, 'width': {'mean': 2.6452370861582827e-13, 'var': 0.0, 'min': 2.6452370861582827e-13, 'max': 2.6452370861582827e-13, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'geometry': {'width': 2.6452370861582827e-13, 'height': 1440.0, 'area': 0.0, 'perimeter': 1728.0, 'centroid': [-5.027895696473741e-14, 288.0], 'bounds': [-2.0768028975502026e-13, -288.0, 5.684341886080802e-14, 1152.0], 'num_vertices': 3, 'degenerate_case': True}, 'line_length': 1728.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:05,724 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=4
2025-08-12 06:09:05,725 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['line_is_long', 'line_angle', 'avg_stroke_length', 'visual_complexity', 'line_is_vertical', 'line_is_short', 'is_normal', 'line_curvature_score', 'is_geometric', 'convexity_ratio', 'compactness', 'stroke_index', 'open_stroke_perimeter', 'arc_curvature_score', 'robust_curvature', 'robust_angular_variance', 'degenerate_case', 'is_simple', 'line_length', 'stroke_length', 'geom_complexity', 'geometric_complexity', 'line_is_horizontal', 'num_vertices', 'is_pattern']
2025-08-12 06:09:05,725 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (4) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-12 06:09:05,725 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=4
2025-08-12 06:09:05,725 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 4
2025-08-12 06:09:05,726 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 4, 'num_arcs': 0, 'line_ratio': 1.0, 'arc_ratio': 0.0, 'stroke_diversity': 0}, 'line_aggregate': {'total_line_length': 6033.599999999999, 'avg_line_length': 1508.3999999999999, 'line_length_variance': 1011644.64, 'line_angle_variance': 10125.0, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'horizontal'}}
2025-08-12 06:09:05,726 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750
2025-08-12 06:09:05,726 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-12 06:09:05,726 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-12 06:09:05,727 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-12 06:09:05,727 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-12 06:09:05,727 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.130-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6961978179700373, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 187.20000000000002, 'avg_stroke_length': 813.6, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.800-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(187.20000000000002, 0.0), (187.20000000000007, 1152.0)], 'open_stroke_perimeter': 1152.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1152.0, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 5.684341886080802e-14, 'height': 1152.0, 'area': 0.0, 'perimeter': 1152.0, 'centroid': [187.20000000000005, 576.0], 'bounds': [187.20000000000002, 0.0, 187.20000000000007, 1152.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1152.0, 'line_angle': 90.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.130-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0)], 'open_stroke_perimeter': 187.20000000000002, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 187.20000000000002, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000002, 'height': 0.0, 'area': 0.0, 'perimeter': 187.20000000000002, 'centroid': [93.60000000000007, 1152.0], 'bounds': [5.684341886080802e-14, 1152.0, 187.20000000000007, 1152.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 187.20000000000002, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_1.000-0.750', 'features': {'stroke_index': 3, 'analytic_vertices': [(5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 1728.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.15, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1728.0, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 2.193245422464302, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 2.6452370861582827e-13, 'height': 1440.0, 'area': 0.0, 'perimeter': 1728.0, 'centroid': [-5.027895696473741e-14, 288.0], 'bounds': [-2.0768028975502026e-13, -288.0, 5.684341886080802e-14, 1152.0], 'num_vertices': 3, 'degenerate_case': True}, 'line_length': 1728.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:05,727 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:05,729 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:05,729 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-12 06:09:05,729 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-12 06:09:05,729 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.40000000000000047, 0.48], 'orientation_degrees': -149.76939112977894}, geometry={'area': 0.7999999999999994, 'perimeter': 3.9999999999999973, 'centroid': [0.5000000000000003, 0.5999999999999999], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 06:09:05,730 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-12 06:09:05,730 - DEBUG - [PATCH][actions field] Joined: line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750
2025-08-12 06:09:05,730 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.130-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6961978179700373, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 187.20000000000002, 'avg_stroke_length': 813.6, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.800-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(187.20000000000002, 0.0), (187.20000000000007, 1152.0)], 'open_stroke_perimeter': 1152.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1152.0, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 5.684341886080802e-14, 'height': 1152.0, 'area': 0.0, 'perimeter': 1152.0, 'centroid': [187.20000000000005, 576.0], 'bounds': [187.20000000000002, 0.0, 187.20000000000007, 1152.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1152.0, 'line_angle': 90.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.130-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0)], 'open_stroke_perimeter': 187.20000000000002, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 187.20000000000002, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000002, 'height': 0.0, 'area': 0.0, 'perimeter': 187.20000000000002, 'centroid': [93.60000000000007, 1152.0], 'bounds': [5.684341886080802e-14, 1152.0, 187.20000000000007, 1152.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 187.20000000000002, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_1.000-0.750', 'features': {'stroke_index': 3, 'analytic_vertices': [(5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 1728.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.15, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1728.0, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 2.193245422464302, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 2.6452370861582827e-13, 'height': 1440.0, 'area': 0.0, 'perimeter': 1728.0, 'centroid': [-5.027895696473741e-14, 288.0], 'bounds': [-2.0768028975502026e-13, -288.0, 5.684341886080802e-14, 1152.0], 'num_vertices': 3, 'degenerate_case': True}, 'line_length': 1728.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:05,731 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 06:09:05,731 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-12 06:09:05,731 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-12 06:09:05,731 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:05,732 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:05,732 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|normal': 3}
2025-08-12 06:09:05,732 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6961978179700373, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 187.20000000000002, 'avg_stroke_length': 813.6, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(187.20000000000002, 0.0), (187.20000000000007, 1152.0)], 'open_stroke_perimeter': 1152.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1152.0, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 5.684341886080802e-14, 'height': 1152.0, 'area': 0.0, 'perimeter': 1152.0, 'centroid': [187.20000000000005, 576.0], 'bounds': [187.20000000000002, 0.0, 187.20000000000007, 1152.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1152.0, 'line_angle': 90.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0)], 'open_stroke_perimeter': 187.20000000000002, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 187.20000000000002, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000002, 'height': 0.0, 'area': 0.0, 'perimeter': 187.20000000000002, 'centroid': [93.60000000000007, 1152.0], 'bounds': [5.684341886080802e-14, 1152.0, 187.20000000000007, 1152.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 187.20000000000002, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 1728.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.15, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1728.0, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 2.193245422464302, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 2.6452370861582827e-13, 'height': 1440.0, 'area': 0.0, 'perimeter': 1728.0, 'centroid': [-5.027895696473741e-14, 288.0], 'bounds': [-2.0768028975502026e-13, -288.0, 5.684341886080802e-14, 1152.0], 'num_vertices': 3, 'degenerate_case': True}, 'line_length': 1728.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 06:09:05,733 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-12 06:09:05,733 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': {'x': 0, 'y': 0, 'width': 0, 'height': 0}, 'centroid': [0.0, 0.0], 'width': 0.0, 'height': 0.0, 'area_raw': 0.0, 'area_normalized': 0.0, 'perimeter_raw': 0.0, 'perimeter_normalized': 0.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.0, 'is_convex': False, 'compactness': 0.0, 'polsby_popper_compactness': 0.0, 'eccentricity': 0.0, 'symmetry_score': 0.0, 'horizontal_symmetry': 0.0, 'vertical_symmetry': 0.0, 'rotational_symmetry': 0.0, 'has_quadrangle': False, 'geometric_complexity': 0.0, 'visual_complexity': 0.0, 'curvature_score': 0.0, 'angular_variance': 0.0, 'moment_of_inertia': 0.0, 'irregularity_score': 0.0, 'standardized_complexity': 0.0}
2025-08-12 06:09:05,733 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:05,733 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-12 06:09:05,733 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-12 06:09:05,733 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.130-0.500, stroke_index=0
2025-08-12 06:09:05,734 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.13, param2=None, param3=0.5
2025-08-12 06:09:05,734 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)]
2025-08-12 06:09:05,735 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,736 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,736 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:05,736 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:05,737 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:05,737 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,737 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,738 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,738 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,738 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,739 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.37, 0.5)]
2025-08-12 06:09:05,739 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.37, 0.5)]
2025-08-12 06:09:05,739 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,741 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,741 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.800-0.750, stroke_index=0
2025-08-12 06:09:05,741 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.8, param2=None, param3=0.75
2025-08-12 06:09:05,741 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)]
2025-08-12 06:09:05,742 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,743 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,743 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:05,744 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:05,744 - INFO - Computed angular variance: 1.079488 for 16 vertices.
2025-08-12 06:09:05,744 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,744 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,745 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,745 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,745 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,746 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.49999999999999983, -0.30000000000000004)]
2025-08-12 06:09:05,746 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.49999999999999983, -0.30000000000000004)]
2025-08-12 06:09:05,747 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.32, 'num_vertices': 16, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,747 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.32, 'num_vertices': 16, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,747 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.130-0.750, stroke_index=0
2025-08-12 06:09:05,747 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.13, param2=None, param3=0.75
2025-08-12 06:09:05,748 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)]
2025-08-12 06:09:05,748 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,749 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,749 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:05,749 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:05,749 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:05,750 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,750 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,750 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,751 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,751 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,753 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.5, 0.37)]
2025-08-12 06:09:05,753 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.5, 0.37)]
2025-08-12 06:09:05,753 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,754 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,754 - INFO - [_vertices_from_command] INPUT: command=line_normal_1.000-0.750, stroke_index=0
2025-08-12 06:09:05,754 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=1.0, param2=None, param3=0.75
2025-08-12 06:09:05,755 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)]
2025-08-12 06:09:05,755 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,756 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,756 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:05,757 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:05,757 - INFO - Computed angular variance: 0.888264 for 20 vertices.
2025-08-12 06:09:05,757 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,758 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,758 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,759 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,759 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,760 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.49999999999999983, -0.5)]
2025-08-12 06:09:05,761 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.49999999999999983, -0.5)]
2025-08-12 06:09:05,761 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,761 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,762 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:05,762 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,762 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,762 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,763 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,763 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,763 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,763 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,764 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-12 06:09:05,764 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,765 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_5', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/5.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.130-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6961978179700373, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 187.20000000000002, 'avg_stroke_length': 813.6, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.800-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(187.20000000000002, 0.0), (187.20000000000007, 1152.0)], 'open_stroke_perimeter': 1152.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1152.0, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 5.684341886080802e-14, 'height': 1152.0, 'area': 0.0, 'perimeter': 1152.0, 'centroid': [187.20000000000005, 576.0], 'bounds': [187.20000000000002, 0.0, 187.20000000000007, 1152.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1152.0, 'line_angle': 90.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.130-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0)], 'open_stroke_perimeter': 187.20000000000002, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 187.20000000000002, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000002, 'height': 0.0, 'area': 0.0, 'perimeter': 187.20000000000002, 'centroid': [93.60000000000007, 1152.0], 'bounds': [5.684341886080802e-14, 1152.0, 187.20000000000007, 1152.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 187.20000000000002, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_1.000-0.750', 'features': {'stroke_index': 3, 'analytic_vertices': [(5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 1728.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.15, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1728.0, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 2.193245422464302, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 2.6452370861582827e-13, 'height': 1440.0, 'area': 0.0, 'perimeter': 1728.0, 'centroid': [-5.027895696473741e-14, 288.0], 'bounds': [-2.0768028975502026e-13, -288.0, 5.684341886080802e-14, 1152.0], 'num_vertices': 3, 'degenerate_case': True}, 'line_length': 1728.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 4, 'raw_vertices': ['(0.0, 0.0)', '(187.20000000000002, 0.0)', '(187.20000000000007, 1152.0)', '(5.684341886080802e-14, 1152.0)', '(-2.0768028975502026e-13, -288.0)'], 'vertices': ['(1.1094032572383544e-15, 0.2)', '(0.9999999999999997, 0.2)', '(1.0, 1.0)', '(1.4130539990161747e-15, 1.0)', '(0.0, 0.0)'], 'num_vertices': 5, 'position_label': ['0.40000000000000047', '0.48'], 'rotation_label_degrees': ['-149.76939112977894'], 'image_features': {'bounding_box': {'x': 0, 'y': 0, 'width': 0, 'height': 0}, 'centroid': [0.0, 0.0], 'width': 0.0, 'height': 0.0, 'area_raw': 0.0, 'area_normalized': 0.0, 'perimeter_raw': 0.0, 'perimeter_normalized': 0.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.0, 'is_convex': False, 'compactness': 0.0, 'polsby_popper_compactness': 0.0, 'eccentricity': 0.0, 'symmetry_score': 0.0, 'horizontal_symmetry': 0.0, 'vertical_symmetry': 0.0, 'rotational_symmetry': 0.0, 'has_quadrangle': False, 'geometric_complexity': 0.0, 'visual_complexity': 0.0, 'curvature_score': 0.0, 'angular_variance': 0.0, 'moment_of_inertia': 0.0, 'irregularity_score': 0.0, 'standardized_complexity': 0.0}, 'image_level_features': {'area_mean': 0.0, 'perimeter_mean': 0.0, 'width_mean': 0.0, 'height_mean': 0.0, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.3733333333333334, 'center_of_mass': [0.5000000000000003, 0.5999999999999999], 'polsby_popper_compactness': 0.6283185307179591, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': False, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'edge_length_variance': 0.09599999999999975}, 'composition_features': {'stroke_type_distribution': {'line': 4}, 'shape_modifier_distribution': {'normal': 4}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 5, 'homogeneity_score': 1.0, 'pattern_regularity': 0.25}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6961978179700373, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 187.20000000000002, 'avg_stroke_length': 813.6, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(187.20000000000002, 0.0), (187.20000000000007, 1152.0)], 'open_stroke_perimeter': 1152.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1152.0, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 5.684341886080802e-14, 'height': 1152.0, 'area': 0.0, 'perimeter': 1152.0, 'centroid': [187.20000000000005, 576.0], 'bounds': [187.20000000000002, 0.0, 187.20000000000007, 1152.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1152.0, 'line_angle': 90.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0)], 'open_stroke_perimeter': 187.20000000000002, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 187.20000000000002, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000002, 'height': 0.0, 'area': 0.0, 'perimeter': 187.20000000000002, 'centroid': [93.60000000000007, 1152.0], 'bounds': [5.684341886080802e-14, 1152.0, 187.20000000000007, 1152.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 187.20000000000002, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 1728.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.15, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1728.0, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 2.193245422464302, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 2.6452370861582827e-13, 'height': 1440.0, 'area': 0.0, 'perimeter': 1728.0, 'centroid': [-5.027895696473741e-14, 288.0], 'bounds': [-2.0768028975502026e-13, -288.0, 5.684341886080802e-14, 1152.0], 'num_vertices': 3, 'degenerate_case': True}, 'line_length': 1728.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 4}}, 'processing_metadata': {'processing_timestamp': 1754959145.764712, 'feature_count': 45}, 'actions': ['line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750'], 'action_program': ['line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750'], 'geometry': {'area': 0.7999999999999994, 'perimeter': 3.9999999999999973, 'centroid': [0.5000000000000003, 0.5999999999999999], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 3}, 'analytic_attributes': ['normal', 'normal', 'normal', 'normal'], 'analytic_ngram': {'normal|normal': 3}, 'alternation': 0.25, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 4}}}, 'topological_features': {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 3, 1: 3, 2: 3, 3: 3}, 'adjacency_clustering': {0: 1.0, 1: 1.0, 2: 1.0, 3: 1.0}, 'intersection_count': 6, 'betweenness_centrality': {0: 0.0, 1: 0.0, 2: 0.0, 3: 0.0}, 'containment_score': 0, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 3122.693580726045, 'skeleton_graph_features': {'num_nodes': 4, 'num_edges': 6}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.39478417604357513, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.3908367443832657, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.35824474057827027, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.09039485581711845, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.10999735993543273, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}}}
2025-08-12 06:09:05,765 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.40000000000000047, 0.48], 'orientation_degrees': -149.76939112977894}
2025-08-12 06:09:05,765 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.7999999999999994, 'perimeter': 3.9999999999999973, 'centroid': [0.5000000000000003, 0.5999999999999999], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 06:09:05,765 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.130-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6961978179700373, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 187.20000000000002, 'avg_stroke_length': 813.6, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.800-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(187.20000000000002, 0.0), (187.20000000000007, 1152.0)], 'open_stroke_perimeter': 1152.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1152.0, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 5.684341886080802e-14, 'height': 1152.0, 'area': 0.0, 'perimeter': 1152.0, 'centroid': [187.20000000000005, 576.0], 'bounds': [187.20000000000002, 0.0, 187.20000000000007, 1152.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1152.0, 'line_angle': 90.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.130-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0)], 'open_stroke_perimeter': 187.20000000000002, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 187.20000000000002, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000002, 'height': 0.0, 'area': 0.0, 'perimeter': 187.20000000000002, 'centroid': [93.60000000000007, 1152.0], 'bounds': [5.684341886080802e-14, 1152.0, 187.20000000000007, 1152.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 187.20000000000002, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_1.000-0.750', 'features': {'stroke_index': 3, 'analytic_vertices': [(5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 1728.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.15, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1728.0, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 2.193245422464302, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 2.6452370861582827e-13, 'height': 1440.0, 'area': 0.0, 'perimeter': 1728.0, 'centroid': [-5.027895696473741e-14, 288.0], 'bounds': [-2.0768028975502026e-13, -288.0, 5.684341886080802e-14, 1152.0], 'num_vertices': 3, 'degenerate_case': True}, 'line_length': 1728.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:05,767 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-12 06:09:05,767 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 06:09:05,767 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-12 06:09:05,768 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': {'x': 0, 'y': 0, 'width': 0, 'height': 0}, 'centroid': [0.0, 0.0], 'width': 0.0, 'height': 0.0, 'area_raw': 0.0, 'area_normalized': 0.0, 'perimeter_raw': 0.0, 'perimeter_normalized': 0.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.0, 'is_convex': False, 'compactness': 0.0, 'polsby_popper_compactness': 0.0, 'eccentricity': 0.0, 'symmetry_score': 0.0, 'horizontal_symmetry': 0.0, 'vertical_symmetry': 0.0, 'rotational_symmetry': 0.0, 'has_quadrangle': False, 'geometric_complexity': 0.0, 'visual_complexity': 0.0, 'curvature_score': 0.0, 'angular_variance': 0.0, 'moment_of_inertia': 0.0, 'irregularity_score': 0.0, 'standardized_complexity': 0.0}
2025-08-12 06:09:05,768 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.3733333333333334, 'center_of_mass': [0.5000000000000003, 0.5999999999999999], 'polsby_popper_compactness': 0.6283185307179591, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': False, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'edge_length_variance': 0.09599999999999975}
2025-08-12 06:09:05,768 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 4}, 'shape_modifier_distribution': {'normal': 4}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 5, 'homogeneity_score': 1.0, 'pattern_regularity': 0.25}
2025-08-12 06:09:05,769 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6961978179700373, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 187.20000000000002, 'avg_stroke_length': 813.6, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(187.20000000000002, 0.0), (187.20000000000007, 1152.0)], 'open_stroke_perimeter': 1152.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1152.0, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 5.684341886080802e-14, 'height': 1152.0, 'area': 0.0, 'perimeter': 1152.0, 'centroid': [187.20000000000005, 576.0], 'bounds': [187.20000000000002, 0.0, 187.20000000000007, 1152.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 1152.0, 'line_angle': 90.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0)], 'open_stroke_perimeter': 187.20000000000002, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 187.20000000000002, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000002, 'height': 0.0, 'area': 0.0, 'perimeter': 187.20000000000002, 'centroid': [93.60000000000007, 1152.0], 'bounds': [5.684341886080802e-14, 1152.0, 187.20000000000007, 1152.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 187.20000000000002, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 1728.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.15, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1728.0, 'avg_stroke_length': 813.6, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 2.193245422464302, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 2.6452370861582827e-13, 'height': 1440.0, 'area': 0.0, 'perimeter': 1728.0, 'centroid': [-5.027895696473741e-14, 288.0], 'bounds': [-2.0768028975502026e-13, -288.0, 5.684341886080802e-14, 1152.0], 'num_vertices': 3, 'degenerate_case': True}, 'line_length': 1728.0, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 06:09:05,769 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}
2025-08-12 06:09:05,770 - INFO - [INPUT] Processing image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018, is_positive=False
2025-08-12 06:09:05,770 - INFO - [INPUT] action_commands type: <class 'list'>, value: [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-12 06:09:05,771 - INFO - [SHAPE SPLIT] Raw action_commands: [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-12 06:09:05,771 - INFO - [SHAPE SPLIT] Sublist 0: ['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-12 06:09:05,771 - INFO - [SHAPE SPLIT] Parsed shapes_commands (multi-object): [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-12 06:09:05,772 - INFO - ComprehensiveNVLabsParser initialized:
2025-08-12 06:09:05,772 - INFO -   Canvas size: 512x512
2025-08-12 06:09:05,772 - INFO -   Coordinate range: (-360, 360)
2025-08-12 06:09:05,772 - INFO -   Base scaling factor: 1440.0
2025-08-12 06:09:05,773 - INFO - [PARSER] Parsing shape 0 commands: ['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-12 06:09:05,773 - INFO - [LOGOPARSER] Input action_commands for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: ['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-12 06:09:05,773 - DEBUG - Parsing 6 commands for hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:05,773 - DEBUG - [ACTIONS_JOIN] line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875
2025-08-12 06:09:05,774 - DEBUG - [ACTIONS_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:05,774 - DEBUG - [ACTIONS_ATTRS] [{'line_length': 1440.0, 'line_type': 'triangle', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_triangle_1.000-0.500'}, {'line_length': 864.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.600-0.750'}, {'line_length': 610.56, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_zigzag_0.424-0.875'}, {'line_length': 576.0, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 45.0, 'name': 'line', 'raw_command': 'line_circle_0.400-0.375'}, {'line_length': 610.56, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 45.0, 'name': 'line', 'raw_command': 'line_circle_0.424-0.375'}, {'line_length': 864.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_normal_0.600-0.875'}]
2025-08-12 06:09:05,774 - INFO - [OneStrokeShape.__init__] basic_actions: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], start_coordinates: None, start_orientation: None, scaling_factors: None
2025-08-12 06:09:05,774 - DEBUG - [OUTPUT_SHAPE_ACTIONS] line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875
2025-08-12 06:09:05,774 - DEBUG - [OUTPUT_SHAPE_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 06:09:05,775 - DEBUG - [OUTPUT_SHAPE_ATTRS] [{'line_length': 1440.0, 'line_type': 'triangle', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_triangle_1.000-0.500'}, {'line_length': 864.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.600-0.750'}, {'line_length': 610.56, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_zigzag_0.424-0.875'}, {'line_length': 576.0, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 45.0, 'name': 'line', 'raw_command': 'line_circle_0.400-0.375'}, {'line_length': 610.56, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 45.0, 'name': 'line', 'raw_command': 'line_circle_0.424-0.375'}, {'line_length': 864.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_normal_0.600-0.875'}]
2025-08-12 06:09:05,775 - INFO - [OneStrokeShape._calculate_vertices] INPUT basic_actions: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-12 06:09:05,776 - INFO - [OneStrokeShape._calculate_vertices] OUTPUT vertices: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 06:09:05,776 - INFO - [LOGOPARSER] Shape for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 has 7 vertices.
2025-08-12 06:09:05,776 - INFO - [LOGOPARSER] Parsed vertices (raw): [[0.0, 0.0], [1440.0, 0.0], [1440.0, 864.0], [1008.2688836787415, 432.26888367874164], [432.26888367874153, 432.2688836787417], [0.5377673574831761, 864.0000000000002], [0.5377673574830173, 2.2737367544323206e-13]]
2025-08-12 06:09:05,776 - INFO - [LOGOPARSER] Vertices bounding box: min=(0.00,0.00), max=(1440.00,864.00), center=(617.37,370.36)
2025-08-12 06:09:05,777 - INFO - Successfully created OneStrokeShape with 6 actions using NVLabs implementation
2025-08-12 06:09:05,777 - INFO - [PARSER] Parsed shape 0: type=OneStrokeShape, num_actions=6, action_types=['str', 'str', 'str', 'str', 'str', 'str'], attributes={}
2025-08-12 06:09:05,777 - INFO - [_vertices_from_command] INPUT: command=line_triangle_1.000-0.500, stroke_index=0
2025-08-12 06:09:05,777 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=1.0, param2=None, param3=0.5
2025-08-12 06:09:05,778 - INFO - [_vertices_from_command] Triangle vertices: [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)]
2025-08-12 06:09:05,778 - INFO - [_calculate_vertices_from_action] Bounding box: (-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388)
2025-08-12 06:09:05,779 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,779 - INFO - Convexity: poly_area=1.2990, hull_area=1.2990, ratio=1.0000
2025-08-12 06:09:05,780 - INFO - Computed angular variance: 0.068539 for 4 vertices.
2025-08-12 06:09:05,780 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,780 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,780 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,781 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,781 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:05,782 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-12 06:09:05,782 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-12 06:09:05,783 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=0, assigned is_positive=False
2025-08-12 06:09:05,783 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=0, stroke_dict: {'command': 'line_triangle_1.000-0.500', 'vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'geometry': {'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'open_stroke_perimeter': 5.196152422706632, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:05,783 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.600-0.750, stroke_index=1
2025-08-12 06:09:05,783 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.6, param2=None, param3=0.75
2025-08-12 06:09:05,784 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)]
2025-08-12 06:09:05,784 - INFO - [_calculate_vertices_from_action] Bounding box: (0.4999999999999999, -0.09999999999999998, 0.5, 0.5)
2025-08-12 06:09:05,784 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,786 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,786 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:05,787 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:05,787 - INFO - Computed angular variance: 1.370778 for 12 vertices.
2025-08-12 06:09:05,787 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,788 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,788 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:05,788 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,790 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,790 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.4999999999999999, -0.09999999999999998)]
2025-08-12 06:09:05,790 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.4999999999999999, -0.09999999999999998)]
2025-08-12 06:09:05,791 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,791 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,792 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,792 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=1, assigned is_positive=False
2025-08-12 06:09:05,793 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=1, stroke_dict: {'command': 'line_normal_0.600-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:05,793 - INFO - [_vertices_from_command] INPUT: command=line_zigzag_0.424-0.875, stroke_index=2
2025-08-12 06:09:05,793 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.424, param2=None, param3=0.875
2025-08-12 06:09:05,794 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)]
2025-08-12 06:09:05,794 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.2001867247769038, 0.7998132752230961, 0.5)
2025-08-12 06:09:05,794 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,796 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:05,796 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:05,796 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,798 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,798 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:05,798 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,799 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:05,799 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:05,800 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:05,800 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,800 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:05,802 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=2, assigned is_positive=False
2025-08-12 06:09:05,802 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=2, stroke_dict: {'command': 'line_zigzag_0.424-0.875', 'vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'geometry': {'area': 4.7704895589362195e-18, 'perimeter': 0.2826666666666667, 'centroid': [0.7474649255809681, 0.2525350744190317], 'bounds': [0.6998755168153974, 0.2001867247769038, 0.7998132752230961, 0.30012448318460255], 'width': 0.0999377584076987, 'height': 0.09993775840769875, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.2826666666666667, 'analytic_vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'open_stroke_perimeter': 0.424, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:05,802 - INFO - [_vertices_from_command] INPUT: command=line_circle_0.400-0.375, stroke_index=3
2025-08-12 06:09:05,802 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.4, param2=None, param3=0.375
2025-08-12 06:09:05,803 - INFO - [_vertices_from_command] Circle vertices: [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)]
2025-08-12 06:09:05,803 - INFO - [_calculate_vertices_from_action] Bounding box: (0.09999999999999998, 0.09999999999999998, 0.9, 0.9)
2025-08-12 06:09:05,803 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:05,804 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,804 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:05,807 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547274}
2025-08-12 06:09:05,807 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547274, 'has_curved_edges': True}
2025-08-12 06:09:05,809 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=3, assigned is_positive=False
2025-08-12 06:09:05,809 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=3, stroke_dict: {'command': 'line_circle_0.400-0.375', 'vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'geometry': {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'open_stroke_perimeter': 2.3778038686115095, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:05,809 - INFO - [_vertices_from_command] INPUT: command=line_circle_0.424-0.375, stroke_index=4
2025-08-12 06:09:05,809 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.424, param2=None, param3=0.375
2025-08-12 06:09:05,810 - INFO - [_vertices_from_command] Circle vertices: [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)]
2025-08-12 06:09:05,810 - INFO - [_calculate_vertices_from_action] Bounding box: (0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999)
2025-08-12 06:09:05,810 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:05,811 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,811 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:05,814 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275}
2025-08-12 06:09:05,814 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275, 'has_curved_edges': True}
2025-08-12 06:09:05,814 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=4, assigned is_positive=False
2025-08-12 06:09:05,815 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=4, stroke_dict: {'command': 'line_circle_0.424-0.375', 'vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'geometry': {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'open_stroke_perimeter': 2.5204721007282003, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:05,815 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.600-0.875, stroke_index=5
2025-08-12 06:09:05,815 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.6, param2=None, param3=0.875
2025-08-12 06:09:05,815 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)]
2025-08-12 06:09:05,816 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.07573593128807138, 0.9242640687119283, 0.5)
2025-08-12 06:09:05,816 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:05,818 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,818 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:05,818 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:05,818 - INFO - Computed angular variance: 1.370778 for 12 vertices.
2025-08-12 06:09:05,819 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,819 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:05,819 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:05,821 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,821 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:05,822 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:05,822 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:05,822 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:05,823 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:05,823 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,824 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=5, assigned is_positive=False
2025-08-12 06:09:05,824 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=5, stroke_dict: {'command': 'line_normal_0.600-0.875', 'vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 06:09:05,824 - INFO - [ATTR DEBUG] Shape 0 strokes (dicts): [{'command': 'line_triangle_1.000-0.500', 'vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'geometry': {'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'open_stroke_perimeter': 5.196152422706632, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.600-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'vertical'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_zigzag_0.424-0.875', 'vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'geometry': {'area': 4.7704895589362195e-18, 'perimeter': 0.2826666666666667, 'centroid': [0.7474649255809681, 0.2525350744190317], 'bounds': [0.6998755168153974, 0.2001867247769038, 0.7998132752230961, 0.30012448318460255], 'width': 0.0999377584076987, 'height': 0.09993775840769875, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.2826666666666667, 'analytic_vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'open_stroke_perimeter': 0.424, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_circle_0.400-0.375', 'vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'geometry': {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'open_stroke_perimeter': 2.3778038686115095, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_circle_0.424-0.375', 'vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'geometry': {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'open_stroke_perimeter': 2.5204721007282003, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'command': 'line_normal_0.600-0.875', 'vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.0, 'analytic_vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'normal'}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-12 06:09:05,826 - INFO - [PATCH][SHAPE GEOMETRY] idx=0, vertices=[(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 0.0)], geometry={'area': 0.6499377002974615, 'perimeter': 4.565464523507924, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 06:09:05,827 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 0.0)]
2025-08-12 06:09:05,827 - INFO - [robust_curvature] OUTPUT: 1.9837357364765014
2025-08-12 06:09:05,828 - INFO - Computed angular variance: 0.606488 for 7 vertices.
2025-08-12 06:09:05,828 - INFO - [PATCH][SHAPE PHYSICS] idx=0, physics features: {'robust_curvature': 1.9837357364765014, 'robust_angular_variance': 0.606487677035247, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 1.5707963267948966}
2025-08-12 06:09:05,829 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [1.44000000e+03 0.00000000e+00]
 [1.44000000e+03 8.64000000e+02]
 [1.00826888e+03 4.32268884e+02]
 [4.32268884e+02 4.32268884e+02]
 [5.37767357e-01 8.64000000e+02]
 [5.37767357e-01 2.27373675e-13]]
2025-08-12 06:09:05,829 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,830 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,830 - INFO - Computed angular variance: 0.654617 for 7 vertices.
2025-08-12 06:09:05,832 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [1.00826888e+03 4.32268884e+02]
 [4.32268884e+02 4.32268884e+02]
 [5.37767357e-01 8.64000000e+02]
 [5.37767357e-01 2.27373675e-13]]
2025-08-12 06:09:05,832 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,832 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,833 - INFO - [robust_curvature] INPUT: [[1440.    0.]
 [1440.  864.]]
2025-08-12 06:09:05,833 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,833 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,834 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,834 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.6546166184396274, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,835 - INFO - [robust_curvature] INPUT: [[5.52627569e+00 8.72264263e-16]
 [1.43447579e+03 3.31452760e+00]
 [1.43834377e+03 8.59029240e+02]
 [1.00771543e+03 4.33925116e+02]
 [4.32822336e+02 4.33925116e+02]
 [2.19399965e+00 8.59029240e+02]
 [5.35704343e-01 3.31452760e+00]]
2025-08-12 06:09:05,835 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,837 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,838 - INFO - Computed angular variance: 0.487667 for 7 vertices.
2025-08-12 06:09:05,839 - INFO - [robust_curvature] INPUT: [[5.52627569e+00 8.72264263e-16]
 [1.00771543e+03 4.33925116e+02]
 [4.32822336e+02 4.33925116e+02]
 [2.19399965e+00 8.59029240e+02]
 [5.35704343e-01 3.31452760e+00]]
2025-08-12 06:09:05,839 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,840 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,840 - INFO - [robust_curvature] INPUT: [[1434.47578733    3.3145276 ]
 [1438.34376771  859.0292401 ]]
2025-08-12 06:09:05,840 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,841 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,841 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,841 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.48766725327208355, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,842 - INFO - [robust_curvature] INPUT: [[1.53726465e+02 4.55958863e-01]
 [1.28621715e+03 9.20875276e+01]
 [1.39339602e+03 7.25726524e+02]
 [9.92759363e+02 4.78226852e+02]
 [4.47778404e+02 4.78226852e+02]
 [4.67616411e+01 7.25726524e+02]
 [9.74264195e-01 9.20875276e+01]]
2025-08-12 06:09:05,842 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,842 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,844 - INFO - Computed angular variance: 0.444611 for 7 vertices.
2025-08-12 06:09:05,845 - INFO - [robust_curvature] INPUT: [[1.53726465e+02 4.55958863e-01]
 [4.47778404e+02 4.78226852e+02]
 [4.67616411e+01 7.25726524e+02]
 [9.74264195e-01 9.20875276e+01]]
2025-08-12 06:09:05,845 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,845 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,846 - INFO - [robust_curvature] INPUT: [[1286.21714577   92.08752765]
 [1393.39601861  725.7265242 ]
 [ 992.75936335  478.2268524 ]]
2025-08-12 06:09:05,846 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,847 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,847 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,847 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.44461109654139686, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,847 - INFO - [robust_curvature] INPUT: [[ 432.92231635   97.24388156]
 [ 979.36014803  238.32037822]
 [1190.23335195  476.5673267 ]
 [ 933.05660837  532.75923798]
 [ 500.90410687  532.75923798]
 [ 172.52815725  476.5673267 ]
 [ 112.60861324  238.32037822]]
2025-08-12 06:09:05,847 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,849 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,849 - INFO - Computed angular variance: 0.408686 for 7 vertices.
2025-08-12 06:09:05,850 - INFO - [robust_curvature] INPUT: [[432.92231635  97.24388156]
 [500.90410687 532.75923798]
 [172.52815725 476.5673267 ]
 [112.60861324 238.32037822]]
2025-08-12 06:09:05,850 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,851 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,851 - INFO - [robust_curvature] INPUT: [[ 979.36014803  238.32037822]
 [1190.23335195  476.5673267 ]
 [ 933.05660837  532.75923798]]
2025-08-12 06:09:05,851 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,851 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,853 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,853 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.4086857597894749, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,854 - INFO - [robust_curvature] INPUT: [[575.9649245  303.53753649]
 [715.88605167 329.09527776]
 [781.2585016  385.54646171]
 [722.82613591 429.85837596]
 [585.53379994 429.85837596]
 [472.36690593 385.54646171]
 [467.77698253 329.09527776]]
2025-08-12 06:09:05,854 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,854 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,855 - INFO - Computed angular variance: 0.258028 for 7 vertices.
2025-08-12 06:09:05,856 - INFO - [robust_curvature] INPUT: [[575.9649245  303.53753649]
 [585.53379994 429.85837596]
 [472.36690593 385.54646171]
 [467.77698253 329.09527776]]
2025-08-12 06:09:05,856 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,856 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,857 - INFO - [robust_curvature] INPUT: [[715.88605167 329.09527776]
 [781.2585016  385.54646171]
 [722.82613591 429.85837596]]
2025-08-12 06:09:05,858 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,858 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,858 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,858 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.25802765250834636, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,858 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.6546166184396274, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.48766725327208355, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.44461109654139686, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.4086857597894749, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.25802765250834636, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:05,859 - DEBUG - [extract_image_features] Calculated width: 1440.0, height: 864.0000000000002
2025-08-12 06:09:05,860 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 06:09:05,860 - INFO - [robust_curvature] OUTPUT: 1.844192209364541
2025-08-12 06:09:05,861 - INFO - Computed angular variance: 0.654617 for 7 vertices.
2025-08-12 06:09:05,862 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [1.44000000e+03 0.00000000e+00]
 [1.44000000e+03 8.64000000e+02]
 [1.00826888e+03 4.32268884e+02]
 [4.32268884e+02 4.32268884e+02]
 [5.37767357e-01 8.64000000e+02]
 [5.37767357e-01 2.27373675e-13]]
2025-08-12 06:09:05,862 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,862 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,863 - INFO - Computed angular variance: 0.654617 for 7 vertices.
2025-08-12 06:09:05,864 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [1.00826888e+03 4.32268884e+02]
 [4.32268884e+02 4.32268884e+02]
 [5.37767357e-01 8.64000000e+02]
 [5.37767357e-01 2.27373675e-13]]
2025-08-12 06:09:05,864 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,865 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,865 - INFO - [robust_curvature] INPUT: [[1440.    0.]
 [1440.  864.]]
2025-08-12 06:09:05,866 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,866 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,866 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,866 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.6546166184396274, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,868 - INFO - [robust_curvature] INPUT: [[5.52627569e+00 8.72264263e-16]
 [1.43447579e+03 3.31452760e+00]
 [1.43834377e+03 8.59029240e+02]
 [1.00771543e+03 4.33925116e+02]
 [4.32822336e+02 4.33925116e+02]
 [2.19399965e+00 8.59029240e+02]
 [5.35704343e-01 3.31452760e+00]]
2025-08-12 06:09:05,868 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,868 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,869 - INFO - Computed angular variance: 0.487667 for 7 vertices.
2025-08-12 06:09:05,870 - INFO - [robust_curvature] INPUT: [[5.52627569e+00 8.72264263e-16]
 [1.00771543e+03 4.33925116e+02]
 [4.32822336e+02 4.33925116e+02]
 [2.19399965e+00 8.59029240e+02]
 [5.35704343e-01 3.31452760e+00]]
2025-08-12 06:09:05,870 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,870 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,871 - INFO - [robust_curvature] INPUT: [[1434.47578733    3.3145276 ]
 [1438.34376771  859.0292401 ]]
2025-08-12 06:09:05,871 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,872 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,872 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,872 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.48766725327208355, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,873 - INFO - [robust_curvature] INPUT: [[1.53726465e+02 4.55958863e-01]
 [1.28621715e+03 9.20875276e+01]
 [1.39339602e+03 7.25726524e+02]
 [9.92759363e+02 4.78226852e+02]
 [4.47778404e+02 4.78226852e+02]
 [4.67616411e+01 7.25726524e+02]
 [9.74264195e-01 9.20875276e+01]]
2025-08-12 06:09:05,873 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,873 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,874 - INFO - Computed angular variance: 0.444611 for 7 vertices.
2025-08-12 06:09:05,875 - INFO - [robust_curvature] INPUT: [[1.53726465e+02 4.55958863e-01]
 [4.47778404e+02 4.78226852e+02]
 [4.67616411e+01 7.25726524e+02]
 [9.74264195e-01 9.20875276e+01]]
2025-08-12 06:09:05,875 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,875 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,876 - INFO - [robust_curvature] INPUT: [[1286.21714577   92.08752765]
 [1393.39601861  725.7265242 ]
 [ 992.75936335  478.2268524 ]]
2025-08-12 06:09:05,876 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,876 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,877 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,877 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.44461109654139686, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,878 - INFO - [robust_curvature] INPUT: [[ 432.92231635   97.24388156]
 [ 979.36014803  238.32037822]
 [1190.23335195  476.5673267 ]
 [ 933.05660837  532.75923798]
 [ 500.90410687  532.75923798]
 [ 172.52815725  476.5673267 ]
 [ 112.60861324  238.32037822]]
2025-08-12 06:09:05,878 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,878 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,880 - INFO - Computed angular variance: 0.408686 for 7 vertices.
2025-08-12 06:09:05,880 - INFO - [robust_curvature] INPUT: [[432.92231635  97.24388156]
 [500.90410687 532.75923798]
 [172.52815725 476.5673267 ]
 [112.60861324 238.32037822]]
2025-08-12 06:09:05,881 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,881 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,882 - INFO - [robust_curvature] INPUT: [[ 979.36014803  238.32037822]
 [1190.23335195  476.5673267 ]
 [ 933.05660837  532.75923798]]
2025-08-12 06:09:05,882 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,882 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,882 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,882 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.4086857597894749, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,883 - INFO - [robust_curvature] INPUT: [[575.9649245  303.53753649]
 [715.88605167 329.09527776]
 [781.2585016  385.54646171]
 [722.82613591 429.85837596]
 [585.53379994 429.85837596]
 [472.36690593 385.54646171]
 [467.77698253 329.09527776]]
2025-08-12 06:09:05,883 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,883 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,883 - INFO - Computed angular variance: 0.258028 for 7 vertices.
2025-08-12 06:09:05,885 - INFO - [robust_curvature] INPUT: [[575.9649245  303.53753649]
 [585.53379994 429.85837596]
 [472.36690593 385.54646171]
 [467.77698253 329.09527776]]
2025-08-12 06:09:05,886 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,886 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,886 - INFO - [robust_curvature] INPUT: [[715.88605167 329.09527776]
 [781.2585016  385.54646171]
 [722.82613591 429.85837596]]
2025-08-12 06:09:05,886 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,886 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,888 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,888 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.25802765250834636, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,888 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.6546166184396274, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.48766725327208355, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.44461109654139686, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.4086857597894749, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.25802765250834636, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:05,889 - DEBUG - [extract_image_features] Stroke 0 geometry: {'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772}
2025-08-12 06:09:05,890 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,890 - DEBUG - [extract_image_features] Stroke 1 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:05,891 - DEBUG - [extract_image_features] Stroke 2 geometry: {'area': 4.7704895589362195e-18, 'perimeter': 0.2826666666666667, 'centroid': [0.7474649255809681, 0.2525350744190317], 'bounds': [0.6998755168153974, 0.2001867247769038, 0.7998132752230961, 0.30012448318460255], 'width': 0.0999377584076987, 'height': 0.09993775840769875}
2025-08-12 06:09:05,893 - DEBUG - [extract_image_features] Stroke 3 geometry: {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8}
2025-08-12 06:09:05,893 - DEBUG - [extract_image_features] Stroke 4 geometry: {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999}
2025-08-12 06:09:05,894 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:05,894 - DEBUG - [extract_image_features] Stroke 5 geometry: {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}
2025-08-12 06:09:05,894 - INFO - [extract_image_features] stroke_type_distribution INPUT: [{'command': 'line_triangle_1.000-0.500', 'vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'geometry': {'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 1.5000000000000004, 'height': 1.7320508075688772}, {'command': 'line_normal_0.600-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_zigzag_0.424-0.875', 'vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'geometry': {'area': 4.7704895589362195e-18, 'perimeter': 0.2826666666666667, 'centroid': [0.7474649255809681, 0.2525350744190317], 'bounds': [0.6998755168153974, 0.2001867247769038, 0.7998132752230961, 0.30012448318460255], 'width': 0.0999377584076987, 'height': 0.09993775840769875}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0999377584076987, 'height': 0.09993775840769875}, {'command': 'line_circle_0.400-0.375', 'vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'geometry': {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.8, 'height': 0.8}, {'command': 'line_circle_0.424-0.375', 'vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'geometry': {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.8479999999999999, 'height': 0.8479999999999999}, {'command': 'line_normal_0.600-0.875', 'vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}]
2025-08-12 06:09:05,894 - INFO - [extract_image_features] stroke_type_distribution OUTPUT: {'line': 6}
2025-08-12 06:09:05,894 - INFO - [extract_image_features] modifier_distribution OUTPUT: {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}
2025-08-12 06:09:05,894 - INFO - [extract_image_features] relational INPUT: []
2025-08-12 06:09:05,896 - INFO - [extract_image_features] relational OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:05,896 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:05,896 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,896 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,896 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,897 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,897 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,897 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,897 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,897 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,897 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,899 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-12 06:09:05,899 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,899 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,899 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,899 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,900 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,900 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,900 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,900 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,901 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,901 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,901 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,901 - DEBUG - [_detect_alternation] OUTPUT: 0.16666666666666666
2025-08-12 06:09:05,901 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:05,903 - INFO - [extract_image_features] PATCHED ngram: {'normal|normal': 5}
2025-08-12 06:09:05,903 - INFO - [extract_image_features] PATCHED alternation: 0.16666666666666666
2025-08-12 06:09:05,903 - INFO - [extract_image_features] PATCHED regularity: 0.16666666666666666
2025-08-12 06:09:05,904 - INFO - [extract_image_features] PATCHED dominant_shape_functions: line
2025-08-12 06:09:05,904 - INFO - [extract_image_features] PATCHED dominant_modifiers: normal
2025-08-12 06:09:05,904 - INFO - [extract_image_features] PATCHED image_canonical_summary: {'area': 808626.4892020901, 'perimeter': 4965.657767357483, 'compactness': 0.4121015600136674, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.16666666666666666}
2025-08-12 06:09:05,904 - INFO - [extract_image_features] OUTPUT: {'area': 808626.4892020901, 'perimeter': 4965.657767357483, 'convexity_ratio': 0.3499409175653963, 'compactness': 0.4121015600136674, 'aspect_ratio': 1.6666666666666663, 'centroid_x': 720.2688836787415, 'centroid_y': 299.12626352014365, 'width': 1440.0, 'height': 864.0000000000002, 'bounding_box': (0.0, 0.0, 1440.0, 864.0000000000002), 'num_vertices': 7, 'curvature': 1.844192209364541, 'angular_variance': 0.6546166184396274, 'complexity': 0.10776455089170946, 'num_strokes': 6, 'stroke_type_distribution': {'line': 6}, 'modifier_distribution': {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.10776455089170946, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.6546166184396274, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.48766725327208355, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.44461109654139686, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.4086857597894749, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.25802765250834636, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 428655.2723576205, 'center_of_mass_x': 0.5001867247769038, 'center_of_mass_y': 0.34621095314831435, 'symmetry_score': 887.4887176747658, 'ngram': {'normal|normal': 5}, 'alternation': 0.16666666666666666, 'regularity': 0.16666666666666666, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 808626.4892020901, 'perimeter': 4965.657767357483, 'compactness': 0.4121015600136674, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.16666666666666666}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 5, 'vertical': 1}}
2025-08-12 06:09:05,904 - DEBUG - [extract_image_features] FINAL OUTPUT bounding_box: (0.0, 0.0, 1440.0, 864.0000000000002)
2025-08-12 06:09:05,905 - DEBUG - [extract_image_features] FINAL OUTPUT width: 1440.0, height: 864.0000000000002
2025-08-12 06:09:05,905 - DEBUG - [extract_image_features] FINAL OUTPUT curvature: 1.844192209364541
2025-08-12 06:09:05,905 - INFO - [DIAG] Shape 0 extracted attributes: {'area': 808626.4892020901, 'perimeter': 4965.657767357483, 'convexity_ratio': 0.3499409175653963, 'compactness': 0.4121015600136674, 'aspect_ratio': 1.6666666666666663, 'centroid_x': 720.2688836787415, 'centroid_y': 299.12626352014365, 'width': 1440.0, 'height': 864.0000000000002, 'bounding_box': (0.0, 0.0, 1440.0, 864.0000000000002), 'num_vertices': 7, 'curvature': 1.844192209364541, 'angular_variance': 0.6546166184396274, 'complexity': 0.10776455089170946, 'num_strokes': 6, 'stroke_type_distribution': {'line': 6}, 'modifier_distribution': {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.10776455089170946, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.6546166184396274, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.48766725327208355, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.44461109654139686, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.4086857597894749, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.25802765250834636, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}, 'moment_of_inertia': 428655.2723576205, 'center_of_mass_x': 0.5001867247769038, 'center_of_mass_y': 0.34621095314831435, 'symmetry_score': 887.4887176747658, 'ngram': {'normal|normal': 5}, 'alternation': 0.16666666666666666, 'regularity': 0.16666666666666666, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 808626.4892020901, 'perimeter': 4965.657767357483, 'compactness': 0.4121015600136674, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.16666666666666666}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 5, 'vertical': 1}}
2025-08-12 06:09:05,905 - INFO - [VALIDATION] expected_strokes=6, actual_shapes=1
2025-08-12 06:09:05,907 - INFO - [VALIDATION] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: Number of action commands matches number of parsed shapes (6)
2025-08-12 06:09:05,907 - INFO - [standardize_coordinates] INPUT vertices: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 06:09:05,907 - INFO - [standardize_coordinates] OUTPUT normalized vertices: [[0.0, 0.0], [1.0, 0.0], [1.0, 0.9999999999999998], [0.7001867247769038, 0.5003112079615064], [0.30018672477690383, 0.5003112079615065], [0.00037344955380776113, 1.0], [0.0003734495538076509, 2.6316397620744445e-16]]
2025-08-12 06:09:05,908 - DEBUG - [process_single_image] Passing shape_list to extract_relational_features: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}]
2025-08-12 06:09:05,908 - INFO - [extract_relational_features] INPUT: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}]
2025-08-12 06:09:05,908 - DEBUG - [extract_relational_features] Shape 0 vertices: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 06:09:05,908 - INFO - [calculate_relationships] INPUT: strokes=[{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}], buffer_amt=0.001
2025-08-12 06:09:05,909 - DEBUG - [calculate_relationships] Stroke 0: {'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}
2025-08-12 06:09:05,909 - DEBUG - [calculate_relationships] Vertices for stroke 0: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 06:09:05,909 - DEBUG - [calculate_relationships] Created LineString for stroke 0: LINESTRING (0 0, 1440 0, 1440 864, 1008.2688836787415 432.26888367874164, 432.26888367874153 432.2688836787417, 0.5377673574831761 864.0000000000002, 0.5377673574830173 2.2737367544323206e-13)
2025-08-12 06:09:05,910 - DEBUG - [calculate_relationships] Buffered geometries: ['POLYGON ((0.5367673574830173 0.001, 0.536767357483176 864.0000000000002, 0.5367721727565038 864.0000980171405, 0.5367865722027728 864.0001950903222, 0.5368104171474437 864.0002902846775, 0.5368434779506646 864.0003826834326, 0.5368854362188273 864.000471396737, 0.536935887870873 864.0005555702332, 0.5369943470298126 864.0006343932844, 0.5370602507019886 864.0007071067814, 0.5371329641990112 864.0007730104536, 0.5372117872501551 864.0008314696125, 0.5372959607463484 864.0008819212645, 0.5373846740508091 864.0009238795327, 0.5374770728059196 864.000956940336, 0.5375722671611577 864.0009807852806, 0.5376693403428441 864.0009951847269, 0.5377673574831734 864.0010000000002, 0.5378653746235028 864.0009951847269, 0.5379624478051893 864.0009807852806, 0.5380576421604275 864.000956940336, 0.5381500409155381 864.0009238795327, 0.538238754219999 864.0008819212645, 0.5383229277161926 864.0008314696125, 0.5384017507673368 864.0007730104536, 0.5384744642643626 864.0007071067814, 432.26929789230394 432.2698836787417, 1008.2684694651791 432.2698836787416, 1439.9992928932188 864.0007071067812, 1439.9993656067159 864.0007730104534, 1439.999444429767 864.0008314696123, 1439.9995286032631 864.0008819212643, 1439.9996173165675 864.0009238795325, 1439.9997097153228 864.0009569403358, 1439.999804909678 864.0009807852804, 1439.9999019828597 864.0009951847267, 1440 864.001, 1440.0000980171403 864.0009951847267, 1440.000195090322 864.0009807852804, 1440.0002902846772 864.0009569403358, 1440.0003826834325 864.0009238795325, 1440.0004713967369 864.0008819212643, 1440.000555570233 864.0008314696123, 1440.0006343932841 864.0007730104534, 1440.0007071067812 864.0007071067812, 1440.0007730104533 864.0006343932841, 1440.0008314696122 864.000555570233, 1440.0008819212644 864.0004713967368, 1440.0009238795326 864.0003826834323, 1440.0009569403358 864.0002902846772, 1440.0009807852805 864.000195090322, 1440.0009951847267 864.0000980171403, 1440.001 864, 1440.001 0, 1440.0009951847267 -9.80171403295606e-5, 1440.0009807852805 -0.0001950903220161, 1440.0009569403358 -0.0002902846772545, 1440.0009238795326 -0.0003826834323651, 1440.0008819212644 -0.000471396736826, 1440.0008314696122 -0.0005555702330196, 1440.0007730104533 -0.0006343932841636, 1440.0007071067812 -0.0007071067811865, 1440.0006343932841 -0.0007730104533627, 1440.000555570233 -0.0008314696123025, 1440.0004713967369 -0.0008819212643484, 1440.0003826834325 -0.0009238795325113, 1440.0002902846772 -0.0009569403357322, 1440.000195090322 -0.0009807852804032, 1440.0000980171403 -0.0009951847266722, 1440 -0.001, 0 -0.001, -9.801714032956045e-5 -0.0009951847266722, -0.0001950903220161 -0.0009807852804032, -0.0002902846772545 -0.0009569403357322, -0.0003826834323651 -0.0009238795325113, -0.000471396736826 -0.0008819212643484, -0.0005555702330196 -0.0008314696123025, -0.0006343932841636 -0.0007730104533627, -0.0007071067811865 -0.0007071067811865, -0.0007730104533627 -0.0006343932841636, -0.0008314696123025 -0.0005555702330196, -0.0008819212643484 -0.000471396736826, -0.0009238795325113 -0.0003826834323651, -0.0009569403357322 -0.0002902846772545, -0.0009807852804032 -0.0001950903220161, -0.0009951847266722 -9.801714032956059e-5, -0.001 0, -0.0009951847266722 9.801714032956083e-5, -0.0009807852804032 0.0001950903220161, -0.0009569403357322 0.0002902846772545, -0.0009238795325113 0.0003826834323651, -0.0008819212643484 0.000471396736826, -0.0008314696123025 0.0005555702330196, -0.0007730104533627 0.0006343932841636, -0.0007071067811865 0.0007071067811865, -0.0006343932841636 0.0007730104533627, -0.0005555702330196 0.0008314696123025, -0.000471396736826 0.0008819212643484, -0.0003826834323651 0.0009238795325113, -0.0002902846772545 0.0009569403357322, -0.0001950903220161 0.0009807852804032, -9.801714032956064e-5 0.0009951847266722, 0 0.001, 0.5367673574830173 0.001), (0.5387673574830173 0.001, 1439.999 0.001, 1439.999 863.9975857864376, 1008.2695907855227 432.26817657196045, 1008.2695180720257 432.2681106682883, 1008.2694392489745 432.26805220912934, 1008.2693550754783 432.2680017574773, 1008.2692663621739 432.2679597992091, 1008.2691739634188 432.2679267384059, 1008.2690787690635 432.26790289346127, 1008.2689816958818 432.267888494015, 1008.2688836787415 432.26788367874167, 432.26888367874153 432.2678836787417, 432.2687856616012 432.26788849401504, 432.26868858841954 432.2679028934613, 432.2685933940643 432.26792673840595, 432.2685009953092 432.26795979920917, 432.2684122820047 432.26800175747735, 432.2683281085085 432.2680522091294, 432.2682492854574 432.26811066828833, 432.26817657196034 432.2681765719605, 0.5387673574831761 863.9975857864379, 0.5387673574830173 0.001))']
2025-08-12 06:09:05,910 - INFO - [calculate_relationships] Intermediate results: adjacency=0, intersections=0, containment=0, overlap=0.0
2025-08-12 06:09:05,910 - INFO - [calculate_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:05,910 - WARNING - [calculate_relationships] All relational features are zero/default. Strokes: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}]
2025-08-12 06:09:05,912 - INFO - [extract_relational_features] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:05,912 - DEBUG - [extract_relational_features] Output is JSON serializable.
2025-08-12 06:09:05,912 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [1.00000000e+00 0.00000000e+00]
 [1.00000000e+00 1.00000000e+00]
 [7.00186725e-01 5.00311208e-01]
 [3.00186725e-01 5.00311208e-01]
 [3.73449554e-04 1.00000000e+00]
 [3.73449554e-04 2.63163976e-16]]
2025-08-12 06:09:05,912 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,914 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,914 - INFO - Computed angular variance: 0.606488 for 7 vertices.
2025-08-12 06:09:05,915 - INFO - [robust_curvature] INPUT: [[1.00000000e+00 0.00000000e+00]
 [1.00000000e+00 1.00000000e+00]
 [7.00186725e-01 5.00311208e-01]
 [3.00186725e-01 5.00311208e-01]
 [3.73449554e-04 1.00000000e+00]]
2025-08-12 06:09:05,915 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,915 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,916 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [3.73449554e-04 2.63163976e-16]]
2025-08-12 06:09:05,916 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,916 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,918 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,918 - INFO - [MULTISCALE][FEATURES] scale=0.1, features={'curvature': 0.0, 'angular_variance': 0.6064876770353205, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,918 - INFO - [robust_curvature] INPUT: [[3.83769145e-03 1.00956512e-18]
 [9.96163741e-01 3.83625880e-03]
 [9.98849839e-01 9.94246806e-01]
 [6.99802383e-01 5.02228143e-01]
 [3.00571067e-01 5.02228143e-01]
 [1.52361087e-03 9.94246806e-01]
 [3.72016905e-04 3.83625880e-03]]
2025-08-12 06:09:05,919 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,919 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,920 - INFO - Computed angular variance: 0.553863 for 7 vertices.
2025-08-12 06:09:05,920 - INFO - [robust_curvature] INPUT: [[0.99616374 0.00383626]
 [0.99884984 0.99424681]
 [0.69980238 0.50222814]
 [0.30057107 0.50222814]
 [0.00152361 0.99424681]]
2025-08-12 06:09:05,921 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,921 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,922 - INFO - [robust_curvature] INPUT: [[3.83769145e-03 1.00956512e-18]
 [3.72016905e-04 3.83625880e-03]]
2025-08-12 06:09:05,922 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,922 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,923 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,923 - INFO - [MULTISCALE][FEATURES] scale=0.3, features={'curvature': 0.0, 'angular_variance': 0.5538634660062625, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,924 - INFO - [robust_curvature] INPUT: [[1.06754490e-01 5.27730165e-04]
 [8.93206351e-01 1.06582787e-01]
 [9.67636124e-01 8.39961255e-01]
 [6.89416225e-01 5.53503301e-01]
 [3.10957225e-01 5.53503301e-01]
 [3.24733619e-02 8.39961255e-01]
 [6.76572358e-04 1.06582787e-01]]
2025-08-12 06:09:05,924 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,924 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,925 - INFO - Computed angular variance: 0.467986 for 7 vertices.
2025-08-12 06:09:05,926 - INFO - [robust_curvature] INPUT: [[1.06754490e-01 5.27730165e-04]
 [3.24733619e-02 8.39961255e-01]
 [6.76572358e-04 1.06582787e-01]]
2025-08-12 06:09:05,926 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,926 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,926 - INFO - [robust_curvature] INPUT: [[0.89320635 0.10658279]
 [0.96763612 0.83996125]
 [0.68941622 0.5535033 ]
 [0.31095723 0.5535033 ]]
2025-08-12 06:09:05,928 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,928 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,928 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 06:09:05,928 - INFO - [MULTISCALE][FEATURES] scale=0.5, features={'curvature': 0.0, 'angular_variance': 0.46798578001622815, 'complexity': 3, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}
2025-08-12 06:09:05,929 - INFO - [robust_curvature] INPUT: [[0.3006405  0.11255079]
 [0.68011121 0.27583377]
 [0.82655094 0.55158255]
 [0.64795598 0.61661949]
 [0.34785007 0.61661949]
 [0.11981122 0.55158255]
 [0.07820043 0.27583377]]
2025-08-12 06:09:05,929 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,930 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,930 - INFO - Computed angular variance: 0.215698 for 7 vertices.
2025-08-12 06:09:05,932 - INFO - [robust_curvature] INPUT: [[0.3006405  0.11255079]
 [0.34785007 0.61661949]
 [0.11981122 0.55158255]
 [0.07820043 0.27583377]]
2025-08-12 06:09:05,932 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,932 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,932 - INFO - [robust_curvature] INPUT: [[0.68011121 0.27583377]
 [0.82655094 0.55158255]
 [0.64795598 0.61661949]]
2025-08-12 06:09:05,932 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,933 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,933 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,933 - INFO - [MULTISCALE][FEATURES] scale=1.0, features={'curvature': 0.0, 'angular_variance': 0.2156977703837358, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,934 - INFO - [robust_curvature] INPUT: [[0.39997564 0.35131659]
 [0.49714309 0.38089731]
 [0.54254063 0.44623433]
 [0.50196259 0.49752127]
 [0.40662069 0.49752127]
 [0.32803257 0.44623433]
 [0.32484513 0.38089731]]
2025-08-12 06:09:05,934 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,934 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,934 - INFO - Computed angular variance: 0.067477 for 7 vertices.
2025-08-12 06:09:05,936 - INFO - [robust_curvature] INPUT: [[0.39997564 0.35131659]
 [0.49714309 0.38089731]
 [0.54254063 0.44623433]
 [0.50196259 0.49752127]]
2025-08-12 06:09:05,937 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,937 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,937 - INFO - [robust_curvature] INPUT: [[0.40662069 0.49752127]
 [0.32803257 0.44623433]
 [0.32484513 0.38089731]]
2025-08-12 06:09:05,937 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 06:09:05,938 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 06:09:05,938 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 06:09:05,938 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.06747703986525634, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}
2025-08-12 06:09:05,938 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.6064876770353205, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.5538634660062625, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.46798578001622815, 'complexity': 3, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.2156977703837358, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.06747703986525634, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}
2025-08-12 06:09:05,939 - INFO - [_calculate_image_features] INPUTS: vertices=[(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)], strokes=[{'command': 'line_triangle_1.000-0.500', 'vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'geometry': {'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 1.5000000000000004, 'height': 1.7320508075688772}, {'command': 'line_normal_0.600-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}, {'command': 'line_zigzag_0.424-0.875', 'vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'geometry': {'area': 4.7704895589362195e-18, 'perimeter': 0.2826666666666667, 'centroid': [0.7474649255809681, 0.2525350744190317], 'bounds': [0.6998755168153974, 0.2001867247769038, 0.7998132752230961, 0.30012448318460255], 'width': 0.0999377584076987, 'height': 0.09993775840769875}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0999377584076987, 'height': 0.09993775840769875}, {'command': 'line_circle_0.400-0.375', 'vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'geometry': {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.8, 'height': 0.8}, {'command': 'line_circle_0.424-0.375', 'vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'geometry': {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.8479999999999999, 'height': 0.8479999999999999}, {'command': 'line_normal_0.600-0.875', 'vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'geometry': {'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'width': 0.0, 'height': 0.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False, 'width': 0.0, 'height': 0.0}], geometry={'area': 0.6499377002974616, 'perimeter': 4.565837973061732, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 06:09:05,939 - DEBUG - [POLYGON CREATION] Attempting to create Polygon with vertices: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-12 06:09:05,941 - DEBUG - polygon: raw build 7 verts in 0.000s
2025-08-12 06:09:05,941 - DEBUG - [POLYGON REPAIR] Final polygon: is_valid=True, is_empty=False, area=0.6499377002974616
2025-08-12 06:09:05,941 - INFO - [_calculate_perimeter] INPUT vertices: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-12 06:09:05,941 - INFO - [_calculate_perimeter] OUTPUT perimeter: 4.565837973061732
2025-08-12 06:09:05,942 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-12 06:09:05,942 - INFO - [robust_curvature] OUTPUT: 1.9837357364764245
2025-08-12 06:09:05,943 - INFO - Computed angular variance: 0.606488 for 7 vertices.
2025-08-12 06:09:05,944 - INFO - [complexity] Calling calculate_complexity with vertices: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-12 06:09:05,945 - INFO - Complexity: n=7, n_norm=0.28, curvature=0.99, irregularity=0.24, result=0.49
2025-08-12 06:09:05,945 - INFO - [complexity] Output for vertices count 7: 0.48542884119709884
2025-08-12 06:09:05,945 - INFO - [_calculate_image_features] polsby_popper: 0.39177850258902114
2025-08-12 06:09:05,949 - INFO - [_calculate_image_features] OUTPUT: {'bounding_box': (0.0, 0.0, 1.0, 1.0), 'centroid': [0.5001867247769038, 0.34621095314831435], 'width': 1.0, 'height': 1.0, 'area_raw': 0.6499377002974616, 'area_normalized': 0.6500590824346036, 'perimeter_raw': 4.565837973061732, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.6500590824346036, 'is_convex': False, 'compactness': 0.39177850258902114, 'polsby_popper_compactness': 0.39177850258902114, 'eccentricity': 0.29624350248824083, 'symmetry_score': 0.6163116094963651, 'horizontal_symmetry': 0.7584032750784852, 'vertical_symmetry': 0.8284113787626539, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 7.0, 'visual_complexity': 0.5374328089489586, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'moment_of_inertia': 0.2610921766579035, 'irregularity_score': 0.24489795918370555, 'standardized_complexity': 0.48542884119709884, 'clustering_heights': [0.0, 0.1757718298116586, 0.3649210975093211, 3.4127616658865207, 6.5054796706994775], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:05,949 - DEBUG - [_calculate_composition_features] INPUTS: strokes count=6
2025-08-12 06:09:05,950 - DEBUG - [_calculate_composition_features] OUTPUT: {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 10, 'homogeneity_score': 0.2777777777777778, 'pattern_regularity': 0.6666666666666666}
2025-08-12 06:09:05,950 - INFO - [_calculate_physics_features] INPUT vertices: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-12 06:09:05,950 - INFO - [_calculate_physics_features] INPUT centroid: [0.5001867247769038, 0.34621095314831435]
2025-08-12 06:09:05,950 - INFO - [_calculate_physics_features] INPUT strokes: ['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-12 06:09:05,951 - INFO - [_calculate_physics_features] polsby_popper: 0.39177850258902114
2025-08-12 06:09:05,953 - INFO - Computed angular variance: 0.606488 for 7 vertices.
2025-08-12 06:09:05,953 - INFO - [_calculate_physics_features] OUTPUT: {'moment_of_inertia': 0.2610921766579035, 'center_of_mass': [0.5001867247769038, 0.34621095314831435], 'polsby_popper_compactness': 0.39177850258902114, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'edge_length_variance': 0.12300410253967249}
2025-08-12 06:09:05,953 - INFO - [calculate_shape_relationships] INPUT: shapes=[{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}], buffer_amt=0.001
2025-08-12 06:09:05,954 - DEBUG - [calculate_shape_relationships] Shape 0 vertices: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 06:09:05,954 - DEBUG - [calculate_shape_relationships] Created Polygon for shape 0: POLYGON ((0 0, 1440 0, 1440 864, 1008.2688836787415 432.26888367874164, 432.26888367874153 432.2688836787417, 0.5377673574831761 864.0000000000002, 0.5377673574830173 2.2737367544323206e-13, 0 0))
2025-08-12 06:09:05,954 - INFO - [calculate_shape_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:05,955 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal'], n=2
2025-08-12 06:09:05,955 - DEBUG - [ensure_str_list] Converting list: ['normal']
2025-08-12 06:09:05,955 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,955 - DEBUG - [ensure_str_list] Result: ['normal']
2025-08-12 06:09:05,956 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal']
2025-08-12 06:09:05,956 - DEBUG - [_extract_ngram_features] OUTPUT: {}
2025-08-12 06:09:05,956 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,956 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal'], n=2
2025-08-12 06:09:05,956 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal']
2025-08-12 06:09:05,957 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,957 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,957 - DEBUG - [ensure_str_list] Result: ['normal', 'normal']
2025-08-12 06:09:05,957 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal']
2025-08-12 06:09:05,958 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 1}
2025-08-12 06:09:05,958 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,958 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal'], n=2
2025-08-12 06:09:05,959 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal']
2025-08-12 06:09:05,959 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,959 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,959 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,959 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal']
2025-08-12 06:09:05,960 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal']
2025-08-12 06:09:05,960 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 2}
2025-08-12 06:09:05,960 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,961 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:05,961 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,961 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,962 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,962 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,962 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,962 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,963 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,963 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-12 06:09:05,963 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,963 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:05,963 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,964 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,964 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,964 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,964 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,964 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,965 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,965 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,965 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 4}
2025-08-12 06:09:05,965 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,966 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 06:09:05,966 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,966 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,966 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,966 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,967 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,967 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,967 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,967 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,968 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,968 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-12 06:09:05,968 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:05,969 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,969 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,969 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,969 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,969 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,970 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,970 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,970 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,970 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,971 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,971 - DEBUG - [_detect_alternation] OUTPUT: 0.16666666666666666
2025-08-12 06:09:05,971 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 06:09:05,971 - INFO - [extract_regularity_features] INPUT: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,971 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,972 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,972 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,972 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,972 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,972 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,972 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,972 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,973 - INFO - [extract_regularity_features] OUTPUT: {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 6}}
2025-08-12 06:09:05,973 - DEBUG - [extract_regularity_features] Output is JSON serializable.
2025-08-12 06:09:05,973 - INFO - [extract_dominant_shape_modifiers] INPUT: {'modifiers': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']}
2025-08-12 06:09:05,973 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,974 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,974 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,974 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,974 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,974 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,976 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:05,976 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 06:09:05,976 - INFO - [extract_dominant_shape_modifiers] OUTPUT: {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 6}}
2025-08-12 06:09:05,976 - DEBUG - [extract_dominant_shape_modifiers] Output is JSON serializable.
2025-08-12 06:09:05,977 - WARNING - [PATCH] Failed to load canonical summary for image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6: type object 'FileIO' has no attribute 'load_canonical_features'
2025-08-12 06:09:05,977 - DEBUG - [process_single_image] Passing topo_shape_list to extract_topological_features: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}]
2025-08-12 06:09:05,987 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image type: <class 'bongard.bongard.BongardImage'> | problem_id=hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 06:09:05,988 - INFO - [extract_stroke_features_from_shapes] INPUT bongard_image.one_stroke_shapes: [<src.data_pipeline.logo_parser.OneStrokeShape object at 0x000002594A23C650>]
2025-08-12 06:09:05,988 - INFO - [extract_stroke_features_from_shapes] problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 | num_shapes=1 | total_strokes=6
2025-08-12 06:09:05,988 - INFO - [extract_stroke_features_from_shapes] PATCH: shapes=[<src.data_pipeline.logo_parser.OneStrokeShape object at 0x000002594A23C650>]
2025-08-12 06:09:05,989 - INFO - [extract_stroke_features_from_shapes] Shape 0 actions: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-12 06:09:05,989 - INFO - [extract_stroke_features_from_shapes] Shape 0: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None
2025-08-12 06:09:05,989 - INFO - [extract_stroke_features_from_shapes] Shape 0 geometry: {'area': 0.6499377002974615, 'perimeter': 4.565464523507924, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'robust_curvature': 1.9837357364765014, 'robust_angular_variance': 0.606487677035247, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 1.5707963267948966}
2025-08-12 06:09:05,989 - INFO - [extract_stroke_features_from_shapes] Shape 0: num_actions=6 | actions=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-12 06:09:05,990 - INFO - [extract_stroke_features_from_shapes] PATCH: Validated/corrected shape_vertices for shape 0: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 06:09:05,990 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=0 | stroke=line_triangle_1.000-0.500
2025-08-12 06:09:05,990 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1440.0, 0.0)]
2025-08-12 06:09:05,990 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 06:09:05,990 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 06:09:05,991 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,992 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,992 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:05,994 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39184259923907794}
2025-08-12 06:09:05,994 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39184259923907794, 'has_sharp_angles': True}
2025-08-12 06:09:05,994 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 0: {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39184259923907794, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}
2025-08-12 06:09:05,994 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=1 | stroke=line_normal_0.600-0.750
2025-08-12 06:09:05,995 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(1440.0, 0.0), (1440.0, 864.0)]
2025-08-12 06:09:05,995 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:05,995 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:05,996 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-12 06:09:05,996 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_1.000-0.500
2025-08-12 06:09:05,996 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 06:09:05,997 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 06:09:05,997 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:05,998 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:05,998 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:05,999 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39184259923907794}
2025-08-12 06:09:06,000 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39184259923907794, 'has_sharp_angles': True}
2025-08-12 06:09:06,000 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-12 06:09:06,000 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:06,001 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:06,001 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,001 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0. Returning 0.0.
2025-08-12 06:09:06,001 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,001 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,003 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,003 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,003 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:06,004 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,004 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:06,004 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 0.0), (1440.0, 864.0)]
2025-08-12 06:09:06,004 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,005 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:06,005 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.424-0.875
2025-08-12 06:09:06,005 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:06,006 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:06,006 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,006 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0. Returning 0.0.
2025-08-12 06:09:06,007 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,007 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,007 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,007 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,008 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:06,008 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,009 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:06,009 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 0.0), (1440.0, 864.0)]
2025-08-12 06:09:06,009 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,009 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:06,010 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.400-0.375
2025-08-12 06:09:06,010 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:06,010 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:06,010 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,011 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0. Returning 0.0.
2025-08-12 06:09:06,011 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,011 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,011 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,012 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,012 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:06,012 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,013 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:06,013 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 0.0), (1440.0, 864.0)]
2025-08-12 06:09:06,013 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,013 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:06,014 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.424-0.375
2025-08-12 06:09:06,014 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:06,014 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:06,015 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,015 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0. Returning 0.0.
2025-08-12 06:09:06,015 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,016 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,016 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,016 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,016 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:06,017 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,017 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:06,017 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 0.0), (1440.0, 864.0)]
2025-08-12 06:09:06,018 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,018 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:06,018 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.875
2025-08-12 06:09:06,018 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:06,019 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:06,019 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,019 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0. Returning 0.0.
2025-08-12 06:09:06,019 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,020 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,020 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,020 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,021 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:06,021 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,021 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:06,021 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 0.0), (1440.0, 864.0)]
2025-08-12 06:09:06,022 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,022 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:06,022 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 06:09:06,022 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 06:09:06,024 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:06,024 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=864.0. Returning 0.0.
2025-08-12 06:09:06,024 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,024 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,025 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 720.0, 'var': 103680.0, 'min': 0.0, 'max': 864.0, 'count': 6}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 720.0, 'var': 103680.0, 'min': 0.0, 'max': 864.0, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:06,025 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 720.0, 'var': 103680.0, 'min': 0.0, 'max': 864.0, 'count': 6}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 720.0, 'var': 103680.0, 'min': 0.0, 'max': 864.0, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:06,025 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:06,026 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,026 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:06,026 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 0.0), (1440.0, 864.0)]
2025-08-12 06:09:06,026 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,027 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:06,027 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (1440.0, 864.0)], 'open_stroke_perimeter': 864.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0, 'avg_stroke_length': 864.0, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 864.0, 'var': 0.0, 'min': 864.0, 'max': 864.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 864.0, 'var': 0.0, 'min': 864.0, 'max': 864.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 864.0, 'var': 0.0, 'min': 864.0, 'max': 864.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 864.0, 'var': 0.0, 'min': 864.0, 'max': 864.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 0.0, 'height': 864.0, 'area': 0.0, 'perimeter': 864.0, 'centroid': [1440.0, 432.0], 'bounds': [1440.0, 0.0, 1440.0, 864.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0, 'line_angle': 90.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:06,027 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_zigzag_0.424-0.875
2025-08-12 06:09:06,027 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(1440.0, 864.0), (1008.2688836787415, 432.26888367874164)]
2025-08-12 06:09:06,028 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:06,028 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:06,028 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-12 06:09:06,028 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_1.000-0.500
2025-08-12 06:09:06,029 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 06:09:06,029 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 06:09:06,029 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:06,030 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,030 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:06,031 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39184259923907794}
2025-08-12 06:09:06,031 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39184259923907794, 'has_sharp_angles': True}
2025-08-12 06:09:06,031 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-12 06:09:06,032 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:06,032 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:06,032 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,033 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:06,033 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,033 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,034 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,034 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,034 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:06,034 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,035 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:06,035 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 864.0), (1008.2688836787415, 432.26888367874164)]
2025-08-12 06:09:06,035 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,035 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:06,036 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.424-0.875
2025-08-12 06:09:06,036 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:06,036 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:06,037 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,037 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:06,037 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,037 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,038 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,038 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,038 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:06,040 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,040 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:06,040 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 864.0), (1008.2688836787415, 432.26888367874164)]
2025-08-12 06:09:06,040 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,041 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:06,041 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.400-0.375
2025-08-12 06:09:06,041 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:06,042 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:06,042 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,042 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:06,042 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,043 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,043 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,043 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,043 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:06,044 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,044 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:06,044 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 864.0), (1008.2688836787415, 432.26888367874164)]
2025-08-12 06:09:06,044 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,044 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:06,044 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.424-0.375
2025-08-12 06:09:06,046 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:06,046 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:06,046 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,047 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:06,047 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,047 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,048 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,048 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,048 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:06,049 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,049 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:06,049 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 864.0), (1008.2688836787415, 432.26888367874164)]
2025-08-12 06:09:06,049 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,050 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:06,050 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.875
2025-08-12 06:09:06,050 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:06,050 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:06,051 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,051 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:06,051 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,051 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,052 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,052 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,052 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:06,053 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,053 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:06,053 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 864.0), (1008.2688836787415, 432.26888367874164)]
2025-08-12 06:09:06,054 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,054 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:06,054 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 06:09:06,054 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 06:09:06,056 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:06,056 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:06,056 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,056 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,057 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 508.79999999999995, 'var': 51775.487999999976, 'min': 0.0, 'max': 610.56, 'count': 6}, 'width': {'mean': 359.7759302677154, 'var': 25887.743999999995, 'min': 0.0, 'max': 431.73111632125847, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 359.7759302677153, 'var': 25887.74399999998, 'min': 0.0, 'max': 431.73111632125836, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:06,057 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 508.79999999999995, 'var': 51775.487999999976, 'min': 0.0, 'max': 610.56, 'count': 6}, 'width': {'mean': 359.7759302677154, 'var': 25887.743999999995, 'min': 0.0, 'max': 431.73111632125847, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 359.7759302677153, 'var': 25887.74399999998, 'min': 0.0, 'max': 431.73111632125836, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:06,057 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:06,057 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,058 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:06,058 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1440.0, 864.0), (1008.2688836787415, 432.26888367874164)]
2025-08-12 06:09:06,058 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,058 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:06,060 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(1440.0, 864.0), (1008.2688836787415, 432.26888367874164)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 610.56, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 610.56, 'var': 0.0, 'min': 610.56, 'max': 610.56, 'count': 1}, 'width': {'mean': 431.73111632125847, 'var': 0.0, 'min': 431.73111632125847, 'max': 431.73111632125847, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 431.73111632125836, 'var': 0.0, 'min': 431.73111632125836, 'max': 431.73111632125836, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 610.56, 'var': 0.0, 'min': 610.56, 'max': 610.56, 'count': 1}, 'width': {'mean': 431.73111632125847, 'var': 0.0, 'min': 431.73111632125847, 'max': 431.73111632125847, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 431.73111632125836, 'var': 0.0, 'min': 431.73111632125836, 'max': 431.73111632125836, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'geometry': {'width': 431.73111632125847, 'height': 431.73111632125836, 'area': 0.0, 'perimeter': 610.56, 'centroid': [1224.1344418393708, 648.1344418393708], 'bounds': [1008.2688836787415, 432.26888367874164, 1440.0, 864.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': -135.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}
2025-08-12 06:09:06,060 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_circle_0.400-0.375
2025-08-12 06:09:06,060 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417)]
2025-08-12 06:09:06,060 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:06,060 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:06,061 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-12 06:09:06,061 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_1.000-0.500
2025-08-12 06:09:06,061 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 06:09:06,062 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 06:09:06,062 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:06,063 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,063 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:06,064 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39184259923907794}
2025-08-12 06:09:06,064 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39184259923907794, 'has_sharp_angles': True}
2025-08-12 06:09:06,064 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-12 06:09:06,065 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:06,065 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:06,065 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,065 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=576.0. Returning 0.0.
2025-08-12 06:09:06,065 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,066 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,066 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,067 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,067 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:06,067 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,068 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:06,068 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417)]
2025-08-12 06:09:06,068 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,068 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:06,069 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.424-0.875
2025-08-12 06:09:06,069 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:06,069 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:06,070 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,070 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=576.0. Returning 0.0.
2025-08-12 06:09:06,070 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,071 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,071 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,071 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,071 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:06,072 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,072 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:06,072 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417)]
2025-08-12 06:09:06,072 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,073 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:06,073 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.400-0.375
2025-08-12 06:09:06,073 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:06,073 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:06,074 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,074 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=576.0. Returning 0.0.
2025-08-12 06:09:06,074 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,075 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,075 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,075 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,075 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:06,075 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,077 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:06,077 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417)]
2025-08-12 06:09:06,077 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,078 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:06,078 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.424-0.375
2025-08-12 06:09:06,078 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:06,079 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:06,079 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,079 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=576.0. Returning 0.0.
2025-08-12 06:09:06,079 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,080 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,080 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,080 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,081 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:06,081 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,081 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:06,081 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417)]
2025-08-12 06:09:06,082 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,082 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:06,082 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.875
2025-08-12 06:09:06,082 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:06,082 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:06,084 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,084 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=576.0. Returning 0.0.
2025-08-12 06:09:06,085 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,085 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,085 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,086 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,086 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:06,086 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,086 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:06,086 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417)]
2025-08-12 06:09:06,087 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,087 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:06,087 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 06:09:06,087 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 06:09:06,089 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:06,089 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=576.0. Returning 0.0.
2025-08-12 06:09:06,089 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,090 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,090 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 480.0, 'var': 46080.0, 'min': 0.0, 'max': 576.0, 'count': 6}, 'width': {'mean': 480.0, 'var': 46080.0, 'min': 0.0, 'max': 576.0, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 4.7369515717340014e-14, 'var': 4.487742038590646e-28, 'min': 0.0, 'max': 5.684341886080802e-14, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:06,090 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 480.0, 'var': 46080.0, 'min': 0.0, 'max': 576.0, 'count': 6}, 'width': {'mean': 480.0, 'var': 46080.0, 'min': 0.0, 'max': 576.0, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 4.7369515717340014e-14, 'var': 4.487742038590646e-28, 'min': 0.0, 'max': 5.684341886080802e-14, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:06,091 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:06,091 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,091 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:06,092 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417)]
2025-08-12 06:09:06,092 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,092 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:06,093 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417)], 'open_stroke_perimeter': 576.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 576.0, 'avg_stroke_length': 576.0, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 576.0, 'var': 0.0, 'min': 576.0, 'max': 576.0, 'count': 1}, 'width': {'mean': 576.0, 'var': 0.0, 'min': 576.0, 'max': 576.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 5.684341886080802e-14, 'var': 0.0, 'min': 5.684341886080802e-14, 'max': 5.684341886080802e-14, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 576.0, 'var': 0.0, 'min': 576.0, 'max': 576.0, 'count': 1}, 'width': {'mean': 576.0, 'var': 0.0, 'min': 576.0, 'max': 576.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 5.684341886080802e-14, 'var': 0.0, 'min': 5.684341886080802e-14, 'max': 5.684341886080802e-14, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'geometry': {'width': 576.0, 'height': 5.684341886080802e-14, 'area': 0.0, 'perimeter': 576.0, 'centroid': [720.2688836787415, 432.26888367874164], 'bounds': [432.26888367874153, 432.26888367874164, 1008.2688836787415, 432.2688836787417], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 576.0, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}
2025-08-12 06:09:06,093 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=4 | stroke=line_circle_0.424-0.375
2025-08-12 06:09:06,093 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002)]
2025-08-12 06:09:06,093 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:06,094 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:06,094 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-12 06:09:06,094 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_1.000-0.500
2025-08-12 06:09:06,095 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 06:09:06,095 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 06:09:06,095 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:06,096 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,096 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:06,097 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39184259923907794}
2025-08-12 06:09:06,097 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39184259923907794, 'has_sharp_angles': True}
2025-08-12 06:09:06,097 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-12 06:09:06,098 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:06,098 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:06,099 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,099 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:06,099 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,100 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,100 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,101 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,101 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 06:09:06,101 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,102 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:06,102 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002)]
2025-08-12 06:09:06,102 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,103 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:06,103 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.424-0.875
2025-08-12 06:09:06,104 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 06:09:06,104 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 06:09:06,104 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,104 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:06,105 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,105 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,106 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,106 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,107 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 06:09:06,107 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,107 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:06,107 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002)]
2025-08-12 06:09:06,108 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,108 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:06,108 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.400-0.375
2025-08-12 06:09:06,109 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:06,109 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:06,110 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,110 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:06,110 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,111 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,111 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,111 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,111 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 06:09:06,111 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,113 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:06,113 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002)]
2025-08-12 06:09:06,113 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,113 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:06,113 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.424-0.375
2025-08-12 06:09:06,114 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 06:09:06,114 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 06:09:06,114 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,114 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:06,115 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,115 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,115 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,115 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,115 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:06,117 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,117 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:06,117 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002)]
2025-08-12 06:09:06,118 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,118 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:06,118 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.875
2025-08-12 06:09:06,119 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:06,119 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:06,119 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,119 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:06,120 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,120 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,120 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,121 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,121 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:06,121 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,122 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:06,122 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002)]
2025-08-12 06:09:06,122 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,122 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:06,123 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 06:09:06,123 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 06:09:06,124 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'visual_complexity', 'area', 'height', 'stroke_index']
2025-08-12 06:09:06,124 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=610.56. Returning 0.0.
2025-08-12 06:09:06,124 - INFO - Convexity: <3 vertices, returning 0.0 (degenerate)
2025-08-12 06:09:06,124 - INFO - Computed angular variance: 0.000000 for 3 vertices.
2025-08-12 06:09:06,125 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 508.79999999999995, 'var': 51775.487999999976, 'min': 0.0, 'max': 610.56, 'count': 6}, 'width': {'mean': 359.7759302677153, 'var': 25887.74399999998, 'min': 0.0, 'max': 431.73111632125836, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 359.77593026771547, 'var': 25887.744000000002, 'min': 0.0, 'max': 431.7311163212585, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:06,125 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 508.79999999999995, 'var': 51775.487999999976, 'min': 0.0, 'max': 610.56, 'count': 6}, 'width': {'mean': 359.7759302677153, 'var': 25887.74399999998, 'min': 0.0, 'max': 431.73111632125836, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'height': {'mean': 359.77593026771547, 'var': 25887.744000000002, 'min': 0.0, 'max': 431.7311163212585, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 06:09:06,125 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 06:09:06,125 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,126 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:06,126 - WARNING - [calculate_geometry] PATCH: Not enough vertices for geometry: [(432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002)]
2025-08-12 06:09:06,127 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,127 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'has_curved_edges': True}
2025-08-12 06:09:06,127 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 4: {'stroke_index': 4, 'analytic_vertices': [(432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 610.56, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 610.56, 'var': 0.0, 'min': 610.56, 'max': 610.56, 'count': 1}, 'width': {'mean': 431.73111632125836, 'var': 0.0, 'min': 431.73111632125836, 'max': 431.73111632125836, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 431.7311163212585, 'var': 0.0, 'min': 431.7311163212585, 'max': 431.7311163212585, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.1, 'var': 0.0, 'min': 0.1, 'max': 0.1, 'count': 1}, 'perimeter': {'mean': 610.56, 'var': 0.0, 'min': 610.56, 'max': 610.56, 'count': 1}, 'width': {'mean': 431.73111632125836, 'var': 0.0, 'min': 431.73111632125836, 'max': 431.73111632125836, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 431.7311163212585, 'var': 0.0, 'min': 431.7311163212585, 'max': 431.7311163212585, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'geometry': {'width': 431.73111632125836, 'height': 431.7311163212585, 'area': 0.0, 'perimeter': 610.56, 'centroid': [216.40332551811235, 648.134441839371], 'bounds': [0.5377673574831761, 432.2688836787417, 432.26888367874153, 864.0000000000002], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': 135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}
2025-08-12 06:09:06,127 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=5 | stroke=line_normal_0.600-0.875
2025-08-12 06:09:06,128 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 06:09:06,128 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 06:09:06,128 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 06:09:06,129 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 06:09:06,129 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,129 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:06,130 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.5390120844525813}
2025-08-12 06:09:06,130 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'convexity_ratio': 1e-06, 'compactness': 0.5390120844525813, 'is_simple': True}
2025-08-12 06:09:06,131 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 5: {'stroke_index': 5, 'analytic_vertices': [(0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 864.5377673574831, 'compactness': 0.5390120844525813, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.5377673574831, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'line_length': 864.5377673574831, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 06:09:06,131 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=6
2025-08-12 06:09:06,132 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['line_is_long', 'has_repetitive_pattern', 'line_angle', 'avg_stroke_length', 'visual_complexity', 'line_is_vertical', 'has_curved_edges', 'line_is_short', 'is_normal', 'line_curvature_score', 'is_geometric', 'convexity_ratio', 'compactness', 'stroke_index', 'open_stroke_perimeter', 'arc_curvature_score', 'robust_curvature', 'robust_angular_variance', 'degenerate_case', 'is_simple', 'line_length', 'stroke_length', 'geom_complexity', 'geometric_complexity', 'line_is_horizontal', 'has_sharp_angles', 'num_vertices', 'is_pattern']
2025-08-12 06:09:06,133 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (6) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-12 06:09:06,133 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=6
2025-08-12 06:09:06,133 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 6
2025-08-12 06:09:06,134 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 6, 'num_arcs': 0, 'line_ratio': 1.0, 'arc_ratio': 0.0, 'stroke_diversity': 0}, 'line_aggregate': {'total_line_length': 8490.777767357482, 'avg_line_length': 1415.1296278929137, 'line_length_variance': 2534688.335057573, 'line_angle_variance': 13275.000000000002, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'horizontal'}}
2025-08-12 06:09:06,134 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875
2025-08-12 06:09:06,134 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-12 06:09:06,135 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-12 06:09:06,135 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-12 06:09:06,135 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-12 06:09:06,135 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_triangle_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39184259923907794, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.600-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (1440.0, 864.0)], 'open_stroke_perimeter': 864.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 0.0, 'height': 864.0, 'area': 0.0, 'perimeter': 864.0, 'centroid': [1440.0, 432.0], 'bounds': [1440.0, 0.0, 1440.0, 864.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0, 'line_angle': 90.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.424-0.875', 'features': {'stroke_index': 2, 'analytic_vertices': [(1440.0, 864.0), (1008.2688836787415, 432.26888367874164)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125847, 'height': 431.73111632125836, 'area': 0.0, 'perimeter': 610.56, 'centroid': [1224.1344418393708, 648.1344418393708], 'bounds': [1008.2688836787415, 432.26888367874164, 1440.0, 864.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': -135.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_circle_0.400-0.375', 'features': {'stroke_index': 3, 'analytic_vertices': [(1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417)], 'open_stroke_perimeter': 576.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 576.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 576.0, 'height': 5.684341886080802e-14, 'area': 0.0, 'perimeter': 576.0, 'centroid': [720.2688836787415, 432.26888367874164], 'bounds': [432.26888367874153, 432.26888367874164, 1008.2688836787415, 432.2688836787417], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 576.0, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_circle_0.424-0.375', 'features': {'stroke_index': 4, 'analytic_vertices': [(432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125836, 'height': 431.7311163212585, 'area': 0.0, 'perimeter': 610.56, 'centroid': [216.40332551811235, 648.134441839371], 'bounds': [0.5377673574831761, 432.2688836787417, 432.26888367874153, 864.0000000000002], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': 135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.600-0.875', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 864.5377673574831, 'compactness': 0.5390120844525813, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.5377673574831, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 864.5377673574831, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:06,136 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:06,136 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 06:09:06,136 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-12 06:09:06,138 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-12 06:09:06,138 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.4287314783802033, 0.428660345131859], 'orientation_degrees': -140.24012369530126}, geometry={'area': 0.6499377002974616, 'perimeter': 4.565837973061732, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 06:09:06,138 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-12 06:09:06,138 - DEBUG - [PATCH][actions field] Joined: line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875
2025-08-12 06:09:06,144 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_triangle_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39184259923907794, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.600-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (1440.0, 864.0)], 'open_stroke_perimeter': 864.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 0.0, 'height': 864.0, 'area': 0.0, 'perimeter': 864.0, 'centroid': [1440.0, 432.0], 'bounds': [1440.0, 0.0, 1440.0, 864.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0, 'line_angle': 90.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.424-0.875', 'features': {'stroke_index': 2, 'analytic_vertices': [(1440.0, 864.0), (1008.2688836787415, 432.26888367874164)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125847, 'height': 431.73111632125836, 'area': 0.0, 'perimeter': 610.56, 'centroid': [1224.1344418393708, 648.1344418393708], 'bounds': [1008.2688836787415, 432.26888367874164, 1440.0, 864.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': -135.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_circle_0.400-0.375', 'features': {'stroke_index': 3, 'analytic_vertices': [(1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417)], 'open_stroke_perimeter': 576.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 576.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 576.0, 'height': 5.684341886080802e-14, 'area': 0.0, 'perimeter': 576.0, 'centroid': [720.2688836787415, 432.26888367874164], 'bounds': [432.26888367874153, 432.26888367874164, 1008.2688836787415, 432.2688836787417], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 576.0, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_circle_0.424-0.375', 'features': {'stroke_index': 4, 'analytic_vertices': [(432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125836, 'height': 431.7311163212585, 'area': 0.0, 'perimeter': 610.56, 'centroid': [216.40332551811235, 648.134441839371], 'bounds': [0.5377673574831761, 432.2688836787417, 432.26888367874153, 864.0000000000002], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': 135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.600-0.875', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 864.5377673574831, 'compactness': 0.5390120844525813, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.5377673574831, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 864.5377673574831, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:06,144 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 06:09:06,145 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-12 06:09:06,145 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-12 06:09:06,145 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:06,145 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:06,146 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|normal': 5}
2025-08-12 06:09:06,146 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39184259923907794, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (1440.0, 864.0)], 'open_stroke_perimeter': 864.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 0.0, 'height': 864.0, 'area': 0.0, 'perimeter': 864.0, 'centroid': [1440.0, 432.0], 'bounds': [1440.0, 0.0, 1440.0, 864.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0, 'line_angle': 90.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(1440.0, 864.0), (1008.2688836787415, 432.26888367874164)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125847, 'height': 431.73111632125836, 'area': 0.0, 'perimeter': 610.56, 'centroid': [1224.1344418393708, 648.1344418393708], 'bounds': [1008.2688836787415, 432.26888367874164, 1440.0, 864.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': -135.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [(1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417)], 'open_stroke_perimeter': 576.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 576.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 576.0, 'height': 5.684341886080802e-14, 'area': 0.0, 'perimeter': 576.0, 'centroid': [720.2688836787415, 432.26888367874164], 'bounds': [432.26888367874153, 432.26888367874164, 1008.2688836787415, 432.2688836787417], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 576.0, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 4, 'analytic_vertices': [(432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125836, 'height': 431.7311163212585, 'area': 0.0, 'perimeter': 610.56, 'centroid': [216.40332551811235, 648.134441839371], 'bounds': [0.5377673574831761, 432.2688836787417, 432.26888367874153, 864.0000000000002], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': 135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 5, 'analytic_vertices': [(0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 864.5377673574831, 'compactness': 0.5390120844525813, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.5377673574831, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 864.5377673574831, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 06:09:06,146 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-12 06:09:06,147 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5001867247769038, 0.34621095314831435], 'width': 1.0, 'height': 1.0, 'area_raw': 0.6499377002974616, 'area_normalized': 0.6500590824346036, 'perimeter_raw': 4.565837973061732, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.6500590824346036, 'is_convex': False, 'compactness': 0.39177850258902114, 'polsby_popper_compactness': 0.39177850258902114, 'eccentricity': 0.29624350248824083, 'symmetry_score': 0.6163116094963651, 'horizontal_symmetry': 0.7584032750784852, 'vertical_symmetry': 0.8284113787626539, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 7.0, 'visual_complexity': 0.5374328089489586, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'moment_of_inertia': 0.2610921766579035, 'irregularity_score': 0.24489795918370555, 'standardized_complexity': 0.48542884119709884, 'clustering_heights': [0.0, 0.1757718298116586, 0.3649210975093211, 3.4127616658865207, 6.5054796706994775], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:06,147 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 06:09:06,147 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-12 06:09:06,147 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-12 06:09:06,148 - INFO - [_vertices_from_command] INPUT: command=line_triangle_1.000-0.500, stroke_index=0
2025-08-12 06:09:06,148 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=1.0, param2=None, param3=0.5
2025-08-12 06:09:06,148 - INFO - [_vertices_from_command] Triangle vertices: [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)]
2025-08-12 06:09:06,148 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,148 - INFO - Convexity: poly_area=1.2990, hull_area=1.2990, ratio=1.0000
2025-08-12 06:09:06,150 - INFO - Computed angular variance: 0.068539 for 4 vertices.
2025-08-12 06:09:06,150 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,150 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,151 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:06,151 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,151 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 06:09:06,152 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-12 06:09:06,152 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-12 06:09:06,152 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.600-0.750, stroke_index=0
2025-08-12 06:09:06,153 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.6, param2=None, param3=0.75
2025-08-12 06:09:06,153 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)]
2025-08-12 06:09:06,153 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,154 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:06,155 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:06,155 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:06,155 - INFO - Computed angular variance: 1.370778 for 12 vertices.
2025-08-12 06:09:06,156 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,156 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,156 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:06,157 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,157 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:06,157 - WARNING - [normalize_vertices] Degenerate width/height, returning verts: [(0.5, 0.5), (0.4999999999999999, -0.09999999999999998)]
2025-08-12 06:09:06,158 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.5, 0.5), (0.4999999999999999, -0.09999999999999998)]
2025-08-12 06:09:06,158 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,158 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:06,158 - INFO - [_vertices_from_command] INPUT: command=line_zigzag_0.424-0.875, stroke_index=0
2025-08-12 06:09:06,160 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.424, param2=None, param3=0.875
2025-08-12 06:09:06,160 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)]
2025-08-12 06:09:06,160 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,162 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:06,162 - INFO - Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 06:09:06,162 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,162 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,162 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:06,163 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,163 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 06:09:06,163 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:06,164 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:06,164 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,164 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 06:09:06,165 - INFO - [_vertices_from_command] INPUT: command=line_circle_0.400-0.375, stroke_index=0
2025-08-12 06:09:06,165 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.4, param2=None, param3=0.375
2025-08-12 06:09:06,165 - INFO - [_vertices_from_command] Circle vertices: [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)]
2025-08-12 06:09:06,166 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:06,166 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,167 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:06,170 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547274}
2025-08-12 06:09:06,170 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547274, 'has_curved_edges': True}
2025-08-12 06:09:06,170 - INFO - [_vertices_from_command] INPUT: command=line_circle_0.424-0.375, stroke_index=0
2025-08-12 06:09:06,170 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.424, param2=None, param3=0.375
2025-08-12 06:09:06,171 - INFO - [_vertices_from_command] Circle vertices: [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)]
2025-08-12 06:09:06,171 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:06,172 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,172 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 06:09:06,175 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275}
2025-08-12 06:09:06,175 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275, 'has_curved_edges': True}
2025-08-12 06:09:06,175 - INFO - [_vertices_from_command] INPUT: command=line_normal_0.600-0.875, stroke_index=0
2025-08-12 06:09:06,176 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.6, param2=None, param3=0.875
2025-08-12 06:09:06,176 - INFO - [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)]
2025-08-12 06:09:06,176 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 06:09:06,177 - WARNING - [calculate_geometry_consistent] Invalid or zero-area polygon. Returning default geometry.
2025-08-12 06:09:06,177 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=0.0. Returning 0.0.
2025-08-12 06:09:06,178 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 06:09:06,179 - INFO - Computed angular variance: 1.370778 for 12 vertices.
2025-08-12 06:09:06,179 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,180 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 06:09:06,180 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 06:09:06,180 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'perimeter', 'width', 'area', 'height', 'visual_complexity', 'stroke_index']
2025-08-12 06:09:06,181 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 06:09:06,181 - WARNING - [normalize_vertices] PATCH: Normalization collapsed to two points, degenerate_case set True: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:06,182 - WARNING - [calculate_geometry] PATCH: Normalization collapsed points: [(0.0, 1.0), (1.0, 0.0)]
2025-08-12 06:09:06,182 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 06:09:06,182 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 06:09:06,183 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['triangle', 'normal', 'zigzag', 'circle', 'circle', 'normal'], n=2
2025-08-12 06:09:06,183 - DEBUG - [ensure_str_list] Converting list: ['triangle', 'normal', 'zigzag', 'circle', 'circle', 'normal']
2025-08-12 06:09:06,183 - DEBUG - [ensure_str_list] Returning string: triangle
2025-08-12 06:09:06,183 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:06,184 - DEBUG - [ensure_str_list] Returning string: zigzag
2025-08-12 06:09:06,184 - DEBUG - [ensure_str_list] Returning string: circle
2025-08-12 06:09:06,184 - DEBUG - [ensure_str_list] Returning string: circle
2025-08-12 06:09:06,184 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 06:09:06,184 - DEBUG - [ensure_str_list] Result: ['triangle', 'normal', 'zigzag', 'circle', 'circle', 'normal']
2025-08-12 06:09:06,185 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['triangle', 'normal', 'zigzag', 'circle', 'circle', 'normal']
2025-08-12 06:09:06,185 - DEBUG - [_extract_ngram_features] OUTPUT: {'triangle|normal': 1, 'normal|zigzag': 1, 'zigzag|circle': 1, 'circle|circle': 1, 'circle|normal': 1}
2025-08-12 06:09:06,185 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 06:09:06,186 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_6', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/6.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_triangle_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39184259923907794, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.600-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (1440.0, 864.0)], 'open_stroke_perimeter': 864.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 0.0, 'height': 864.0, 'area': 0.0, 'perimeter': 864.0, 'centroid': [1440.0, 432.0], 'bounds': [1440.0, 0.0, 1440.0, 864.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0, 'line_angle': 90.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.424-0.875', 'features': {'stroke_index': 2, 'analytic_vertices': [(1440.0, 864.0), (1008.2688836787415, 432.26888367874164)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125847, 'height': 431.73111632125836, 'area': 0.0, 'perimeter': 610.56, 'centroid': [1224.1344418393708, 648.1344418393708], 'bounds': [1008.2688836787415, 432.26888367874164, 1440.0, 864.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': -135.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_circle_0.400-0.375', 'features': {'stroke_index': 3, 'analytic_vertices': [(1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417)], 'open_stroke_perimeter': 576.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 576.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 576.0, 'height': 5.684341886080802e-14, 'area': 0.0, 'perimeter': 576.0, 'centroid': [720.2688836787415, 432.26888367874164], 'bounds': [432.26888367874153, 432.26888367874164, 1008.2688836787415, 432.2688836787417], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 576.0, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_circle_0.424-0.375', 'features': {'stroke_index': 4, 'analytic_vertices': [(432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125836, 'height': 431.7311163212585, 'area': 0.0, 'perimeter': 610.56, 'centroid': [216.40332551811235, 648.134441839371], 'bounds': [0.5377673574831761, 432.2688836787417, 432.26888367874153, 864.0000000000002], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': 135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.600-0.875', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 864.5377673574831, 'compactness': 0.5390120844525813, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.5377673574831, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 864.5377673574831, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 6, 'raw_vertices': ['(0.0, 0.0)', '(1440.0, 0.0)', '(1440.0, 864.0)', '(1008.2688836787415, 432.26888367874164)', '(432.26888367874153, 432.2688836787417)', '(0.5377673574831761, 864.0000000000002)', '(0.5377673574830173, 2.2737367544323206e-13)'], 'vertices': ['(0.0, 0.0)', '(1.0, 0.0)', '(1.0, 0.9999999999999998)', '(0.7001867247769038, 0.5003112079615064)', '(0.30018672477690383, 0.5003112079615065)', '(0.00037344955380776113, 1.0)', '(0.0003734495538076509, 2.6316397620744445e-16)'], 'num_vertices': 7, 'position_label': ['0.4287314783802033', '0.428660345131859'], 'rotation_label_degrees': ['-140.24012369530126'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5001867247769038, 0.34621095314831435], 'width': 1.0, 'height': 1.0, 'area_raw': 0.6499377002974616, 'area_normalized': 0.6500590824346036, 'perimeter_raw': 4.565837973061732, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.6500590824346036, 'is_convex': False, 'compactness': 0.39177850258902114, 'polsby_popper_compactness': 0.39177850258902114, 'eccentricity': 0.29624350248824083, 'symmetry_score': 0.6163116094963651, 'horizontal_symmetry': 0.7584032750784852, 'vertical_symmetry': 0.8284113787626539, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 7.0, 'visual_complexity': 0.5374328089489586, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'moment_of_inertia': 0.2610921766579035, 'irregularity_score': 0.24489795918370555, 'standardized_complexity': 0.48542884119709884, 'clustering_heights': [0.0, 0.1757718298116586, 0.3649210975093211, 3.4127616658865207, 6.5054796706994775], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 0.3915006147473466, 'perimeter_mean': 1.7724831761832183, 'width_mean': 0.5413229597346164, 'height_mean': 0.5799980943294293, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.2610921766579035, 'center_of_mass': [0.5001867247769038, 0.34621095314831435], 'polsby_popper_compactness': 0.39177850258902114, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'edge_length_variance': 0.12300410253967249}, 'composition_features': {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 10, 'homogeneity_score': 0.2777777777777778, 'pattern_regularity': 0.6666666666666666}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39184259923907794, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (1440.0, 864.0)], 'open_stroke_perimeter': 864.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 0.0, 'height': 864.0, 'area': 0.0, 'perimeter': 864.0, 'centroid': [1440.0, 432.0], 'bounds': [1440.0, 0.0, 1440.0, 864.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0, 'line_angle': 90.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(1440.0, 864.0), (1008.2688836787415, 432.26888367874164)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125847, 'height': 431.73111632125836, 'area': 0.0, 'perimeter': 610.56, 'centroid': [1224.1344418393708, 648.1344418393708], 'bounds': [1008.2688836787415, 432.26888367874164, 1440.0, 864.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': -135.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [(1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417)], 'open_stroke_perimeter': 576.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 576.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 576.0, 'height': 5.684341886080802e-14, 'area': 0.0, 'perimeter': 576.0, 'centroid': [720.2688836787415, 432.26888367874164], 'bounds': [432.26888367874153, 432.26888367874164, 1008.2688836787415, 432.2688836787417], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 576.0, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 4, 'analytic_vertices': [(432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125836, 'height': 431.7311163212585, 'area': 0.0, 'perimeter': 610.56, 'centroid': [216.40332551811235, 648.134441839371], 'bounds': [0.5377673574831761, 432.2688836787417, 432.26888367874153, 864.0000000000002], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': 135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 5, 'analytic_vertices': [(0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 864.5377673574831, 'compactness': 0.5390120844525813, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.5377673574831, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 864.5377673574831, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 6}}, 'processing_metadata': {'processing_timestamp': 1754959146.186402, 'feature_count': 54}, 'actions': ['line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875'], 'action_program': ['line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875'], 'geometry': {'area': 0.6499377002974616, 'perimeter': 4.565837973061732, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 5}, 'analytic_attributes': ['triangle', 'normal', 'zigzag', 'circle', 'circle', 'normal'], 'analytic_ngram': {'triangle|normal': 1, 'normal|zigzag': 1, 'zigzag|circle': 1, 'circle|circle': 1, 'circle|normal': 1}, 'alternation': 0.16666666666666666, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 6}}}, 'topological_features': {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 0, 1: 4, 2: 2, 3: 2, 4: 2, 5: 2}, 'adjacency_clustering': {0: 0, 1: 0.3333333333333333, 2: 1.0, 3: 1.0, 4: 1.0, 5: 1.0}, 'intersection_count': 6, 'betweenness_centrality': {0: 0.0, 1: 0.4, 2: 0.0, 3: 0.0, 4: 0.0, 5: 0.0}, 'containment_score': 4, 'overlap_heatmap': [0.0, 0.0, 0.4944271909999159, 0.5555383918075055, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.4944271909999159, 0.0, 0.0, 0.4944271909999159, 0.0, 0.5555383918075055, 0.0, 0.0, 0.4944271909999159, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 4607.462399999984, 'skeleton_graph_features': {'num_nodes': 6, 'num_edges': 6}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.6064876770353205, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.5538634660062625, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.46798578001622815, 'complexity': 3, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.2156977703837358, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.06747703986525634, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}}}}
2025-08-12 06:09:06,186 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.4287314783802033, 0.428660345131859], 'orientation_degrees': -140.24012369530126}
2025-08-12 06:09:06,187 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.6499377002974616, 'perimeter': 4.565837973061732, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 06:09:06,187 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_triangle_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39184259923907794, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.600-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (1440.0, 864.0)], 'open_stroke_perimeter': 864.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 0.0, 'height': 864.0, 'area': 0.0, 'perimeter': 864.0, 'centroid': [1440.0, 432.0], 'bounds': [1440.0, 0.0, 1440.0, 864.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0, 'line_angle': 90.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.424-0.875', 'features': {'stroke_index': 2, 'analytic_vertices': [(1440.0, 864.0), (1008.2688836787415, 432.26888367874164)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125847, 'height': 431.73111632125836, 'area': 0.0, 'perimeter': 610.56, 'centroid': [1224.1344418393708, 648.1344418393708], 'bounds': [1008.2688836787415, 432.26888367874164, 1440.0, 864.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': -135.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_circle_0.400-0.375', 'features': {'stroke_index': 3, 'analytic_vertices': [(1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417)], 'open_stroke_perimeter': 576.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 576.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 576.0, 'height': 5.684341886080802e-14, 'area': 0.0, 'perimeter': 576.0, 'centroid': [720.2688836787415, 432.26888367874164], 'bounds': [432.26888367874153, 432.26888367874164, 1008.2688836787415, 432.2688836787417], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 576.0, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_circle_0.424-0.375', 'features': {'stroke_index': 4, 'analytic_vertices': [(432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125836, 'height': 431.7311163212585, 'area': 0.0, 'perimeter': 610.56, 'centroid': [216.40332551811235, 648.134441839371], 'bounds': [0.5377673574831761, 432.2688836787417, 432.26888367874153, 864.0000000000002], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': 135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.600-0.875', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 864.5377673574831, 'compactness': 0.5390120844525813, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.5377673574831, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 864.5377673574831, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 06:09:06,187 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-12 06:09:06,188 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 06:09:06,188 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-12 06:09:06,189 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5001867247769038, 0.34621095314831435], 'width': 1.0, 'height': 1.0, 'area_raw': 0.6499377002974616, 'area_normalized': 0.6500590824346036, 'perimeter_raw': 4.565837973061732, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.6500590824346036, 'is_convex': False, 'compactness': 0.39177850258902114, 'polsby_popper_compactness': 0.39177850258902114, 'eccentricity': 0.29624350248824083, 'symmetry_score': 0.6163116094963651, 'horizontal_symmetry': 0.7584032750784852, 'vertical_symmetry': 0.8284113787626539, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 7.0, 'visual_complexity': 0.5374328089489586, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'moment_of_inertia': 0.2610921766579035, 'irregularity_score': 0.24489795918370555, 'standardized_complexity': 0.48542884119709884, 'clustering_heights': [0.0, 0.1757718298116586, 0.3649210975093211, 3.4127616658865207, 6.5054796706994775], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 06:09:06,189 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.2610921766579035, 'center_of_mass': [0.5001867247769038, 0.34621095314831435], 'polsby_popper_compactness': 0.39177850258902114, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'edge_length_variance': 0.12300410253967249}
2025-08-12 06:09:06,189 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 10, 'homogeneity_score': 0.2777777777777778, 'pattern_regularity': 0.6666666666666666}
2025-08-12 06:09:06,189 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39184259923907794, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 1440.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 1, 'analytic_vertices': [(1440.0, 0.0), (1440.0, 864.0)], 'open_stroke_perimeter': 864.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 0.0, 'height': 864.0, 'area': 0.0, 'perimeter': 864.0, 'centroid': [1440.0, 432.0], 'bounds': [1440.0, 0.0, 1440.0, 864.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 864.0, 'line_angle': 90.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(1440.0, 864.0), (1008.2688836787415, 432.26888367874164)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125847, 'height': 431.73111632125836, 'area': 0.0, 'perimeter': 610.56, 'centroid': [1224.1344418393708, 648.1344418393708], 'bounds': [1008.2688836787415, 432.26888367874164, 1440.0, 864.0], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': -135.00000000000003, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-up', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.04, 'num_vertices': 2, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [(1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417)], 'open_stroke_perimeter': 576.0, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 576.0, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 576.0, 'height': 5.684341886080802e-14, 'area': 0.0, 'perimeter': 576.0, 'centroid': [720.2688836787415, 432.26888367874164], 'bounds': [432.26888367874153, 432.26888367874164, 1008.2688836787415, 432.2688836787417], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 576.0, 'line_angle': 180.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 4, 'analytic_vertices': [(432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002)], 'open_stroke_perimeter': 610.56, 'compactness': 1e-06, 'convexity_ratio': 1e-06, 'geom_complexity': 0.1, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 610.56, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 431.73111632125836, 'height': 431.7311163212585, 'area': 0.0, 'perimeter': 610.56, 'centroid': [216.40332551811235, 648.134441839371], 'bounds': [0.5377673574831761, 432.2688836787417, 432.26888367874153, 864.0000000000002], 'num_vertices': 2, 'degenerate_case': True}, 'line_length': 610.56, 'line_angle': 135.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': False, 'line_direction': 'diagonal-down', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.04, 'num_vertices': 2, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 5, 'analytic_vertices': [(0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 864.5377673574831, 'compactness': 0.5390120844525813, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 864.5377673574831, 'avg_stroke_length': 827.6096278929139, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 864.5377673574831, 'line_angle': -90.00000000000001, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': False, 'line_is_vertical': True, 'line_direction': 'vertical', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.06, 'num_vertices': 3, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 06:09:06,191 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'open', 'connectivity': '1', 'shape_distribution': {'open': 1}}
2025-08-12 06:09:06,192 - INFO - [DEBUG] pos_results[0] image_level_features type: <class 'dict'>
2025-08-12 06:09:06,192 - INFO - [DEBUG] pos_results[0] image_level_features value: {'area_mean': 6.012512588862485e-09, 'perimeter_mean': 0.14062194066790498, 'width_mean': 0.03767620353114122, 'height_mean': 0.052657336885231366, 'visual_complexity_mean': 0.0}
2025-08-12 06:09:06,193 - INFO - [DEBUG] pos_results[0] has keys: ['area_mean', 'perimeter_mean', 'width_mean', 'height_mean', 'visual_complexity_mean']
2025-08-12 06:09:06,193 - INFO - [DEBUG] pos_results[1] image_level_features type: <class 'dict'>
2025-08-12 06:09:06,193 - INFO - [DEBUG] pos_results[1] image_level_features value: {'area_mean': 3.1275851348194164e-09, 'perimeter_mean': 0.07825424846939012, 'width_mean': 0.02160761465411009, 'height_mean': 0.028550417219887776, 'visual_complexity_mean': 0.0}
2025-08-12 06:09:06,193 - INFO - [DEBUG] pos_results[1] has keys: ['area_mean', 'perimeter_mean', 'width_mean', 'height_mean', 'visual_complexity_mean']
2025-08-12 06:09:06,194 - INFO - [extract_support_set_context] INPUT: positive_images=7, negative_images=7
2025-08-12 06:09:06,194 - INFO - [compute_feature_statistics] INPUT: label=positive, num_features=7
2025-08-12 06:09:06,194 - WARNING - [compute_feature_statistics] No valid numeric features for label=positive
2025-08-12 06:09:06,194 - INFO - [compute_feature_statistics] INPUT: label=negative, num_features=7
2025-08-12 06:09:06,195 - WARNING - [compute_feature_statistics] No valid numeric features for label=negative
2025-08-12 06:09:06,195 - ERROR - Error processing problem hd_has_six_straight_lines-exist_quadrangle_0018: 'list' object has no attribute 'keys'
2025-08-12 06:09:06,196 - WARNING - [FLAG CASE] category=unknown, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018, message=Problem processing failed: 'list' object has no attribute 'keys', tags=['problem_processing_error']
