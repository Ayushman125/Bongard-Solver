2025-08-12 12:11:42,489 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,493 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,494 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,494 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,494 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,495 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,495 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,495 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,498 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,498 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,499 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,499 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,499 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,500 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 12:11:42,500 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,501 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,501 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,502 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,503 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,503 - DEBUG - [PATCH][DIAG] Processing action 7: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.301
2025-08-12 12:11:42,503 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,504 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,504 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,504 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,505 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,505 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,505 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,506 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,507 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,508 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,508 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,508 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,509 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,509 - INFO - [compute_feature_statistics] INPUT: label=stroke_7, num_features=1
2025-08-12 12:11:42,510 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_7: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,510 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,511 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,513 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,513 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,513 - INFO - [collect_stroke_features] Collected 8 valid stroke features
2025-08-12 12:11:42,514 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=8
2025-08-12 12:11:42,514 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,515 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=6101.377143165675. Returning 0.0.
2025-08-12 12:11:42,515 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,516 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,516 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}}}
2025-08-12 12:11:42,517 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}}}
2025-08-12 12:11:42,517 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:42,517 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,518 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,518 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,519 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,520 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,520 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 12:11:42,520 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_normal_0.500-0.750
2025-08-12 12:11:42,521 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,521 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,521 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,521 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,522 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,522 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,523 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301]
2025-08-12 12:11:42,523 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.500
2025-08-12 12:11:42,523 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,524 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,524 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,524 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,525 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 12:11:42,525 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,525 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 12:11:42,526 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:42,526 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,527 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,527 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,528 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,528 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,529 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.ArcAction'>, value=arc_normal_0.500_0.625-0.750
2025-08-12 12:11:42,529 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,529 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,530 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,530 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,530 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,530 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,531 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,531 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,533 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,533 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,534 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,534 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,535 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,535 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:42,536 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,536 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,536 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,538 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,538 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,539 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.750
2025-08-12 12:11:42,539 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,539 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,539 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,540 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,540 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,540 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,541 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,541 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,543 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,543 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,544 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,544 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,544 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,545 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:42,545 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,546 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,546 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,547 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,548 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,548 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.250
2025-08-12 12:11:42,548 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,548 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,549 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,549 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,549 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,550 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,550 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,551 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,552 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,552 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,553 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,553 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,553 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,554 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:42,554 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,554 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,555 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,556 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,556 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,557 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.762-0.788
2025-08-12 12:11:42,557 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,557 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,557 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,558 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,558 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,558 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,559 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,559 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,561 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,562 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,562 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,562 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,563 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,563 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:42,564 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,564 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,565 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,566 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,566 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,566 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.412-0.775
2025-08-12 12:11:42,567 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,567 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,568 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,568 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,568 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,568 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,569 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,569 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,571 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,571 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,572 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,572 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,572 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,573 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:42,573 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,574 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,574 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,575 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,575 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,576 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.400-0.789
2025-08-12 12:11:42,576 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,576 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,577 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,577 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,577 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,578 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,578 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,578 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,580 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,582 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,582 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,582 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,583 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,583 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 12:11:42,584 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,584 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,584 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,586 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,586 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,586 - DEBUG - [PATCH][DIAG] Processing action 7: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.301
2025-08-12 12:11:42,587 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,587 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,587 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,588 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,588 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,589 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,589 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,589 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,591 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,591 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,592 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,592 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,592 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,593 - INFO - [compute_feature_statistics] INPUT: label=stroke_7, num_features=1
2025-08-12 12:11:42,593 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_7: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,594 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,594 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,596 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,596 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,596 - INFO - [collect_stroke_features] Collected 8 valid stroke features
2025-08-12 12:11:42,597 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=8
2025-08-12 12:11:42,598 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,598 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=6101.377143165675. Returning 0.0.
2025-08-12 12:11:42,599 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,599 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,599 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}}}
2025-08-12 12:11:42,600 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}}}
2025-08-12 12:11:42,600 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:42,601 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,601 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,601 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,602 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,603 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,603 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 12:11:42,603 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_normal_0.500-0.250
2025-08-12 12:11:42,604 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,604 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,604 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,604 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,605 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,605 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,606 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301]
2025-08-12 12:11:42,606 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.500
2025-08-12 12:11:42,606 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,607 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,607 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,607 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,607 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 12:11:42,608 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,608 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 12:11:42,608 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:42,609 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,609 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,609 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,611 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,611 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,611 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.ArcAction'>, value=arc_normal_0.500_0.625-0.750
2025-08-12 12:11:42,612 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,612 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,612 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,612 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,613 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,613 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,615 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,615 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,616 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,617 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,617 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,618 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,618 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,618 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:42,619 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,619 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,620 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,621 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,622 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,622 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.750
2025-08-12 12:11:42,622 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,623 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,623 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,623 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,624 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,624 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,624 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,625 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,626 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,627 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,627 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,627 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,628 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,628 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:42,629 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,629 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,629 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,631 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,631 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,631 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.250
2025-08-12 12:11:42,632 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,632 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,632 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,633 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,633 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,633 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,633 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,634 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,636 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,637 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,637 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,638 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,638 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,638 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:42,639 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,639 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,639 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,641 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,641 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,641 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.762-0.788
2025-08-12 12:11:42,642 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,642 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,642 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,643 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,643 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,643 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,643 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,644 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,645 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,646 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,647 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,647 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,647 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,648 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:42,648 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,649 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,649 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,651 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,651 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,652 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.412-0.775
2025-08-12 12:11:42,652 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,652 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,653 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,653 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,653 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,654 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,654 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,655 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,656 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,656 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,657 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,657 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,658 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,658 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:42,659 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,659 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,659 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,661 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,661 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,661 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.400-0.789
2025-08-12 12:11:42,661 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,662 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,662 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,663 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,663 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,664 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,664 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,664 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,666 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,666 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,667 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,667 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,667 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,668 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 12:11:42,668 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,669 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,669 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,671 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,671 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,671 - DEBUG - [PATCH][DIAG] Processing action 7: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.301
2025-08-12 12:11:42,672 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,672 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,672 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,673 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,673 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,674 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,674 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,674 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,677 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,677 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,678 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,678 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,678 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,679 - INFO - [compute_feature_statistics] INPUT: label=stroke_7, num_features=1
2025-08-12 12:11:42,679 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_7: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,680 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,680 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,681 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,682 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,682 - INFO - [collect_stroke_features] Collected 8 valid stroke features
2025-08-12 12:11:42,682 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=8
2025-08-12 12:11:42,683 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,683 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=6101.377143165675. Returning 0.0.
2025-08-12 12:11:42,684 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,684 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,684 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}}}
2025-08-12 12:11:42,684 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}}}
2025-08-12 12:11:42,684 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:42,685 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,685 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,686 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,687 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,687 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,688 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 12:11:42,688 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=4 | stroke=line_normal_0.762-0.788
2025-08-12 12:11:42,688 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,688 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,689 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,689 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,689 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,690 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,690 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301]
2025-08-12 12:11:42,690 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.500
2025-08-12 12:11:42,691 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,692 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,692 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,692 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,692 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 12:11:42,693 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,693 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 12:11:42,693 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:42,694 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,694 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,695 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,697 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,698 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,698 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.ArcAction'>, value=arc_normal_0.500_0.625-0.750
2025-08-12 12:11:42,699 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,699 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,700 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,700 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,700 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,701 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,701 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,701 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,703 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,703 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,704 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,704 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,704 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,704 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:42,705 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,705 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,706 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,707 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,708 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,708 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.750
2025-08-12 12:11:42,708 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,709 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,709 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,709 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,709 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,710 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,710 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,711 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,712 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,713 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,713 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,713 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,714 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,714 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:42,714 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,715 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,715 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,716 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,717 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,717 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.250
2025-08-12 12:11:42,717 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,717 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,718 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,718 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,718 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,719 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,719 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,720 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,722 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,722 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,722 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,724 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,724 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,724 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:42,725 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,725 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,726 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,727 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,727 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,727 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.762-0.788
2025-08-12 12:11:42,728 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,728 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,728 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,729 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,729 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,729 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,730 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,730 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,731 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,732 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,732 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,733 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,733 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,733 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:42,734 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,734 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,734 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,736 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,736 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,736 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.412-0.775
2025-08-12 12:11:42,736 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,737 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,737 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,737 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,738 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,738 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,738 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,739 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,740 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,741 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,741 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,741 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,742 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,742 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:42,743 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,743 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,744 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,745 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,745 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,745 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.400-0.789
2025-08-12 12:11:42,746 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,746 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,746 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,747 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,747 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,747 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,747 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,748 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,749 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,750 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,750 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,750 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,751 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,751 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 12:11:42,752 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,752 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,752 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,753 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,754 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,754 - DEBUG - [PATCH][DIAG] Processing action 7: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.301
2025-08-12 12:11:42,754 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,755 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,755 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,756 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,756 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,756 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,757 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,757 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,758 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,759 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,759 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,759 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,759 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,760 - INFO - [compute_feature_statistics] INPUT: label=stroke_7, num_features=1
2025-08-12 12:11:42,761 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_7: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,761 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,761 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,763 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,763 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,763 - INFO - [collect_stroke_features] Collected 8 valid stroke features
2025-08-12 12:11:42,764 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=8
2025-08-12 12:11:42,764 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,764 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=6101.377143165675. Returning 0.0.
2025-08-12 12:11:42,765 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,766 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,766 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}}}
2025-08-12 12:11:42,766 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}}}
2025-08-12 12:11:42,766 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:42,767 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,767 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,768 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,769 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,769 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,770 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 4: {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 12:11:42,770 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=5 | stroke=line_normal_0.412-0.775
2025-08-12 12:11:42,770 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,771 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,771 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,771 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,772 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,772 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,773 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301]
2025-08-12 12:11:42,773 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.500
2025-08-12 12:11:42,773 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,774 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,774 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,774 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,775 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 12:11:42,775 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,775 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 12:11:42,776 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:42,776 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,777 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,777 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,778 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,779 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,779 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.ArcAction'>, value=arc_normal_0.500_0.625-0.750
2025-08-12 12:11:42,779 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,780 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,780 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,780 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,780 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,781 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,781 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,781 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,782 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,783 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,783 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,784 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,784 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,784 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:42,784 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,785 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,785 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,787 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,787 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,788 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.750
2025-08-12 12:11:42,788 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,788 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,789 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,789 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,789 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,789 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,790 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,790 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,792 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,793 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,794 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,794 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,794 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,794 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:42,795 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,795 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,796 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,797 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,797 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,798 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.250
2025-08-12 12:11:42,798 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,798 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,799 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,799 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,799 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,800 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,800 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,800 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,802 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,804 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,804 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,804 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,805 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,805 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:42,805 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,805 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,806 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,807 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,807 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,808 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.762-0.788
2025-08-12 12:11:42,808 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,809 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,809 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,809 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,809 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,810 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,810 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,810 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,812 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,812 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,813 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,813 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,813 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,813 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:42,814 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,815 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,815 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,817 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,817 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,818 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.412-0.775
2025-08-12 12:11:42,818 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,818 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,819 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,819 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,819 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,820 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,820 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,820 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,822 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,823 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,823 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,823 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,824 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,824 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:42,825 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,825 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,825 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,827 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,827 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,828 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.400-0.789
2025-08-12 12:11:42,828 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,829 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,829 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,829 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,829 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,830 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,830 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,830 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,833 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,833 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,834 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,834 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,834 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,835 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 12:11:42,835 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,836 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,836 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,838 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,838 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,838 - DEBUG - [PATCH][DIAG] Processing action 7: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.301
2025-08-12 12:11:42,838 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,839 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,839 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,839 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,840 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,840 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,840 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,841 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,842 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,842 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,843 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,843 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,843 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,844 - INFO - [compute_feature_statistics] INPUT: label=stroke_7, num_features=1
2025-08-12 12:11:42,844 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_7: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,844 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,845 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,846 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,846 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,847 - INFO - [collect_stroke_features] Collected 8 valid stroke features
2025-08-12 12:11:42,847 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=8
2025-08-12 12:11:42,848 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,848 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=6101.377143165675. Returning 0.0.
2025-08-12 12:11:42,848 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,849 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,849 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}}}
2025-08-12 12:11:42,850 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}}}
2025-08-12 12:11:42,850 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:42,851 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,851 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,851 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,853 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,853 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,854 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 5: {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 12:11:42,854 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=6 | stroke=line_normal_0.400-0.789
2025-08-12 12:11:42,854 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,855 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,855 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,855 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,856 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,856 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,856 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301]
2025-08-12 12:11:42,856 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.500
2025-08-12 12:11:42,857 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,857 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,858 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,858 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,858 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 12:11:42,859 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,859 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 12:11:42,859 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:42,860 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,860 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,860 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,861 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,862 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,862 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.ArcAction'>, value=arc_normal_0.500_0.625-0.750
2025-08-12 12:11:42,862 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,864 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,864 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,864 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,864 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,865 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,865 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,865 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,867 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,868 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,868 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,868 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,869 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,869 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:42,869 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,870 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,870 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,872 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,873 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,873 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.750
2025-08-12 12:11:42,873 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,874 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,874 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,874 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,875 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,875 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,875 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,876 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,877 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,878 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,878 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,879 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,879 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,879 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:42,880 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,880 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,881 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,883 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,883 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,883 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.250
2025-08-12 12:11:42,883 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,883 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,883 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,884 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,884 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,884 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,885 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,885 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,886 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,887 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,887 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,887 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,888 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,888 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:42,889 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,889 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,889 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,890 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,891 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,891 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.762-0.788
2025-08-12 12:11:42,891 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,892 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,892 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,892 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,893 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,893 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,893 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,894 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,895 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,895 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,896 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,896 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,896 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,897 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:42,897 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,898 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,898 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,899 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,900 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,900 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.412-0.775
2025-08-12 12:11:42,900 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,901 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,901 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,901 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,902 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,902 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,902 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,903 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,905 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,905 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,906 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,906 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,907 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,907 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:42,908 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,908 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,908 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,911 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,911 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,911 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.400-0.789
2025-08-12 12:11:42,911 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,912 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,912 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,913 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,913 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,913 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,914 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,914 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,915 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,916 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,916 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,917 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,917 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,917 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 12:11:42,918 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,918 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,919 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,920 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,920 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,920 - DEBUG - [PATCH][DIAG] Processing action 7: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.301
2025-08-12 12:11:42,921 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,921 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,921 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,922 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,922 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,922 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,923 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,923 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,924 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,925 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,926 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,926 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,926 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,926 - INFO - [compute_feature_statistics] INPUT: label=stroke_7, num_features=1
2025-08-12 12:11:42,927 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_7: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,927 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,928 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,930 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,930 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,930 - INFO - [collect_stroke_features] Collected 8 valid stroke features
2025-08-12 12:11:42,931 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=8
2025-08-12 12:11:42,931 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,932 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=6101.377143165675. Returning 0.0.
2025-08-12 12:11:42,932 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,933 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,933 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}}}
2025-08-12 12:11:42,933 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}}}
2025-08-12 12:11:42,934 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 12:11:42,934 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,935 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,935 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,936 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,937 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,937 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 6: {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 12:11:42,937 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=7 | stroke=line_normal_0.316-0.301
2025-08-12 12:11:42,938 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,938 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,938 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,938 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,939 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,939 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,940 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301]
2025-08-12 12:11:42,940 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.500
2025-08-12 12:11:42,940 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,941 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,941 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,941 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,942 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 12:11:42,942 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,943 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 12:11:42,943 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:42,944 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,944 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,944 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,946 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,946 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,946 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.ArcAction'>, value=arc_normal_0.500_0.625-0.750
2025-08-12 12:11:42,946 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,947 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,947 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,947 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,948 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,948 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,948 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,948 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,951 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,952 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,952 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,952 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,953 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,953 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:42,954 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,954 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,954 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,957 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,957 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,957 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.750
2025-08-12 12:11:42,957 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,958 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,958 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,958 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,959 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,959 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,960 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,960 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,961 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,962 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,963 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,963 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,963 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,964 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:42,964 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,964 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,965 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,967 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,967 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,967 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.250
2025-08-12 12:11:42,968 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,968 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,969 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,969 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,969 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,970 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,970 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,970 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,972 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,972 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,974 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,974 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,974 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,975 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:42,975 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,975 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,976 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,977 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,977 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,977 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.762-0.788
2025-08-12 12:11:42,978 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,978 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,978 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,979 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,979 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,979 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,980 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,980 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,981 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,982 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,982 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,983 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,983 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,983 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:42,983 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,983 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,984 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,985 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,985 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,986 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.412-0.775
2025-08-12 12:11:42,986 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,986 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,986 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,987 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,987 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,988 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,988 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,988 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,989 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,990 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:42,991 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:42,991 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,991 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:42,991 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:42,992 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:42,992 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:42,993 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:42,994 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:42,994 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:42,994 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.400-0.789
2025-08-12 12:11:42,995 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,995 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,995 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:42,996 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:42,996 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,996 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:42,997 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:42,997 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:42,998 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:42,999 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:43,000 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:43,000 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,000 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,000 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 12:11:43,001 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,001 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,002 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,003 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:43,004 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:43,004 - DEBUG - [PATCH][DIAG] Processing action 7: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.301
2025-08-12 12:11:43,004 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:43,005 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,005 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:43,005 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:43,005 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269458DD9D0>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:43,006 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,006 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-12 12:11:43,006 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,008 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,009 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:43,009 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:43,009 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,010 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,010 - INFO - [compute_feature_statistics] INPUT: label=stroke_7, num_features=1
2025-08-12 12:11:43,010 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_7: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,011 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,011 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,012 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:43,012 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:43,013 - INFO - [collect_stroke_features] Collected 8 valid stroke features
2025-08-12 12:11:43,013 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=8
2025-08-12 12:11:43,014 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,014 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=6101.377143165675. Returning 0.0.
2025-08-12 12:11:43,015 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-12 12:11:43,015 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-12 12:11:43,015 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}}}
2025-08-12 12:11:43,016 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}}}
2025-08-12 12:11:43,016 - INFO - [compute_feature_statistics] INPUT: label=stroke_7, num_features=1
2025-08-12 12:11:43,017 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_7: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,017 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,017 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,018 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-12 12:11:43,019 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-12 12:11:43,019 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 7: {'stroke_index': 7, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'stroke_index': {'mean': 7.0, 'var': 0.0, 'min': 7.0, 'max': 7.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'stroke_index': {'mean': 7.0, 'var': 0.0, 'min': 7.0, 'max': 7.0, 'count': 1}}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 12:11:43,020 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=8
2025-08-12 12:11:43,021 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['is_pattern', 'arc_is_major', 'line_is_long', 'convexity_ratio', 'arc_length', 'visual_complexity', 'is_geometric', 'compactness', 'avg_stroke_length', 'geom_complexity', 'num_vertices', 'line_length', 'line_is_short', 'arc_radius', 'arc_is_large', 'robust_curvature', 'stroke_length', 'is_normal', 'robust_angular_variance', 'degenerate_case', 'arc_span_angle', 'line_is_vertical', 'arc_is_full_circle', 'arc_is_small', 'arc_curvature', 'geometric_complexity', 'line_curvature_score', 'open_stroke_perimeter', 'arc_curvature_score', 'line_angle', 'line_is_horizontal', 'is_simple', 'stroke_index']
2025-08-12 12:11:43,021 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (8) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-12 12:11:43,022 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=8
2025-08-12 12:11:43,022 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 8
2025-08-12 12:11:43,022 - WARNING - Variance: only one value, returning None
2025-08-12 12:11:43,023 - WARNING - Variance: only one value, returning None
2025-08-12 12:11:43,023 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 7, 'num_arcs': 1, 'line_ratio': 0.875, 'arc_ratio': 0.125, 'stroke_diversity': 1}, 'line_aggregate': {'total_line_length': 42620.83621428638, 'avg_line_length': 6088.690887755197, 'line_length_variance': 965.6464580393679, 'line_angle_variance': 0.0, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'horizontal'}, 'arc_aggregate': {'total_arc_length': 0.7853981633974483, 'avg_arc_radius': 0.5, 'avg_arc_span': 90.0, 'arc_radius_variance': None, 'arc_span_variance': None, 'total_curvature': 2.0, 'has_full_circles': False, 'has_major_arcs': False, 'curvature_complexity': 1}}
2025-08-12 12:11:43,023 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_normal_0.500-0.500,arc_normal_0.500_0.625-0.750,line_normal_0.500-0.750,line_normal_0.500-0.250,line_normal_0.762-0.788,line_normal_0.412-0.775,line_normal_0.400-0.789,line_normal_0.316-0.301
2025-08-12 12:11:43,024 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']]
2025-08-12 12:11:43,024 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']
2025-08-12 12:11:43,024 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']
2025-08-12 12:11:43,025 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']]
2025-08-12 12:11:43,025 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.500-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'arc_normal_0.500_0.625-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.500-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.500-0.250', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.762-0.788', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.412-0.775', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.400-0.789', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 7, 'stroke_command': 'line_normal_0.316-0.301', 'features': {'stroke_index': 7, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 12:11:43,026 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 12:11:43,026 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 12:11:43,027 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-12 12:11:43,027 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-12 12:11:43,027 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.6134798638828637, 0.6843391081408409], 'orientation_degrees': 46.16578543292882}, geometry={'area': 0.33719587035626253, 'perimeter': 3.7428926365541084, 'centroid': [0.44867678683185835, 0.5358196079379418], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 12:11:43,028 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']
2025-08-12 12:11:43,028 - DEBUG - [PATCH][actions field] Joined: line_normal_0.500-0.500,arc_normal_0.500_0.625-0.750,line_normal_0.500-0.750,line_normal_0.500-0.250,line_normal_0.762-0.788,line_normal_0.412-0.775,line_normal_0.400-0.789,line_normal_0.316-0.301
2025-08-12 12:11:43,029 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.500-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'arc_normal_0.500_0.625-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.500-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.500-0.250', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.762-0.788', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.412-0.775', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.400-0.789', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 7, 'stroke_command': 'line_normal_0.316-0.301', 'features': {'stroke_index': 7, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 12:11:43,029 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 12:11:43,030 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(0.5203208158218974, 0.633099820783206), (1.0, 0.633099820783206), (0.9854622073553833, 0.7023854064323992), (0.9568283455391784, 0.7684969427827529), (0.9149684399532374, 0.8294256642563134), (0.8611543826466551, 0.883320282482527), (0.7970212865194649, 0.9285432367585834), (0.7245178032445789, 0.9637204505027231), (0.6458469144727719, 0.9877830818758601), (0.5633989953499846, 1.0), (0.4796791841781028, 1.0), (0.47967918417810274, 0.5968988234862387), (0.0, 0.5968988234862388), (0.17288811642975047, 0.0), (0.5375797279001502, 0.12807379340787864), (0.3081376683089076, 0.38656386913270946), (0.4816746141105195, 0.5954548222236565)]
2025-08-12 12:11:43,030 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']]
2025-08-12 12:11:43,030 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:43,030 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:43,031 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 5}
2025-08-12 12:11:43,032 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 7, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': [{'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}]}
2025-08-12 12:11:43,032 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-12 12:11:43,032 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.44867678683185835, 0.5358196079379418], 'width': 1.0, 'height': 1.0, 'area_raw': 0.33719587035626253, 'area_normalized': 0.5514446902221597, 'perimeter_raw': 3.7428926365541084, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.5514446902221597, 'is_convex': False, 'compactness': 0.3024665632719423, 'polsby_popper_compactness': 0.3024665632719423, 'eccentricity': 0.6473738900486478, 'symmetry_score': 0.46024522887488073, 'horizontal_symmetry': 0.5541733912936185, 'vertical_symmetry': 0.5331366425154033, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 17.0, 'visual_complexity': 0.4887284500483604, 'curvature_score': 1.3061532745519022, 'angular_variance': 0.5475491675431053, 'moment_of_inertia': 0.312557639067535, 'irregularity_score': 0.619873831955699, 'standardized_complexity': 0.7365644242405919, 'clustering_heights': [0.05785157075904346, 0.06288474952635227, 0.0817839315091929, 0.18725330912449645, 0.2418825760419147, 0.3941726053924511, 0.5487119411400656], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 12:11:43,032 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:43,034 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-12 12:11:43,034 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-12 12:11:43,034 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=[line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,034 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.500-0.500, stroke_index=0
2025-08-12 12:11:43,034 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.5, param2=None, param3=0.5
2025-08-12 12:11:43,035 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)]
2025-08-12 12:11:43,035 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)], geometry={'width': 0.5, 'height': 1.1102230246251565e-16, 'area': 0.0, 'perimeter': 0.5, 'centroid': [0.25, 0.5], 'bounds': [0.0, 0.5, 0.5, 0.5000000000000001], 'num_vertices': 10, 'analytic_vertices': [(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)], 'open_stroke_perimeter': 0.5, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,035 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)]
2025-08-12 12:11:43,036 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,036 - INFO - [SoS] Perturbed collinear vertex 1: [0.44444444 0.5       ] -> [0.44444543 0.50000041]
2025-08-12 12:11:43,037 - INFO - [SoS] Perturbed collinear vertex 2: [0.38888889 0.5       ] -> [0.38888846 0.50000053]
2025-08-12 12:11:43,037 - INFO - [SoS] Perturbed collinear vertex 3: [0.33333333 0.5       ] -> [0.3333343  0.49999997]
2025-08-12 12:11:43,038 - INFO - [SoS] Perturbed collinear vertex 4: [0.27777778 0.5       ] -> [0.27777867 0.49999967]
2025-08-12 12:11:43,038 - INFO - [SoS] Perturbed collinear vertex 5: [0.22222222 0.5       ] -> [0.22222284 0.50000037]
2025-08-12 12:11:43,038 - INFO - [SoS] Perturbed collinear vertex 6: [0.16666667 0.5       ] -> [0.1666675  0.50000048]
2025-08-12 12:11:43,039 - INFO - [SoS] Perturbed collinear vertex 7: [0.11111111 0.5       ] -> [0.11111041 0.50000018]
2025-08-12 12:11:43,040 - INFO - [SoS] Perturbed collinear vertex 8: [0.05555556 0.5       ] -> [0.05555633 0.50000073]
2025-08-12 12:11:43,041 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,043 - INFO - [robust_angular_variance] Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 12:11:43,043 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,043 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,044 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,044 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,045 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,045 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,046 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 0.5099957097683265}
2025-08-12 12:11:43,046 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 0.5099957097683265, 'is_simple': True}
2025-08-12 12:11:43,047 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=[line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,047 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=arc_normal_0.500_0.625-0.750, stroke_index=0
2025-08-12 12:11:43,047 - INFO - [_vertices_from_command] Parsed: action_type=arc, modifier=normal, param1=0.5, param2=0.625, param3=0.75
2025-08-12 12:11:43,047 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.4999999999999999, 0.0), (0.5002727076821033, 7.436948540329169e-08), (0.5005454152830822, 2.9747791951972857e-07), (0.500818122721812, 6.693252359579738e-07), (0.5010908299171685, 1.1899113240843029e-06), (0.501363536788027, 1.8592360290781151e-06), (0.5016362432532635, 2.6772991517654e-06), (0.5019089492317537, 3.6441004488962925e-06), (0.5021816546423731, 4.759639632756496e-06), (0.5024543594039989, 6.02391637155586e-06), (0.5027270634355068, 7.436930289206334e-06), (0.5029997666557735, 8.998680965377481e-06), (0.5032724689836758, 1.0709167935385455e-05), (0.5035451703380909, 1.2568390690526066e-05), (0.5038178706378958, 1.457634867763069e-05), (0.5040905698019686, 1.6733041299454854e-05), (0.504363267749187, 1.903846791434516e-05), (0.5046359643984296, 2.1492627836572353e-05), (0.504908659668575, 2.4095520335998266e-05), (0.5051813534785019, 2.684714463835336e-05), (0.505454045747091, 2.974749992512571e-05)]
2025-08-12 12:11:43,048 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.4999999999999999, 0.0), (0.5002727076821033, 7.436948540329169e-08), (0.5005454152830822, 2.9747791951972857e-07), (0.500818122721812, 6.693252359579738e-07), (0.5010908299171685, 1.1899113240843029e-06), (0.501363536788027, 1.8592360290781151e-06), (0.5016362432532635, 2.6772991517654e-06), (0.5019089492317537, 3.6441004488962925e-06), (0.5021816546423731, 4.759639632756496e-06), (0.5024543594039989, 6.02391637155586e-06), (0.5027270634355068, 7.436930289206334e-06), (0.5029997666557735, 8.998680965377481e-06), (0.5032724689836758, 1.0709167935385455e-05), (0.5035451703380909, 1.2568390690526066e-05), (0.5038178706378958, 1.457634867763069e-05), (0.5040905698019686, 1.6733041299454854e-05), (0.504363267749187, 1.903846791434516e-05), (0.5046359643984296, 2.1492627836572353e-05), (0.504908659668575, 2.4095520335998266e-05), (0.5051813534785019, 2.684714463835336e-05), (0.505454045747091, 2.974749992512571e-05)], geometry={'width': 0.005454045747091074, 'height': 2.974749992512571e-05, 'area': 0.0, 'perimeter': 0.005454153844878395, 'centroid': [0.5027270498472365, 9.928267307220579e-06], 'bounds': [0.4999999999999999, 0.0, 0.505454045747091, 2.974749992512571e-05], 'num_vertices': 21, 'analytic_vertices': [(0.4999999999999999, 0.0), (0.5002727076821033, 7.436948540329169e-08), (0.5005454152830822, 2.9747791951972857e-07), (0.500818122721812, 6.693252359579738e-07), (0.5010908299171685, 1.1899113240843029e-06), (0.501363536788027, 1.8592360290781151e-06), (0.5016362432532635, 2.6772991517654e-06), (0.5019089492317537, 3.6441004488962925e-06), (0.5021816546423731, 4.759639632756496e-06), (0.5024543594039989, 6.02391637155586e-06), (0.5027270634355068, 7.436930289206334e-06), (0.5029997666557735, 8.998680965377481e-06), (0.5032724689836758, 1.0709167935385455e-05), (0.5035451703380909, 1.2568390690526066e-05), (0.5038178706378958, 1.457634867763069e-05), (0.5040905698019686, 1.6733041299454854e-05), (0.504363267749187, 1.903846791434516e-05), (0.5046359643984296, 2.1492627836572353e-05), (0.504908659668575, 2.4095520335998266e-05), (0.5051813534785019, 2.684714463835336e-05), (0.505454045747091, 2.974749992512571e-05)], 'open_stroke_perimeter': 0.005454153844878395, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,048 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.4999999999999999, 0.0), (0.5002727076821033, 7.436948540329169e-08), (0.5005454152830822, 2.9747791951972857e-07), (0.500818122721812, 6.693252359579738e-07), (0.5010908299171685, 1.1899113240843029e-06), (0.501363536788027, 1.8592360290781151e-06), (0.5016362432532635, 2.6772991517654e-06), (0.5019089492317537, 3.6441004488962925e-06), (0.5021816546423731, 4.759639632756496e-06), (0.5024543594039989, 6.02391637155586e-06), (0.5027270634355068, 7.436930289206334e-06), (0.5029997666557735, 8.998680965377481e-06), (0.5032724689836758, 1.0709167935385455e-05), (0.5035451703380909, 1.2568390690526066e-05), (0.5038178706378958, 1.457634867763069e-05), (0.5040905698019686, 1.6733041299454854e-05), (0.504363267749187, 1.903846791434516e-05), (0.5046359643984296, 2.1492627836572353e-05), (0.504908659668575, 2.4095520335998266e-05), (0.5051813534785019, 2.684714463835336e-05), (0.505454045747091, 2.974749992512571e-05)]
2025-08-12 12:11:43,049 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,049 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,049 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,050 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,053 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.42, 'num_vertices': 21, 'convexity_ratio': 1e-06, 'compactness': 0.24962798915725862}
2025-08-12 12:11:43,053 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.42, 'num_vertices': 21, 'convexity_ratio': 1e-06, 'compactness': 0.24962798915725862, 'is_simple': True}
2025-08-12 12:11:43,054 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=[line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,054 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.500-0.750, stroke_index=0
2025-08-12 12:11:43,054 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.5, param2=None, param3=0.75
2025-08-12 12:11:43,055 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)]
2025-08-12 12:11:43,055 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)], geometry={'width': 1.1102230246251565e-16, 'height': 0.5, 'area': 0.0, 'perimeter': 0.5, 'centroid': [0.5, 0.25], 'bounds': [0.4999999999999999, 0.0, 0.5, 0.5], 'num_vertices': 10, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)], 'open_stroke_perimeter': 0.5, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,055 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)]
2025-08-12 12:11:43,056 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,056 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44444444] -> [0.49999957 0.44444444]
2025-08-12 12:11:43,056 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.38888889] -> [0.49999955 0.38888814]
2025-08-12 12:11:43,057 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.33333333] -> [0.50000032 0.33333398]
2025-08-12 12:11:43,057 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.27777778] -> [0.50000052 0.2777773 ]
2025-08-12 12:11:43,058 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.22222222] -> [0.49999956 0.22222229]
2025-08-12 12:11:43,058 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.16666667] -> [0.4999997 0.1666657]
2025-08-12 12:11:43,059 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.11111111] -> [0.50000049 0.11111084]
2025-08-12 12:11:43,060 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.05555556] -> [0.50000036 0.05555626]
2025-08-12 12:11:43,061 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,061 - INFO - [robust_angular_variance] Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 12:11:43,062 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,062 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,062 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,063 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,063 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,064 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,065 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 0.4723884791070516}
2025-08-12 12:11:43,065 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 0.4723884791070516, 'is_simple': True}
2025-08-12 12:11:43,065 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=[line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,066 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.500-0.250, stroke_index=0
2025-08-12 12:11:43,066 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.5, param2=None, param3=0.25
2025-08-12 12:11:43,066 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.5555555555555556), (0.5, 0.6111111111111112), (0.5, 0.6666666666666666), (0.5, 0.7222222222222222), (0.5, 0.7777777777777778), (0.5, 0.8333333333333333), (0.5, 0.8888888888888888), (0.5, 0.9444444444444444), (0.5, 1.0)]
2025-08-12 12:11:43,067 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.5555555555555556), (0.5, 0.6111111111111112), (0.5, 0.6666666666666666), (0.5, 0.7222222222222222), (0.5, 0.7777777777777778), (0.5, 0.8333333333333333), (0.5, 0.8888888888888888), (0.5, 0.9444444444444444), (0.5, 1.0)], geometry={'width': 0.0, 'height': 0.5, 'area': 0.0, 'perimeter': 0.5, 'centroid': [0.5, 0.75], 'bounds': [0.5, 0.5, 0.5, 1.0], 'num_vertices': 10, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.5555555555555556), (0.5, 0.6111111111111112), (0.5, 0.6666666666666666), (0.5, 0.7222222222222222), (0.5, 0.7777777777777778), (0.5, 0.8333333333333333), (0.5, 0.8888888888888888), (0.5, 0.9444444444444444), (0.5, 1.0)], 'open_stroke_perimeter': 0.5, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,067 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.5555555555555556), (0.5, 0.6111111111111112), (0.5, 0.6666666666666666), (0.5, 0.7222222222222222), (0.5, 0.7777777777777778), (0.5, 0.8333333333333333), (0.5, 0.8888888888888888), (0.5, 0.9444444444444444), (0.5, 1.0)]
2025-08-12 12:11:43,067 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,068 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.55555556] -> [0.5000004  0.55555468]
2025-08-12 12:11:43,069 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.61111111] -> [0.50000097 0.61111164]
2025-08-12 12:11:43,069 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.66666667] -> [0.50000034 0.66666699]
2025-08-12 12:11:43,070 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.72222222] -> [0.49999949 0.72222162]
2025-08-12 12:11:43,070 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.77777778] -> [0.50000007 0.77777796]
2025-08-12 12:11:43,071 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.83333333] -> [0.49999953 0.83333323]
2025-08-12 12:11:43,071 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.88888889] -> [0.50000089 0.88888952]
2025-08-12 12:11:43,072 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.94444444] -> [0.50000065 0.94444499]
2025-08-12 12:11:43,074 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,074 - INFO - [robust_angular_variance] Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 12:11:43,074 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,075 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,075 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,076 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,076 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,076 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,078 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 0.36294614944993003}
2025-08-12 12:11:43,078 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 0.36294614944993003, 'is_simple': True}
2025-08-12 12:11:43,078 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=[line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,079 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.762-0.788, stroke_index=0
2025-08-12 12:11:43,079 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.762, param2=None, param3=0.788
2025-08-12 12:11:43,079 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5128723025522913, 0.447115472822787), (0.5257446051045827, 0.39423094564557404), (0.5386169076568739, 0.3413464184683611), (0.5514892102091652, 0.2884618912911481), (0.5643615127614565, 0.23557736411393515), (0.5772338153137478, 0.18269283693672217), (0.5901061178660392, 0.1298083097595092), (0.6029784204183304, 0.07692378258229621), (0.6158507229706217, 0.024039255405083226), (0.628723025522913, -0.0288452717721297), (0.6415953280752043, -0.08172979894934274), (0.6544676306274957, -0.13461432612655566), (0.6673399331797869, -0.1874988533037687), (0.6802122357320782, -0.24038338048098162)]
2025-08-12 12:11:43,080 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5128723025522913, 0.447115472822787), (0.5257446051045827, 0.39423094564557404), (0.5386169076568739, 0.3413464184683611), (0.5514892102091652, 0.2884618912911481), (0.5643615127614565, 0.23557736411393515), (0.5772338153137478, 0.18269283693672217), (0.5901061178660392, 0.1298083097595092), (0.6029784204183304, 0.07692378258229621), (0.6158507229706217, 0.024039255405083226), (0.628723025522913, -0.0288452717721297), (0.6415953280752043, -0.08172979894934274), (0.6544676306274957, -0.13461432612655566), (0.6673399331797869, -0.1874988533037687), (0.6802122357320782, -0.24038338048098162)], geometry={'width': 0.18021223573207823, 'height': 0.7403833804809816, 'area': 0.0, 'perimeter': 0.7620000000000001, 'centroid': [0.5901061178660392, 0.12980830975950916], 'bounds': [0.5, -0.24038338048098162, 0.6802122357320782, 0.5], 'num_vertices': 15, 'analytic_vertices': [(0.5, 0.5), (0.5128723025522913, 0.447115472822787), (0.5257446051045827, 0.39423094564557404), (0.5386169076568739, 0.3413464184683611), (0.5514892102091652, 0.2884618912911481), (0.5643615127614565, 0.23557736411393515), (0.5772338153137478, 0.18269283693672217), (0.5901061178660392, 0.1298083097595092), (0.6029784204183304, 0.07692378258229621), (0.6158507229706217, 0.024039255405083226), (0.628723025522913, -0.0288452717721297), (0.6415953280752043, -0.08172979894934274), (0.6544676306274957, -0.13461432612655566), (0.6673399331797869, -0.1874988533037687), (0.6802122357320782, -0.24038338048098162)], 'open_stroke_perimeter': 0.7620000000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,080 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5128723025522913, 0.447115472822787), (0.5257446051045827, 0.39423094564557404), (0.5386169076568739, 0.3413464184683611), (0.5514892102091652, 0.2884618912911481), (0.5643615127614565, 0.23557736411393515), (0.5772338153137478, 0.18269283693672217), (0.5901061178660392, 0.1298083097595092), (0.6029784204183304, 0.07692378258229621), (0.6158507229706217, 0.024039255405083226), (0.628723025522913, -0.0288452717721297), (0.6415953280752043, -0.08172979894934274), (0.6544676306274957, -0.13461432612655566), (0.6673399331797869, -0.1874988533037687), (0.6802122357320782, -0.24038338048098162)]
2025-08-12 12:11:43,080 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,081 - INFO - [SoS] Perturbed collinear vertex 1: [0.5128723  0.44711547] -> [0.51287223 0.44711639]
2025-08-12 12:11:43,082 - INFO - [SoS] Perturbed collinear vertex 2: [0.52574461 0.39423095] -> [0.52574493 0.39423017]
2025-08-12 12:11:43,082 - INFO - [SoS] Perturbed collinear vertex 3: [0.53861691 0.34134642] -> [0.53861622 0.3413472 ]
2025-08-12 12:11:43,083 - INFO - [SoS] Perturbed collinear vertex 4: [0.55148921 0.28846189] -> [0.5514894  0.28846118]
2025-08-12 12:11:43,083 - INFO - [SoS] Perturbed collinear vertex 5: [0.56436151 0.23557736] -> [0.56436052 0.23557757]
2025-08-12 12:11:43,084 - INFO - [SoS] Perturbed collinear vertex 6: [0.57723382 0.18269284] -> [0.57723303 0.18269248]
2025-08-12 12:11:43,085 - INFO - [SoS] Perturbed collinear vertex 7: [0.59010612 0.12980831] -> [0.59010529 0.12980821]
2025-08-12 12:11:43,085 - INFO - [SoS] Perturbed collinear vertex 8: [0.60297842 0.07692378] -> [0.60297834 0.0769237 ]
2025-08-12 12:11:43,085 - INFO - [SoS] Perturbed collinear vertex 9: [0.61585072 0.02403926] -> [0.61585022 0.02404023]
2025-08-12 12:11:43,086 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.62872303 -0.02884527] -> [ 0.62872355 -0.02884624]
2025-08-12 12:11:43,086 - INFO - [SoS] Perturbed collinear vertex 11: [ 0.64159533 -0.0817298 ] -> [ 0.64159604 -0.08172993]
2025-08-12 12:11:43,087 - INFO - [SoS] Perturbed collinear vertex 12: [ 0.65446763 -0.13461433] -> [ 0.65446673 -0.13461345]
2025-08-12 12:11:43,087 - INFO - [SoS] Perturbed collinear vertex 13: [ 0.66733993 -0.18749885] -> [ 0.66733921 -0.18749831]
2025-08-12 12:11:43,089 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,089 - INFO - [robust_angular_variance] Computed angular variance: 1.140488 for 15 vertices.
2025-08-12 12:11:43,089 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,089 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,090 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,090 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,091 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,091 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,093 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.3, 'num_vertices': 15, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 12:11:43,093 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.3, 'num_vertices': 15, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 12:11:43,093 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=[line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,094 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.412-0.775, stroke_index=0
2025-08-12 12:11:43,094 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.412, param2=None, param3=0.775
2025-08-12 12:11:43,094 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5092072856566536, 0.4418674862392576), (0.5184145713133071, 0.3837349724785152), (0.5276218569699608, 0.3256024587177728), (0.5368291426266143, 0.2674699449570304), (0.5460364282832679, 0.209337431196288), (0.5552437139399216, 0.15120491743554565), (0.5644509995965751, 0.09307240367480324)]
2025-08-12 12:11:43,095 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5092072856566536, 0.4418674862392576), (0.5184145713133071, 0.3837349724785152), (0.5276218569699608, 0.3256024587177728), (0.5368291426266143, 0.2674699449570304), (0.5460364282832679, 0.209337431196288), (0.5552437139399216, 0.15120491743554565), (0.5644509995965751, 0.09307240367480324)], geometry={'width': 0.06445099959657508, 'height': 0.40692759632519676, 'area': 0.0, 'perimeter': 0.41200000000000003, 'centroid': [0.5322254997982875, 0.2965362018374016], 'bounds': [0.5, 0.09307240367480324, 0.5644509995965751, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.5092072856566536, 0.4418674862392576), (0.5184145713133071, 0.3837349724785152), (0.5276218569699608, 0.3256024587177728), (0.5368291426266143, 0.2674699449570304), (0.5460364282832679, 0.209337431196288), (0.5552437139399216, 0.15120491743554565), (0.5644509995965751, 0.09307240367480324)], 'open_stroke_perimeter': 0.41200000000000003, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,095 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5092072856566536, 0.4418674862392576), (0.5184145713133071, 0.3837349724785152), (0.5276218569699608, 0.3256024587177728), (0.5368291426266143, 0.2674699449570304), (0.5460364282832679, 0.209337431196288), (0.5552437139399216, 0.15120491743554565), (0.5644509995965751, 0.09307240367480324)]
2025-08-12 12:11:43,095 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,096 - INFO - [SoS] Perturbed collinear vertex 1: [0.50920729 0.44186749] -> [0.50920816 0.44186695]
2025-08-12 12:11:43,096 - INFO - [SoS] Perturbed collinear vertex 2: [0.51841457 0.38373497] -> [0.51841422 0.38373424]
2025-08-12 12:11:43,097 - INFO - [SoS] Perturbed collinear vertex 3: [0.52762186 0.32560246] -> [0.52762188 0.32560222]
2025-08-12 12:11:43,098 - INFO - [SoS] Perturbed collinear vertex 4: [0.53682914 0.26746994] -> [0.53682998 0.26746904]
2025-08-12 12:11:43,098 - INFO - [SoS] Perturbed collinear vertex 5: [0.54603643 0.20933743] -> [0.54603671 0.20933694]
2025-08-12 12:11:43,098 - INFO - [SoS] Perturbed collinear vertex 6: [0.55524371 0.15120492] -> [0.55524386 0.15120558]
2025-08-12 12:11:43,100 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,100 - INFO - [robust_angular_variance] Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 12:11:43,100 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,100 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,101 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,101 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,102 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,102 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,103 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 12:11:43,104 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 12:11:43,104 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=[line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,104 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.400-0.789, stroke_index=0
2025-08-12 12:11:43,104 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.4, param2=None, param3=0.789
2025-08-12 12:11:43,105 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5138628131883091, 0.44456419448627965), (0.527725626376618, 0.38912838897255936), (0.5415884395649271, 0.333692583458839), (0.5554512527532361, 0.2782567779451187), (0.5693140659415452, 0.22282097243139837), (0.5831768791298542, 0.16738516691767802), (0.5970396923181632, 0.11194936140395773)]
2025-08-12 12:11:43,105 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5138628131883091, 0.44456419448627965), (0.527725626376618, 0.38912838897255936), (0.5415884395649271, 0.333692583458839), (0.5554512527532361, 0.2782567779451187), (0.5693140659415452, 0.22282097243139837), (0.5831768791298542, 0.16738516691767802), (0.5970396923181632, 0.11194936140395773)], geometry={'width': 0.09703969231816323, 'height': 0.3880506385960423, 'area': 0.0, 'perimeter': 0.39999999999999997, 'centroid': [0.5485198461590817, 0.30597468070197886], 'bounds': [0.5, 0.11194936140395773, 0.5970396923181632, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.5138628131883091, 0.44456419448627965), (0.527725626376618, 0.38912838897255936), (0.5415884395649271, 0.333692583458839), (0.5554512527532361, 0.2782567779451187), (0.5693140659415452, 0.22282097243139837), (0.5831768791298542, 0.16738516691767802), (0.5970396923181632, 0.11194936140395773)], 'open_stroke_perimeter': 0.39999999999999997, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,106 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5138628131883091, 0.44456419448627965), (0.527725626376618, 0.38912838897255936), (0.5415884395649271, 0.333692583458839), (0.5554512527532361, 0.2782567779451187), (0.5693140659415452, 0.22282097243139837), (0.5831768791298542, 0.16738516691767802), (0.5970396923181632, 0.11194936140395773)]
2025-08-12 12:11:43,106 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,107 - INFO - [SoS] Perturbed collinear vertex 1: [0.51386281 0.44456419] -> [0.51386375 0.44456419]
2025-08-12 12:11:43,107 - INFO - [SoS] Perturbed collinear vertex 2: [0.52772563 0.38912839] -> [0.52772572 0.38912874]
2025-08-12 12:11:43,107 - INFO - [SoS] Perturbed collinear vertex 3: [0.54158844 0.33369258] -> [0.54158814 0.33369171]
2025-08-12 12:11:43,108 - INFO - [SoS] Perturbed collinear vertex 4: [0.55545125 0.27825678] -> [0.55545148 0.27825652]
2025-08-12 12:11:43,108 - INFO - [SoS] Perturbed collinear vertex 5: [0.56931407 0.22282097] -> [0.56931493 0.22282136]
2025-08-12 12:11:43,109 - INFO - [SoS] Perturbed collinear vertex 6: [0.58317688 0.16738517] -> [0.58317786 0.16738495]
2025-08-12 12:11:43,110 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,110 - INFO - [robust_angular_variance] Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 12:11:43,110 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,111 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,111 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,112 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,112 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,113 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,114 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 12:11:43,114 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 12:11:43,114 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=[line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,115 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.316-0.301, stroke_index=0
2025-08-12 12:11:43,115 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.316, param2=None, param3=0.301
2025-08-12 12:11:43,115 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4857806085412748, 0.5428449116881333), (0.4715612170825496, 0.5856898233762666), (0.4573418256238244, 0.6285347350643999), (0.4431224341650993, 0.6713796467525333), (0.4289030427063741, 0.7142245584406666), (0.4146836512476489, 0.7570694701287998), (0.4004642597889237, 0.7999143818169331)]
2025-08-12 12:11:43,116 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.4857806085412748, 0.5428449116881333), (0.4715612170825496, 0.5856898233762666), (0.4573418256238244, 0.6285347350643999), (0.4431224341650993, 0.6713796467525333), (0.4289030427063741, 0.7142245584406666), (0.4146836512476489, 0.7570694701287998), (0.4004642597889237, 0.7999143818169331)], geometry={'width': 0.0995357402110763, 'height': 0.2999143818169331, 'area': 0.0, 'perimeter': 0.316, 'centroid': [0.4502321298944619, 0.6499571909084666], 'bounds': [0.4004642597889237, 0.5, 0.5, 0.7999143818169331], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.4857806085412748, 0.5428449116881333), (0.4715612170825496, 0.5856898233762666), (0.4573418256238244, 0.6285347350643999), (0.4431224341650993, 0.6713796467525333), (0.4289030427063741, 0.7142245584406666), (0.4146836512476489, 0.7570694701287998), (0.4004642597889237, 0.7999143818169331)], 'open_stroke_perimeter': 0.316, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,116 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.4857806085412748, 0.5428449116881333), (0.4715612170825496, 0.5856898233762666), (0.4573418256238244, 0.6285347350643999), (0.4431224341650993, 0.6713796467525333), (0.4289030427063741, 0.7142245584406666), (0.4146836512476489, 0.7570694701287998), (0.4004642597889237, 0.7999143818169331)]
2025-08-12 12:11:43,116 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,117 - INFO - [SoS] Perturbed collinear vertex 1: [0.48578061 0.54284491] -> [0.4857797  0.54284443]
2025-08-12 12:11:43,117 - INFO - [SoS] Perturbed collinear vertex 2: [0.47156122 0.58568982] -> [0.47156144 0.58569069]
2025-08-12 12:11:43,118 - INFO - [SoS] Perturbed collinear vertex 3: [0.45734183 0.62853474] -> [0.45734244 0.62853393]
2025-08-12 12:11:43,118 - INFO - [SoS] Perturbed collinear vertex 4: [0.44312243 0.67137965] -> [0.44312293 0.67138003]
2025-08-12 12:11:43,119 - INFO - [SoS] Perturbed collinear vertex 5: [0.42890304 0.71422456] -> [0.42890252 0.7142246 ]
2025-08-12 12:11:43,119 - INFO - [SoS] Perturbed collinear vertex 6: [0.41468365 0.75706947] -> [0.41468313 0.75706933]
2025-08-12 12:11:43,121 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,122 - INFO - [robust_angular_variance] Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 12:11:43,122 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,122 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,123 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,123 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,124 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,124 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,125 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 12:11:43,125 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 12:11:43,126 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 12:11:43,126 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,126 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,126 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,127 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,127 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,127 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,128 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,128 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,128 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,128 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,129 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,129 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 7}
2025-08-12 12:11:43,129 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:43,131 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_3', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/3.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.500-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'arc_normal_0.500_0.625-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.500-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.500-0.250', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.762-0.788', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.412-0.775', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.400-0.789', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 7, 'stroke_command': 'line_normal_0.316-0.301', 'features': {'stroke_index': 7, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 8, 'raw_vertices': ['(0.0, 0.0)', '(720.0, 0.0)', '(698.1787264292926, 123.75459208245697)', '(655.1992076432267, 241.83984944619894)', '(592.3673545714308, 350.667811300252)', '(511.5922812750398, 446.9317950932866)', '(415.32829748200515, 527.7068683896777)', '(306.5003356279521, 590.5387214614735)', '(188.41507826421014, 633.5182402475396)', '(64.66048618175317, 655.3395138182469)', '(-61.00321996183855, 655.3395138182469)', '(-61.00321996183869, -64.66048618175307)', '(-781.0032199618387, -64.66048618175299)', '(-521.497600507646, -1130.8125540743663)', '(25.905682602495745, -902.0532831360325)', '(-318.48758763863543, -440.35069985040786)', '(-58.00807320807286, -67.23969202295393)'], 'vertices': ['(0.5203208158218974, 0.633099820783206)', '(1.0, 0.633099820783206)', '(0.9854622073553833, 0.7023854064323992)', '(0.9568283455391784, 0.7684969427827529)', '(0.9149684399532374, 0.8294256642563134)', '(0.8611543826466551, 0.883320282482527)', '(0.7970212865194649, 0.9285432367585834)', '(0.7245178032445789, 0.9637204505027231)', '(0.6458469144727719, 0.9877830818758601)', '(0.5633989953499846, 1.0)', '(0.4796791841781028, 1.0)', '(0.47967918417810274, 0.5968988234862387)', '(0.0, 0.5968988234862388)', '(0.17288811642975047, 0.0)', '(0.5375797279001502, 0.12807379340787864)', '(0.3081376683089076, 0.38656386913270946)', '(0.4816746141105195, 0.5954548222236565)'], 'num_vertices': 17, 'position_label': ['0.6134798638828637', '0.6843391081408409'], 'rotation_label_degrees': ['46.16578543292882'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.44867678683185835, 0.5358196079379418], 'width': 1.0, 'height': 1.0, 'area_raw': 0.33719587035626253, 'area_normalized': 0.5514446902221597, 'perimeter_raw': 3.7428926365541084, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.5514446902221597, 'is_convex': False, 'compactness': 0.3024665632719423, 'polsby_popper_compactness': 0.3024665632719423, 'eccentricity': 0.6473738900486478, 'symmetry_score': 0.46024522887488073, 'horizontal_symmetry': 0.5541733912936185, 'vertical_symmetry': 0.5331366425154033, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 17.0, 'visual_complexity': 0.4887284500483604, 'curvature_score': 1.3061532745519022, 'angular_variance': 0.5475491675431053, 'moment_of_inertia': 0.312557639067535, 'irregularity_score': 0.619873831955699, 'standardized_complexity': 0.7365644242405919, 'clustering_heights': [0.05785157075904346, 0.06288474952635227, 0.0817839315091929, 0.18725330912449645, 0.2418825760419147, 0.3941726053924511, 0.5487119411400656], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 7.171018285104341e-08, 'perimeter_mean': 0.34086444366218227, 'width_mean': 0.04258486632606545, 'height_mean': 0.14657327255472613, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.312557639067535, 'center_of_mass': [0.44867678683185835, 0.5358196079379418], 'polsby_popper_compactness': 0.3024665632719423, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.3061532745519022, 'angular_variance': 0.5475491675431053, 'edge_length_variance': 0.03442052296557477}, 'composition_features': {'stroke_type_distribution': {'line': 7, 'arc': 1}, 'shape_modifier_distribution': {'normal': 8}, 'stroke_diversity': 2, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 9, 'homogeneity_score': 1.0, 'pattern_regularity': 0.125}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 7, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': [{'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}]}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 7, 'arc': 1}}, 'processing_metadata': {'processing_timestamp': 1754980903.1307034, 'feature_count': 54}, 'actions': ['line_normal_0.500-0.500,arc_normal_0.500_0.625-0.750,line_normal_0.500-0.750,line_normal_0.500-0.250,line_normal_0.762-0.788,line_normal_0.412-0.775,line_normal_0.400-0.789,line_normal_0.316-0.301'], 'action_program': ['line_normal_0.500-0.500,arc_normal_0.500_0.625-0.750,line_normal_0.500-0.750,line_normal_0.500-0.250,line_normal_0.762-0.788,line_normal_0.412-0.775,line_normal_0.400-0.789,line_normal_0.316-0.301'], 'geometry': {'area': 0.33719587035626253, 'perimeter': 3.7428926365541084, 'centroid': [0.44867678683185835, 0.5358196079379418], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 5}, 'analytic_attributes': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], 'analytic_ngram': {'normal|normal': 7}, 'alternation': 0.375, 'regularity': {'regularity_score': 0.875, 'most_common_element': 'normal', 'distribution': {'normal': 7, 'arc': 1}}}, 'topological_features': {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 6, 2: 7, 3: 6, 4: 6, 5: 6, 6: 6, 7: 6, 1: 1}, 'adjacency_clustering': {0: 1.0, 2: 0.7142857142857143, 3: 1.0, 4: 1.0, 5: 1.0, 6: 1.0, 7: 1.0, 1: 0}, 'intersection_count': 22, 'betweenness_centrality': {0: 0.0, 2: 0.2857142857142857, 3: 0.0, 4: 0.0, 5: 0.0, 6: 0.0, 7: 0.0, 1: 0.0}, 'containment_score': 0, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 4977.952978073034, 'skeleton_graph_features': {'num_nodes': 8, 'num_edges': 22}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 1}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 11, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 9, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 8, 'curvature': 0.0, 'complexity': 1}}, 'degenerate_case': False}}}
2025-08-12 12:11:43,131 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.6134798638828637, 0.6843391081408409], 'orientation_degrees': 46.16578543292882}
2025-08-12 12:11:43,132 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.33719587035626253, 'perimeter': 3.7428926365541084, 'centroid': [0.44867678683185835, 0.5358196079379418], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 12:11:43,132 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.500-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'arc_normal_0.500_0.625-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.500-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.500-0.250', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.762-0.788', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.412-0.775', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.400-0.789', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 7, 'stroke_command': 'line_normal_0.316-0.301', 'features': {'stroke_index': 7, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 12:11:43,133 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']]
2025-08-12 12:11:43,133 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-12 12:11:43,133 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(0.5203208158218974, 0.633099820783206), (1.0, 0.633099820783206), (0.9854622073553833, 0.7023854064323992), (0.9568283455391784, 0.7684969427827529), (0.9149684399532374, 0.8294256642563134), (0.8611543826466551, 0.883320282482527), (0.7970212865194649, 0.9285432367585834), (0.7245178032445789, 0.9637204505027231), (0.6458469144727719, 0.9877830818758601), (0.5633989953499846, 1.0), (0.4796791841781028, 1.0), (0.47967918417810274, 0.5968988234862387), (0.0, 0.5968988234862388), (0.17288811642975047, 0.0), (0.5375797279001502, 0.12807379340787864), (0.3081376683089076, 0.38656386913270946), (0.4816746141105195, 0.5954548222236565)]
2025-08-12 12:11:43,134 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.44867678683185835, 0.5358196079379418], 'width': 1.0, 'height': 1.0, 'area_raw': 0.33719587035626253, 'area_normalized': 0.5514446902221597, 'perimeter_raw': 3.7428926365541084, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.5514446902221597, 'is_convex': False, 'compactness': 0.3024665632719423, 'polsby_popper_compactness': 0.3024665632719423, 'eccentricity': 0.6473738900486478, 'symmetry_score': 0.46024522887488073, 'horizontal_symmetry': 0.5541733912936185, 'vertical_symmetry': 0.5331366425154033, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 17.0, 'visual_complexity': 0.4887284500483604, 'curvature_score': 1.3061532745519022, 'angular_variance': 0.5475491675431053, 'moment_of_inertia': 0.312557639067535, 'irregularity_score': 0.619873831955699, 'standardized_complexity': 0.7365644242405919, 'clustering_heights': [0.05785157075904346, 0.06288474952635227, 0.0817839315091929, 0.18725330912449645, 0.2418825760419147, 0.3941726053924511, 0.5487119411400656], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 12:11:43,134 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.312557639067535, 'center_of_mass': [0.44867678683185835, 0.5358196079379418], 'polsby_popper_compactness': 0.3024665632719423, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.3061532745519022, 'angular_variance': 0.5475491675431053, 'edge_length_variance': 0.03442052296557477}
2025-08-12 12:11:43,134 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 7, 'arc': 1}, 'shape_modifier_distribution': {'normal': 8}, 'stroke_diversity': 2, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 9, 'homogeneity_score': 1.0, 'pattern_regularity': 0.125}
2025-08-12 12:11:43,135 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 7, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': [{'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}]}
2025-08-12 12:11:43,135 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}
2025-08-12 12:11:43,138 - INFO - [PIPELINE] INPUT: images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/3.png
2025-08-12 12:11:43,138 - INFO - [PIPELINE] OUTPUT: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_3', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/3.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.500-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'arc_normal_0.500_0.625-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.500-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.500-0.250', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.762-0.788', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.412-0.775', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.400-0.789', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 7, 'stroke_command': 'line_normal_0.316-0.301', 'features': {'stroke_index': 7, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 8, 'raw_vertices': ['(0.0, 0.0)', '(720.0, 0.0)', '(698.1787264292926, 123.75459208245697)', '(655.1992076432267, 241.83984944619894)', '(592.3673545714308, 350.667811300252)', '(511.5922812750398, 446.9317950932866)', '(415.32829748200515, 527.7068683896777)', '(306.5003356279521, 590.5387214614735)', '(188.41507826421014, 633.5182402475396)', '(64.66048618175317, 655.3395138182469)', '(-61.00321996183855, 655.3395138182469)', '(-61.00321996183869, -64.66048618175307)', '(-781.0032199618387, -64.66048618175299)', '(-521.497600507646, -1130.8125540743663)', '(25.905682602495745, -902.0532831360325)', '(-318.48758763863543, -440.35069985040786)', '(-58.00807320807286, -67.23969202295393)'], 'vertices': ['(0.5203208158218974, 0.633099820783206)', '(1.0, 0.633099820783206)', '(0.9854622073553833, 0.7023854064323992)', '(0.9568283455391784, 0.7684969427827529)', '(0.9149684399532374, 0.8294256642563134)', '(0.8611543826466551, 0.883320282482527)', '(0.7970212865194649, 0.9285432367585834)', '(0.7245178032445789, 0.9637204505027231)', '(0.6458469144727719, 0.9877830818758601)', '(0.5633989953499846, 1.0)', '(0.4796791841781028, 1.0)', '(0.47967918417810274, 0.5968988234862387)', '(0.0, 0.5968988234862388)', '(0.17288811642975047, 0.0)', '(0.5375797279001502, 0.12807379340787864)', '(0.3081376683089076, 0.38656386913270946)', '(0.4816746141105195, 0.5954548222236565)'], 'num_vertices': 17, 'position_label': ['0.6134798638828637', '0.6843391081408409'], 'rotation_label_degrees': ['46.16578543292882'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.44867678683185835, 0.5358196079379418], 'width': 1.0, 'height': 1.0, 'area_raw': 0.33719587035626253, 'area_normalized': 0.5514446902221597, 'perimeter_raw': 3.7428926365541084, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.5514446902221597, 'is_convex': False, 'compactness': 0.3024665632719423, 'polsby_popper_compactness': 0.3024665632719423, 'eccentricity': 0.6473738900486478, 'symmetry_score': 0.46024522887488073, 'horizontal_symmetry': 0.5541733912936185, 'vertical_symmetry': 0.5331366425154033, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 17.0, 'visual_complexity': 0.4887284500483604, 'curvature_score': 1.3061532745519022, 'angular_variance': 0.5475491675431053, 'moment_of_inertia': 0.312557639067535, 'irregularity_score': 0.619873831955699, 'standardized_complexity': 0.7365644242405919, 'clustering_heights': [0.05785157075904346, 0.06288474952635227, 0.0817839315091929, 0.18725330912449645, 0.2418825760419147, 0.3941726053924511, 0.5487119411400656], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 7.171018285104341e-08, 'perimeter_mean': 0.34086444366218227, 'width_mean': 0.04258486632606545, 'height_mean': 0.14657327255472613, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.312557639067535, 'center_of_mass': [0.44867678683185835, 0.5358196079379418], 'polsby_popper_compactness': 0.3024665632719423, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.3061532745519022, 'angular_variance': 0.5475491675431053, 'edge_length_variance': 0.03442052296557477}, 'composition_features': {'stroke_type_distribution': {'line': 7, 'arc': 1}, 'shape_modifier_distribution': {'normal': 8}, 'stroke_diversity': 2, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 9, 'homogeneity_score': 1.0, 'pattern_regularity': 0.125}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [[0.0, 0.0], [720.0, 0.0], [698.1787264292926, 123.75459208245697], [655.1992076432267, 241.83984944619894], [592.3673545714308, 350.667811300252], [511.5922812750398, 446.9317950932866], [415.32829748200515, 527.7068683896777], [306.5003356279521, 590.5387214614735], [188.41507826421014, 633.5182402475396], [64.66048618175317, 655.3395138182469], [-61.00321996183855, 655.3395138182469], [-61.00321996183869, -64.66048618175307], [-781.0032199618387, -64.66048618175299], [-521.497600507646, -1130.8125540743663], [25.905682602495745, -902.0532831360325], [-318.48758763863543, -440.35069985040786], [-58.00807320807286, -67.23969202295393]], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [[0.0, 0.0], [720.0, 0.0], [698.1787264292926, 123.75459208245697], [655.1992076432267, 241.83984944619894], [592.3673545714308, 350.667811300252], [511.5922812750398, 446.9317950932866], [415.32829748200515, 527.7068683896777], [306.5003356279521, 590.5387214614735], [188.41507826421014, 633.5182402475396], [64.66048618175317, 655.3395138182469], [-61.00321996183855, 655.3395138182469], [-61.00321996183869, -64.66048618175307], [-781.0032199618387, -64.66048618175299], [-521.497600507646, -1130.8125540743663], [25.905682602495745, -902.0532831360325], [-318.48758763863543, -440.35069985040786], [-58.00807320807286, -67.23969202295393], [0.0, 0.0]], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [[0.0, 0.0], [720.0, 0.0], [698.1787264292926, 123.75459208245697], [655.1992076432267, 241.83984944619894], [592.3673545714308, 350.667811300252], [511.5922812750398, 446.9317950932866], [415.32829748200515, 527.7068683896777], [306.5003356279521, 590.5387214614735], [188.41507826421014, 633.5182402475396], [64.66048618175317, 655.3395138182469], [-61.00321996183855, 655.3395138182469], [-61.00321996183869, -64.66048618175307], [-781.0032199618387, -64.66048618175299], [-521.497600507646, -1130.8125540743663], [25.905682602495745, -902.0532831360325], [-318.48758763863543, -440.35069985040786], [-58.00807320807286, -67.23969202295393], [0.0, 0.0]], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [[0.0, 0.0], [720.0, 0.0], [698.1787264292926, 123.75459208245697], [655.1992076432267, 241.83984944619894], [592.3673545714308, 350.667811300252], [511.5922812750398, 446.9317950932866], [415.32829748200515, 527.7068683896777], [306.5003356279521, 590.5387214614735], [188.41507826421014, 633.5182402475396], [64.66048618175317, 655.3395138182469], [-61.00321996183855, 655.3395138182469], [-61.00321996183869, -64.66048618175307], [-781.0032199618387, -64.66048618175299], [-521.497600507646, -1130.8125540743663], [25.905682602495745, -902.0532831360325], [-318.48758763863543, -440.35069985040786], [-58.00807320807286, -67.23969202295393], [0.0, 0.0]], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [[0.0, 0.0], [720.0, 0.0], [698.1787264292926, 123.75459208245697], [655.1992076432267, 241.83984944619894], [592.3673545714308, 350.667811300252], [511.5922812750398, 446.9317950932866], [415.32829748200515, 527.7068683896777], [306.5003356279521, 590.5387214614735], [188.41507826421014, 633.5182402475396], [64.66048618175317, 655.3395138182469], [-61.00321996183855, 655.3395138182469], [-61.00321996183869, -64.66048618175307], [-781.0032199618387, -64.66048618175299], [-521.497600507646, -1130.8125540743663], [25.905682602495745, -902.0532831360325], [-318.48758763863543, -440.35069985040786], [-58.00807320807286, -67.23969202295393], [0.0, 0.0]], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [[0.0, 0.0], [720.0, 0.0], [698.1787264292926, 123.75459208245697], [655.1992076432267, 241.83984944619894], [592.3673545714308, 350.667811300252], [511.5922812750398, 446.9317950932866], [415.32829748200515, 527.7068683896777], [306.5003356279521, 590.5387214614735], [188.41507826421014, 633.5182402475396], [64.66048618175317, 655.3395138182469], [-61.00321996183855, 655.3395138182469], [-61.00321996183869, -64.66048618175307], [-781.0032199618387, -64.66048618175299], [-521.497600507646, -1130.8125540743663], [25.905682602495745, -902.0532831360325], [-318.48758763863543, -440.35069985040786], [-58.00807320807286, -67.23969202295393], [0.0, 0.0]], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 7, 'analytic_vertices': [[0.0, 0.0], [720.0, 0.0], [698.1787264292926, 123.75459208245697], [655.1992076432267, 241.83984944619894], [592.3673545714308, 350.667811300252], [511.5922812750398, 446.9317950932866], [415.32829748200515, 527.7068683896777], [306.5003356279521, 590.5387214614735], [188.41507826421014, 633.5182402475396], [64.66048618175317, 655.3395138182469], [-61.00321996183855, 655.3395138182469], [-61.00321996183869, -64.66048618175307], [-781.0032199618387, -64.66048618175299], [-521.497600507646, -1130.8125540743663], [25.905682602495745, -902.0532831360325], [-318.48758763863543, -440.35069985040786], [-58.00807320807286, -67.23969202295393], [0.0, 0.0]], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': [{'stroke_index': 1, 'analytic_vertices': [[0.0, 0.0], [720.0, 0.0], [698.1787264292926, 123.75459208245697], [655.1992076432267, 241.83984944619894], [592.3673545714308, 350.667811300252], [511.5922812750398, 446.9317950932866], [415.32829748200515, 527.7068683896777], [306.5003356279521, 590.5387214614735], [188.41507826421014, 633.5182402475396], [64.66048618175317, 655.3395138182469], [-61.00321996183855, 655.3395138182469], [-61.00321996183869, -64.66048618175307], [-781.0032199618387, -64.66048618175299], [-521.497600507646, -1130.8125540743663], [25.905682602495745, -902.0532831360325], [-318.48758763863543, -440.35069985040786], [-58.00807320807286, -67.23969202295393], [0.0, 0.0]], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}]}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 7, 'arc': 1}}, 'processing_metadata': {'processing_timestamp': 1754980903.1307034, 'feature_count': 54}, 'actions': ['line_normal_0.500-0.500,arc_normal_0.500_0.625-0.750,line_normal_0.500-0.750,line_normal_0.500-0.250,line_normal_0.762-0.788,line_normal_0.412-0.775,line_normal_0.400-0.789,line_normal_0.316-0.301'], 'action_program': ['line_normal_0.500-0.500,arc_normal_0.500_0.625-0.750,line_normal_0.500-0.750,line_normal_0.500-0.250,line_normal_0.762-0.788,line_normal_0.412-0.775,line_normal_0.400-0.789,line_normal_0.316-0.301'], 'geometry': {'area': 0.33719587035626253, 'perimeter': 3.7428926365541084, 'centroid': [0.44867678683185835, 0.5358196079379418], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 5}, 'analytic_attributes': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], 'analytic_ngram': {'normal|normal': 7}, 'alternation': 0.375, 'regularity': {'regularity_score': 0.875, 'most_common_element': 'normal', 'distribution': {'normal': 7, 'arc': 1}}}, 'topological_features': {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 6, 2: 7, 3: 6, 4: 6, 5: 6, 6: 6, 7: 6, 1: 1}, 'adjacency_clustering': {0: 1.0, 2: 0.7142857142857143, 3: 1.0, 4: 1.0, 5: 1.0, 6: 1.0, 7: 1.0, 1: 0}, 'intersection_count': 22, 'betweenness_centrality': {0: 0.0, 2: 0.2857142857142857, 3: 0.0, 4: 0.0, 5: 0.0, 6: 0.0, 7: 0.0, 1: 0.0}, 'containment_score': 0, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 4977.952978073034, 'skeleton_graph_features': {'num_nodes': 8, 'num_edges': 22}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 1}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 11, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 9, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 8, 'curvature': 0.0, 'complexity': 1}}, 'degenerate_case': False}}}
2025-08-12 12:11:43,139 - INFO - [INPUT] Processing image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018, is_positive=False
2025-08-12 12:11:43,139 - INFO - [INPUT] action_commands type: <class 'list'>, value: [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-12 12:11:43,139 - INFO - [SHAPE SPLIT] Raw action_commands: [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-12 12:11:43,139 - INFO - [SHAPE SPLIT] Sublist 0: ['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-12 12:11:43,139 - INFO - [SHAPE SPLIT] Parsed shapes_commands (multi-object): [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-12 12:11:43,140 - INFO - ComprehensiveNVLabsParser initialized:
2025-08-12 12:11:43,140 - INFO -   Canvas size: 512x512
2025-08-12 12:11:43,140 - INFO -   Coordinate range: (-360, 360)
2025-08-12 12:11:43,140 - INFO -   Base scaling factor: 1440.0
2025-08-12 12:11:43,141 - INFO - [PARSER] Parsing shape 0 commands: ['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-12 12:11:43,141 - INFO - [LOGOPARSER] Input action_commands for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: ['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-12 12:11:43,141 - DEBUG - Parsing 7 commands for hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 12:11:43,141 - DEBUG - [ACTIONS_JOIN] line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930
2025-08-12 12:11:43,142 - DEBUG - [ACTIONS_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 12:11:43,142 - DEBUG - [ACTIONS_ATTRS] [{'line_length': 1287.3600000000001, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_zigzag_0.894-0.500'}, {'line_length': 720.0, 'line_type': 'circle', 'turn_direction': 'L', 'turn_angle': 153.36, 'name': 'line', 'raw_command': 'line_circle_0.500-0.926'}, {'line_length': 720.0, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 53.28, 'name': 'line', 'raw_command': 'line_zigzag_0.500-0.648'}, {'line_length': 839.52, 'line_type': 'zigzag', 'turn_direction': 'R', 'turn_angle': 120.96000000000001, 'name': 'line', 'raw_command': 'line_zigzag_0.583-0.164'}, {'line_length': 519.84, 'line_type': 'triangle', 'turn_direction': 'L', 'turn_angle': 154.8, 'name': 'line', 'raw_command': 'line_triangle_0.361-0.930'}, {'line_length': 519.84, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 67.32, 'name': 'line', 'raw_command': 'line_circle_0.361-0.313'}, {'line_length': 839.52, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 154.8, 'name': 'line', 'raw_command': 'line_normal_0.583-0.930'}]
2025-08-12 12:11:43,142 - INFO - [OneStrokeShape.__init__] basic_actions: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], start_coordinates: None, start_orientation: None, scaling_factors: None
2025-08-12 12:11:43,142 - DEBUG - [OUTPUT_SHAPE_ACTIONS] line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930
2025-08-12 12:11:43,143 - DEBUG - [OUTPUT_SHAPE_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 12:11:43,143 - DEBUG - [OUTPUT_SHAPE_ATTRS] [{'line_length': 1287.3600000000001, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_zigzag_0.894-0.500'}, {'line_length': 720.0, 'line_type': 'circle', 'turn_direction': 'L', 'turn_angle': 153.36, 'name': 'line', 'raw_command': 'line_circle_0.500-0.926'}, {'line_length': 720.0, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 53.28, 'name': 'line', 'raw_command': 'line_zigzag_0.500-0.648'}, {'line_length': 839.52, 'line_type': 'zigzag', 'turn_direction': 'R', 'turn_angle': 120.96000000000001, 'name': 'line', 'raw_command': 'line_zigzag_0.583-0.164'}, {'line_length': 519.84, 'line_type': 'triangle', 'turn_direction': 'L', 'turn_angle': 154.8, 'name': 'line', 'raw_command': 'line_triangle_0.361-0.930'}, {'line_length': 519.84, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 67.32, 'name': 'line', 'raw_command': 'line_circle_0.361-0.313'}, {'line_length': 839.52, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 154.8, 'name': 'line', 'raw_command': 'line_normal_0.583-0.930'}]
2025-08-12 12:11:43,143 - INFO - [OneStrokeShape._calculate_vertices] INPUT basic_actions: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-12 12:11:43,144 - INFO - [OneStrokeShape._calculate_vertices] OUTPUT vertices: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,144 - INFO - [LOGOPARSER] Shape for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 has 8 vertices.
2025-08-12 12:11:43,144 - INFO - [LOGOPARSER] Parsed vertices (raw): [[0.0, 0.0], [1287.3600000000001, 0.0], [643.79417461109, 322.83591558482294], [0.22834922218021347, -3.979039320256561e-13], [63.46670899899013, 837.1348399467902], [-192.6726722314738, 384.778516919384], [-708.8127653910458, 446.689984623101], [2.829815511103675, 1.3152351739121855]]
2025-08-12 12:11:43,144 - INFO - [LOGOPARSER] Vertices bounding box: min=(-708.81,-0.00), max=(1287.36,837.13), center=(137.02,249.09)
2025-08-12 12:11:43,145 - INFO - Successfully created OneStrokeShape with 7 actions using NVLabs implementation
2025-08-12 12:11:43,145 - INFO - [PARSER] Parsed shape 0: type=OneStrokeShape, num_actions=7, action_types=['str', 'str', 'str', 'str', 'str', 'str', 'str'], attributes={}
2025-08-12 12:11:43,145 - INFO - [FEATURE EXTRACTION][geometry] INPUT: shape 0 vertices: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,146 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 0 command: line_zigzag_0.894-0.500
2025-08-12 12:11:43,146 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,146 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_zigzag_0.894-0.500, stroke_index=0
2025-08-12 12:11:43,146 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.894, param2=None, param3=0.5
2025-08-12 12:11:43,147 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)]
2025-08-12 12:11:43,147 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], geometry={'width': 0.894, 'height': 1.1102230246251565e-16, 'area': 0.0, 'perimeter': 0.894, 'centroid': [0.052999999999999964, 0.5], 'bounds': [-0.394, 0.5, 0.5, 0.5000000000000001], 'num_vertices': 17, 'analytic_vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'open_stroke_perimeter': 0.894, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,147 - INFO - [_calculate_vertices_from_action] Bounding box: (-0.394, 0.5, 0.5, 0.5000000000000001)
2025-08-12 12:11:43,148 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)]
2025-08-12 12:11:43,148 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], geometry={'width': 0.894, 'height': 1.1102230246251565e-16, 'area': 0.0, 'perimeter': 0.894, 'centroid': [0.052999999999999964, 0.5], 'bounds': [-0.394, 0.5, 0.5, 0.5000000000000001], 'num_vertices': 17, 'analytic_vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'open_stroke_perimeter': 0.894, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,148 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)]
2025-08-12 12:11:43,149 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,149 - INFO - [SoS] Perturbed collinear vertex 1: [0.444125 0.5     ] -> [0.44412411 0.49999919]
2025-08-12 12:11:43,150 - INFO - [SoS] Perturbed collinear vertex 2: [0.38825 0.5    ] -> [0.38824927 0.5000003 ]
2025-08-12 12:11:43,150 - INFO - [SoS] Perturbed collinear vertex 3: [0.332375 0.5     ] -> [0.33237428 0.5000005 ]
2025-08-12 12:11:43,151 - INFO - [SoS] Perturbed collinear vertex 4: [0.2765 0.5   ] -> [0.27650009 0.50000076]
2025-08-12 12:11:43,152 - INFO - [SoS] Perturbed collinear vertex 5: [0.220625 0.5     ] -> [0.22062514 0.49999936]
2025-08-12 12:11:43,152 - INFO - [SoS] Perturbed collinear vertex 6: [0.16475 0.5    ] -> [0.16475033 0.49999975]
2025-08-12 12:11:43,153 - INFO - [SoS] Perturbed collinear vertex 7: [0.108875 0.5     ] -> [0.10887526 0.49999962]
2025-08-12 12:11:43,153 - INFO - [SoS] Perturbed collinear vertex 8: [0.053 0.5  ] -> [0.05300033 0.49999921]
2025-08-12 12:11:43,154 - INFO - [SoS] Perturbed collinear vertex 9: [-0.002875  0.5     ] -> [-0.00287414  0.50000072]
2025-08-12 12:11:43,154 - INFO - [SoS] Perturbed collinear vertex 10: [-0.05875  0.5    ] -> [-0.05875058  0.50000036]
2025-08-12 12:11:43,155 - INFO - [SoS] Perturbed collinear vertex 11: [-0.114625  0.5     ] -> [-0.11462598  0.49999924]
2025-08-12 12:11:43,155 - INFO - [SoS] Perturbed collinear vertex 12: [-0.1705  0.5   ] -> [-0.17049989  0.49999958]
2025-08-12 12:11:43,156 - INFO - [SoS] Perturbed collinear vertex 13: [-0.226375  0.5     ] -> [-0.22637421  0.49999956]
2025-08-12 12:11:43,156 - INFO - [SoS] Perturbed collinear vertex 14: [-0.28225  0.5    ] -> [-0.28225012  0.49999994]
2025-08-12 12:11:43,157 - INFO - [SoS] Perturbed collinear vertex 15: [-0.338125  0.5     ] -> [-0.33812404  0.50000002]
2025-08-12 12:11:43,158 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,159 - INFO - [robust_angular_variance] Computed angular variance: 1.024526 for 17 vertices.
2025-08-12 12:11:43,159 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,159 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,159 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,160 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,160 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,161 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,162 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.5237352967841565}
2025-08-12 12:11:43,162 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.5237352967841565, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,163 - INFO - [SoS] Perturbed collinear vertex 1: [0.444125 0.5     ] -> [0.44412441 0.49999973]
2025-08-12 12:11:43,163 - INFO - [SoS] Perturbed collinear vertex 2: [0.38825 0.5    ] -> [0.38825029 0.50000034]
2025-08-12 12:11:43,164 - INFO - [SoS] Perturbed collinear vertex 3: [0.332375 0.5     ] -> [0.33237439 0.49999974]
2025-08-12 12:11:43,164 - INFO - [SoS] Perturbed collinear vertex 4: [0.2765 0.5   ] -> [0.27650059 0.5000006 ]
2025-08-12 12:11:43,165 - INFO - [SoS] Perturbed collinear vertex 5: [0.220625 0.5     ] -> [0.22062566 0.49999901]
2025-08-12 12:11:43,165 - INFO - [SoS] Perturbed collinear vertex 6: [0.16475 0.5    ] -> [0.16475013 0.49999953]
2025-08-12 12:11:43,166 - INFO - [SoS] Perturbed collinear vertex 7: [0.108875 0.5     ] -> [0.10887533 0.49999975]
2025-08-12 12:11:43,166 - INFO - [SoS] Perturbed collinear vertex 8: [0.053 0.5  ] -> [0.05300098 0.5000008 ]
2025-08-12 12:11:43,167 - INFO - [SoS] Perturbed collinear vertex 9: [-0.002875  0.5     ] -> [-0.00287418  0.50000001]
2025-08-12 12:11:43,167 - INFO - [SoS] Perturbed collinear vertex 10: [-0.05875  0.5    ] -> [-0.05874949  0.49999923]
2025-08-12 12:11:43,168 - INFO - [SoS] Perturbed collinear vertex 11: [-0.114625  0.5     ] -> [-0.11462437  0.49999937]
2025-08-12 12:11:43,168 - INFO - [SoS] Perturbed collinear vertex 12: [-0.1705  0.5   ] -> [-0.17049918  0.49999963]
2025-08-12 12:11:43,169 - INFO - [SoS] Perturbed collinear vertex 13: [-0.226375  0.5     ] -> [-0.22637488  0.49999912]
2025-08-12 12:11:43,169 - INFO - [SoS] Perturbed collinear vertex 14: [-0.28225  0.5    ] -> [-0.28224998  0.50000032]
2025-08-12 12:11:43,169 - INFO - [SoS] Perturbed collinear vertex 15: [-0.338125  0.5     ] -> [-0.33812451  0.50000017]
2025-08-12 12:11:43,173 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=0, assigned is_positive=False
2025-08-12 12:11:43,173 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=0, stroke_dict: {'area': 1.414261612492981e-07, 'perimeter': 0.5278884733754479, 'centroid': [-0.13795776870305793, 0.4999996943311531], 'bounds': [-0.2674667438557801, 0.4999991230874423, -0.0035225071770019507, 0.5000000000000001], 'width': 0.26394423667877814, 'height': 8.769125577900994e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.5278884733754479, 'analytic_vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'open_stroke_perimeter': 0.894, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.894-0.500', 'vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'geometry': {'area': 1.414261612492981e-07, 'perimeter': 0.5278884733754479, 'centroid': [-0.13795776870305793, 0.4999996943311531], 'bounds': [-0.2674667438557801, 0.4999991230874423, -0.0035225071770019507, 0.5000000000000001], 'width': 0.26394423667877814, 'height': 8.769125577900994e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.5278884733754479}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 12:11:43,173 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 1 command: line_circle_0.500-0.926
2025-08-12 12:11:43,173 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,174 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_circle_0.500-0.926, stroke_index=1
2025-08-12 12:11:43,174 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.5, param2=None, param3=0.926
2025-08-12 12:11:43,174 - INFO - [LOGGING PATCH] [_vertices_from_command] Circle vertices: [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)]
2025-08-12 12:11:43,175 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], geometry={'width': 1.0, 'height': 1.0, 'area': 0.0, 'perimeter': 2.972254835764386, 'centroid': [0.4743282037329585, 0.5040660130838809], 'bounds': [0.0, 0.0, 1.0, 1.0], 'num_vertices': 20, 'analytic_vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'open_stroke_perimeter': 2.972254835764386, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,175 - INFO - [_calculate_vertices_from_action] Bounding box: (0.0, 0.0, 1.0, 1.0)
2025-08-12 12:11:43,175 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=[(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)]
2025-08-12 12:11:43,176 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], geometry={'width': 1.0, 'height': 1.0, 'area': 0.0, 'perimeter': 2.972254835764386, 'centroid': [0.4743282037329585, 0.5040660130838809], 'bounds': [0.0, 0.0, 1.0, 1.0], 'num_vertices': 20, 'analytic_vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'open_stroke_perimeter': 2.972254835764386, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,176 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)]
2025-08-12 12:11:43,177 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:43,177 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,177 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:43,178 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,179 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275}
2025-08-12 12:11:43,180 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275, 'has_curved_edges': True}
2025-08-12 12:11:43,181 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=1, assigned is_positive=False
2025-08-12 12:11:43,182 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=1, stroke_dict: {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'open_stroke_perimeter': 2.972254835764386, 'shape_modifier': 'normal', 'command': 'line_circle_0.500-0.926', 'vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'geometry': {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 12:11:43,182 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 2 command: line_zigzag_0.500-0.648
2025-08-12 12:11:43,182 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,182 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_zigzag_0.500-0.648, stroke_index=2
2025-08-12 12:11:43,183 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.5, param2=None, param3=0.648
2025-08-12 12:11:43,183 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)]
2025-08-12 12:11:43,184 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], geometry={'width': 0.2989524915287595, 'height': 0.4007834924354382, 'area': 0.0, 'perimeter': 0.49999999999999994, 'centroid': [0.3505237542356202, 0.29960825378228095], 'bounds': [0.20104750847124048, 0.0992165075645618, 0.5, 0.5], 'num_vertices': 10, 'analytic_vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'open_stroke_perimeter': 0.49999999999999994, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,184 - INFO - [_calculate_vertices_from_action] Bounding box: (0.20104750847124048, 0.0992165075645618, 0.5, 0.5)
2025-08-12 12:11:43,185 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)]
2025-08-12 12:11:43,185 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], geometry={'width': 0.2989524915287595, 'height': 0.4007834924354382, 'area': 0.0, 'perimeter': 0.49999999999999994, 'centroid': [0.3505237542356202, 0.29960825378228095], 'bounds': [0.20104750847124048, 0.0992165075645618, 0.5, 0.5], 'num_vertices': 10, 'analytic_vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'open_stroke_perimeter': 0.49999999999999994, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,185 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)]
2025-08-12 12:11:43,186 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,186 - INFO - [SoS] Perturbed collinear vertex 1: [0.46678306 0.4554685 ] -> [0.46678226 0.45546926]
2025-08-12 12:11:43,187 - INFO - [SoS] Perturbed collinear vertex 2: [0.43356611 0.410937  ] -> [0.4335657  0.41093615]
2025-08-12 12:11:43,187 - INFO - [SoS] Perturbed collinear vertex 3: [0.40034917 0.3664055 ] -> [0.4003496 0.3664064]
2025-08-12 12:11:43,188 - INFO - [SoS] Perturbed collinear vertex 4: [0.36713223 0.321874  ] -> [0.36713176 0.32187487]
2025-08-12 12:11:43,188 - INFO - [SoS] Perturbed collinear vertex 5: [0.33391528 0.2773425 ] -> [0.33391436 0.27734256]
2025-08-12 12:11:43,189 - INFO - [SoS] Perturbed collinear vertex 6: [0.30069834 0.23281101] -> [0.30069829 0.23281195]
2025-08-12 12:11:43,190 - INFO - [SoS] Perturbed collinear vertex 7: [0.2674814  0.18827951] -> [0.26748139 0.18827964]
2025-08-12 12:11:43,190 - INFO - [SoS] Perturbed collinear vertex 8: [0.23426445 0.14374801] -> [0.23426398 0.14374744]
2025-08-12 12:11:43,191 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,192 - INFO - [robust_angular_variance] Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 12:11:43,192 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,192 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,193 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:43,193 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,193 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,194 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,195 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 12:11:43,195 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,196 - INFO - [SoS] Perturbed collinear vertex 1: [0.46678306 0.4554685 ] -> [0.46678343 0.45546823]
2025-08-12 12:11:43,196 - INFO - [SoS] Perturbed collinear vertex 2: [0.43356611 0.410937  ] -> [0.43356519 0.41093626]
2025-08-12 12:11:43,196 - INFO - [SoS] Perturbed collinear vertex 3: [0.40034917 0.3664055 ] -> [0.40034985 0.36640566]
2025-08-12 12:11:43,197 - INFO - [SoS] Perturbed collinear vertex 4: [0.36713223 0.321874  ] -> [0.36713132 0.32187357]
2025-08-12 12:11:43,197 - INFO - [SoS] Perturbed collinear vertex 5: [0.33391528 0.2773425 ] -> [0.33391535 0.27734291]
2025-08-12 12:11:43,198 - INFO - [SoS] Perturbed collinear vertex 6: [0.30069834 0.23281101] -> [0.30069738 0.23281025]
2025-08-12 12:11:43,198 - INFO - [SoS] Perturbed collinear vertex 7: [0.2674814  0.18827951] -> [0.2674809  0.18828003]
2025-08-12 12:11:43,199 - INFO - [SoS] Perturbed collinear vertex 8: [0.23426445 0.14374801] -> [0.23426534 0.14374769]
2025-08-12 12:11:43,200 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=2, assigned is_positive=False
2025-08-12 12:11:43,201 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=2, stroke_dict: {'area': 7.588537133981603e-08, 'perimeter': 0.4394052555546306, 'centroid': [0.3109586439780787, 0.24656658274852342], 'bounds': [0.252836624644989, 0.1686463448745573, 0.38419792057895974, 0.34475271778363603], 'width': 0.13136129593397072, 'height': 0.17610637290907874, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.4394052555546306, 'analytic_vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'open_stroke_perimeter': 0.49999999999999994, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.500-0.648', 'vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'geometry': {'area': 7.588537133981603e-08, 'perimeter': 0.4394052555546306, 'centroid': [0.3109586439780787, 0.24656658274852342], 'bounds': [0.252836624644989, 0.1686463448745573, 0.38419792057895974, 0.34475271778363603], 'width': 0.13136129593397072, 'height': 0.17610637290907874, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.4394052555546306}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 12:11:43,201 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 3 command: line_zigzag_0.583-0.164
2025-08-12 12:11:43,201 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,202 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_zigzag_0.583-0.164, stroke_index=3
2025-08-12 12:11:43,202 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.583, param2=None, param3=0.164
2025-08-12 12:11:43,202 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)]
2025-08-12 12:11:43,203 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], geometry={'width': 0.2999182481946182, 'height': 0.4999380405608993, 'area': 0.0, 'perimeter': 0.5830000000000001, 'centroid': [0.6499591240973089, 0.7499690202804496], 'bounds': [0.5, 0.5, 0.7999182481946182, 0.9999380405608993], 'num_vertices': 11, 'analytic_vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'open_stroke_perimeter': 0.5830000000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,203 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.5, 0.7999182481946182, 0.9999380405608993)
2025-08-12 12:11:43,203 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)]
2025-08-12 12:11:43,204 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], geometry={'width': 0.2999182481946182, 'height': 0.4999380405608993, 'area': 0.0, 'perimeter': 0.5830000000000001, 'centroid': [0.6499591240973089, 0.7499690202804496], 'bounds': [0.5, 0.5, 0.7999182481946182, 0.9999380405608993], 'num_vertices': 11, 'analytic_vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'open_stroke_perimeter': 0.5830000000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,204 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)]
2025-08-12 12:11:43,204 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,205 - INFO - [SoS] Perturbed collinear vertex 1: [0.52999182 0.5499938 ] -> [0.52999172 0.54999421]
2025-08-12 12:11:43,206 - INFO - [SoS] Perturbed collinear vertex 2: [0.55998365 0.59998761] -> [0.55998455 0.59998689]
2025-08-12 12:11:43,206 - INFO - [SoS] Perturbed collinear vertex 3: [0.58997547 0.64998141] -> [0.58997547 0.64998203]
2025-08-12 12:11:43,207 - INFO - [SoS] Perturbed collinear vertex 4: [0.6199673  0.69997522] -> [0.61996721 0.6999762 ]
2025-08-12 12:11:43,207 - INFO - [SoS] Perturbed collinear vertex 5: [0.64995912 0.74996902] -> [0.64995918 0.74996928]
2025-08-12 12:11:43,208 - INFO - [SoS] Perturbed collinear vertex 6: [0.67995095 0.79996282] -> [0.67995072 0.79996232]
2025-08-12 12:11:43,208 - INFO - [SoS] Perturbed collinear vertex 7: [0.70994277 0.84995663] -> [0.70994277 0.84995733]
2025-08-12 12:11:43,209 - INFO - [SoS] Perturbed collinear vertex 8: [0.7399346  0.89995043] -> [0.73993478 0.89995124]
2025-08-12 12:11:43,209 - INFO - [SoS] Perturbed collinear vertex 9: [0.76992642 0.94994424] -> [0.76992738 0.94994522]
2025-08-12 12:11:43,211 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,211 - INFO - [robust_angular_variance] Computed angular variance: 1.468206 for 11 vertices.
2025-08-12 12:11:43,211 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,212 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,212 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:43,212 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,213 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,213 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,215 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 12:11:43,215 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,216 - INFO - [SoS] Perturbed collinear vertex 1: [0.52999182 0.5499938 ] -> [0.52999282 0.54999295]
2025-08-12 12:11:43,216 - INFO - [SoS] Perturbed collinear vertex 2: [0.55998365 0.59998761] -> [0.55998373 0.5999878 ]
2025-08-12 12:11:43,216 - INFO - [SoS] Perturbed collinear vertex 3: [0.58997547 0.64998141] -> [0.58997613 0.64998137]
2025-08-12 12:11:43,217 - INFO - [SoS] Perturbed collinear vertex 4: [0.6199673  0.69997522] -> [0.61996652 0.69997475]
2025-08-12 12:11:43,217 - INFO - [SoS] Perturbed collinear vertex 5: [0.64995912 0.74996902] -> [0.64996008 0.74996881]
2025-08-12 12:11:43,218 - INFO - [SoS] Perturbed collinear vertex 6: [0.67995095 0.79996282] -> [0.67995007 0.79996333]
2025-08-12 12:11:43,218 - INFO - [SoS] Perturbed collinear vertex 7: [0.70994277 0.84995663] -> [0.70994276 0.84995727]
2025-08-12 12:11:43,219 - INFO - [SoS] Perturbed collinear vertex 8: [0.7399346  0.89995043] -> [0.73993549 0.89994997]
2025-08-12 12:11:43,219 - INFO - [SoS] Perturbed collinear vertex 9: [0.76992642 0.94994424] -> [0.76992582 0.94994375]
2025-08-12 12:11:43,221 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=3, assigned is_positive=False
2025-08-12 12:11:43,221 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=3, stroke_dict: {'area': 7.47061055813127e-08, 'perimeter': 0.23056329883988663, 'centroid': [0.5297660874787232, 0.5496166794475756], 'bounds': [0.5, 0.5, 0.5593054379736618, 0.5988570873350761], 'width': 0.059305437973661834, 'height': 0.09885708733507614, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.23056329883988663, 'analytic_vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'open_stroke_perimeter': 0.5830000000000001, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.583-0.164', 'vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'geometry': {'area': 7.47061055813127e-08, 'perimeter': 0.23056329883988663, 'centroid': [0.5297660874787232, 0.5496166794475756], 'bounds': [0.5, 0.5, 0.5593054379736618, 0.5988570873350761], 'width': 0.059305437973661834, 'height': 0.09885708733507614, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.23056329883988663}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 12:11:43,225 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 4 command: line_triangle_0.361-0.930
2025-08-12 12:11:43,226 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,226 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_triangle_0.361-0.930, stroke_index=4
2025-08-12 12:11:43,226 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=0.361, param2=None, param3=0.93
2025-08-12 12:11:43,226 - INFO - [LOGGING PATCH] [_vertices_from_command] Triangle vertices: [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)]
2025-08-12 12:11:43,226 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], geometry={'width': 0.5415000000000001, 'height': 0.6252703415323646, 'area': 0.0, 'perimeter': 1.8758110245970938, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'num_vertices': 4, 'analytic_vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'open_stroke_perimeter': 1.8758110245970938, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,227 - INFO - [_calculate_vertices_from_action] Bounding box: (0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823)
2025-08-12 12:11:43,227 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=[(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)]
2025-08-12 12:11:43,227 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], geometry={'width': 0.5415000000000001, 'height': 0.6252703415323646, 'area': 0.0, 'perimeter': 1.8758110245970938, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'num_vertices': 4, 'analytic_vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'open_stroke_perimeter': 1.8758110245970938, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,228 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)]
2025-08-12 12:11:43,228 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,228 - INFO - [SoS] Removed duplicate vertex: [0.861 0.5  ]
2025-08-12 12:11:43,229 - INFO - Convexity: poly_area=0.1693, hull_area=0.1693, ratio=1.0000
2025-08-12 12:11:43,229 - INFO - [robust_angular_variance] Computed angular variance: 0.068539 for 4 vertices.
2025-08-12 12:11:43,230 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,230 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,230 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:43,231 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,231 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 12:11:43,232 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,232 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-12 12:11:43,233 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-12 12:11:43,233 - INFO - [SoS] Removed duplicate vertex: [0.861 0.5  ]
2025-08-12 12:11:43,233 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=4, assigned is_positive=False
2025-08-12 12:11:43,235 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=4, stroke_dict: {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'open_stroke_perimeter': 1.8758110245970938, 'shape_modifier': 'normal', 'command': 'line_triangle_0.361-0.930', 'vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'geometry': {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 12:11:43,235 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 5 command: line_circle_0.361-0.313
2025-08-12 12:11:43,235 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,235 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_circle_0.361-0.313, stroke_index=5
2025-08-12 12:11:43,235 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.361, param2=None, param3=0.313
2025-08-12 12:11:43,236 - INFO - [LOGGING PATCH] [_vertices_from_command] Circle vertices: [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)]
2025-08-12 12:11:43,236 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], geometry={'width': 0.722, 'height': 0.722, 'area': 0.0, 'perimeter': 2.1459679914218865, 'centroid': [0.4814649630951961, 0.5029356614465622], 'bounds': [0.139, 0.139, 0.861, 0.861], 'num_vertices': 20, 'analytic_vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'open_stroke_perimeter': 2.1459679914218865, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,236 - INFO - [_calculate_vertices_from_action] Bounding box: (0.139, 0.139, 0.861, 0.861)
2025-08-12 12:11:43,236 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=[(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)]
2025-08-12 12:11:43,238 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], geometry={'width': 0.722, 'height': 0.722, 'area': 0.0, 'perimeter': 2.1459679914218865, 'centroid': [0.4814649630951961, 0.5029356614465622], 'bounds': [0.139, 0.139, 0.861, 0.861], 'num_vertices': 20, 'analytic_vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'open_stroke_perimeter': 2.1459679914218865, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,238 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)]
2025-08-12 12:11:43,238 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:43,239 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,240 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:43,240 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,241 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547272}
2025-08-12 12:11:43,242 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547272, 'has_curved_edges': True}
2025-08-12 12:11:43,243 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=5, assigned is_positive=False
2025-08-12 12:11:43,243 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=5, stroke_dict: {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'open_stroke_perimeter': 2.1459679914218865, 'shape_modifier': 'normal', 'command': 'line_circle_0.361-0.313', 'vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'geometry': {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 12:11:43,244 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 6 command: line_normal_0.583-0.930
2025-08-12 12:11:43,244 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,244 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.583-0.930, stroke_index=6
2025-08-12 12:11:43,245 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.583, param2=None, param3=0.93
2025-08-12 12:11:43,245 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)]
2025-08-12 12:11:43,245 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], geometry={'width': 0.5275141715876894, 'height': 0.24822932698243705, 'area': 0.0, 'perimeter': 0.583, 'centroid': [0.7637570857938447, 0.3758853365087814], 'bounds': [0.5, 0.25177067301756295, 1.0275141715876894, 0.5], 'num_vertices': 11, 'analytic_vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'open_stroke_perimeter': 0.583, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,246 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.25177067301756295, 1.0275141715876894, 0.5)
2025-08-12 12:11:43,246 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)]
2025-08-12 12:11:43,246 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], geometry={'width': 0.5275141715876894, 'height': 0.24822932698243705, 'area': 0.0, 'perimeter': 0.583, 'centroid': [0.7637570857938447, 0.3758853365087814], 'bounds': [0.5, 0.25177067301756295, 1.0275141715876894, 0.5], 'num_vertices': 11, 'analytic_vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'open_stroke_perimeter': 0.583, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,246 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)]
2025-08-12 12:11:43,247 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,248 - INFO - [SoS] Perturbed collinear vertex 1: [0.55275142 0.47517707] -> [0.55275191 0.47517702]
2025-08-12 12:11:43,248 - INFO - [SoS] Perturbed collinear vertex 2: [0.60550283 0.45035413] -> [0.6055021 0.4503544]
2025-08-12 12:11:43,248 - INFO - [SoS] Perturbed collinear vertex 3: [0.65825425 0.4255312 ] -> [0.6582534  0.42553206]
2025-08-12 12:11:43,249 - INFO - [SoS] Perturbed collinear vertex 4: [0.71100567 0.40070827] -> [0.71100549 0.40070804]
2025-08-12 12:11:43,249 - INFO - [SoS] Perturbed collinear vertex 5: [0.76375709 0.37588534] -> [0.76375647 0.37588484]
2025-08-12 12:11:43,250 - INFO - [SoS] Perturbed collinear vertex 6: [0.8165085 0.3510624] -> [0.8165092  0.35106289]
2025-08-12 12:11:43,250 - INFO - [SoS] Perturbed collinear vertex 7: [0.86925992 0.32623947] -> [0.86926038 0.32623952]
2025-08-12 12:11:43,251 - INFO - [SoS] Perturbed collinear vertex 8: [0.92201134 0.30141654] -> [0.92201086 0.30141735]
2025-08-12 12:11:43,252 - INFO - [SoS] Perturbed collinear vertex 9: [0.97476275 0.27659361] -> [0.97476256 0.27659278]
2025-08-12 12:11:43,253 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,253 - INFO - [robust_angular_variance] Computed angular variance: 1.468206 for 11 vertices.
2025-08-12 12:11:43,253 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,254 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,254 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 12:11:43,255 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,255 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,255 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,256 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 12:11:43,257 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 12:11:43,257 - INFO - [SoS] Perturbed collinear vertex 1: [0.55275142 0.47517707] -> [0.55275117 0.4751768 ]
2025-08-12 12:11:43,257 - INFO - [SoS] Perturbed collinear vertex 2: [0.60550283 0.45035413] -> [0.60550287 0.45035314]
2025-08-12 12:11:43,259 - INFO - [SoS] Perturbed collinear vertex 3: [0.65825425 0.4255312 ] -> [0.65825366 0.42553183]
2025-08-12 12:11:43,259 - INFO - [SoS] Perturbed collinear vertex 4: [0.71100567 0.40070827] -> [0.71100523 0.40070814]
2025-08-12 12:11:43,260 - INFO - [SoS] Perturbed collinear vertex 5: [0.76375709 0.37588534] -> [0.76375682 0.37588628]
2025-08-12 12:11:43,260 - INFO - [SoS] Perturbed collinear vertex 6: [0.8165085 0.3510624] -> [0.816508  0.3510626]
2025-08-12 12:11:43,261 - INFO - [SoS] Perturbed collinear vertex 7: [0.86925992 0.32623947] -> [0.86925983 0.32623924]
2025-08-12 12:11:43,261 - INFO - [SoS] Perturbed collinear vertex 8: [0.92201134 0.30141654] -> [0.92201217 0.30141737]
2025-08-12 12:11:43,262 - INFO - [SoS] Perturbed collinear vertex 9: [0.97476275 0.27659361] -> [0.97476253 0.27659444]
2025-08-12 12:11:43,263 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=6, assigned is_positive=False
2025-08-12 12:11:43,263 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=6, stroke_dict: {'area': 9.679752384426747e-08, 'perimeter': 0.32814524493368724, 'centroid': [0.944861857691453, 0.29066432229848554], 'bounds': [0.8790568242189302, 0.25177067301756295, 1.0275141715876894, 0.3216293979728206], 'width': 0.14845734736875926, 'height': 0.06985872495525763, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.32814524493368724, 'analytic_vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'open_stroke_perimeter': 0.583, 'shape_modifier': 'normal', 'command': 'line_normal_0.583-0.930', 'vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'geometry': {'area': 9.679752384426747e-08, 'perimeter': 0.32814524493368724, 'centroid': [0.944861857691453, 0.29066432229848554], 'bounds': [0.8790568242189302, 0.25177067301756295, 1.0275141715876894, 0.3216293979728206], 'width': 0.14845734736875926, 'height': 0.06985872495525763, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.32814524493368724}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 12:11:43,264 - INFO - [ATTR DEBUG] Shape 0 strokes (dicts): [{'area': 1.414261612492981e-07, 'perimeter': 0.5278884733754479, 'centroid': [-0.13795776870305793, 0.4999996943311531], 'bounds': [-0.2674667438557801, 0.4999991230874423, -0.0035225071770019507, 0.5000000000000001], 'width': 0.26394423667877814, 'height': 8.769125577900994e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.5278884733754479, 'analytic_vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'open_stroke_perimeter': 0.894, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.894-0.500', 'vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'geometry': {'area': 1.414261612492981e-07, 'perimeter': 0.5278884733754479, 'centroid': [-0.13795776870305793, 0.4999996943311531], 'bounds': [-0.2674667438557801, 0.4999991230874423, -0.0035225071770019507, 0.5000000000000001], 'width': 0.26394423667877814, 'height': 8.769125577900994e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.5278884733754479}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'open_stroke_perimeter': 2.972254835764386, 'shape_modifier': 'normal', 'command': 'line_circle_0.500-0.926', 'vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'geometry': {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 7.588537133981603e-08, 'perimeter': 0.4394052555546306, 'centroid': [0.3109586439780787, 0.24656658274852342], 'bounds': [0.252836624644989, 0.1686463448745573, 0.38419792057895974, 0.34475271778363603], 'width': 0.13136129593397072, 'height': 0.17610637290907874, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.4394052555546306, 'analytic_vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'open_stroke_perimeter': 0.49999999999999994, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.500-0.648', 'vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'geometry': {'area': 7.588537133981603e-08, 'perimeter': 0.4394052555546306, 'centroid': [0.3109586439780787, 0.24656658274852342], 'bounds': [0.252836624644989, 0.1686463448745573, 0.38419792057895974, 0.34475271778363603], 'width': 0.13136129593397072, 'height': 0.17610637290907874, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.4394052555546306}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 7.47061055813127e-08, 'perimeter': 0.23056329883988663, 'centroid': [0.5297660874787232, 0.5496166794475756], 'bounds': [0.5, 0.5, 0.5593054379736618, 0.5988570873350761], 'width': 0.059305437973661834, 'height': 0.09885708733507614, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.23056329883988663, 'analytic_vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'open_stroke_perimeter': 0.5830000000000001, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.583-0.164', 'vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'geometry': {'area': 7.47061055813127e-08, 'perimeter': 0.23056329883988663, 'centroid': [0.5297660874787232, 0.5496166794475756], 'bounds': [0.5, 0.5, 0.5593054379736618, 0.5988570873350761], 'width': 0.059305437973661834, 'height': 0.09885708733507614, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.23056329883988663}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'open_stroke_perimeter': 1.8758110245970938, 'shape_modifier': 'normal', 'command': 'line_triangle_0.361-0.930', 'vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'geometry': {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'open_stroke_perimeter': 2.1459679914218865, 'shape_modifier': 'normal', 'command': 'line_circle_0.361-0.313', 'vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'geometry': {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 9.679752384426747e-08, 'perimeter': 0.32814524493368724, 'centroid': [0.944861857691453, 0.29066432229848554], 'bounds': [0.8790568242189302, 0.25177067301756295, 1.0275141715876894, 0.3216293979728206], 'width': 0.14845734736875926, 'height': 0.06985872495525763, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.32814524493368724, 'analytic_vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'open_stroke_perimeter': 0.583, 'shape_modifier': 'normal', 'command': 'line_normal_0.583-0.930', 'vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'geometry': {'area': 9.679752384426747e-08, 'perimeter': 0.32814524493368724, 'centroid': [0.944861857691453, 0.29066432229848554], 'bounds': [0.8790568242189302, 0.25177067301756295, 1.0275141715876894, 0.3216293979728206], 'width': 0.14845734736875926, 'height': 0.06985872495525763, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.32814524493368724}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-12 12:11:43,264 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,266 - INFO - [PATCH][SHAPE GEOMETRY] idx=0, vertices=[(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)], geometry={'area': 0.12433152925499794, 'perimeter': 1.6501113434590904, 'centroid': [0.677600137349416, 0.12854795515194184], 'bounds': [0.3552002746988321, 4.753164162310427e-16, 1.0, 0.3856438654558245], 'width': 0.6447997253011679, 'height': 0.385643865455824}
2025-08-12 12:11:43,266 - INFO - [robust_curvature] INPUT: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-12 12:11:43,267 - INFO - [robust_curvature] OUTPUT: 2.252643883464292
2025-08-12 12:11:43,268 - INFO - [robust_angular_variance] Computed angular variance: 0.247408 for 8 vertices.
2025-08-12 12:11:43,268 - INFO - [PATCH][SHAPE PHYSICS] idx=0, physics features: {'robust_curvature': 2.252643883464292, 'robust_angular_variance': 0.2474078250225908, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 2.4360995595356707}
2025-08-12 12:11:43,268 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 1.28736000e+03  0.00000000e+00]
 [ 6.43794175e+02  3.22835916e+02]
 [ 2.28349222e-01 -3.97903932e-13]
 [ 6.34667090e+01  8.37134840e+02]
 [-1.92672672e+02  3.84778517e+02]
 [-7.08812765e+02  4.46689985e+02]
 [ 2.82981551e+00  1.31523517e+00]]
2025-08-12 12:11:43,269 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,269 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,269 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:43,270 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 2.28349222e-01 -3.97903932e-13]
 [ 6.34667090e+01  8.37134840e+02]
 [-1.92672672e+02  3.84778517e+02]
 [-7.08812765e+02  4.46689985e+02]
 [ 2.82981551e+00  1.31523517e+00]]
2025-08-12 12:11:43,271 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,271 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,271 - INFO - [robust_curvature] INPUT: [[1287.36          0.        ]
 [ 643.79417461  322.83591558]]
2025-08-12 12:11:43,272 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,272 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,272 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:43,273 - INFO - [robust_curvature] INPUT: [[ 4.94950203e+00  5.04558251e-03]
 [ 1.27995247e+03  1.23848212e+00]
 [ 6.43794175e+02  3.20358951e+02]
 [ 2.93983300e+00  4.44994802e+00]
 [ 6.22414933e+01  8.32188018e+02]
 [-1.93670102e+02  3.86751381e+02]
 [-7.04102673e+02  4.44743903e+02]
 [ 8.89144936e-02  3.01876239e+00]]
2025-08-12 12:11:43,273 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,274 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,274 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:43,275 - INFO - [robust_curvature] INPUT: [[ 4.94950203e+00  5.04558251e-03]
 [ 2.93983300e+00  4.44994802e+00]
 [ 6.22414933e+01  8.32188018e+02]
 [-1.93670102e+02  3.86751381e+02]
 [-7.04102673e+02  4.44743903e+02]
 [ 8.89144936e-02  3.01876239e+00]]
2025-08-12 12:11:43,275 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,275 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,275 - INFO - [robust_curvature] INPUT: [[1.27995247e+03 1.23848212e+00]
 [6.43794175e+02 3.20358951e+02]]
2025-08-12 12:11:43,277 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,277 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,277 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:43,278 - INFO - [robust_curvature] INPUT: [[ 1.37324546e+02  3.43058815e-01]
 [ 1.08113288e+03  3.43664795e+01]
 [ 6.43471172e+02  2.54154171e+02]
 [ 7.57569296e+01  1.23581312e+02]
 [ 2.94180525e+01  6.99628780e+02]
 [-2.20247463e+02  4.39320008e+02]
 [-5.77723543e+02  3.92674134e+02]
 [-7.29389663e+01  4.86865488e+01]]
2025-08-12 12:11:43,278 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,279 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,279 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:43,280 - INFO - [robust_curvature] INPUT: [[ 1.37324546e+02  3.43058815e-01]
 [ 7.57569296e+01  1.23581312e+02]
 [ 2.94180525e+01  6.99628780e+02]
 [-2.20247463e+02  4.39320008e+02]
 [-5.77723543e+02  3.92674134e+02]
 [-7.29389663e+01  4.86865488e+01]]
2025-08-12 12:11:43,280 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,280 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,281 - INFO - [robust_curvature] INPUT: [[1081.1328835    34.36647948]
 [ 643.47117165  254.15417112]]
2025-08-12 12:11:43,281 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,281 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,282 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:43,282 - INFO - [robust_curvature] INPUT: [[ 307.84276878   43.79517399]
 [ 666.61713018   83.9808085 ]
 [ 570.79265603  175.82180969]
 [ 227.19083724  303.43444681]
 [ -19.03888626  468.62829124]
 [-229.65792568  465.65560038]
 [-319.40740292  316.91198002]
 [-108.14556664  134.52638163]]
2025-08-12 12:11:43,283 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,283 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,283 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:43,285 - INFO - [robust_curvature] INPUT: [[307.84276878  43.79517399]
 [666.61713018  83.9808085 ]
 [570.79265603 175.82180969]
 [227.19083724 303.43444681]]
2025-08-12 12:11:43,285 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,285 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,286 - INFO - [robust_curvature] INPUT: [[ -19.03888626  468.62829124]
 [-229.65792568  465.65560038]
 [-319.40740292  316.91198002]
 [-108.14556664  134.52638163]]
2025-08-12 12:11:43,286 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,286 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,287 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:43,287 - INFO - [robust_curvature] INPUT: [[208.94936789 168.52941266]
 [313.10511921 172.30075115]
 [311.32131352 220.08358756]
 [207.76452468 285.02208037]
 [ 65.55715001 329.90683898]
 [-35.12639085 327.26263521]
 [-37.73905341 277.86631981]
 [ 62.36157967 211.78286651]]
2025-08-12 12:11:43,287 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,288 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,288 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:43,289 - INFO - [robust_curvature] INPUT: [[208.94936789 168.52941266]
 [313.10511921 172.30075115]
 [311.32131352 220.08358756]
 [207.76452468 285.02208037]]
2025-08-12 12:11:43,289 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,290 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,290 - INFO - [robust_curvature] INPUT: [[ 65.55715001 329.90683898]
 [-35.12639085 327.26263521]
 [-37.73905341 277.86631981]
 [ 62.36157967 211.78286651]]
2025-08-12 12:11:43,290 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,290 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,291 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:43,291 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}
2025-08-12 12:11:43,291 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}
2025-08-12 12:11:43,294 - DEBUG - [extract_image_features] Calculated width: 1287.1316507778192, height: 322.83591558482294
2025-08-12 12:11:43,294 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,295 - INFO - [robust_curvature] OUTPUT: 2.1905491448917287
2025-08-12 12:11:43,295 - INFO - [robust_angular_variance] Computed angular variance: 0.454561 for 8 vertices.
2025-08-12 12:11:43,296 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 1.28736000e+03  0.00000000e+00]
 [ 6.43794175e+02  3.22835916e+02]
 [ 2.28349222e-01 -3.97903932e-13]
 [ 6.34667090e+01  8.37134840e+02]
 [-1.92672672e+02  3.84778517e+02]
 [-7.08812765e+02  4.46689985e+02]
 [ 2.82981551e+00  1.31523517e+00]]
2025-08-12 12:11:43,296 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,296 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,297 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:43,298 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 2.28349222e-01 -3.97903932e-13]
 [ 6.34667090e+01  8.37134840e+02]
 [-1.92672672e+02  3.84778517e+02]
 [-7.08812765e+02  4.46689985e+02]
 [ 2.82981551e+00  1.31523517e+00]]
2025-08-12 12:11:43,298 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,299 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,300 - INFO - [robust_curvature] INPUT: [[1287.36          0.        ]
 [ 643.79417461  322.83591558]]
2025-08-12 12:11:43,300 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,300 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,301 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:43,302 - INFO - [robust_curvature] INPUT: [[ 4.94950203e+00  5.04558251e-03]
 [ 1.27995247e+03  1.23848212e+00]
 [ 6.43794175e+02  3.20358951e+02]
 [ 2.93983300e+00  4.44994802e+00]
 [ 6.22414933e+01  8.32188018e+02]
 [-1.93670102e+02  3.86751381e+02]
 [-7.04102673e+02  4.44743903e+02]
 [ 8.89144936e-02  3.01876239e+00]]
2025-08-12 12:11:43,302 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,302 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,302 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:43,304 - INFO - [robust_curvature] INPUT: [[ 4.94950203e+00  5.04558251e-03]
 [ 2.93983300e+00  4.44994802e+00]
 [ 6.22414933e+01  8.32188018e+02]
 [-1.93670102e+02  3.86751381e+02]
 [-7.04102673e+02  4.44743903e+02]
 [ 8.89144936e-02  3.01876239e+00]]
2025-08-12 12:11:43,304 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,304 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,305 - INFO - [robust_curvature] INPUT: [[1.27995247e+03 1.23848212e+00]
 [6.43794175e+02 3.20358951e+02]]
2025-08-12 12:11:43,305 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,305 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,306 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:43,306 - INFO - [robust_curvature] INPUT: [[ 1.37324546e+02  3.43058815e-01]
 [ 1.08113288e+03  3.43664795e+01]
 [ 6.43471172e+02  2.54154171e+02]
 [ 7.57569296e+01  1.23581312e+02]
 [ 2.94180525e+01  6.99628780e+02]
 [-2.20247463e+02  4.39320008e+02]
 [-5.77723543e+02  3.92674134e+02]
 [-7.29389663e+01  4.86865488e+01]]
2025-08-12 12:11:43,307 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,307 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,308 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:43,309 - INFO - [robust_curvature] INPUT: [[ 1.37324546e+02  3.43058815e-01]
 [ 7.57569296e+01  1.23581312e+02]
 [ 2.94180525e+01  6.99628780e+02]
 [-2.20247463e+02  4.39320008e+02]
 [-5.77723543e+02  3.92674134e+02]
 [-7.29389663e+01  4.86865488e+01]]
2025-08-12 12:11:43,309 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,309 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,310 - INFO - [robust_curvature] INPUT: [[1081.1328835    34.36647948]
 [ 643.47117165  254.15417112]]
2025-08-12 12:11:43,310 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,310 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,311 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:43,311 - INFO - [robust_curvature] INPUT: [[ 307.84276878   43.79517399]
 [ 666.61713018   83.9808085 ]
 [ 570.79265603  175.82180969]
 [ 227.19083724  303.43444681]
 [ -19.03888626  468.62829124]
 [-229.65792568  465.65560038]
 [-319.40740292  316.91198002]
 [-108.14556664  134.52638163]]
2025-08-12 12:11:43,312 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,312 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,312 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:43,313 - INFO - [robust_curvature] INPUT: [[307.84276878  43.79517399]
 [666.61713018  83.9808085 ]
 [570.79265603 175.82180969]
 [227.19083724 303.43444681]]
2025-08-12 12:11:43,313 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,313 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,314 - INFO - [robust_curvature] INPUT: [[ -19.03888626  468.62829124]
 [-229.65792568  465.65560038]
 [-319.40740292  316.91198002]
 [-108.14556664  134.52638163]]
2025-08-12 12:11:43,314 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,315 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,315 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:43,316 - INFO - [robust_curvature] INPUT: [[208.94936789 168.52941266]
 [313.10511921 172.30075115]
 [311.32131352 220.08358756]
 [207.76452468 285.02208037]
 [ 65.55715001 329.90683898]
 [-35.12639085 327.26263521]
 [-37.73905341 277.86631981]
 [ 62.36157967 211.78286651]]
2025-08-12 12:11:43,316 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,316 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,316 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:43,318 - INFO - [robust_curvature] INPUT: [[208.94936789 168.52941266]
 [313.10511921 172.30075115]
 [311.32131352 220.08358756]
 [207.76452468 285.02208037]]
2025-08-12 12:11:43,318 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,318 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,319 - INFO - [robust_curvature] INPUT: [[ 65.55715001 329.90683898]
 [-35.12639085 327.26263521]
 [-37.73905341 277.86631981]
 [ 62.36157967 211.78286651]]
2025-08-12 12:11:43,319 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,319 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,320 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:43,320 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}
2025-08-12 12:11:43,320 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}
2025-08-12 12:11:43,321 - INFO - [SoS] Perturbed collinear vertex 1: [0.444125 0.5     ] -> [0.44412427 0.50000035]
2025-08-12 12:11:43,322 - INFO - [SoS] Perturbed collinear vertex 2: [0.38825 0.5    ] -> [0.38825054 0.50000016]
2025-08-12 12:11:43,322 - INFO - [SoS] Perturbed collinear vertex 3: [0.332375 0.5     ] -> [0.332375   0.50000037]
2025-08-12 12:11:43,323 - INFO - [SoS] Perturbed collinear vertex 4: [0.2765 0.5   ] -> [0.27649983 0.5000003 ]
2025-08-12 12:11:43,323 - INFO - [SoS] Perturbed collinear vertex 5: [0.220625 0.5     ] -> [0.22062498 0.49999957]
2025-08-12 12:11:43,324 - INFO - [SoS] Perturbed collinear vertex 6: [0.16475 0.5    ] -> [0.16474931 0.50000057]
2025-08-12 12:11:43,324 - INFO - [SoS] Perturbed collinear vertex 7: [0.108875 0.5     ] -> [0.10887505 0.4999998 ]
2025-08-12 12:11:43,325 - INFO - [SoS] Perturbed collinear vertex 8: [0.053 0.5  ] -> [0.05300063 0.50000039]
2025-08-12 12:11:43,325 - INFO - [SoS] Perturbed collinear vertex 9: [-0.002875  0.5     ] -> [-0.00287547  0.49999987]
2025-08-12 12:11:43,326 - INFO - [SoS] Perturbed collinear vertex 10: [-0.05875  0.5    ] -> [-0.05875022  0.50000016]
2025-08-12 12:11:43,326 - INFO - [SoS] Perturbed collinear vertex 11: [-0.114625  0.5     ] -> [-0.1146256   0.50000061]
2025-08-12 12:11:43,327 - INFO - [SoS] Perturbed collinear vertex 12: [-0.1705  0.5   ] -> [-0.17050048  0.5000007 ]
2025-08-12 12:11:43,327 - INFO - [SoS] Perturbed collinear vertex 13: [-0.226375  0.5     ] -> [-0.22637437  0.50000041]
2025-08-12 12:11:43,328 - INFO - [SoS] Perturbed collinear vertex 14: [-0.28225  0.5    ] -> [-0.28224927  0.49999922]
2025-08-12 12:11:43,328 - INFO - [SoS] Perturbed collinear vertex 15: [-0.338125  0.5     ] -> [-0.3381243   0.50000092]
2025-08-12 12:11:43,331 - DEBUG - [extract_image_features] Stroke 0 geometry: {'area': 9.567835179922365e-08, 'perimeter': 0.43663018744760007, 'centroid': [-0.1499329252475837, 0.5000002724327454], 'bounds': [-0.24565818720400864, 0.5000000000000001, -0.02734309348390767, 0.5000006984409009], 'width': 0.21831509372010097, 'height': 6.984409007815273e-07}
2025-08-12 12:11:43,332 - DEBUG - [extract_image_features] Stroke 1 geometry: {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 12:11:43,333 - INFO - [SoS] Perturbed collinear vertex 1: [0.46678306 0.4554685 ] -> [0.46678363 0.4554685 ]
2025-08-12 12:11:43,334 - INFO - [SoS] Perturbed collinear vertex 2: [0.43356611 0.410937  ] -> [0.43356522 0.41093658]
2025-08-12 12:11:43,334 - INFO - [SoS] Perturbed collinear vertex 3: [0.40034917 0.3664055 ] -> [0.40034949 0.36640479]
2025-08-12 12:11:43,335 - INFO - [SoS] Perturbed collinear vertex 4: [0.36713223 0.321874  ] -> [0.36713216 0.3218732 ]
2025-08-12 12:11:43,335 - INFO - [SoS] Perturbed collinear vertex 5: [0.33391528 0.2773425 ] -> [0.33391495 0.27734304]
2025-08-12 12:11:43,336 - INFO - [SoS] Perturbed collinear vertex 6: [0.30069834 0.23281101] -> [0.30069823 0.23281118]
2025-08-12 12:11:43,336 - INFO - [SoS] Perturbed collinear vertex 7: [0.2674814  0.18827951] -> [0.26748062 0.18828013]
2025-08-12 12:11:43,337 - INFO - [SoS] Perturbed collinear vertex 8: [0.23426445 0.14374801] -> [0.23426427 0.1437483 ]
2025-08-12 12:11:43,338 - DEBUG - [extract_image_features] Stroke 2 geometry: {'area': 1.0967494884018061e-07, 'perimeter': 0.5084221755756141, 'centroid': [0.2796761823461985, 0.20462863933486622], 'bounds': [0.20104750847124048, 0.0992165075645618, 0.3530415846028248, 0.3029837227163847], 'width': 0.15199407613158433, 'height': 0.2037672151518229}
2025-08-12 12:11:43,338 - INFO - [SoS] Perturbed collinear vertex 1: [0.52999182 0.5499938 ] -> [0.52999171 0.54999426]
2025-08-12 12:11:43,339 - INFO - [SoS] Perturbed collinear vertex 2: [0.55998365 0.59998761] -> [0.55998425 0.59998824]
2025-08-12 12:11:43,339 - INFO - [SoS] Perturbed collinear vertex 3: [0.58997547 0.64998141] -> [0.58997477 0.64998188]
2025-08-12 12:11:43,340 - INFO - [SoS] Perturbed collinear vertex 4: [0.6199673  0.69997522] -> [0.61996646 0.69997584]
2025-08-12 12:11:43,340 - INFO - [SoS] Perturbed collinear vertex 5: [0.64995912 0.74996902] -> [0.64995995 0.74996894]
2025-08-12 12:11:43,341 - INFO - [SoS] Perturbed collinear vertex 6: [0.67995095 0.79996282] -> [0.6799517  0.79996314]
2025-08-12 12:11:43,341 - INFO - [SoS] Perturbed collinear vertex 7: [0.70994277 0.84995663] -> [0.70994233 0.84995622]
2025-08-12 12:11:43,341 - INFO - [SoS] Perturbed collinear vertex 8: [0.7399346  0.89995043] -> [0.73993502 0.89995016]
2025-08-12 12:11:43,342 - INFO - [SoS] Perturbed collinear vertex 9: [0.76992642 0.94994424] -> [0.76992549 0.94994463]
2025-08-12 12:11:43,344 - DEBUG - [extract_image_features] Stroke 3 geometry: {'area': 9.295655572236564e-08, 'perimeter': 0.2797925986667036, 'centroid': [0.6042612405072892, 0.6737953549797835], 'bounds': [0.5655132906036104, 0.6092050461491508, 0.6374814776042786, 0.7291698519201125], 'width': 0.0719681870006682, 'height': 0.11996480577096169}
2025-08-12 12:11:43,345 - INFO - [SoS] Removed duplicate vertex: [0.861 0.5  ]
2025-08-12 12:11:43,345 - DEBUG - [extract_image_features] Stroke 4 geometry: {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646}
2025-08-12 12:11:43,347 - DEBUG - [extract_image_features] Stroke 5 geometry: {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722}
2025-08-12 12:11:43,347 - INFO - [SoS] Perturbed collinear vertex 1: [0.55275142 0.47517707] -> [0.55275139 0.47517719]
2025-08-12 12:11:43,348 - INFO - [SoS] Perturbed collinear vertex 2: [0.60550283 0.45035413] -> [0.60550373 0.45035324]
2025-08-12 12:11:43,348 - INFO - [SoS] Perturbed collinear vertex 3: [0.65825425 0.4255312 ] -> [0.65825482 0.42553076]
2025-08-12 12:11:43,349 - INFO - [SoS] Perturbed collinear vertex 4: [0.71100567 0.40070827] -> [0.71100597 0.40070727]
2025-08-12 12:11:43,350 - INFO - [SoS] Perturbed collinear vertex 5: [0.76375709 0.37588534] -> [0.76375723 0.37588628]
2025-08-12 12:11:43,350 - INFO - [SoS] Perturbed collinear vertex 6: [0.8165085 0.3510624] -> [0.81650941 0.35106284]
2025-08-12 12:11:43,350 - INFO - [SoS] Perturbed collinear vertex 7: [0.86925992 0.32623947] -> [0.86926069 0.32623848]
2025-08-12 12:11:43,352 - INFO - [SoS] Perturbed collinear vertex 8: [0.92201134 0.30141654] -> [0.92201229 0.30141728]
2025-08-12 12:11:43,352 - INFO - [SoS] Perturbed collinear vertex 9: [0.97476275 0.27659361] -> [0.97476268 0.27659422]
2025-08-12 12:11:43,353 - DEBUG - [extract_image_features] Stroke 6 geometry: {'area': 8.276378296351479e-08, 'perimeter': 0.30965032961705047, 'centroid': [0.9453279505155917, 0.29044496914180473], 'bounds': [0.8874241740756093, 0.25177067301756295, 1.0275141715876894, 0.317692022001861], 'width': 0.14008999751208018, 'height': 0.06592134898429802}
2025-08-12 12:11:43,354 - INFO - [extract_image_features] stroke_type_distribution INPUT: [{'area': 1.414261612492981e-07, 'perimeter': 0.5278884733754479, 'centroid': [-0.13795776870305793, 0.4999996943311531], 'bounds': [-0.2674667438557801, 0.4999991230874423, -0.0035225071770019507, 0.5000000000000001], 'width': 0.21831509372010097, 'height': 6.984409007815273e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.5278884733754479, 'analytic_vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'open_stroke_perimeter': 0.894, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.894-0.500', 'vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'geometry': {'area': 9.567835179922365e-08, 'perimeter': 0.43663018744760007, 'centroid': [-0.1499329252475837, 0.5000002724327454], 'bounds': [-0.24565818720400864, 0.5000000000000001, -0.02734309348390767, 0.5000006984409009], 'width': 0.21831509372010097, 'height': 6.984409007815273e-07}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'open_stroke_perimeter': 2.972254835764386, 'shape_modifier': 'normal', 'command': 'line_circle_0.500-0.926', 'vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'geometry': {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 7.588537133981603e-08, 'perimeter': 0.4394052555546306, 'centroid': [0.3109586439780787, 0.24656658274852342], 'bounds': [0.252836624644989, 0.1686463448745573, 0.38419792057895974, 0.34475271778363603], 'width': 0.15199407613158433, 'height': 0.2037672151518229, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.4394052555546306, 'analytic_vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'open_stroke_perimeter': 0.49999999999999994, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.500-0.648', 'vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'geometry': {'area': 1.0967494884018061e-07, 'perimeter': 0.5084221755756141, 'centroid': [0.2796761823461985, 0.20462863933486622], 'bounds': [0.20104750847124048, 0.0992165075645618, 0.3530415846028248, 0.3029837227163847], 'width': 0.15199407613158433, 'height': 0.2037672151518229}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 7.47061055813127e-08, 'perimeter': 0.23056329883988663, 'centroid': [0.5297660874787232, 0.5496166794475756], 'bounds': [0.5, 0.5, 0.5593054379736618, 0.5988570873350761], 'width': 0.0719681870006682, 'height': 0.11996480577096169, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.23056329883988663, 'analytic_vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'open_stroke_perimeter': 0.5830000000000001, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.583-0.164', 'vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'geometry': {'area': 9.295655572236564e-08, 'perimeter': 0.2797925986667036, 'centroid': [0.6042612405072892, 0.6737953549797835], 'bounds': [0.5655132906036104, 0.6092050461491508, 0.6374814776042786, 0.7291698519201125], 'width': 0.0719681870006682, 'height': 0.11996480577096169}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'open_stroke_perimeter': 1.8758110245970938, 'shape_modifier': 'normal', 'command': 'line_triangle_0.361-0.930', 'vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'geometry': {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'open_stroke_perimeter': 2.1459679914218865, 'shape_modifier': 'normal', 'command': 'line_circle_0.361-0.313', 'vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'geometry': {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 9.679752384426747e-08, 'perimeter': 0.32814524493368724, 'centroid': [0.944861857691453, 0.29066432229848554], 'bounds': [0.8790568242189302, 0.25177067301756295, 1.0275141715876894, 0.3216293979728206], 'width': 0.14008999751208018, 'height': 0.06592134898429802, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.32814524493368724, 'analytic_vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'open_stroke_perimeter': 0.583, 'shape_modifier': 'normal', 'command': 'line_normal_0.583-0.930', 'vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'geometry': {'area': 8.276378296351479e-08, 'perimeter': 0.30965032961705047, 'centroid': [0.9453279505155917, 0.29044496914180473], 'bounds': [0.8874241740756093, 0.25177067301756295, 1.0275141715876894, 0.317692022001861], 'width': 0.14008999751208018, 'height': 0.06592134898429802}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-12 12:11:43,354 - INFO - [extract_image_features] stroke_type_distribution OUTPUT: {'line': 7}
2025-08-12 12:11:43,354 - INFO - [extract_image_features] modifier_distribution OUTPUT: {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}
2025-08-12 12:11:43,354 - INFO - [extract_image_features] relational INPUT: []
2025-08-12 12:11:43,355 - INFO - [extract_image_features] relational OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:43,355 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 12:11:43,355 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,355 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,356 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,356 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,356 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,356 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,357 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,357 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,357 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,357 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,358 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 6}
2025-08-12 12:11:43,358 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:43,358 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,359 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,359 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,359 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,359 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,360 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,360 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,360 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,360 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,362 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,362 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,362 - DEBUG - [_detect_alternation] OUTPUT: 0.14285714285714285
2025-08-12 12:11:43,362 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 12:11:43,363 - INFO - [extract_image_features] PATCHED ngram: {'normal|normal': 6}
2025-08-12 12:11:43,363 - INFO - [extract_image_features] PATCHED alternation: 0.14285714285714285
2025-08-12 12:11:43,363 - INFO - [extract_image_features] PATCHED regularity: 0.14285714285714285
2025-08-12 12:11:43,364 - INFO - [extract_image_features] PATCHED dominant_shape_functions: line
2025-08-12 12:11:43,364 - INFO - [extract_image_features] PATCHED dominant_modifiers: zigzag
2025-08-12 12:11:43,364 - INFO - [extract_image_features] PATCHED image_canonical_summary: {'area': 207766.1624785309, 'perimeter': 2727.1316507778183, 'compactness': 0.35105282701376045, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'zigzag', 'regularity': 0.14285714285714285}
2025-08-12 12:11:43,365 - INFO - [extract_image_features] OUTPUT: {'area': 207766.1624785309, 'perimeter': 2727.1316507778183, 'convexity_ratio': 0.5375400042896898, 'compactness': 0.35105282701376045, 'aspect_ratio': 3.9869530886802282, 'centroid_x': 643.7941746110904, 'centroid_y': 107.61197186160764, 'width': 1287.1316507778192, 'height': 322.83591558482294, 'bounding_box': (-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902), 'num_vertices': 8, 'curvature': 2.1905491448917287, 'angular_variance': 0.4545612501981901, 'complexity': -0.1253420815946918, 'num_strokes': 7, 'stroke_type_distribution': {'line': 7}, 'modifier_distribution': {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}, 'avg_stroke_length': 0.0, 'stroke_complexity': -0.1253420815946918, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}, 'moment_of_inertia': 179555.5085392413, 'center_of_mass_x': 0.4850858828170155, 'center_of_mass_y': 0.2611596268754171, 'symmetry_score': 803.9190614060234, 'ngram': {'normal|normal': 6}, 'alternation': 0.14285714285714285, 'regularity': 0.14285714285714285, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'zigzag', 'image_canonical_summary': {'area': 207766.1624785309, 'perimeter': 2727.1316507778183, 'compactness': 0.35105282701376045, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'zigzag', 'regularity': 0.14285714285714285}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 7}}
2025-08-12 12:11:43,365 - DEBUG - [extract_image_features] FINAL OUTPUT bounding_box: (-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902)
2025-08-12 12:11:43,365 - DEBUG - [extract_image_features] FINAL OUTPUT width: 1287.1316507778192, height: 322.83591558482294
2025-08-12 12:11:43,365 - DEBUG - [extract_image_features] FINAL OUTPUT curvature: 2.1905491448917287
2025-08-12 12:11:43,366 - INFO - [DIAG] Shape 0 extracted attributes: {'area': 207766.1624785309, 'perimeter': 2727.1316507778183, 'convexity_ratio': 0.5375400042896898, 'compactness': 0.35105282701376045, 'aspect_ratio': 3.9869530886802282, 'centroid_x': 643.7941746110904, 'centroid_y': 107.61197186160764, 'width': 1287.1316507778192, 'height': 322.83591558482294, 'bounding_box': (-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902), 'num_vertices': 8, 'curvature': 2.1905491448917287, 'angular_variance': 0.4545612501981901, 'complexity': -0.1253420815946918, 'num_strokes': 7, 'stroke_type_distribution': {'line': 7}, 'modifier_distribution': {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}, 'avg_stroke_length': 0.0, 'stroke_complexity': -0.1253420815946918, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}, 'moment_of_inertia': 179555.5085392413, 'center_of_mass_x': 0.4850858828170155, 'center_of_mass_y': 0.2611596268754171, 'symmetry_score': 803.9190614060234, 'ngram': {'normal|normal': 6}, 'alternation': 0.14285714285714285, 'regularity': 0.14285714285714285, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'zigzag', 'image_canonical_summary': {'area': 207766.1624785309, 'perimeter': 2727.1316507778183, 'compactness': 0.35105282701376045, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'zigzag', 'regularity': 0.14285714285714285}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 7}}
2025-08-12 12:11:43,366 - INFO - [VALIDATION] expected_strokes=7, actual_shapes=1
2025-08-12 12:11:43,366 - INFO - [VALIDATION] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: Number of action commands matches number of parsed shapes (7)
2025-08-12 12:11:43,367 - INFO - [standardize_coordinates] INPUT vertices: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,367 - INFO - [standardize_coordinates] OUTPUT normalized vertices: [[0.35508588118232887, 4.753164162310427e-16], [1.0, 4.753164162310427e-16], [0.6776001373494158, 0.3856438654558245], [0.3552002746988317, 0.0], [0.3868800776062828, 1.0], [0.2585648407333427, 0.45963744256999434], [0.0, 0.5335938289839826], [0.35650350172107487, 0.0015711150834388655]]
2025-08-12 12:11:43,368 - DEBUG - [process_single_image] Passing shape_list to extract_relational_features: [{'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}]
2025-08-12 12:11:43,369 - INFO - [extract_relational_features] INPUT: [{'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}]
2025-08-12 12:11:43,369 - DEBUG - [extract_relational_features] Shape 0 vertices: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,369 - INFO - [calculate_relationships] INPUT: strokes=[{'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}], buffer_amt=0.001
2025-08-12 12:11:43,370 - DEBUG - [calculate_relationships] Stroke 0: {'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}
2025-08-12 12:11:43,370 - DEBUG - [calculate_relationships] Vertices for stroke 0: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,370 - DEBUG - [calculate_relationships] Created LineString for stroke 0: LINESTRING (0 0, 1287.3600000000001 0, 643.79417461109 322.83591558482294, 0.2283492221802135 -3.979039320256561e-13, 63.46670899899013 837.1348399467902, -192.6726722314738 384.778516919384, -708.8127653910458 446.689984623101, 2.829815511103675 1.3152351739121855)
2025-08-12 12:11:43,371 - DEBUG - [calculate_relationships] Buffered geometries: ['POLYGON ((0.2274219144119125 0.001, 0.4396133104905972 2.8099408235973145, -708.81329590223 446.68913694516493, -708.8133751015216 446.6891919988927, -708.813448628408 446.68925442675277, -708.813515798836 446.6893236479513, -708.8135759878895 446.68939901849296, -708.8136286356034 446.6894798371724, -708.8136732521727 446.6895653520978, -708.8137094225099 446.68965476768614, -708.8137368101063 446.68974725206476, -708.813755160163 446.6898419448107, -708.8137643019614 446.68993796495573, -708.8137641504514 446.69003441918204, -708.8137547070424 446.6901304101334, -708.8137360595907 446.6902250447638, -708.8137083815817 446.6903174426455, -708.8136719305161 446.6904067441603, -708.8136270455143 446.6904921184968, -708.8135741441613 446.69057277138006, -708.8135137186216 446.6906479524606, -708.8134463310606 446.69071696229577, -708.8133726084145 446.6907791588567, -708.8132932365577 446.69083396350123, -708.8132089539215 446.69088086635776, -708.8131205446243 446.69091943106827, -708.8130288311768 446.69094929884824, -708.8129346668297 446.6909701918246, -708.8128389276354 446.69098191562074, -708.8127425042978 446.6909843611651, -708.8126462938857 446.6909775057056, -192.6732143036966 384.77958910984984, 63.46583881523546 837.1353326741317, 63.46589033347885 837.1354142174413, 63.4659494681283 837.1354904180578, 63.4660156690281 837.1355605670534, 63.466088320282104 837.1356240118012, 63.46616674598368 837.1356801620465, 63.46625021650395 837.1357284953991, 63.46633795527989 837.1357685621923, 63.46642914603899 837.1357999896672, 63.46652294039344 837.1358224854401, 63.466618465733006 837.135835840223, 63.466714833343374 837.1358399297702, 63.466811146674175 837.1358347160351, 63.46690650968005 837.1358202475233, 63.467000035156936 837.1357966588417, 63.467090852996094 837.1357641694464, 63.46717811827914 837.1357230816002, 63.46726101913869 837.1356737775617, 63.46733878431151 837.1356167160282, 63.46741069031392 837.1355524278679, 63.467476068172694 837.1354815111822, 63.4675343096488 837.1354046257403, 63.46758487289611 837.1353224868412, 63.46762728750246 837.1352358586594, 63.467661158866065 837.1351455471348, 63.4676861718667 837.1350523924757, 63.467702093797406 837.1349572613407, 63.467708776529435 837.1348610387768, 63.46770615789039 837.1347646199847, 0.4416986518692786 2.8109951191469182, 2.8303460222879817 1.3160828518482706, 2.830426554698841 1.3160267708581157, 2.830501202425849 1.3159630663566408, 2.830569246570587 1.3158923518530192, 2.8306300318307454 1.3158153083665773, 2.8306829728110396 1.315732677868206, 2.8307275596608887 1.3156452561347747, 2.830763362984556 1.3155538850853663, 2.8307900379764614 1.315459444673135, 2.8308073277418515 1.3153628444108767, 2.830815065770834 1.3152650146119242, 2.8308131775419594 1.3151668974307207, 2.8308016812399037 1.3150694377893573, 2.8307806875803414 1.3149735742774575, 2.8307503987436893 1.314880230113045, 2.8307111064280024 1.3147903042514502, 2.8306631890397598 1.3147046627278787, 2.8306071080496054 1.3146241303170192, 2.83054340354813 1.3145494825900113, 2.8304726890445084 1.3144814384452732, 2.8303956455580668 1.314420653185115, 2.8303130150596956 1.3143677122048207, 2.830225593326264 1.3143231253549714, 2.8301342222768557 1.3142873220313045, 2.8300397818646243 1.314260647039399, 2.829943181602366 1.3142433572740089, 2.8298453518034137 1.3142356192450266, 2.82974723462221 1.3142375074739012, 2.829649774980847 1.3142490037759564, 2.8295539114689467 1.314269997435519, 2.8294605673045345 1.314300286272171, 2.8293706414429396 1.314339578587858, 2.829284999919368 1.3143874959761004, 0.4415284662814811 2.8087422415374275, 0.2294794123879221 0.0016857109986829, 643.793726227874 322.8368094262471, 643.7938208097363 322.8368509054108, 643.7939191653321 322.8368824082116, 643.7940202455762 322.83690359863266, 643.7941229723215 322.8369142506517, 643.7942262498586 322.8369142506517, 643.7943289766039 322.83690359863266, 643.794430056848 322.8368824082116, 643.7945284124438 322.8368509054108, 643.7946229943061 322.8368094262471, 1287.3604483832162 0.0008938414241513, 1287.360534647369 0.0008450752575891, 1287.3606156614753 0.0007880107536255, 1287.360690630006 0.0007232082653356, 1287.3607588167963 0.0006513041300236, 1287.3608195522766 0.0005730044206326, 1287.360872240046 0.0004890780123603, 1287.3609163627298 0.0004003490325793, 1287.3609514870584 0.0003076887681997, 1287.3609772681236 0.0002120071099436, 1287.360993452765 0.000114243617542, 1287.3609998820546 1.535829359450424e-5, 1287.3609964928594 -8.367784331404813e-5, 1287.36098331846 -0.0001818922936694, 1287.3609604882242 -0.0002783206266259, 1287.3609282263371 -0.0003720159503734, 1287.3608868495985 -0.0004620582102763, 1287.3608367643135 -0.0005475632234823, 1287.3607784623016 -0.0006276913612821, 1287.360712516068 -0.0007016557939636, 1287.3606395731806 -0.0007687302171989, 1287.360560349913 -0.0008282559840935, 1287.3604756242091 -0.0008796485728637, 1287.3603862280454 -0.000922403326632, 1287.3602930392601 -0.0009561004089774, 1287.360196972934 -0.0009804089265791, 1287.3600989724039 -0.0009950901784711, 1287.3600000000001 -0.001, 0 -0.001, -9.801714032956045e-5 -0.0009951847266722, -0.0001950903220161 -0.0009807852804032, -0.0002902846772545 -0.0009569403357322, -0.0003826834323651 -0.0009238795325113, -0.000471396736826 -0.0008819212643484, -0.0005555702330196 -0.0008314696123025, -0.0006343932841636 -0.0007730104533627, -0.0007071067811865 -0.0007071067811865, -0.0007730104533627 -0.0006343932841636, -0.0008314696123025 -0.0005555702330196, -0.0008819212643484 -0.000471396736826, -0.0009238795325113 -0.0003826834323651, -0.0009569403357322 -0.0002902846772545, -0.0009807852804032 -0.0001950903220161, -0.0009951847266722 -9.801714032956059e-5, -0.001 0, -0.0009951847266722 9.801714032956083e-5, -0.0009807852804032 0.0001950903220161, -0.0009569403357322 0.0002902846772545, -0.0009238795325113 0.0003826834323651, -0.0008819212643484 0.000471396736826, -0.0008314696123025 0.0005555702330196, -0.0007730104533627 0.0006343932841636, -0.0007071067811865 0.0007071067811865, -0.0006343932841636 0.0007730104533627, -0.0005555702330196 0.0008314696123025, -0.000471396736826 0.0008819212643484, -0.0003826834323651 0.0009238795325113, -0.0002902846772545 0.0009569403357322, -0.0001950903220161 0.0009807852804032, -9.801714032956064e-5 0.0009951847266722, 0 0.001, 0.2274219144119125 0.001), (0.2325729338548419 0.001, 1287.3557762883263 0.001, 643.79417461109 322.8347968181458, 0.2325729338548419 0.001), (0.4397834960783947 2.8121937012068052, 63.46537484733379 837.130454241116, -192.67180204771913 384.77802419204244, -192.67185438294055 384.7779414858286, -192.6719145525729 384.7778642918615, -192.67198198023357 384.7777933496048, -192.6720560200133 384.7777293386352, -192.67213596266322 384.7776728721325, -192.67222104238937 384.7776244910059, -192.67231044418804 384.7775846587124, -192.6724033116532 384.7775537568172, -192.67249875518016 384.7775320813387, -192.6725958604874 384.77751983991254, -192.67269369737474 384.777517149803, -192.6727913286339 384.7775240367794, -708.8084425867735 446.6884589304305, 0.4397834960783947 2.8121937012068052))']
2025-08-12 12:11:43,371 - INFO - [calculate_relationships] Intermediate results: adjacency=0, intersections=0, containment=0, overlap=0.0
2025-08-12 12:11:43,371 - INFO - [calculate_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:43,372 - WARNING - [calculate_relationships] All relational features are zero/default. Strokes: [{'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}]
2025-08-12 12:11:43,372 - INFO - [extract_relational_features] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:43,373 - DEBUG - [extract_relational_features] Output is JSON serializable.
2025-08-12 12:11:43,374 - INFO - [robust_curvature] INPUT: [[3.55085881e-01 4.75316416e-16]
 [1.00000000e+00 4.75316416e-16]
 [6.77600137e-01 3.85643865e-01]
 [3.55200275e-01 0.00000000e+00]
 [3.86880078e-01 1.00000000e+00]
 [2.58564841e-01 4.59637443e-01]
 [0.00000000e+00 5.33593829e-01]
 [3.56503502e-01 1.57111508e-03]]
2025-08-12 12:11:43,374 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,374 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,374 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:43,376 - INFO - [robust_curvature] INPUT: [[3.55085881e-01 4.75316416e-16]
 [1.00000000e+00 4.75316416e-16]
 [6.77600137e-01 3.85643865e-01]
 [3.55200275e-01 0.00000000e+00]
 [3.56503502e-01 1.57111508e-03]]
2025-08-12 12:11:43,376 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,376 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,377 - INFO - [robust_curvature] INPUT: [[0.38688008 1.        ]
 [0.25856484 0.45963744]
 [0.         0.53359383]]
2025-08-12 12:11:43,377 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,377 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,378 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:43,379 - INFO - [robust_curvature] INPUT: [[3.57565377e-01 6.02720406e-06]
 [9.96289133e-01 1.47942967e-03]
 [6.77600137e-01 3.82685006e-01]
 [3.56558616e-01 5.31568847e-03]
 [3.86266295e-01 9.94090771e-01]
 [2.58065170e-01 4.61994129e-01]
 [2.35956134e-03 5.31269136e-01]
 [3.55130424e-01 3.60606470e-03]]
2025-08-12 12:11:43,379 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,379 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,380 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:43,381 - INFO - [robust_curvature] INPUT: [[3.57565377e-01 6.02720406e-06]
 [9.96289133e-01 1.47942967e-03]
 [6.77600137e-01 3.82685006e-01]
 [3.56558616e-01 5.31568847e-03]
 [3.55130424e-01 3.60606470e-03]]
2025-08-12 12:11:43,381 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,381 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,382 - INFO - [robust_curvature] INPUT: [[0.3862663  0.99409077]
 [0.25806517 0.46199413]
 [0.00235956 0.53126914]]
2025-08-12 12:11:43,382 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,383 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,383 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:43,384 - INFO - [robust_curvature] INPUT: [[4.23879799e-01 4.09801144e-04]
 [8.96688744e-01 4.10525017e-02]
 [6.77438326e-01 3.03600040e-01]
 [3.93036970e-01 1.47624141e-01]
 [3.69823109e-01 8.35742041e-01]
 [2.44751011e-01 5.24790018e-01]
 [6.56702788e-02 4.69069157e-01]
 [3.18546476e-01 5.81585504e-02]]
2025-08-12 12:11:43,384 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,384 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,385 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:43,385 - INFO - [robust_curvature] INPUT: [[4.23879799e-01 4.09801144e-04]
 [8.96688744e-01 4.10525017e-02]
 [6.77438326e-01 3.03600040e-01]
 [3.93036970e-01 1.47624141e-01]
 [3.18546476e-01 5.81585504e-02]]
2025-08-12 12:11:43,386 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,386 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,387 - INFO - [robust_curvature] INPUT: [[0.36982311 0.83574204]
 [0.24475101 0.52479002]
 [0.06567028 0.46906916]]
2025-08-12 12:11:43,387 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,387 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,387 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:43,388 - INFO - [robust_curvature] INPUT: [[0.50930238 0.05231556]
 [0.68903349 0.10031933]
 [0.6410294  0.21002806]
 [0.46889909 0.36246783]
 [0.34554819 0.55980025]
 [0.24003676 0.55624922]
 [0.19507598 0.37856742]
 [0.30090942 0.16069858]]
2025-08-12 12:11:43,388 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,389 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,389 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:43,390 - INFO - [robust_curvature] INPUT: [[0.46889909 0.36246783]
 [0.34554819 0.55980025]
 [0.24003676 0.55624922]
 [0.19507598 0.37856742]
 [0.30090942 0.16069858]]
2025-08-12 12:11:43,390 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,390 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,392 - INFO - [robust_curvature] INPUT: [[0.50930238 0.05231556]
 [0.68903349 0.10031933]
 [0.6410294  0.21002806]]
2025-08-12 12:11:43,392 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,392 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,393 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:43,393 - INFO - [robust_curvature] INPUT: [[0.45976087 0.20131693]
 [0.5119386  0.20582198]
 [0.51104498 0.262901  ]
 [0.45916732 0.34047332]
 [0.3879273  0.39409044]
 [0.33748901 0.39093181]
 [0.33618018 0.3319254 ]
 [0.38632645 0.25298537]]
2025-08-12 12:11:43,393 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,394 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,394 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:43,395 - INFO - [robust_curvature] INPUT: [[0.45916732 0.34047332]
 [0.3879273  0.39409044]
 [0.33748901 0.39093181]
 [0.33618018 0.3319254 ]
 [0.38632645 0.25298537]]
2025-08-12 12:11:43,395 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,396 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,396 - INFO - [robust_curvature] INPUT: [[0.45976087 0.20131693]
 [0.5119386  0.20582198]
 [0.51104498 0.262901  ]]
2025-08-12 12:11:43,396 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:43,397 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:43,397 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:43,397 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}
2025-08-12 12:11:43,399 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 4, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}
2025-08-12 12:11:43,400 - INFO - [_calculate_image_features] INPUTS: vertices=[(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)], strokes=[{'area': 1.414261612492981e-07, 'perimeter': 0.5278884733754479, 'centroid': [-0.13795776870305793, 0.4999996943311531], 'bounds': [-0.2674667438557801, 0.4999991230874423, -0.0035225071770019507, 0.5000000000000001], 'width': 0.21831509372010097, 'height': 6.984409007815273e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.5278884733754479, 'analytic_vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'open_stroke_perimeter': 0.894, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.894-0.500', 'vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'geometry': {'area': 9.567835179922365e-08, 'perimeter': 0.43663018744760007, 'centroid': [-0.1499329252475837, 0.5000002724327454], 'bounds': [-0.24565818720400864, 0.5000000000000001, -0.02734309348390767, 0.5000006984409009], 'width': 0.21831509372010097, 'height': 6.984409007815273e-07}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'open_stroke_perimeter': 2.972254835764386, 'shape_modifier': 'normal', 'command': 'line_circle_0.500-0.926', 'vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'geometry': {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 7.588537133981603e-08, 'perimeter': 0.4394052555546306, 'centroid': [0.3109586439780787, 0.24656658274852342], 'bounds': [0.252836624644989, 0.1686463448745573, 0.38419792057895974, 0.34475271778363603], 'width': 0.15199407613158433, 'height': 0.2037672151518229, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.4394052555546306, 'analytic_vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'open_stroke_perimeter': 0.49999999999999994, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.500-0.648', 'vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'geometry': {'area': 1.0967494884018061e-07, 'perimeter': 0.5084221755756141, 'centroid': [0.2796761823461985, 0.20462863933486622], 'bounds': [0.20104750847124048, 0.0992165075645618, 0.3530415846028248, 0.3029837227163847], 'width': 0.15199407613158433, 'height': 0.2037672151518229}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 7.47061055813127e-08, 'perimeter': 0.23056329883988663, 'centroid': [0.5297660874787232, 0.5496166794475756], 'bounds': [0.5, 0.5, 0.5593054379736618, 0.5988570873350761], 'width': 0.0719681870006682, 'height': 0.11996480577096169, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.23056329883988663, 'analytic_vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'open_stroke_perimeter': 0.5830000000000001, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.583-0.164', 'vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'geometry': {'area': 9.295655572236564e-08, 'perimeter': 0.2797925986667036, 'centroid': [0.6042612405072892, 0.6737953549797835], 'bounds': [0.5655132906036104, 0.6092050461491508, 0.6374814776042786, 0.7291698519201125], 'width': 0.0719681870006682, 'height': 0.11996480577096169}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'open_stroke_perimeter': 1.8758110245970938, 'shape_modifier': 'normal', 'command': 'line_triangle_0.361-0.930', 'vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'geometry': {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'open_stroke_perimeter': 2.1459679914218865, 'shape_modifier': 'normal', 'command': 'line_circle_0.361-0.313', 'vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'geometry': {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 9.679752384426747e-08, 'perimeter': 0.32814524493368724, 'centroid': [0.944861857691453, 0.29066432229848554], 'bounds': [0.8790568242189302, 0.25177067301756295, 1.0275141715876894, 0.3216293979728206], 'width': 0.14008999751208018, 'height': 0.06592134898429802, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.32814524493368724, 'analytic_vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'open_stroke_perimeter': 0.583, 'shape_modifier': 'normal', 'command': 'line_normal_0.583-0.930', 'vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'geometry': {'area': 8.276378296351479e-08, 'perimeter': 0.30965032961705047, 'centroid': [0.9453279505155917, 0.29044496914180473], 'bounds': [0.8874241740756093, 0.25177067301756295, 1.0275141715876894, 0.317692022001861], 'width': 0.14008999751208018, 'height': 0.06592134898429802}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}], geometry={'area': 0.12433152925499794, 'perimeter': 1.6501113434590904, 'centroid': [0.677600137349416, 0.12854795515194184], 'bounds': [0.3552002746988321, 4.753164162310427e-16, 1.0, 0.3856438654558245], 'width': 0.6447997253011679, 'height': 0.385643865455824}
2025-08-12 12:11:43,400 - DEBUG - [POLYGON CREATION] Attempting to create Polygon with vertices: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-12 12:11:43,400 - DEBUG - [POLYGON REPAIR] Final polygon: is_valid=True, is_empty=False, area=0.5084825935046632
2025-08-12 12:11:43,401 - INFO - [_calculate_perimeter] INPUT vertices: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-12 12:11:43,401 - INFO - [_calculate_perimeter] OUTPUT perimeter: 4.117589844652146
2025-08-12 12:11:43,401 - INFO - [robust_curvature] INPUT: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-12 12:11:43,402 - INFO - [robust_curvature] OUTPUT: 2.252643883464292
2025-08-12 12:11:43,403 - INFO - [robust_angular_variance] Computed angular variance: 0.247408 for 8 vertices.
2025-08-12 12:11:43,403 - INFO - [complexity] Calling calculate_complexity with vertices: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-12 12:11:43,403 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,404 - INFO - Complexity: n=8, n_norm=0.33, curvature=1.00, irregularity=0.13, result=0.49
2025-08-12 12:11:43,404 - INFO - [complexity] Output for vertices count 8: 0.49298736326093107
2025-08-12 12:11:43,405 - INFO - [_calculate_image_features] polsby_popper: 0.17429059689039136
2025-08-12 12:11:43,408 - INFO - [_calculate_image_features] OUTPUT: {'bounding_box': (0.0, 0.0, 1.0, 1.0), 'centroid': [0.677600137349416, 0.12854795515194184], 'width': 0.6447997253011679, 'height': 0.385643865455824, 'area_raw': 0.5084825935046632, 'area_normalized': 1.0, 'perimeter_raw': 4.117589844652146, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.6720082518077304, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.37687713209159157, 'polsby_popper_compactness': 0.17429059689039136, 'eccentricity': 0.541552212030195, 'symmetry_score': 0.40273020218695216, 'horizontal_symmetry': 0.6007061294530136, 'vertical_symmetry': 0.4500485603803981, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 8.0, 'visual_complexity': 0.5711116454474393, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'moment_of_inertia': 0.1988356493263487, 'irregularity_score': 0.131603482971322, 'standardized_complexity': 0.49298736326093107, 'clustering_heights': [0.09193889485037389, 0.2259941598047435, 0.27551878496355275, 0.49314337760036253, 1.462991292310712, 4.219278015493697], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 12:11:43,410 - DEBUG - [_calculate_composition_features] INPUTS: strokes count=7
2025-08-12 12:11:43,410 - DEBUG - [_calculate_composition_features] OUTPUT: {'stroke_type_distribution': {'line': 7}, 'shape_modifier_distribution': {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'zigzag', 'composition_complexity': 11, 'homogeneity_score': 0.30612244897959184, 'pattern_regularity': 0.5714285714285714}
2025-08-12 12:11:43,411 - INFO - [_calculate_physics_features] INPUT vertices: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-12 12:11:43,411 - INFO - [_calculate_physics_features] INPUT centroid: [0.677600137349416, 0.12854795515194184]
2025-08-12 12:11:43,411 - INFO - [_calculate_physics_features] INPUT strokes: ['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-12 12:11:43,411 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,413 - INFO - [QualityMonitor] physics_features: {'degenerate': False, 'area': 0.12433152925499794}
2025-08-12 12:11:43,413 - INFO - [_calculate_physics_features] polsby_popper: 0.6802566981244207
2025-08-12 12:11:43,416 - INFO - [robust_angular_variance] Computed angular variance: 0.247408 for 8 vertices.
2025-08-12 12:11:43,417 - INFO - [_calculate_physics_features] OUTPUT: {'moment_of_inertia': 0.1988356493263487, 'center_of_mass': [0.677600137349416, 0.12854795515194184], 'polsby_popper_compactness': 0.6802566981244207, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'edge_length_variance': 0.07423181245043547}
2025-08-12 12:11:43,417 - INFO - [calculate_shape_relationships] INPUT: shapes=[{'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}], buffer_amt=0.001
2025-08-12 12:11:43,418 - DEBUG - [calculate_shape_relationships] Shape 0 vertices: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,418 - WARNING - calculate_shape_relationships: No valid geometries found.
2025-08-12 12:11:43,418 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal'], n=2
2025-08-12 12:11:43,419 - DEBUG - [ensure_str_list] Converting list: ['normal']
2025-08-12 12:11:43,419 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,419 - DEBUG - [ensure_str_list] Result: ['normal']
2025-08-12 12:11:43,419 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal']
2025-08-12 12:11:43,420 - DEBUG - [_extract_ngram_features] OUTPUT: {}
2025-08-12 12:11:43,420 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:43,420 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal'], n=2
2025-08-12 12:11:43,420 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal']
2025-08-12 12:11:43,421 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,421 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,421 - DEBUG - [ensure_str_list] Result: ['normal', 'normal']
2025-08-12 12:11:43,422 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal']
2025-08-12 12:11:43,422 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 1}
2025-08-12 12:11:43,422 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:43,422 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal'], n=2
2025-08-12 12:11:43,423 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal']
2025-08-12 12:11:43,423 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,423 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,423 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,425 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal']
2025-08-12 12:11:43,425 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal']
2025-08-12 12:11:43,425 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 2}
2025-08-12 12:11:43,425 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:43,426 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 12:11:43,426 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,426 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,426 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,427 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,427 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,427 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,427 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,427 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-12 12:11:43,429 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:43,429 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 12:11:43,429 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,429 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,430 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,430 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,430 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,430 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,430 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,431 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,431 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 4}
2025-08-12 12:11:43,431 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:43,431 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 12:11:43,431 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,432 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,432 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,432 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,432 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,433 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,433 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,433 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,433 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,434 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-12 12:11:43,434 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:43,434 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 12:11:43,434 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,434 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,435 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,435 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,435 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,436 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,436 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,436 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,436 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,437 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,437 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 6}
2025-08-12 12:11:43,437 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:43,437 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,438 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,438 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,438 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,439 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,439 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,439 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,439 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,439 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,441 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,441 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,441 - DEBUG - [_detect_alternation] OUTPUT: 0.14285714285714285
2025-08-12 12:11:43,441 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 12:11:43,441 - INFO - [extract_regularity_features] INPUT: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,441 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,442 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,442 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,442 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,443 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,443 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,443 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,443 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,444 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,444 - INFO - [extract_regularity_features] OUTPUT: {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 7}}
2025-08-12 12:11:43,444 - DEBUG - [extract_regularity_features] Output is JSON serializable.
2025-08-12 12:11:43,444 - INFO - [extract_dominant_shape_modifiers] INPUT: {'modifiers': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']}
2025-08-12 12:11:43,445 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,445 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,445 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,445 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,446 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,446 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,446 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,446 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:43,447 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:43,447 - INFO - [extract_dominant_shape_modifiers] OUTPUT: {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 7}}
2025-08-12 12:11:43,447 - DEBUG - [extract_dominant_shape_modifiers] Output is JSON serializable.
2025-08-12 12:11:43,447 - WARNING - [PATCH] Failed to load canonical summary for image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4: type object 'FileIO' has no attribute 'load_canonical_features'
2025-08-12 12:11:43,449 - DEBUG - [process_single_image] Passing topo_shape_list to extract_topological_features: [{'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}]
2025-08-12 12:11:43,449 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,450 - INFO - [QualityMonitor] topological_features: {'degenerate': False, 'area': 0.12433152925499794}
2025-08-12 12:11:43,471 - INFO - [extract_stroke_features_from_shapes] Shape 0 actions: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-12 12:11:43,471 - INFO - [extract_stroke_features_from_shapes] Shape 0: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None
2025-08-12 12:11:43,471 - INFO - [extract_stroke_features_from_shapes] Shape 0 geometry: {'area': 0.12433152925499794, 'perimeter': 1.6501113434590904, 'centroid': [0.677600137349416, 0.12854795515194184], 'bounds': [0.3552002746988321, 4.753164162310427e-16, 1.0, 0.3856438654558245], 'width': 0.6447997253011679, 'height': 0.385643865455824, 'robust_curvature': 2.252643883464292, 'robust_angular_variance': 0.2474078250225908, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 2.4360995595356707}
2025-08-12 12:11:43,471 - INFO - [extract_stroke_features_from_shapes] Shape 0: num_actions=7 | actions=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-12 12:11:43,472 - INFO - [LOGGING PATCH] [extract_stroke_features_from_shapes] shape_idx=0 initial shape_vertices: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,472 - INFO - [LOGGING PATCH] [extract_stroke_features_from_shapes] shape_idx=0 deduped/closed shape_vertices: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,472 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=0 | stroke=line_zigzag_0.894-0.500
2025-08-12 12:11:43,473 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,473 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,473 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,474 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,474 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,474 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,475 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,475 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,476 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,476 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,478 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,478 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,479 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 0: {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}
2025-08-12 12:11:43,479 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=1 | stroke=line_circle_0.500-0.926
2025-08-12 12:11:43,479 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,479 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:43,480 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:43,480 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,480 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,481 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,481 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-12 12:11:43,481 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.894-0.500
2025-08-12 12:11:43,482 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,482 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,482 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,483 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,483 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,483 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,483 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,483 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,485 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,485 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,486 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,487 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,487 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,487 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.500-0.926
2025-08-12 12:11:43,487 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,488 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,488 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:43,488 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:43,489 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,489 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,489 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,490 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,491 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,492 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,492 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,492 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,493 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,493 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:43,494 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,494 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:43,494 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,496 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,497 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-12 12:11:43,497 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.500-0.648
2025-08-12 12:11:43,497 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,498 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,498 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,498 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,498 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,499 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,499 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,500 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,500 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,501 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,502 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,502 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,502 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,503 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:43,504 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,504 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,504 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,506 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,507 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,507 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.583-0.164
2025-08-12 12:11:43,507 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,508 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,508 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,508 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,509 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,509 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,510 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,510 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,511 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,513 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,513 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,513 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,513 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,514 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:43,515 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,515 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,515 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,517 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,518 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,518 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.361-0.930
2025-08-12 12:11:43,518 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,519 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,519 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 12:11:43,519 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 12:11:43,520 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,520 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,520 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,521 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,522 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,523 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,524 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,524 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,525 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,525 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:43,526 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,526 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 12:11:43,526 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,527 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,528 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_sharp_angles': True}
2025-08-12 12:11:43,528 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.361-0.313
2025-08-12 12:11:43,528 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,529 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,529 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:43,529 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:43,530 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,530 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,530 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,531 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,531 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,533 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,534 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,534 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,534 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,535 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:43,535 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,536 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:43,536 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,539 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,539 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-12 12:11:43,539 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.583-0.930
2025-08-12 12:11:43,540 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,540 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,540 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:43,541 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:43,541 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,541 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,542 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,542 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,543 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,545 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,545 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,546 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,546 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,546 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 12:11:43,547 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,547 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,548 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,550 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,550 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'is_simple': True}
2025-08-12 12:11:43,550 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 12:11:43,551 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 12:11:43,552 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,552 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=5449.200528703534. Returning 0.0.
2025-08-12 12:11:43,552 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,553 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,553 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 12:11:43,553 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 12:11:43,554 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:43,554 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,555 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:43,555 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,556 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,557 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-12 12:11:43,557 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.200528703534, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}, 'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}, 'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}
2025-08-12 12:11:43,557 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_zigzag_0.500-0.648
2025-08-12 12:11:43,558 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,558 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,558 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,558 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,559 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,559 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,559 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-12 12:11:43,559 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.894-0.500
2025-08-12 12:11:43,561 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,561 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,561 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,561 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,562 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,562 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,562 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,563 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,563 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,564 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,564 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,565 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,566 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,566 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.500-0.926
2025-08-12 12:11:43,566 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,567 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,567 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:43,567 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:43,568 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,568 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,568 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,569 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,570 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,571 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,572 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,572 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,572 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,573 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:43,574 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,574 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:43,574 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,575 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,576 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-12 12:11:43,576 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.500-0.648
2025-08-12 12:11:43,576 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,577 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,577 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,577 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,577 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,579 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,579 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,579 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,580 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,582 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,582 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,582 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,583 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,583 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:43,584 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,584 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,584 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,585 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,586 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,586 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.583-0.164
2025-08-12 12:11:43,586 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,586 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,587 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,587 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,587 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,587 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,589 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,589 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,590 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,591 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,591 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,591 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,592 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,592 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:43,593 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,593 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,593 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,595 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,595 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,596 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.361-0.930
2025-08-12 12:11:43,596 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,597 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,597 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 12:11:43,597 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 12:11:43,597 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,598 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,598 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,598 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,599 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,599 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,600 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,600 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,601 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,601 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:43,601 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,602 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 12:11:43,602 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,603 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,604 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_sharp_angles': True}
2025-08-12 12:11:43,604 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.361-0.313
2025-08-12 12:11:43,604 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,605 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,605 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:43,605 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:43,605 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,606 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,606 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,606 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,607 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,608 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,609 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,609 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,609 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,609 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:43,610 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,610 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:43,611 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,613 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,613 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-12 12:11:43,613 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.583-0.930
2025-08-12 12:11:43,613 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,614 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,614 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:43,614 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:43,615 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,615 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,615 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,616 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,616 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,617 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,618 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,618 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,618 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,619 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 12:11:43,619 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,620 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,620 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,621 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,622 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'is_simple': True}
2025-08-12 12:11:43,622 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 12:11:43,622 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 12:11:43,623 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,623 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=5449.200528703534. Returning 0.0.
2025-08-12 12:11:43,624 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,624 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,624 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 12:11:43,625 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 12:11:43,625 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:43,625 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,626 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,626 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,628 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,628 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,628 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.200528703534, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}, 'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}, 'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}
2025-08-12 12:11:43,629 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_zigzag_0.583-0.164
2025-08-12 12:11:43,629 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,629 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,630 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,630 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,630 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,630 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,631 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-12 12:11:43,631 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.894-0.500
2025-08-12 12:11:43,632 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,632 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,632 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,633 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,633 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,633 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,633 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,634 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,635 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,635 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,635 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,637 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,637 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,638 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.500-0.926
2025-08-12 12:11:43,638 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,638 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,640 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:43,640 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:43,640 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,640 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,641 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,641 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,642 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,644 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,644 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,644 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,645 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,645 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:43,645 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,646 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:43,646 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,647 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,647 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-12 12:11:43,648 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.500-0.648
2025-08-12 12:11:43,648 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,648 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,649 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,649 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,649 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,650 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,650 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,650 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,651 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,653 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,654 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,654 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,654 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,654 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:43,655 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,655 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,656 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,657 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,657 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,657 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.583-0.164
2025-08-12 12:11:43,658 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,658 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,659 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,659 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,659 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,659 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,660 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,660 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,661 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,662 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,662 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,662 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,663 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,663 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:43,663 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,663 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,664 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,666 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,666 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,666 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.361-0.930
2025-08-12 12:11:43,667 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,667 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,667 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 12:11:43,668 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 12:11:43,668 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,669 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,669 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,669 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,670 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,672 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,672 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,672 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,673 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,674 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:43,674 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,674 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 12:11:43,675 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,676 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,676 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_sharp_angles': True}
2025-08-12 12:11:43,677 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.361-0.313
2025-08-12 12:11:43,677 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,677 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,678 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:43,678 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:43,678 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,679 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,679 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,679 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,680 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,681 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,681 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,682 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,682 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,682 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:43,683 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,683 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:43,683 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,685 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,686 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-12 12:11:43,686 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.583-0.930
2025-08-12 12:11:43,686 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,687 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,687 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:43,687 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:43,687 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,688 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,688 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,689 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,690 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,691 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,692 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,692 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,692 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,693 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 12:11:43,693 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,694 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,694 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,696 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,696 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'is_simple': True}
2025-08-12 12:11:43,696 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 12:11:43,697 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 12:11:43,697 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,697 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=5449.200528703534. Returning 0.0.
2025-08-12 12:11:43,698 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,698 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,699 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 12:11:43,699 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 12:11:43,699 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:43,700 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,700 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,700 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,702 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,703 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,703 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.200528703534, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}, 'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}, 'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}
2025-08-12 12:11:43,703 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=4 | stroke=line_triangle_0.361-0.930
2025-08-12 12:11:43,703 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,703 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 12:11:43,704 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 12:11:43,704 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,705 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,705 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,705 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-12 12:11:43,707 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.894-0.500
2025-08-12 12:11:43,707 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,707 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,707 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,707 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,708 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,708 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,708 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,709 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,710 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,710 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,710 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,712 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,712 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,712 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.500-0.926
2025-08-12 12:11:43,713 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,713 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,713 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:43,714 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:43,714 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,714 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,714 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,716 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,716 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,717 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,718 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,718 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,719 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,719 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:43,720 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,720 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:43,720 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,722 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,722 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-12 12:11:43,722 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.500-0.648
2025-08-12 12:11:43,723 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,723 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,723 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,724 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,724 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,724 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,725 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,725 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,726 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,727 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,727 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,728 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,728 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,728 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:43,730 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,730 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,730 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,732 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,732 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,732 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.583-0.164
2025-08-12 12:11:43,732 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,733 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,733 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,734 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,734 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,734 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,735 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,735 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,736 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,738 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,738 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,738 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,739 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,739 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:43,740 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,740 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,740 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,742 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,742 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,742 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.361-0.930
2025-08-12 12:11:43,742 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,743 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,743 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 12:11:43,743 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 12:11:43,743 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,744 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,744 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,744 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,745 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,747 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,747 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,747 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,748 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,748 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:43,748 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,748 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 12:11:43,749 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,750 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,750 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_sharp_angles': True}
2025-08-12 12:11:43,751 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.361-0.313
2025-08-12 12:11:43,751 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,751 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,751 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:43,753 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:43,753 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,753 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,754 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,754 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,755 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,757 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,757 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,758 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,758 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,758 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:43,759 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,759 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:43,759 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,760 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,761 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-12 12:11:43,761 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.583-0.930
2025-08-12 12:11:43,761 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,762 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,762 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:43,762 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:43,762 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,763 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,763 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,763 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,764 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,766 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,766 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,766 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,767 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,767 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 12:11:43,767 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,769 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,769 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,770 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,771 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'is_simple': True}
2025-08-12 12:11:43,771 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 12:11:43,771 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 12:11:43,772 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,772 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=5449.200528703534. Returning 0.0.
2025-08-12 12:11:43,773 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,773 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,773 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 12:11:43,774 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 12:11:43,774 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:43,775 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,775 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 12:11:43,776 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,777 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,777 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_sharp_angles': True}
2025-08-12 12:11:43,777 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 4: {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.200528703534, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}, 'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}, 'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}
2025-08-12 12:11:43,778 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=5 | stroke=line_circle_0.361-0.313
2025-08-12 12:11:43,778 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,778 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:43,779 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:43,779 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,779 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,780 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,780 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-12 12:11:43,780 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.894-0.500
2025-08-12 12:11:43,781 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,781 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,781 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,781 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,782 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,782 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,782 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,783 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,783 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,784 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,784 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,787 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,787 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,787 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.500-0.926
2025-08-12 12:11:43,787 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,788 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,788 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:43,788 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:43,788 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,789 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,789 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,790 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,791 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,792 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,792 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,793 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,793 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,793 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:43,794 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,794 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:43,795 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,796 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,797 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-12 12:11:43,797 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.500-0.648
2025-08-12 12:11:43,797 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,798 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,798 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,798 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,798 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,799 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,799 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,800 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,801 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,803 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,803 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,804 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,804 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,805 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:43,805 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,805 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,806 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,807 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,807 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,808 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.583-0.164
2025-08-12 12:11:43,808 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,809 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,809 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,809 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,809 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,810 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,810 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,810 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,811 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,812 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,812 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,812 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,813 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,813 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:43,813 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,815 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,815 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,817 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,817 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,817 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.361-0.930
2025-08-12 12:11:43,818 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,818 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,819 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 12:11:43,819 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 12:11:43,819 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,819 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,819 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,821 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,822 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,823 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,823 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,824 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,824 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,824 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:43,825 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,825 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 12:11:43,825 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,826 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,827 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_sharp_angles': True}
2025-08-12 12:11:43,827 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.361-0.313
2025-08-12 12:11:43,827 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,828 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,828 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:43,828 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:43,828 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,829 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,829 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,829 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,830 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,831 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,832 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,832 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,833 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,833 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:43,834 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,834 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:43,834 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,837 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,837 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-12 12:11:43,837 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.583-0.930
2025-08-12 12:11:43,838 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,838 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,838 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:43,839 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:43,839 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,839 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,839 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,840 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,840 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,843 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,843 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,843 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,843 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,844 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 12:11:43,844 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,845 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,845 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,847 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,847 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'is_simple': True}
2025-08-12 12:11:43,847 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 12:11:43,848 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 12:11:43,848 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,848 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=5449.200528703534. Returning 0.0.
2025-08-12 12:11:43,849 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,849 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,850 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 12:11:43,850 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 12:11:43,850 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:43,851 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,851 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:43,851 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,853 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,854 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-12 12:11:43,854 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 5: {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.200528703534, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}, 'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}, 'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}
2025-08-12 12:11:43,854 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=6 | stroke=line_normal_0.583-0.930
2025-08-12 12:11:43,855 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,855 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:43,855 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:43,856 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,856 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,856 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,857 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-12 12:11:43,857 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.894-0.500
2025-08-12 12:11:43,857 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,857 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,858 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,858 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,858 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,858 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,858 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,860 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,861 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,861 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,861 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,862 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,863 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,863 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.500-0.926
2025-08-12 12:11:43,863 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,863 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,865 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:43,865 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:43,865 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,866 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,866 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,866 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,867 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,868 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,868 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,869 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,869 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,869 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:43,870 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,870 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:43,871 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,873 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,873 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-12 12:11:43,873 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.500-0.648
2025-08-12 12:11:43,873 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,874 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,874 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,874 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,875 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,875 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,875 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,876 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,876 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,878 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,879 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,879 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,879 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,880 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:43,880 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,881 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,881 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,882 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,883 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,883 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.583-0.164
2025-08-12 12:11:43,883 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,883 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,884 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:43,884 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:43,885 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,885 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,886 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,886 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,887 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,889 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,889 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,889 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,890 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,890 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:43,891 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,891 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,891 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,892 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,892 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,893 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.361-0.930
2025-08-12 12:11:43,893 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,893 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,893 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 12:11:43,894 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 12:11:43,894 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,894 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,894 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,895 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,896 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,898 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,898 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,898 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,898 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,898 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:43,900 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,900 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 12:11:43,901 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,903 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,903 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_sharp_angles': True}
2025-08-12 12:11:43,903 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.361-0.313
2025-08-12 12:11:43,904 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,904 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,904 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:43,904 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:43,905 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,905 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,905 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,906 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,907 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,908 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,908 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,909 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,909 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,909 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:43,911 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,911 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:43,911 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,912 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,912 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-12 12:11:43,913 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.583-0.930
2025-08-12 12:11:43,913 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,914 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,914 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:43,914 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:43,914 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E13C150>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,915 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,915 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-12 12:11:43,915 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,916 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:43,917 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,918 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,918 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,918 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,919 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 12:11:43,919 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,919 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,920 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,921 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,921 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'is_simple': True}
2025-08-12 12:11:43,922 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-12 12:11:43,922 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-12 12:11:43,924 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,924 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=5449.200528703534. Returning 0.0.
2025-08-12 12:11:43,925 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,925 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-12 12:11:43,926 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 12:11:43,926 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}}}
2025-08-12 12:11:43,926 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-12 12:11:43,927 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,927 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:43,928 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,929 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-12 12:11:43,930 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'is_simple': True}
2025-08-12 12:11:43,930 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 6: {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.200528703534, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}, 'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}, 'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 12:11:43,930 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=7
2025-08-12 12:11:43,932 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['is_pattern', 'line_is_long', 'convexity_ratio', 'visual_complexity', 'is_geometric', 'compactness', 'avg_stroke_length', 'geom_complexity', 'num_vertices', 'line_length', 'line_is_short', 'robust_curvature', 'has_repetitive_pattern', 'stroke_length', 'has_curved_edges', 'is_normal', 'robust_angular_variance', 'degenerate_case', 'has_sharp_angles', 'line_is_vertical', 'geometric_complexity', 'line_curvature_score', 'open_stroke_perimeter', 'arc_curvature_score', 'line_angle', 'line_is_horizontal', 'is_simple', 'stroke_index']
2025-08-12 12:11:43,933 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (7) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-12 12:11:43,933 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=7
2025-08-12 12:11:43,933 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 7
2025-08-12 12:11:43,933 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 7, 'num_arcs': 0, 'line_ratio': 1.0, 'arc_ratio': 0.0, 'stroke_diversity': 0}, 'line_aggregate': {'total_line_length': 38141.28317222121, 'avg_line_length': 5448.754738888744, 'line_length_variance': 1.1923713538257943, 'line_angle_variance': 0.0, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'horizontal'}}
2025-08-12 12:11:43,933 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930
2025-08-12 12:11:43,934 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-12 12:11:43,934 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-12 12:11:43,934 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-12 12:11:43,934 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-12 12:11:43,936 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_zigzag_0.894-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_circle_0.500-0.926', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.500-0.648', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_zigzag_0.583-0.164', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_triangle_0.361-0.930', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_circle_0.361-0.313', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.583-0.930', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 12:11:43,936 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 12:11:43,936 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 12:11:43,937 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-12 12:11:43,937 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-12 12:11:43,937 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.4237293391614096, 0.2975557815116552], 'orientation_degrees': 118.30663895797257}, geometry={'area': 0.12433152925499794, 'perimeter': 1.6501113434590904, 'centroid': [0.677600137349416, 0.12854795515194184], 'bounds': [0.3552002746988321, 4.753164162310427e-16, 1.0, 0.3856438654558245], 'width': 0.6447997253011679, 'height': 0.385643865455824}
2025-08-12 12:11:43,938 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-12 12:11:43,938 - DEBUG - [PATCH][actions field] Joined: line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930
2025-08-12 12:11:43,938 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_zigzag_0.894-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_circle_0.500-0.926', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.500-0.648', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_zigzag_0.583-0.164', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_triangle_0.361-0.930', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_circle_0.361-0.313', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.583-0.930', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 12:11:43,939 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:43,939 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-12 12:11:43,939 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-12 12:11:43,939 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:43,940 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:43,940 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|normal': 6}
2025-08-12 12:11:43,941 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 12:11:43,941 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-12 12:11:43,941 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.677600137349416, 0.12854795515194184], 'width': 0.6447997253011679, 'height': 0.385643865455824, 'area_raw': 0.5084825935046632, 'area_normalized': 1.0, 'perimeter_raw': 4.117589844652146, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.6720082518077304, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.37687713209159157, 'polsby_popper_compactness': 0.17429059689039136, 'eccentricity': 0.541552212030195, 'symmetry_score': 0.40273020218695216, 'horizontal_symmetry': 0.6007061294530136, 'vertical_symmetry': 0.4500485603803981, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 8.0, 'visual_complexity': 0.5711116454474393, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'moment_of_inertia': 0.1988356493263487, 'irregularity_score': 0.131603482971322, 'standardized_complexity': 0.49298736326093107, 'clustering_heights': [0.09193889485037389, 0.2259941598047435, 0.27551878496355275, 0.49314337760036253, 1.462991292310712, 4.219278015493697], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 12:11:43,941 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:43,942 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-12 12:11:43,942 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-12 12:11:43,942 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,942 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_zigzag_0.894-0.500, stroke_index=0
2025-08-12 12:11:43,943 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.894, param2=None, param3=0.5
2025-08-12 12:11:43,943 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)]
2025-08-12 12:11:43,944 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], geometry={'width': 0.894, 'height': 1.1102230246251565e-16, 'area': 0.0, 'perimeter': 0.894, 'centroid': [0.052999999999999964, 0.5], 'bounds': [-0.394, 0.5, 0.5, 0.5000000000000001], 'num_vertices': 17, 'analytic_vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'open_stroke_perimeter': 0.894, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,944 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)]
2025-08-12 12:11:43,945 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,945 - INFO - [SoS] Perturbed collinear vertex 1: [0.444125 0.5     ] -> [0.44412463 0.50000011]
2025-08-12 12:11:43,946 - INFO - [SoS] Perturbed collinear vertex 2: [0.38825 0.5    ] -> [0.38824903 0.49999902]
2025-08-12 12:11:43,946 - INFO - [SoS] Perturbed collinear vertex 3: [0.332375 0.5     ] -> [0.33237547 0.49999907]
2025-08-12 12:11:43,946 - INFO - [SoS] Perturbed collinear vertex 4: [0.2765 0.5   ] -> [0.27650086 0.49999968]
2025-08-12 12:11:43,947 - INFO - [SoS] Perturbed collinear vertex 5: [0.220625 0.5     ] -> [0.22062593 0.49999977]
2025-08-12 12:11:43,947 - INFO - [SoS] Perturbed collinear vertex 6: [0.16475 0.5    ] -> [0.16474982 0.5000003 ]
2025-08-12 12:11:43,948 - INFO - [SoS] Perturbed collinear vertex 7: [0.108875 0.5     ] -> [0.10887542 0.49999949]
2025-08-12 12:11:43,948 - INFO - [SoS] Perturbed collinear vertex 8: [0.053 0.5  ] -> [0.0530009  0.49999933]
2025-08-12 12:11:43,948 - INFO - [SoS] Perturbed collinear vertex 9: [-0.002875  0.5     ] -> [-0.00287433  0.50000047]
2025-08-12 12:11:43,949 - INFO - [SoS] Perturbed collinear vertex 10: [-0.05875  0.5    ] -> [-0.05875011  0.50000027]
2025-08-12 12:11:43,949 - INFO - [SoS] Perturbed collinear vertex 11: [-0.114625  0.5     ] -> [-0.11462424  0.49999925]
2025-08-12 12:11:43,950 - INFO - [SoS] Perturbed collinear vertex 12: [-0.1705  0.5   ] -> [-0.1705001   0.49999929]
2025-08-12 12:11:43,950 - INFO - [SoS] Perturbed collinear vertex 13: [-0.226375  0.5     ] -> [-0.22637496  0.5000004 ]
2025-08-12 12:11:43,951 - INFO - [SoS] Perturbed collinear vertex 14: [-0.28225  0.5    ] -> [-0.28224907  0.50000065]
2025-08-12 12:11:43,951 - INFO - [SoS] Perturbed collinear vertex 15: [-0.338125  0.5     ] -> [-0.33812532  0.49999901]
2025-08-12 12:11:43,953 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,954 - INFO - [robust_angular_variance] Computed angular variance: 1.024526 for 17 vertices.
2025-08-12 12:11:43,954 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,954 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,955 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,955 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,955 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,956 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,957 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.5237352967841565}
2025-08-12 12:11:43,958 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.5237352967841565, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,958 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,958 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_circle_0.500-0.926, stroke_index=0
2025-08-12 12:11:43,958 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.5, param2=None, param3=0.926
2025-08-12 12:11:43,959 - INFO - [LOGGING PATCH] [_vertices_from_command] Circle vertices: [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)]
2025-08-12 12:11:43,960 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], geometry={'width': 1.0, 'height': 1.0, 'area': 0.0, 'perimeter': 2.972254835764386, 'centroid': [0.4743282037329585, 0.5040660130838809], 'bounds': [0.0, 0.0, 1.0, 1.0], 'num_vertices': 20, 'analytic_vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'open_stroke_perimeter': 2.972254835764386, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,960 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)]
2025-08-12 12:11:43,960 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,961 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,961 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:43,961 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,963 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275}
2025-08-12 12:11:43,963 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275, 'has_curved_edges': True}
2025-08-12 12:11:43,963 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,963 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_zigzag_0.500-0.648, stroke_index=0
2025-08-12 12:11:43,964 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.5, param2=None, param3=0.648
2025-08-12 12:11:43,964 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)]
2025-08-12 12:11:43,964 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], geometry={'width': 0.2989524915287595, 'height': 0.4007834924354382, 'area': 0.0, 'perimeter': 0.49999999999999994, 'centroid': [0.3505237542356202, 0.29960825378228095], 'bounds': [0.20104750847124048, 0.0992165075645618, 0.5, 0.5], 'num_vertices': 10, 'analytic_vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'open_stroke_perimeter': 0.49999999999999994, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,965 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)]
2025-08-12 12:11:43,965 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,966 - INFO - [SoS] Perturbed collinear vertex 1: [0.46678306 0.4554685 ] -> [0.46678342 0.4554679 ]
2025-08-12 12:11:43,966 - INFO - [SoS] Perturbed collinear vertex 2: [0.43356611 0.410937  ] -> [0.43356638 0.41093658]
2025-08-12 12:11:43,967 - INFO - [SoS] Perturbed collinear vertex 3: [0.40034917 0.3664055 ] -> [0.40034882 0.36640599]
2025-08-12 12:11:43,968 - INFO - [SoS] Perturbed collinear vertex 4: [0.36713223 0.321874  ] -> [0.3671332  0.32187428]
2025-08-12 12:11:43,968 - INFO - [SoS] Perturbed collinear vertex 5: [0.33391528 0.2773425 ] -> [0.33391433 0.27734217]
2025-08-12 12:11:43,969 - INFO - [SoS] Perturbed collinear vertex 6: [0.30069834 0.23281101] -> [0.30069814 0.23281151]
2025-08-12 12:11:43,970 - INFO - [SoS] Perturbed collinear vertex 7: [0.2674814  0.18827951] -> [0.26748185 0.18828017]
2025-08-12 12:11:43,970 - INFO - [SoS] Perturbed collinear vertex 8: [0.23426445 0.14374801] -> [0.23426526 0.14374896]
2025-08-12 12:11:43,971 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,972 - INFO - [robust_angular_variance] Computed angular variance: 1.579137 for 10 vertices.
2025-08-12 12:11:43,972 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,972 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,973 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,973 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,974 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,974 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,975 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 12:11:43,976 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,976 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,976 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_zigzag_0.583-0.164, stroke_index=0
2025-08-12 12:11:43,976 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.583, param2=None, param3=0.164
2025-08-12 12:11:43,976 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)]
2025-08-12 12:11:43,978 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], geometry={'width': 0.2999182481946182, 'height': 0.4999380405608993, 'area': 0.0, 'perimeter': 0.5830000000000001, 'centroid': [0.6499591240973089, 0.7499690202804496], 'bounds': [0.5, 0.5, 0.7999182481946182, 0.9999380405608993], 'num_vertices': 11, 'analytic_vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'open_stroke_perimeter': 0.5830000000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,978 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)]
2025-08-12 12:11:43,978 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,979 - INFO - [SoS] Perturbed collinear vertex 1: [0.52999182 0.5499938 ] -> [0.52999243 0.54999454]
2025-08-12 12:11:43,979 - INFO - [SoS] Perturbed collinear vertex 2: [0.55998365 0.59998761] -> [0.55998409 0.59998696]
2025-08-12 12:11:43,979 - INFO - [SoS] Perturbed collinear vertex 3: [0.58997547 0.64998141] -> [0.5899753  0.64998067]
2025-08-12 12:11:43,980 - INFO - [SoS] Perturbed collinear vertex 4: [0.6199673  0.69997522] -> [0.61996695 0.69997474]
2025-08-12 12:11:43,980 - INFO - [SoS] Perturbed collinear vertex 5: [0.64995912 0.74996902] -> [0.6499584  0.74996815]
2025-08-12 12:11:43,982 - INFO - [SoS] Perturbed collinear vertex 6: [0.67995095 0.79996282] -> [0.67995089 0.79996214]
2025-08-12 12:11:43,982 - INFO - [SoS] Perturbed collinear vertex 7: [0.70994277 0.84995663] -> [0.70994218 0.84995701]
2025-08-12 12:11:43,983 - INFO - [SoS] Perturbed collinear vertex 8: [0.7399346  0.89995043] -> [0.73993375 0.89994957]
2025-08-12 12:11:43,983 - INFO - [SoS] Perturbed collinear vertex 9: [0.76992642 0.94994424] -> [0.76992688 0.94994417]
2025-08-12 12:11:43,984 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:43,985 - INFO - [robust_angular_variance] Computed angular variance: 1.468206 for 11 vertices.
2025-08-12 12:11:43,985 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,985 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,985 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,986 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,986 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:43,986 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,988 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 12:11:43,988 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:43,988 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,988 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_triangle_0.361-0.930, stroke_index=0
2025-08-12 12:11:43,989 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=0.361, param2=None, param3=0.93
2025-08-12 12:11:43,989 - INFO - [LOGGING PATCH] [_vertices_from_command] Triangle vertices: [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)]
2025-08-12 12:11:43,989 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], geometry={'width': 0.5415000000000001, 'height': 0.6252703415323646, 'area': 0.0, 'perimeter': 1.8758110245970938, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'num_vertices': 4, 'analytic_vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'open_stroke_perimeter': 1.8758110245970938, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,990 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)]
2025-08-12 12:11:43,990 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:43,990 - INFO - [SoS] Removed duplicate vertex: [0.861 0.5  ]
2025-08-12 12:11:43,991 - INFO - Convexity: poly_area=0.1693, hull_area=0.1693, ratio=1.0000
2025-08-12 12:11:43,991 - INFO - [robust_angular_variance] Computed angular variance: 0.068539 for 4 vertices.
2025-08-12 12:11:43,992 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,992 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:43,992 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,993 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,993 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 12:11:43,994 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:43,994 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-12 12:11:43,994 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-12 12:11:43,995 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:43,995 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_circle_0.361-0.313, stroke_index=0
2025-08-12 12:11:43,995 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.361, param2=None, param3=0.313
2025-08-12 12:11:43,996 - INFO - [LOGGING PATCH] [_vertices_from_command] Circle vertices: [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)]
2025-08-12 12:11:43,996 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], geometry={'width': 0.722, 'height': 0.722, 'area': 0.0, 'perimeter': 2.1459679914218865, 'centroid': [0.4814649630951961, 0.5029356614465622], 'bounds': [0.139, 0.139, 0.861, 0.861], 'num_vertices': 20, 'analytic_vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'open_stroke_perimeter': 2.1459679914218865, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:43,996 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)]
2025-08-12 12:11:43,997 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:43,997 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:43,998 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:43,998 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,002 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547272}
2025-08-12 12:11:44,002 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547272, 'has_curved_edges': True}
2025-08-12 12:11:44,002 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:44,003 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.583-0.930, stroke_index=0
2025-08-12 12:11:44,003 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.583, param2=None, param3=0.93
2025-08-12 12:11:44,003 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)]
2025-08-12 12:11:44,004 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], geometry={'width': 0.5275141715876894, 'height': 0.24822932698243705, 'area': 0.0, 'perimeter': 0.583, 'centroid': [0.7637570857938447, 0.3758853365087814], 'bounds': [0.5, 0.25177067301756295, 1.0275141715876894, 0.5], 'num_vertices': 11, 'analytic_vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'open_stroke_perimeter': 0.583, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,004 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)]
2025-08-12 12:11:44,004 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,005 - INFO - [SoS] Perturbed collinear vertex 1: [0.55275142 0.47517707] -> [0.55275095 0.47517789]
2025-08-12 12:11:44,006 - INFO - [SoS] Perturbed collinear vertex 2: [0.60550283 0.45035413] -> [0.60550285 0.45035315]
2025-08-12 12:11:44,006 - INFO - [SoS] Perturbed collinear vertex 3: [0.65825425 0.4255312 ] -> [0.658255   0.42553073]
2025-08-12 12:11:44,007 - INFO - [SoS] Perturbed collinear vertex 4: [0.71100567 0.40070827] -> [0.71100601 0.40070897]
2025-08-12 12:11:44,007 - INFO - [SoS] Perturbed collinear vertex 5: [0.76375709 0.37588534] -> [0.76375683 0.37588555]
2025-08-12 12:11:44,008 - INFO - [SoS] Perturbed collinear vertex 6: [0.8165085 0.3510624] -> [0.81650878 0.35106255]
2025-08-12 12:11:44,008 - INFO - [SoS] Perturbed collinear vertex 7: [0.86925992 0.32623947] -> [0.86926029 0.3262393 ]
2025-08-12 12:11:44,009 - INFO - [SoS] Perturbed collinear vertex 8: [0.92201134 0.30141654] -> [0.92201051 0.30141734]
2025-08-12 12:11:44,009 - INFO - [SoS] Perturbed collinear vertex 9: [0.97476275 0.27659361] -> [0.97476251 0.27659455]
2025-08-12 12:11:44,011 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:44,011 - INFO - [robust_angular_variance] Computed angular variance: 1.468206 for 11 vertices.
2025-08-12 12:11:44,011 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,012 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,012 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:44,013 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,013 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,014 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,015 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 12:11:44,016 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 12:11:44,016 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['zigzag', 'circle', 'zigzag', 'zigzag', 'triangle', 'circle', 'normal'], n=2
2025-08-12 12:11:44,016 - DEBUG - [ensure_str_list] Converting list: ['zigzag', 'circle', 'zigzag', 'zigzag', 'triangle', 'circle', 'normal']
2025-08-12 12:11:44,017 - DEBUG - [ensure_str_list] Returning string: zigzag
2025-08-12 12:11:44,017 - DEBUG - [ensure_str_list] Returning string: circle
2025-08-12 12:11:44,017 - DEBUG - [ensure_str_list] Returning string: zigzag
2025-08-12 12:11:44,017 - DEBUG - [ensure_str_list] Returning string: zigzag
2025-08-12 12:11:44,018 - DEBUG - [ensure_str_list] Returning string: triangle
2025-08-12 12:11:44,018 - DEBUG - [ensure_str_list] Returning string: circle
2025-08-12 12:11:44,018 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,018 - DEBUG - [ensure_str_list] Result: ['zigzag', 'circle', 'zigzag', 'zigzag', 'triangle', 'circle', 'normal']
2025-08-12 12:11:44,019 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['zigzag', 'circle', 'zigzag', 'zigzag', 'triangle', 'circle', 'normal']
2025-08-12 12:11:44,019 - DEBUG - [_extract_ngram_features] OUTPUT: {'zigzag|circle': 1, 'circle|zigzag': 1, 'zigzag|zigzag': 1, 'zigzag|triangle': 1, 'triangle|circle': 1, 'circle|normal': 1}
2025-08-12 12:11:44,019 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:44,021 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_4', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/4.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_zigzag_0.894-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_circle_0.500-0.926', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.500-0.648', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_zigzag_0.583-0.164', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_triangle_0.361-0.930', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_circle_0.361-0.313', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.583-0.930', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 7, 'raw_vertices': ['(0.0, 0.0)', '(1287.3600000000001, 0.0)', '(643.79417461109, 322.83591558482294)', '(0.22834922218021347, -3.979039320256561e-13)', '(63.46670899899013, 837.1348399467902)', '(-192.6726722314738, 384.778516919384)', '(-708.8127653910458, 446.689984623101)', '(2.829815511103675, 1.3152351739121855)'], 'vertices': ['(0.35508588118232887, 4.753164162310427e-16)', '(1.0, 4.753164162310427e-16)', '(0.6776001373494158, 0.3856438654558245)', '(0.3552002746988317, 0.0)', '(0.3868800776062828, 1.0)', '(0.2585648407333427, 0.45963744256999434)', '(0.0, 0.5335938289839826)', '(0.35650350172107487, 0.0015711150834388655)'], 'num_vertices': 8, 'position_label': ['0.4237293391614096', '0.2975557815116552'], 'rotation_label_degrees': ['118.30663895797257'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.677600137349416, 0.12854795515194184], 'width': 0.6447997253011679, 'height': 0.385643865455824, 'area_raw': 0.5084825935046632, 'area_normalized': 1.0, 'perimeter_raw': 4.117589844652146, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.6720082518077304, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.37687713209159157, 'polsby_popper_compactness': 0.17429059689039136, 'eccentricity': 0.541552212030195, 'symmetry_score': 0.40273020218695216, 'horizontal_symmetry': 0.6007061294530136, 'vertical_symmetry': 0.4500485603803981, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 8.0, 'visual_complexity': 0.5711116454474393, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'moment_of_inertia': 0.1988356493263487, 'irregularity_score': 0.131603482971322, 'standardized_complexity': 0.49298736326093107, 'clustering_heights': [0.09193889485037389, 0.2259941598047435, 0.27551878496355275, 0.49314337760036253, 1.462991292310712, 4.219278015493697], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 0.19207840703146722, 'perimeter_mean': 1.2568441845556586, 'width_mean': 0.40655247919491916, 'height_mean': 0.39098920141147825, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.1988356493263487, 'center_of_mass': [0.677600137349416, 0.12854795515194184], 'polsby_popper_compactness': 0.6802566981244207, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'edge_length_variance': 0.07423181245043547}, 'composition_features': {'stroke_type_distribution': {'line': 7}, 'shape_modifier_distribution': {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'zigzag', 'composition_complexity': 11, 'homogeneity_score': 0.30612244897959184, 'pattern_regularity': 0.5714285714285714}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 7}}, 'processing_metadata': {'processing_timestamp': 1754980904.020398, 'feature_count': 54}, 'actions': ['line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930'], 'action_program': ['line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930'], 'geometry': {'area': 0.12433152925499794, 'perimeter': 1.6501113434590904, 'centroid': [0.677600137349416, 0.12854795515194184], 'bounds': [0.3552002746988321, 4.753164162310427e-16, 1.0, 0.3856438654558245], 'width': 0.6447997253011679, 'height': 0.385643865455824}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 6}, 'analytic_attributes': ['zigzag', 'circle', 'zigzag', 'zigzag', 'triangle', 'circle', 'normal'], 'analytic_ngram': {'zigzag|circle': 1, 'circle|zigzag': 1, 'zigzag|zigzag': 1, 'zigzag|triangle': 1, 'triangle|circle': 1, 'circle|normal': 1}, 'alternation': 0.14285714285714285, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 7}}}, 'topological_features': {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 5, 1: 2, 2: 6, 3: 4, 5: 5, 6: 4, 4: 2}, 'adjacency_clustering': {0: 0.7, 1: 1.0, 2: 0.5333333333333333, 3: 1.0, 5: 0.7, 6: 1.0, 4: 1.0}, 'intersection_count': 14, 'betweenness_centrality': {0: 0.1, 1: 0.0, 2: 0.26666666666666666, 3: 0.0, 5: 0.1, 6: 0.0, 4: 0.0}, 'containment_score': 2, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1692919449698877, 0.40271403723937527, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1692919449698877, 0.0, 0.0, 0.16927386481281592, 0.0, 0.0, 0.40271403723937527, 0.0, 0.0, 0.16927386481281592, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 4473.356250504268, 'skeleton_graph_features': {'num_nodes': 7, 'num_edges': 14}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 4, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}}
2025-08-12 12:11:44,021 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.4237293391614096, 0.2975557815116552], 'orientation_degrees': 118.30663895797257}
2025-08-12 12:11:44,022 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.12433152925499794, 'perimeter': 1.6501113434590904, 'centroid': [0.677600137349416, 0.12854795515194184], 'bounds': [0.3552002746988321, 4.753164162310427e-16, 1.0, 0.3856438654558245], 'width': 0.6447997253011679, 'height': 0.385643865455824}
2025-08-12 12:11:44,022 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_zigzag_0.894-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_circle_0.500-0.926', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.500-0.648', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_zigzag_0.583-0.164', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_triangle_0.361-0.930', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_circle_0.361-0.313', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.583-0.930', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 12:11:44,023 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-12 12:11:44,023 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-12 12:11:44,023 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-12 12:11:44,024 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.677600137349416, 0.12854795515194184], 'width': 0.6447997253011679, 'height': 0.385643865455824, 'area_raw': 0.5084825935046632, 'area_normalized': 1.0, 'perimeter_raw': 4.117589844652146, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.6720082518077304, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.37687713209159157, 'polsby_popper_compactness': 0.17429059689039136, 'eccentricity': 0.541552212030195, 'symmetry_score': 0.40273020218695216, 'horizontal_symmetry': 0.6007061294530136, 'vertical_symmetry': 0.4500485603803981, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 8.0, 'visual_complexity': 0.5711116454474393, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'moment_of_inertia': 0.1988356493263487, 'irregularity_score': 0.131603482971322, 'standardized_complexity': 0.49298736326093107, 'clustering_heights': [0.09193889485037389, 0.2259941598047435, 0.27551878496355275, 0.49314337760036253, 1.462991292310712, 4.219278015493697], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 12:11:44,024 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.1988356493263487, 'center_of_mass': [0.677600137349416, 0.12854795515194184], 'polsby_popper_compactness': 0.6802566981244207, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'edge_length_variance': 0.07423181245043547}
2025-08-12 12:11:44,024 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 7}, 'shape_modifier_distribution': {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'zigzag', 'composition_complexity': 11, 'homogeneity_score': 0.30612244897959184, 'pattern_regularity': 0.5714285714285714}
2025-08-12 12:11:44,025 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 12:11:44,025 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}
2025-08-12 12:11:44,027 - INFO - [PIPELINE] INPUT: images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/4.png
2025-08-12 12:11:44,027 - INFO - [PIPELINE] OUTPUT: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_4', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/4.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_zigzag_0.894-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_circle_0.500-0.926', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.500-0.648', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_zigzag_0.583-0.164', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_triangle_0.361-0.930', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_circle_0.361-0.313', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.583-0.930', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 7, 'raw_vertices': ['(0.0, 0.0)', '(1287.3600000000001, 0.0)', '(643.79417461109, 322.83591558482294)', '(0.22834922218021347, -3.979039320256561e-13)', '(63.46670899899013, 837.1348399467902)', '(-192.6726722314738, 384.778516919384)', '(-708.8127653910458, 446.689984623101)', '(2.829815511103675, 1.3152351739121855)'], 'vertices': ['(0.35508588118232887, 4.753164162310427e-16)', '(1.0, 4.753164162310427e-16)', '(0.6776001373494158, 0.3856438654558245)', '(0.3552002746988317, 0.0)', '(0.3868800776062828, 1.0)', '(0.2585648407333427, 0.45963744256999434)', '(0.0, 0.5335938289839826)', '(0.35650350172107487, 0.0015711150834388655)'], 'num_vertices': 8, 'position_label': ['0.4237293391614096', '0.2975557815116552'], 'rotation_label_degrees': ['118.30663895797257'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.677600137349416, 0.12854795515194184], 'width': 0.6447997253011679, 'height': 0.385643865455824, 'area_raw': 0.5084825935046632, 'area_normalized': 1.0, 'perimeter_raw': 4.117589844652146, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.6720082518077304, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.37687713209159157, 'polsby_popper_compactness': 0.17429059689039136, 'eccentricity': 0.541552212030195, 'symmetry_score': 0.40273020218695216, 'horizontal_symmetry': 0.6007061294530136, 'vertical_symmetry': 0.4500485603803981, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 8.0, 'visual_complexity': 0.5711116454474393, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'moment_of_inertia': 0.1988356493263487, 'irregularity_score': 0.131603482971322, 'standardized_complexity': 0.49298736326093107, 'clustering_heights': [0.09193889485037389, 0.2259941598047435, 0.27551878496355275, 0.49314337760036253, 1.462991292310712, 4.219278015493697], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 0.19207840703146722, 'perimeter_mean': 1.2568441845556586, 'width_mean': 0.40655247919491916, 'height_mean': 0.39098920141147825, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.1988356493263487, 'center_of_mass': [0.677600137349416, 0.12854795515194184], 'polsby_popper_compactness': 0.6802566981244207, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'edge_length_variance': 0.07423181245043547}, 'composition_features': {'stroke_type_distribution': {'line': 7}, 'shape_modifier_distribution': {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'zigzag', 'composition_complexity': 11, 'homogeneity_score': 0.30612244897959184, 'pattern_regularity': 0.5714285714285714}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [[0.0, 0.0], [1287.3600000000001, 0.0], [643.79417461109, 322.83591558482294], [0.22834922218021347, -3.979039320256561e-13], [63.46670899899013, 837.1348399467902], [-192.6726722314738, 384.778516919384], [-708.8127653910458, 446.689984623101], [2.829815511103675, 1.3152351739121855]], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 1, 'analytic_vertices': [[0.0, 0.0], [1287.3600000000001, 0.0], [643.79417461109, 322.83591558482294], [0.22834922218021347, -3.979039320256561e-13], [63.46670899899013, 837.1348399467902], [-192.6726722314738, 384.778516919384], [-708.8127653910458, 446.689984623101], [2.829815511103675, 1.3152351739121855], [0.0, 0.0]], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 2, 'analytic_vertices': [[0.0, 0.0], [1287.3600000000001, 0.0], [643.79417461109, 322.83591558482294], [0.22834922218021347, -3.979039320256561e-13], [63.46670899899013, 837.1348399467902], [-192.6726722314738, 384.778516919384], [-708.8127653910458, 446.689984623101], [2.829815511103675, 1.3152351739121855], [0.0, 0.0]], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [[0.0, 0.0], [1287.3600000000001, 0.0], [643.79417461109, 322.83591558482294], [0.22834922218021347, -3.979039320256561e-13], [63.46670899899013, 837.1348399467902], [-192.6726722314738, 384.778516919384], [-708.8127653910458, 446.689984623101], [2.829815511103675, 1.3152351739121855], [0.0, 0.0]], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 4, 'analytic_vertices': [[0.0, 0.0], [1287.3600000000001, 0.0], [643.79417461109, 322.83591558482294], [0.22834922218021347, -3.979039320256561e-13], [63.46670899899013, 837.1348399467902], [-192.6726722314738, 384.778516919384], [-708.8127653910458, 446.689984623101], [2.829815511103675, 1.3152351739121855], [0.0, 0.0]], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 5, 'analytic_vertices': [[0.0, 0.0], [1287.3600000000001, 0.0], [643.79417461109, 322.83591558482294], [0.22834922218021347, -3.979039320256561e-13], [63.46670899899013, 837.1348399467902], [-192.6726722314738, 384.778516919384], [-708.8127653910458, 446.689984623101], [2.829815511103675, 1.3152351739121855], [0.0, 0.0]], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 6, 'analytic_vertices': [[0.0, 0.0], [1287.3600000000001, 0.0], [643.79417461109, 322.83591558482294], [0.22834922218021347, -3.979039320256561e-13], [63.46670899899013, 837.1348399467902], [-192.6726722314738, 384.778516919384], [-708.8127653910458, 446.689984623101], [2.829815511103675, 1.3152351739121855], [0.0, 0.0]], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 7}}, 'processing_metadata': {'processing_timestamp': 1754980904.020398, 'feature_count': 54}, 'actions': ['line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930'], 'action_program': ['line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930'], 'geometry': {'area': 0.12433152925499794, 'perimeter': 1.6501113434590904, 'centroid': [0.677600137349416, 0.12854795515194184], 'bounds': [0.3552002746988321, 4.753164162310427e-16, 1.0, 0.3856438654558245], 'width': 0.6447997253011679, 'height': 0.385643865455824}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 6}, 'analytic_attributes': ['zigzag', 'circle', 'zigzag', 'zigzag', 'triangle', 'circle', 'normal'], 'analytic_ngram': {'zigzag|circle': 1, 'circle|zigzag': 1, 'zigzag|zigzag': 1, 'zigzag|triangle': 1, 'triangle|circle': 1, 'circle|normal': 1}, 'alternation': 0.14285714285714285, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 7}}}, 'topological_features': {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 5, 1: 2, 2: 6, 3: 4, 5: 5, 6: 4, 4: 2}, 'adjacency_clustering': {0: 0.7, 1: 1.0, 2: 0.5333333333333333, 3: 1.0, 5: 0.7, 6: 1.0, 4: 1.0}, 'intersection_count': 14, 'betweenness_centrality': {0: 0.1, 1: 0.0, 2: 0.26666666666666666, 3: 0.0, 5: 0.1, 6: 0.0, 4: 0.0}, 'containment_score': 2, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1692919449698877, 0.40271403723937527, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1692919449698877, 0.0, 0.0, 0.16927386481281592, 0.0, 0.0, 0.40271403723937527, 0.0, 0.0, 0.16927386481281592, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 4473.356250504268, 'skeleton_graph_features': {'num_nodes': 7, 'num_edges': 14}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 4, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}}
2025-08-12 12:11:44,028 - INFO - [INPUT] Processing image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018, is_positive=False
2025-08-12 12:11:44,028 - INFO - [INPUT] action_commands type: <class 'list'>, value: [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-12 12:11:44,028 - INFO - [SHAPE SPLIT] Raw action_commands: [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-12 12:11:44,029 - INFO - [SHAPE SPLIT] Sublist 0: ['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-12 12:11:44,029 - INFO - [SHAPE SPLIT] Parsed shapes_commands (multi-object): [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-12 12:11:44,029 - INFO - ComprehensiveNVLabsParser initialized:
2025-08-12 12:11:44,029 - INFO -   Canvas size: 512x512
2025-08-12 12:11:44,030 - INFO -   Coordinate range: (-360, 360)
2025-08-12 12:11:44,030 - INFO -   Base scaling factor: 1440.0
2025-08-12 12:11:44,030 - INFO - [PARSER] Parsing shape 0 commands: ['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-12 12:11:44,030 - INFO - [LOGOPARSER] Input action_commands for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: ['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-12 12:11:44,030 - DEBUG - Parsing 4 commands for hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 12:11:44,031 - DEBUG - [ACTIONS_JOIN] line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750
2025-08-12 12:11:44,031 - DEBUG - [ACTIONS_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 12:11:44,031 - DEBUG - [ACTIONS_ATTRS] [{'line_length': 187.20000000000002, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_0.130-0.500'}, {'line_length': 1152.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.800-0.750'}, {'line_length': 187.20000000000002, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.130-0.750'}, {'line_length': 1440.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_1.000-0.750'}]
2025-08-12 12:11:44,032 - INFO - [OneStrokeShape.__init__] basic_actions: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], start_coordinates: None, start_orientation: None, scaling_factors: None
2025-08-12 12:11:44,032 - DEBUG - [OUTPUT_SHAPE_ACTIONS] line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750
2025-08-12 12:11:44,032 - DEBUG - [OUTPUT_SHAPE_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 12:11:44,032 - DEBUG - [OUTPUT_SHAPE_ATTRS] [{'line_length': 187.20000000000002, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_0.130-0.500'}, {'line_length': 1152.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.800-0.750'}, {'line_length': 187.20000000000002, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.130-0.750'}, {'line_length': 1440.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_1.000-0.750'}]
2025-08-12 12:11:44,032 - INFO - [OneStrokeShape._calculate_vertices] INPUT basic_actions: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750]
2025-08-12 12:11:44,034 - INFO - [OneStrokeShape._calculate_vertices] OUTPUT vertices: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 12:11:44,034 - INFO - [LOGOPARSER] Shape for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 has 5 vertices.
2025-08-12 12:11:44,034 - INFO - [LOGOPARSER] Parsed vertices (raw): [[0.0, 0.0], [187.20000000000002, 0.0], [187.20000000000007, 1152.0], [5.684341886080802e-14, 1152.0], [-2.0768028975502026e-13, -288.0]]
2025-08-12 12:11:44,034 - INFO - [LOGOPARSER] Vertices bounding box: min=(-0.00,-288.00), max=(187.20,1152.00), center=(74.88,403.20)
2025-08-12 12:11:44,035 - INFO - Successfully created OneStrokeShape with 4 actions using NVLabs implementation
2025-08-12 12:11:44,035 - INFO - [PARSER] Parsed shape 0: type=OneStrokeShape, num_actions=4, action_types=['str', 'str', 'str', 'str'], attributes={}
2025-08-12 12:11:44,035 - INFO - [FEATURE EXTRACTION][geometry] INPUT: shape 0 vertices: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 12:11:44,035 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 0 command: line_normal_0.130-0.500
2025-08-12 12:11:44,036 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:44,036 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.130-0.500, stroke_index=0
2025-08-12 12:11:44,036 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.13, param2=None, param3=0.5
2025-08-12 12:11:44,036 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)]
2025-08-12 12:11:44,037 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], geometry={'width': 0.13, 'height': 0.0, 'area': 0.0, 'perimeter': 0.13, 'centroid': [0.43499999999999994, 0.5], 'bounds': [0.37, 0.5, 0.5, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'open_stroke_perimeter': 0.13, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,037 - INFO - [_calculate_vertices_from_action] Bounding box: (0.37, 0.5, 0.5, 0.5)
2025-08-12 12:11:44,037 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)]
2025-08-12 12:11:44,038 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], geometry={'width': 0.13, 'height': 0.0, 'area': 0.0, 'perimeter': 0.13, 'centroid': [0.43499999999999994, 0.5], 'bounds': [0.37, 0.5, 0.5, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'open_stroke_perimeter': 0.13, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,038 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)]
2025-08-12 12:11:44,038 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,039 - INFO - [SoS] Perturbed collinear vertex 1: [0.48142857 0.5       ] -> [0.48142838 0.50000069]
2025-08-12 12:11:44,040 - INFO - [SoS] Perturbed collinear vertex 2: [0.46285714 0.5       ] -> [0.46285727 0.4999991 ]
2025-08-12 12:11:44,040 - INFO - [SoS] Perturbed collinear vertex 3: [0.44428571 0.5       ] -> [0.44428499 0.49999912]
2025-08-12 12:11:44,040 - INFO - [SoS] Perturbed collinear vertex 4: [0.42571429 0.5       ] -> [0.42571388 0.49999908]
2025-08-12 12:11:44,041 - INFO - [SoS] Perturbed collinear vertex 5: [0.40714286 0.5       ] -> [0.40714311 0.49999931]
2025-08-12 12:11:44,041 - INFO - [SoS] Perturbed collinear vertex 6: [0.38857143 0.5       ] -> [0.38857176 0.49999902]
2025-08-12 12:11:44,043 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:44,044 - INFO - [robust_angular_variance] Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 12:11:44,044 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,044 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,044 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:44,045 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,045 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,046 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,047 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5444971918440707}
2025-08-12 12:11:44,047 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5444971918440707, 'is_simple': True}
2025-08-12 12:11:44,048 - INFO - [SoS] Perturbed collinear vertex 1: [0.48142857 0.5       ] -> [0.48142903 0.5000009 ]
2025-08-12 12:11:44,048 - INFO - [SoS] Perturbed collinear vertex 2: [0.46285714 0.5       ] -> [0.46285773 0.49999916]
2025-08-12 12:11:44,048 - INFO - [SoS] Perturbed collinear vertex 3: [0.44428571 0.5       ] -> [0.44428502 0.49999972]
2025-08-12 12:11:44,049 - INFO - [SoS] Perturbed collinear vertex 4: [0.42571429 0.5       ] -> [0.42571521 0.49999929]
2025-08-12 12:11:44,050 - INFO - [SoS] Perturbed collinear vertex 5: [0.40714286 0.5       ] -> [0.40714297 0.49999915]
2025-08-12 12:11:44,050 - INFO - [SoS] Perturbed collinear vertex 6: [0.38857143 0.5       ] -> [0.3885713  0.49999985]
2025-08-12 12:11:44,051 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=0, assigned is_positive=False
2025-08-12 12:11:44,052 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=0, stroke_dict: {'area': 4.852738867546537e-08, 'perimeter': 0.20361746204286038, 'centroid': [0.42759631383447777, 0.4999996905955478], 'bounds': [0.37, 0.4999991546183258, 0.4718087309881091, 0.5], 'width': 0.10180873098810911, 'height': 8.453816742193254e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.20361746204286038, 'analytic_vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'normal', 'command': 'line_normal_0.130-0.500', 'vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'geometry': {'area': 4.852738867546537e-08, 'perimeter': 0.20361746204286038, 'centroid': [0.42759631383447777, 0.4999996905955478], 'bounds': [0.37, 0.4999991546183258, 0.4718087309881091, 0.5], 'width': 0.10180873098810911, 'height': 8.453816742193254e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.20361746204286038}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 12:11:44,052 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 1 command: line_normal_0.800-0.750
2025-08-12 12:11:44,052 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:44,053 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.800-0.750, stroke_index=1
2025-08-12 12:11:44,053 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.8, param2=None, param3=0.75
2025-08-12 12:11:44,053 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)]
2025-08-12 12:11:44,054 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], geometry={'width': 1.6653345369377348e-16, 'height': 0.8, 'area': 0.0, 'perimeter': 0.8, 'centroid': [0.5, 0.09999999999999999], 'bounds': [0.49999999999999983, -0.30000000000000004, 0.5, 0.5], 'num_vertices': 16, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'open_stroke_perimeter': 0.8, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,054 - INFO - [_calculate_vertices_from_action] Bounding box: (0.49999999999999983, -0.30000000000000004, 0.5, 0.5)
2025-08-12 12:11:44,054 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)]
2025-08-12 12:11:44,054 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], geometry={'width': 1.6653345369377348e-16, 'height': 0.8, 'area': 0.0, 'perimeter': 0.8, 'centroid': [0.5, 0.09999999999999999], 'bounds': [0.49999999999999983, -0.30000000000000004, 0.5, 0.5], 'num_vertices': 16, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'open_stroke_perimeter': 0.8, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,055 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)]
2025-08-12 12:11:44,055 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,056 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44666667] -> [0.49999958 0.44666628]
2025-08-12 12:11:44,057 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39333333] -> [0.50000031 0.39333287]
2025-08-12 12:11:44,057 - INFO - [SoS] Perturbed collinear vertex 3: [0.5  0.34] -> [0.50000021 0.33999973]
2025-08-12 12:11:44,058 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28666667] -> [0.50000023 0.28666628]
2025-08-12 12:11:44,058 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.23333333] -> [0.50000012 0.23333292]
2025-08-12 12:11:44,059 - INFO - [SoS] Perturbed collinear vertex 6: [0.5  0.18] -> [0.49999949 0.18000036]
2025-08-12 12:11:44,059 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.12666667] -> [0.50000085 0.12666701]
2025-08-12 12:11:44,060 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.07333333] -> [0.4999998  0.07333239]
2025-08-12 12:11:44,060 - INFO - [SoS] Perturbed collinear vertex 9: [0.5  0.02] -> [0.50000054 0.01999921]
2025-08-12 12:11:44,061 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.03333333] -> [ 0.49999927 -0.03333287]
2025-08-12 12:11:44,061 - INFO - [SoS] Perturbed collinear vertex 11: [ 0.5        -0.08666667] -> [ 0.50000056 -0.08666597]
2025-08-12 12:11:44,062 - INFO - [SoS] Perturbed collinear vertex 12: [ 0.5  -0.14] -> [ 0.49999959 -0.13999926]
2025-08-12 12:11:44,063 - INFO - [SoS] Perturbed collinear vertex 13: [ 0.5        -0.19333333] -> [ 0.49999917 -0.19333342]
2025-08-12 12:11:44,063 - INFO - [SoS] Perturbed collinear vertex 14: [ 0.5        -0.24666667] -> [ 0.50000016 -0.24666701]
2025-08-12 12:11:44,067 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:44,067 - INFO - [robust_angular_variance] Computed angular variance: 1.079488 for 16 vertices.
2025-08-12 12:11:44,067 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,068 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,068 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:44,069 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,069 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,069 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,072 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.32, 'num_vertices': 16, 'convexity_ratio': 1e-06, 'compactness': 0.48060151272536755}
2025-08-12 12:11:44,072 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.32, 'num_vertices': 16, 'convexity_ratio': 1e-06, 'compactness': 0.48060151272536755, 'is_simple': True}
2025-08-12 12:11:44,073 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44666667] -> [0.500001   0.44666748]
2025-08-12 12:11:44,073 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39333333] -> [0.50000081 0.39333245]
2025-08-12 12:11:44,073 - INFO - [SoS] Perturbed collinear vertex 3: [0.5  0.34] -> [0.49999953 0.33999914]
2025-08-12 12:11:44,074 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28666667] -> [0.50000068 0.28666719]
2025-08-12 12:11:44,074 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.23333333] -> [0.50000038 0.23333294]
2025-08-12 12:11:44,075 - INFO - [SoS] Perturbed collinear vertex 6: [0.5  0.18] -> [0.50000047 0.18000079]
2025-08-12 12:11:44,075 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.12666667] -> [0.5000003  0.12666739]
2025-08-12 12:11:44,076 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.07333333] -> [0.49999943 0.07333315]
2025-08-12 12:11:44,076 - INFO - [SoS] Perturbed collinear vertex 9: [0.5  0.02] -> [0.50000078 0.02000086]
2025-08-12 12:11:44,077 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.03333333] -> [ 0.50000048 -0.03333311]
2025-08-12 12:11:44,077 - INFO - [SoS] Perturbed collinear vertex 11: [ 0.5        -0.08666667] -> [ 0.49999995 -0.08666755]
2025-08-12 12:11:44,078 - INFO - [SoS] Perturbed collinear vertex 12: [ 0.5  -0.14] -> [ 0.49999928 -0.14000024]
2025-08-12 12:11:44,078 - INFO - [SoS] Perturbed collinear vertex 13: [ 0.5        -0.19333333] -> [ 0.49999975 -0.1933337 ]
2025-08-12 12:11:44,079 - INFO - [SoS] Perturbed collinear vertex 14: [ 0.5        -0.24666667] -> [ 0.49999921 -0.2466669 ]
2025-08-12 12:11:44,081 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=1, assigned is_positive=False
2025-08-12 12:11:44,081 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=1, stroke_dict: {'area': 9.548660432936154e-08, 'perimeter': 0.43588509359158295, 'centroid': [0.4999997356141009, -0.19403180057837532], 'bounds': [0.49999921015650267, -0.30000000000000004, 0.4999999999999999, -0.08205745321182141], 'width': 7.898434972175572e-07, 'height': 0.21794254678817865, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.43588509359158295, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'open_stroke_perimeter': 0.8, 'shape_modifier': 'vertical', 'command': 'line_normal_0.800-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'geometry': {'area': 9.548660432936154e-08, 'perimeter': 0.43588509359158295, 'centroid': [0.4999997356141009, -0.19403180057837532], 'bounds': [0.49999921015650267, -0.30000000000000004, 0.4999999999999999, -0.08205745321182141], 'width': 7.898434972175572e-07, 'height': 0.21794254678817865, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.43588509359158295}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 12:11:44,081 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 2 command: line_normal_0.130-0.750
2025-08-12 12:11:44,082 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:44,082 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.130-0.750, stroke_index=2
2025-08-12 12:11:44,082 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.13, param2=None, param3=0.75
2025-08-12 12:11:44,083 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)]
2025-08-12 12:11:44,083 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], geometry={'width': 0.0, 'height': 0.13, 'area': 0.0, 'perimeter': 0.13, 'centroid': [0.5, 0.43499999999999994], 'bounds': [0.5, 0.37, 0.5, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'open_stroke_perimeter': 0.13, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,083 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.37, 0.5, 0.5)
2025-08-12 12:11:44,084 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)]
2025-08-12 12:11:44,084 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], geometry={'width': 0.0, 'height': 0.13, 'area': 0.0, 'perimeter': 0.13, 'centroid': [0.5, 0.43499999999999994], 'bounds': [0.5, 0.37, 0.5, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'open_stroke_perimeter': 0.13, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,084 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)]
2025-08-12 12:11:44,085 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,085 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.48142857] -> [0.49999902 0.48142903]
2025-08-12 12:11:44,086 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.46285714] -> [0.49999929 0.46285805]
2025-08-12 12:11:44,086 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.44428571] -> [0.4999996  0.44428669]
2025-08-12 12:11:44,086 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.42571429] -> [0.50000052 0.42571462]
2025-08-12 12:11:44,087 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.40714286] -> [0.50000093 0.4071426 ]
2025-08-12 12:11:44,087 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.38857143] -> [0.50000052 0.38857075]
2025-08-12 12:11:44,089 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:44,089 - INFO - [robust_angular_variance] Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 12:11:44,089 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,090 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,090 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:44,091 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,091 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,091 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,093 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.6618939449406412}
2025-08-12 12:11:44,093 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.6618939449406412, 'is_simple': True}
2025-08-12 12:11:44,093 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.48142857] -> [0.49999919 0.48142811]
2025-08-12 12:11:44,094 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.46285714] -> [0.50000063 0.46285646]
2025-08-12 12:11:44,094 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.44428571] -> [0.49999995 0.44428619]
2025-08-12 12:11:44,095 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.42571429] -> [0.49999989 0.42571466]
2025-08-12 12:11:44,095 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.40714286] -> [0.49999907 0.40714319]
2025-08-12 12:11:44,096 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.38857143] -> [0.50000055 0.38857182]
2025-08-12 12:11:44,098 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=2, assigned is_positive=False
2025-08-12 12:11:44,098 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=2, stroke_dict: {'area': 1.6627209045092224e-08, 'perimeter': 0.10036683750346431, 'centroid': [0.4999997126959114, 0.41236291940341585], 'bounds': [0.49999907039032015, 0.39548686916709563, 0.5, 0.4456702878907604], 'width': 9.296096798450115e-07, 'height': 0.050183418723664774, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.10036683750346431, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'vertical', 'command': 'line_normal_0.130-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'geometry': {'area': 1.6627209045092224e-08, 'perimeter': 0.10036683750346431, 'centroid': [0.4999997126959114, 0.41236291940341585], 'bounds': [0.49999907039032015, 0.39548686916709563, 0.5, 0.4456702878907604], 'width': 9.296096798450115e-07, 'height': 0.050183418723664774, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.10036683750346431}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 12:11:44,098 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 3 command: line_normal_1.000-0.750
2025-08-12 12:11:44,098 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:44,099 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_1.000-0.750, stroke_index=3
2025-08-12 12:11:44,099 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=1.0, param2=None, param3=0.75
2025-08-12 12:11:44,099 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)]
2025-08-12 12:11:44,100 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], geometry={'width': 1.6653345369377348e-16, 'height': 1.0, 'area': 0.0, 'perimeter': 1.0, 'centroid': [0.5, 1.734723475976807e-17], 'bounds': [0.49999999999999983, -0.5, 0.5, 0.5], 'num_vertices': 20, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'open_stroke_perimeter': 1.0, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,100 - INFO - [_calculate_vertices_from_action] Bounding box: (0.49999999999999983, -0.5, 0.5, 0.5)
2025-08-12 12:11:44,101 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)]
2025-08-12 12:11:44,101 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], geometry={'width': 1.6653345369377348e-16, 'height': 1.0, 'area': 0.0, 'perimeter': 1.0, 'centroid': [0.5, 1.734723475976807e-17], 'bounds': [0.49999999999999983, -0.5, 0.5, 0.5], 'num_vertices': 20, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'open_stroke_perimeter': 1.0, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,101 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)]
2025-08-12 12:11:44,102 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,102 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44736842] -> [0.50000047 0.44736776]
2025-08-12 12:11:44,103 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39473684] -> [0.50000007 0.39473667]
2025-08-12 12:11:44,103 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.34210526] -> [0.49999973 0.34210489]
2025-08-12 12:11:44,104 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28947368] -> [0.49999939 0.28947337]
2025-08-12 12:11:44,104 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.23684211] -> [0.49999928 0.23684149]
2025-08-12 12:11:44,104 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.18421053] -> [0.49999942 0.18421037]
2025-08-12 12:11:44,105 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.13157895] -> [0.49999995 0.1315798 ]
2025-08-12 12:11:44,105 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.07894737] -> [0.50000043 0.07894746]
2025-08-12 12:11:44,106 - INFO - [SoS] Perturbed collinear vertex 9: [0.5        0.02631579] -> [0.49999906 0.02631647]
2025-08-12 12:11:44,106 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.02631579] -> [ 0.50000026 -0.02631567]
2025-08-12 12:11:44,106 - INFO - [SoS] Perturbed collinear vertex 11: [ 0.5        -0.07894737] -> [ 0.49999998 -0.07894717]
2025-08-12 12:11:44,107 - INFO - [SoS] Perturbed collinear vertex 12: [ 0.5        -0.13157895] -> [ 0.49999945 -0.13157832]
2025-08-12 12:11:44,107 - INFO - [SoS] Perturbed collinear vertex 13: [ 0.5        -0.18421053] -> [ 0.50000058 -0.18421102]
2025-08-12 12:11:44,108 - INFO - [SoS] Perturbed collinear vertex 14: [ 0.5        -0.23684211] -> [ 0.49999925 -0.2368418 ]
2025-08-12 12:11:44,109 - INFO - [SoS] Perturbed collinear vertex 15: [ 0.5        -0.28947368] -> [ 0.50000051 -0.28947298]
2025-08-12 12:11:44,109 - INFO - [SoS] Perturbed collinear vertex 16: [ 0.5        -0.34210526] -> [ 0.50000043 -0.34210522]
2025-08-12 12:11:44,110 - INFO - [SoS] Perturbed collinear vertex 17: [ 0.5        -0.39473684] -> [ 0.50000035 -0.39473781]
2025-08-12 12:11:44,110 - INFO - [SoS] Perturbed collinear vertex 18: [ 0.5        -0.44736842] -> [ 0.50000066 -0.44736853]
2025-08-12 12:11:44,114 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:44,114 - INFO - [robust_angular_variance] Computed angular variance: 0.888264 for 20 vertices.
2025-08-12 12:11:44,114 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,115 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,115 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:44,115 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,116 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,116 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,118 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.49521539981167073}
2025-08-12 12:11:44,118 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.49521539981167073, 'is_simple': True}
2025-08-12 12:11:44,119 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44736842] -> [0.49999928 0.44736878]
2025-08-12 12:11:44,119 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39473684] -> [0.49999934 0.39473768]
2025-08-12 12:11:44,120 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.34210526] -> [0.49999952 0.34210447]
2025-08-12 12:11:44,120 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28947368] -> [0.49999991 0.28947337]
2025-08-12 12:11:44,121 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.23684211] -> [0.49999908 0.23684262]
2025-08-12 12:11:44,121 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.18421053] -> [0.50000079 0.18421139]
2025-08-12 12:11:44,122 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.13157895] -> [0.49999919 0.13157864]
2025-08-12 12:11:44,122 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.07894737] -> [0.49999965 0.07894825]
2025-08-12 12:11:44,122 - INFO - [SoS] Perturbed collinear vertex 9: [0.5        0.02631579] -> [0.50000005 0.02631634]
2025-08-12 12:11:44,123 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.02631579] -> [ 0.49999919 -0.02631571]
2025-08-12 12:11:44,124 - INFO - [SoS] Perturbed collinear vertex 11: [ 0.5        -0.07894737] -> [ 0.49999941 -0.07894799]
2025-08-12 12:11:44,124 - INFO - [SoS] Perturbed collinear vertex 12: [ 0.5        -0.13157895] -> [ 0.50000088 -0.1315799 ]
2025-08-12 12:11:44,124 - INFO - [SoS] Perturbed collinear vertex 13: [ 0.5        -0.18421053] -> [ 0.50000017 -0.18420955]
2025-08-12 12:11:44,125 - INFO - [SoS] Perturbed collinear vertex 14: [ 0.5        -0.23684211] -> [ 0.49999929 -0.23684286]
2025-08-12 12:11:44,125 - INFO - [SoS] Perturbed collinear vertex 15: [ 0.5        -0.28947368] -> [ 0.4999997  -0.28947384]
2025-08-12 12:11:44,126 - INFO - [SoS] Perturbed collinear vertex 16: [ 0.5        -0.34210526] -> [ 0.49999912 -0.34210552]
2025-08-12 12:11:44,127 - INFO - [SoS] Perturbed collinear vertex 17: [ 0.5        -0.39473684] -> [ 0.49999988 -0.39473748]
2025-08-12 12:11:44,127 - INFO - [SoS] Perturbed collinear vertex 18: [ 0.5        -0.44736842] -> [ 0.50000057 -0.44736857]
2025-08-12 12:11:44,129 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=3, assigned is_positive=False
2025-08-12 12:11:44,129 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=3, stroke_dict: {'area': 1.3989390330619414e-07, 'perimeter': 0.583000859083496, 'centroid': [0.49999971048570396, 0.3561676767853711], 'bounds': [0.49999907640151914, 0.2084995704724941, 0.5, 0.5], 'width': 9.235984808619868e-07, 'height': 0.2915004295275059, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.583000859083496, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'open_stroke_perimeter': 1.0, 'shape_modifier': 'vertical', 'command': 'line_normal_1.000-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'geometry': {'area': 1.3989390330619414e-07, 'perimeter': 0.583000859083496, 'centroid': [0.49999971048570396, 0.3561676767853711], 'bounds': [0.49999907640151914, 0.2084995704724941, 0.5, 0.5], 'width': 9.235984808619868e-07, 'height': 0.2915004295275059, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.583000859083496}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 12:11:44,130 - INFO - [ATTR DEBUG] Shape 0 strokes (dicts): [{'area': 4.852738867546537e-08, 'perimeter': 0.20361746204286038, 'centroid': [0.42759631383447777, 0.4999996905955478], 'bounds': [0.37, 0.4999991546183258, 0.4718087309881091, 0.5], 'width': 0.10180873098810911, 'height': 8.453816742193254e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.20361746204286038, 'analytic_vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'normal', 'command': 'line_normal_0.130-0.500', 'vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'geometry': {'area': 4.852738867546537e-08, 'perimeter': 0.20361746204286038, 'centroid': [0.42759631383447777, 0.4999996905955478], 'bounds': [0.37, 0.4999991546183258, 0.4718087309881091, 0.5], 'width': 0.10180873098810911, 'height': 8.453816742193254e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.20361746204286038}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 9.548660432936154e-08, 'perimeter': 0.43588509359158295, 'centroid': [0.4999997356141009, -0.19403180057837532], 'bounds': [0.49999921015650267, -0.30000000000000004, 0.4999999999999999, -0.08205745321182141], 'width': 7.898434972175572e-07, 'height': 0.21794254678817865, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.43588509359158295, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'open_stroke_perimeter': 0.8, 'shape_modifier': 'vertical', 'command': 'line_normal_0.800-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'geometry': {'area': 9.548660432936154e-08, 'perimeter': 0.43588509359158295, 'centroid': [0.4999997356141009, -0.19403180057837532], 'bounds': [0.49999921015650267, -0.30000000000000004, 0.4999999999999999, -0.08205745321182141], 'width': 7.898434972175572e-07, 'height': 0.21794254678817865, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.43588509359158295}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.6627209045092224e-08, 'perimeter': 0.10036683750346431, 'centroid': [0.4999997126959114, 0.41236291940341585], 'bounds': [0.49999907039032015, 0.39548686916709563, 0.5, 0.4456702878907604], 'width': 9.296096798450115e-07, 'height': 0.050183418723664774, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.10036683750346431, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'vertical', 'command': 'line_normal_0.130-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'geometry': {'area': 1.6627209045092224e-08, 'perimeter': 0.10036683750346431, 'centroid': [0.4999997126959114, 0.41236291940341585], 'bounds': [0.49999907039032015, 0.39548686916709563, 0.5, 0.4456702878907604], 'width': 9.296096798450115e-07, 'height': 0.050183418723664774, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.10036683750346431}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.3989390330619414e-07, 'perimeter': 0.583000859083496, 'centroid': [0.49999971048570396, 0.3561676767853711], 'bounds': [0.49999907640151914, 0.2084995704724941, 0.5, 0.5], 'width': 9.235984808619868e-07, 'height': 0.2915004295275059, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.583000859083496, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'open_stroke_perimeter': 1.0, 'shape_modifier': 'vertical', 'command': 'line_normal_1.000-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'geometry': {'area': 1.3989390330619414e-07, 'perimeter': 0.583000859083496, 'centroid': [0.49999971048570396, 0.3561676767853711], 'bounds': [0.49999907640151914, 0.2084995704724941, 0.5, 0.5], 'width': 9.235984808619868e-07, 'height': 0.2915004295275059, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.583000859083496}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-12 12:11:44,130 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,131 - INFO - [PATCH][SHAPE GEOMETRY] idx=0, vertices=[(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)], geometry={'area': 0.7999999999999994, 'perimeter': 3.9999999999999973, 'centroid': [0.5000000000000003, 0.5999999999999999], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 12:11:44,131 - INFO - [robust_curvature] INPUT: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-12 12:11:44,132 - INFO - [robust_curvature] OUTPUT: 1.80641577581413
2025-08-12 12:11:44,132 - INFO - [robust_angular_variance] Computed angular variance: 0.394784 for 5 vertices.
2025-08-12 12:11:44,133 - INFO - [PATCH][SHAPE PHYSICS] idx=0, physics features: {'robust_curvature': 1.80641577581413, 'robust_angular_variance': 0.39478417604357513, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 1.5707963267948966}
2025-08-12 12:11:44,133 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 1.87200000e+02  0.00000000e+00]
 [ 1.87200000e+02  1.15200000e+03]
 [ 5.68434189e-14  1.15200000e+03]
 [-2.07680290e-13 -2.88000000e+02]]
2025-08-12 12:11:44,134 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,134 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,134 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,135 - INFO - [robust_curvature] INPUT: [[ 0.0000000e+00  0.0000000e+00]
 [ 1.8720000e+02  0.0000000e+00]
 [-2.0768029e-13 -2.8800000e+02]]
2025-08-12 12:11:44,135 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,135 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,136 - INFO - [robust_curvature] INPUT: [[1.87200000e+02 1.15200000e+03]
 [5.68434189e-14 1.15200000e+03]]
2025-08-12 12:11:44,136 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,137 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,137 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,137 - INFO - [robust_curvature] INPUT: [[ 7.18147647e-01 -1.10484253e+00]
 [ 1.86481852e+02  4.41937014e+00]
 [ 1.86481852e+02  1.14758063e+03]
 [ 7.18147647e-01  1.14647579e+03]
 [-2.05868793e-13 -2.81370945e+02]]
2025-08-12 12:11:44,137 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,138 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,138 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,139 - INFO - [robust_curvature] INPUT: [[ 7.18147647e-01 -1.10484253e+00]
 [ 1.86481852e+02  4.41937014e+00]
 [-2.05868793e-13 -2.81370945e+02]]
2025-08-12 12:11:44,139 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,141 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,141 - INFO - [robust_curvature] INPUT: [[1.86481852e+02 1.14758063e+03]
 [7.18147647e-01 1.14647579e+03]]
2025-08-12 12:11:44,141 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,142 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,142 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,142 - INFO - [robust_curvature] INPUT: [[ 1.99769801e+01 -3.00498772e+01]
 [ 1.67173624e+02  1.22859269e+02]
 [ 1.67173624e+02  1.02868477e+03]
 [ 1.99769801e+01  9.98102943e+02]
 [ 9.87910870e-02 -1.03597107e+02]]
2025-08-12 12:11:44,143 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,143 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,143 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,145 - INFO - [robust_curvature] INPUT: [[ 1.99769801e+01 -3.00498772e+01]
 [ 1.67173624e+02  1.22859269e+02]
 [ 9.87910870e-02 -1.03597107e+02]]
2025-08-12 12:11:44,145 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,145 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,146 - INFO - [robust_curvature] INPUT: [[ 167.1736244  1028.68477239]
 [  19.97698006  998.10294321]]
2025-08-12 12:11:44,146 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,146 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,146 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,148 - INFO - [robust_curvature] INPUT: [[ 56.25889127  64.88024718]
 [120.00432518 329.38274081]
 [120.00432518 721.66233413]
 [ 56.25889127 668.76183541]
 [ 21.8735671  231.31284248]]
2025-08-12 12:11:44,148 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,149 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,149 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,150 - INFO - [robust_curvature] INPUT: [[ 56.25889127  64.88024718]
 [120.00432518 329.38274081]
 [ 21.8735671  231.31284248]]
2025-08-12 12:11:44,150 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,150 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,151 - INFO - [robust_curvature] INPUT: [[120.00432518 721.66233413]
 [ 56.25889127 668.76183541]]
2025-08-12 12:11:44,151 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,152 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,152 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,152 - INFO - [robust_curvature] INPUT: [[ 73.28849518 370.01026178]
 [ 79.04537533 397.365925  ]
 [ 79.04537533 432.79287978]
 [ 73.28849518 427.32174713]
 [ 69.73225897 388.50918631]]
2025-08-12 12:11:44,153 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,153 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,153 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,154 - INFO - [robust_curvature] INPUT: [[ 73.28849518 370.01026178]
 [ 79.04537533 397.365925  ]
 [ 69.73225897 388.50918631]]
2025-08-12 12:11:44,154 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,155 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,155 - INFO - [robust_curvature] INPUT: [[ 79.04537533 432.79287978]
 [ 73.28849518 427.32174713]]
2025-08-12 12:11:44,155 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,157 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,157 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,157 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}
2025-08-12 12:11:44,158 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}
2025-08-12 12:11:44,158 - DEBUG - [extract_image_features] Calculated width: 187.20000000000027, height: 1440.0
2025-08-12 12:11:44,159 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 12:11:44,159 - INFO - [robust_curvature] OUTPUT: 1.9878219002802675
2025-08-12 12:11:44,160 - INFO - [robust_angular_variance] Computed angular variance: 0.394784 for 5 vertices.
2025-08-12 12:11:44,160 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 1.87200000e+02  0.00000000e+00]
 [ 1.87200000e+02  1.15200000e+03]
 [ 5.68434189e-14  1.15200000e+03]
 [-2.07680290e-13 -2.88000000e+02]]
2025-08-12 12:11:44,161 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,161 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,161 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,162 - INFO - [robust_curvature] INPUT: [[ 0.0000000e+00  0.0000000e+00]
 [ 1.8720000e+02  0.0000000e+00]
 [-2.0768029e-13 -2.8800000e+02]]
2025-08-12 12:11:44,162 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,163 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,163 - INFO - [robust_curvature] INPUT: [[1.87200000e+02 1.15200000e+03]
 [5.68434189e-14 1.15200000e+03]]
2025-08-12 12:11:44,164 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,164 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,164 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,165 - INFO - [robust_curvature] INPUT: [[ 7.18147647e-01 -1.10484253e+00]
 [ 1.86481852e+02  4.41937014e+00]
 [ 1.86481852e+02  1.14758063e+03]
 [ 7.18147647e-01  1.14647579e+03]
 [-2.05868793e-13 -2.81370945e+02]]
2025-08-12 12:11:44,165 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,165 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,166 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,167 - INFO - [robust_curvature] INPUT: [[ 7.18147647e-01 -1.10484253e+00]
 [ 1.86481852e+02  4.41937014e+00]
 [-2.05868793e-13 -2.81370945e+02]]
2025-08-12 12:11:44,167 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,167 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,168 - INFO - [robust_curvature] INPUT: [[1.86481852e+02 1.14758063e+03]
 [7.18147647e-01 1.14647579e+03]]
2025-08-12 12:11:44,168 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,168 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,169 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,170 - INFO - [robust_curvature] INPUT: [[ 1.99769801e+01 -3.00498772e+01]
 [ 1.67173624e+02  1.22859269e+02]
 [ 1.67173624e+02  1.02868477e+03]
 [ 1.99769801e+01  9.98102943e+02]
 [ 9.87910870e-02 -1.03597107e+02]]
2025-08-12 12:11:44,170 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,170 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,170 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,172 - INFO - [robust_curvature] INPUT: [[ 1.99769801e+01 -3.00498772e+01]
 [ 1.67173624e+02  1.22859269e+02]
 [ 9.87910870e-02 -1.03597107e+02]]
2025-08-12 12:11:44,173 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,173 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,173 - INFO - [robust_curvature] INPUT: [[ 167.1736244  1028.68477239]
 [  19.97698006  998.10294321]]
2025-08-12 12:11:44,174 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,174 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,174 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,175 - INFO - [robust_curvature] INPUT: [[ 56.25889127  64.88024718]
 [120.00432518 329.38274081]
 [120.00432518 721.66233413]
 [ 56.25889127 668.76183541]
 [ 21.8735671  231.31284248]]
2025-08-12 12:11:44,175 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,175 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,175 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,177 - INFO - [robust_curvature] INPUT: [[ 56.25889127  64.88024718]
 [120.00432518 329.38274081]
 [ 21.8735671  231.31284248]]
2025-08-12 12:11:44,177 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,177 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,178 - INFO - [robust_curvature] INPUT: [[120.00432518 721.66233413]
 [ 56.25889127 668.76183541]]
2025-08-12 12:11:44,178 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,178 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,179 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,179 - INFO - [robust_curvature] INPUT: [[ 73.28849518 370.01026178]
 [ 79.04537533 397.365925  ]
 [ 79.04537533 432.79287978]
 [ 73.28849518 427.32174713]
 [ 69.73225897 388.50918631]]
2025-08-12 12:11:44,180 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,180 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,180 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,181 - INFO - [robust_curvature] INPUT: [[ 73.28849518 370.01026178]
 [ 79.04537533 397.365925  ]
 [ 69.73225897 388.50918631]]
2025-08-12 12:11:44,182 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,182 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,182 - INFO - [robust_curvature] INPUT: [[ 79.04537533 432.79287978]
 [ 73.28849518 427.32174713]]
2025-08-12 12:11:44,182 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,183 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,183 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,183 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}
2025-08-12 12:11:44,184 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}
2025-08-12 12:11:44,185 - INFO - [SoS] Perturbed collinear vertex 1: [0.48142857 0.5       ] -> [0.48142913 0.49999956]
2025-08-12 12:11:44,186 - INFO - [SoS] Perturbed collinear vertex 2: [0.46285714 0.5       ] -> [0.46285721 0.50000068]
2025-08-12 12:11:44,186 - INFO - [SoS] Perturbed collinear vertex 3: [0.44428571 0.5       ] -> [0.44428495 0.49999946]
2025-08-12 12:11:44,186 - INFO - [SoS] Perturbed collinear vertex 4: [0.42571429 0.5       ] -> [0.42571389 0.50000093]
2025-08-12 12:11:44,187 - INFO - [SoS] Perturbed collinear vertex 5: [0.40714286 0.5       ] -> [0.40714227 0.5000006 ]
2025-08-12 12:11:44,187 - INFO - [SoS] Perturbed collinear vertex 6: [0.38857143 0.5       ] -> [0.38857121 0.49999945]
2025-08-12 12:11:44,189 - DEBUG - [extract_image_features] Stroke 0 geometry: {'area': 2.2487349803545356e-08, 'perimeter': 0.08003343110228474, 'centroid': [0.4184438143001641, 0.500000343867676], 'bounds': [0.3974531835137832, 0.5, 0.4374698990359905, 0.5000009272825969], 'width': 0.04001671552220726, 'height': 9.272825969297571e-07}
2025-08-12 12:11:44,189 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44666667] -> [0.49999951 0.44666578]
2025-08-12 12:11:44,190 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39333333] -> [0.49999922 0.3933326 ]
2025-08-12 12:11:44,190 - INFO - [SoS] Perturbed collinear vertex 3: [0.5  0.34] -> [0.50000067 0.34000091]
2025-08-12 12:11:44,191 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28666667] -> [0.49999928 0.28666578]
2025-08-12 12:11:44,191 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.23333333] -> [0.50000082 0.23333432]
2025-08-12 12:11:44,192 - INFO - [SoS] Perturbed collinear vertex 6: [0.5  0.18] -> [0.49999996 0.17999906]
2025-08-12 12:11:44,192 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.12666667] -> [0.5000002  0.12666574]
2025-08-12 12:11:44,193 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.07333333] -> [0.50000025 0.0733328 ]
2025-08-12 12:11:44,193 - INFO - [SoS] Perturbed collinear vertex 9: [0.5  0.02] -> [0.50000008 0.02000041]
2025-08-12 12:11:44,194 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.03333333] -> [ 0.50000019 -0.03333333]
2025-08-12 12:11:44,194 - INFO - [SoS] Perturbed collinear vertex 11: [ 0.5        -0.08666667] -> [ 0.49999997 -0.08666725]
2025-08-12 12:11:44,195 - INFO - [SoS] Perturbed collinear vertex 12: [ 0.5  -0.14] -> [ 0.50000015 -0.14000013]
2025-08-12 12:11:44,195 - INFO - [SoS] Perturbed collinear vertex 13: [ 0.5        -0.19333333] -> [ 0.49999922 -0.1933339 ]
2025-08-12 12:11:44,196 - INFO - [SoS] Perturbed collinear vertex 14: [ 0.5        -0.24666667] -> [ 0.49999965 -0.24666693]
2025-08-12 12:11:44,198 - DEBUG - [extract_image_features] Stroke 1 geometry: {'area': 5.792340781665633e-08, 'perimeter': 0.2705855146761692, 'centroid': [0.49999972568269707, 0.4218153682002439], 'bounds': [0.4999992211097526, 0.36470724266872595, 0.5, 0.5], 'width': 7.78890247410402e-07, 'height': 0.13529275733127405}
2025-08-12 12:11:44,198 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.48142857] -> [0.49999901 0.48142914]
2025-08-12 12:11:44,199 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.46285714] -> [0.49999986 0.46285746]
2025-08-12 12:11:44,199 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.44428571] -> [0.49999984 0.4442862 ]
2025-08-12 12:11:44,200 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.42571429] -> [0.50000028 0.42571363]
2025-08-12 12:11:44,201 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.40714286] -> [0.49999998 0.40714193]
2025-08-12 12:11:44,201 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.38857143] -> [0.50000065 0.3885705 ]
2025-08-12 12:11:44,202 - DEBUG - [extract_image_features] Stroke 2 geometry: {'area': 2.298566909077897e-08, 'perimeter': 0.12514966517622816, 'centroid': [0.4999997052407711, 0.47638349529680013], 'bounds': [0.4999990108832883, 0.4374251674357831, 0.5, 0.5], 'width': 9.891167117026534e-07, 'height': 0.06257483256421692}
2025-08-12 12:11:44,203 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44736842] -> [0.5000006  0.44736939]
2025-08-12 12:11:44,203 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39473684] -> [0.50000026 0.39473674]
2025-08-12 12:11:44,205 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.34210526] -> [0.49999982 0.34210584]
2025-08-12 12:11:44,205 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28947368] -> [0.49999953 0.28947311]
2025-08-12 12:11:44,206 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.23684211] -> [0.49999937 0.2368412 ]
2025-08-12 12:11:44,206 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.18421053] -> [0.50000067 0.18421102]
2025-08-12 12:11:44,207 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.13157895] -> [0.49999942 0.13157967]
2025-08-12 12:11:44,207 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.07894737] -> [0.50000099 0.07894767]
2025-08-12 12:11:44,208 - INFO - [SoS] Perturbed collinear vertex 9: [0.5        0.02631579] -> [0.49999947 0.02631548]
2025-08-12 12:11:44,208 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.02631579] -> [ 0.49999943 -0.02631674]
2025-08-12 12:11:44,209 - INFO - [SoS] Perturbed collinear vertex 11: [ 0.5        -0.07894737] -> [ 0.4999998  -0.07894794]
2025-08-12 12:11:44,209 - INFO - [SoS] Perturbed collinear vertex 12: [ 0.5        -0.13157895] -> [ 0.49999963 -0.13157809]
2025-08-12 12:11:44,209 - INFO - [SoS] Perturbed collinear vertex 13: [ 0.5        -0.18421053] -> [ 0.50000045 -0.18420956]
2025-08-12 12:11:44,210 - INFO - [SoS] Perturbed collinear vertex 14: [ 0.5        -0.23684211] -> [ 0.50000005 -0.23684117]
2025-08-12 12:11:44,211 - INFO - [SoS] Perturbed collinear vertex 15: [ 0.5        -0.28947368] -> [ 0.50000058 -0.28947316]
2025-08-12 12:11:44,211 - INFO - [SoS] Perturbed collinear vertex 16: [ 0.5        -0.34210526] -> [ 0.49999968 -0.34210474]
2025-08-12 12:11:44,212 - INFO - [SoS] Perturbed collinear vertex 17: [ 0.5        -0.39473684] -> [ 0.5000009  -0.39473678]
2025-08-12 12:11:44,212 - INFO - [SoS] Perturbed collinear vertex 18: [ 0.5        -0.44736842] -> [ 0.50000005 -0.44736886]
2025-08-12 12:11:44,215 - DEBUG - [extract_image_features] Stroke 3 geometry: {'area': 7.353188730909349e-08, 'perimeter': 0.40006734701848495, 'centroid': [0.49999978513299226, -0.04151052902050818], 'bounds': [0.4999994300874534, -0.15527990859665425, 0.49999999999999994, 0.04475376490655391], 'width': 5.69912546544149e-07, 'height': 0.20003367350320816}
2025-08-12 12:11:44,215 - INFO - [extract_image_features] stroke_type_distribution INPUT: [{'area': 4.852738867546537e-08, 'perimeter': 0.20361746204286038, 'centroid': [0.42759631383447777, 0.4999996905955478], 'bounds': [0.37, 0.4999991546183258, 0.4718087309881091, 0.5], 'width': 0.04001671552220726, 'height': 9.272825969297571e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.20361746204286038, 'analytic_vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'normal', 'command': 'line_normal_0.130-0.500', 'vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'geometry': {'area': 2.2487349803545356e-08, 'perimeter': 0.08003343110228474, 'centroid': [0.4184438143001641, 0.500000343867676], 'bounds': [0.3974531835137832, 0.5, 0.4374698990359905, 0.5000009272825969], 'width': 0.04001671552220726, 'height': 9.272825969297571e-07}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 9.548660432936154e-08, 'perimeter': 0.43588509359158295, 'centroid': [0.4999997356141009, -0.19403180057837532], 'bounds': [0.49999921015650267, -0.30000000000000004, 0.4999999999999999, -0.08205745321182141], 'width': 7.78890247410402e-07, 'height': 0.13529275733127405, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.43588509359158295, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'open_stroke_perimeter': 0.8, 'shape_modifier': 'vertical', 'command': 'line_normal_0.800-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'geometry': {'area': 5.792340781665633e-08, 'perimeter': 0.2705855146761692, 'centroid': [0.49999972568269707, 0.4218153682002439], 'bounds': [0.4999992211097526, 0.36470724266872595, 0.5, 0.5], 'width': 7.78890247410402e-07, 'height': 0.13529275733127405}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.6627209045092224e-08, 'perimeter': 0.10036683750346431, 'centroid': [0.4999997126959114, 0.41236291940341585], 'bounds': [0.49999907039032015, 0.39548686916709563, 0.5, 0.4456702878907604], 'width': 9.891167117026534e-07, 'height': 0.06257483256421692, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.10036683750346431, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'vertical', 'command': 'line_normal_0.130-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'geometry': {'area': 2.298566909077897e-08, 'perimeter': 0.12514966517622816, 'centroid': [0.4999997052407711, 0.47638349529680013], 'bounds': [0.4999990108832883, 0.4374251674357831, 0.5, 0.5], 'width': 9.891167117026534e-07, 'height': 0.06257483256421692}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.3989390330619414e-07, 'perimeter': 0.583000859083496, 'centroid': [0.49999971048570396, 0.3561676767853711], 'bounds': [0.49999907640151914, 0.2084995704724941, 0.5, 0.5], 'width': 5.69912546544149e-07, 'height': 0.20003367350320816, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.583000859083496, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'open_stroke_perimeter': 1.0, 'shape_modifier': 'vertical', 'command': 'line_normal_1.000-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'geometry': {'area': 7.353188730909349e-08, 'perimeter': 0.40006734701848495, 'centroid': [0.49999978513299226, -0.04151052902050818], 'bounds': [0.4999994300874534, -0.15527990859665425, 0.49999999999999994, 0.04475376490655391], 'width': 5.69912546544149e-07, 'height': 0.20003367350320816}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-12 12:11:44,215 - INFO - [extract_image_features] stroke_type_distribution OUTPUT: {'line': 4}
2025-08-12 12:11:44,216 - INFO - [extract_image_features] modifier_distribution OUTPUT: {'normal': 4}
2025-08-12 12:11:44,216 - INFO - [extract_image_features] relational INPUT: []
2025-08-12 12:11:44,217 - INFO - [extract_image_features] relational OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:44,217 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 12:11:44,217 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,217 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,218 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,218 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,218 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,218 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,219 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,219 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-12 12:11:44,219 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:44,219 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,220 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,220 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,220 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,221 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,221 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,221 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,221 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,221 - DEBUG - [_detect_alternation] OUTPUT: 0.25
2025-08-12 12:11:44,222 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 12:11:44,222 - INFO - [extract_image_features] PATCHED ngram: {'normal|normal': 3}
2025-08-12 12:11:44,222 - INFO - [extract_image_features] PATCHED alternation: 0.25
2025-08-12 12:11:44,223 - INFO - [extract_image_features] PATCHED regularity: 0.25
2025-08-12 12:11:44,223 - INFO - [extract_image_features] PATCHED dominant_shape_functions: line
2025-08-12 12:11:44,223 - INFO - [extract_image_features] PATCHED dominant_modifiers: normal
2025-08-12 12:11:44,223 - INFO - [extract_image_features] PATCHED image_canonical_summary: {'area': 215654.40000000014, 'perimeter': 3254.4, 'compactness': 0.2558740981857143, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.25}
2025-08-12 12:11:44,225 - INFO - [extract_image_features] OUTPUT: {'area': 215654.40000000014, 'perimeter': 3254.4, 'convexity_ratio': 0.11111111111111101, 'compactness': 0.2558740981857143, 'aspect_ratio': 0.1300000000000002, 'centroid_x': 93.59999999999998, 'centroid_y': 575.9999999999999, 'width': 187.20000000000027, 'height': 1440.0, 'bounding_box': (-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0), 'num_vertices': 5, 'curvature': 1.9878219002802675, 'angular_variance': 0.3947841760435744, 'complexity': 0.03500383731876051, 'num_strokes': 4, 'stroke_type_distribution': {'line': 4}, 'modifier_distribution': {'normal': 4}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.03500383731876051, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}, 'moment_of_inertia': 227024.63999999993, 'center_of_mass_x': 0.5000000000000003, 'center_of_mass_y': 0.5999999999999999, 'symmetry_score': 132.37038943812178, 'ngram': {'normal|normal': 3}, 'alternation': 0.25, 'regularity': 0.25, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 215654.40000000014, 'perimeter': 3254.4, 'compactness': 0.2558740981857143, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.25}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 1, 'vertical': 3}}
2025-08-12 12:11:44,225 - DEBUG - [extract_image_features] FINAL OUTPUT bounding_box: (-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0)
2025-08-12 12:11:44,225 - DEBUG - [extract_image_features] FINAL OUTPUT width: 187.20000000000027, height: 1440.0
2025-08-12 12:11:44,225 - DEBUG - [extract_image_features] FINAL OUTPUT curvature: 1.9878219002802675
2025-08-12 12:11:44,226 - INFO - [DIAG] Shape 0 extracted attributes: {'area': 215654.40000000014, 'perimeter': 3254.4, 'convexity_ratio': 0.11111111111111101, 'compactness': 0.2558740981857143, 'aspect_ratio': 0.1300000000000002, 'centroid_x': 93.59999999999998, 'centroid_y': 575.9999999999999, 'width': 187.20000000000027, 'height': 1440.0, 'bounding_box': (-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0), 'num_vertices': 5, 'curvature': 1.9878219002802675, 'angular_variance': 0.3947841760435744, 'complexity': 0.03500383731876051, 'num_strokes': 4, 'stroke_type_distribution': {'line': 4}, 'modifier_distribution': {'normal': 4}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.03500383731876051, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}, 'moment_of_inertia': 227024.63999999993, 'center_of_mass_x': 0.5000000000000003, 'center_of_mass_y': 0.5999999999999999, 'symmetry_score': 132.37038943812178, 'ngram': {'normal|normal': 3}, 'alternation': 0.25, 'regularity': 0.25, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 215654.40000000014, 'perimeter': 3254.4, 'compactness': 0.2558740981857143, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.25}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 1, 'vertical': 3}}
2025-08-12 12:11:44,226 - INFO - [VALIDATION] expected_strokes=4, actual_shapes=1
2025-08-12 12:11:44,226 - INFO - [VALIDATION] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: Number of action commands matches number of parsed shapes (4)
2025-08-12 12:11:44,227 - INFO - [standardize_coordinates] INPUT vertices: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 12:11:44,227 - INFO - [standardize_coordinates] OUTPUT normalized vertices: [[1.1094032572383544e-15, 0.2], [0.9999999999999997, 0.2], [1.0, 1.0], [1.4130539990161747e-15, 1.0], [0.0, 0.0]]
2025-08-12 12:11:44,227 - DEBUG - [process_single_image] Passing shape_list to extract_relational_features: [{'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}]
2025-08-12 12:11:44,228 - INFO - [extract_relational_features] INPUT: [{'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}]
2025-08-12 12:11:44,228 - DEBUG - [extract_relational_features] Shape 0 vertices: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 12:11:44,228 - INFO - [calculate_relationships] INPUT: strokes=[{'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}], buffer_amt=0.001
2025-08-12 12:11:44,228 - DEBUG - [calculate_relationships] Stroke 0: {'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}
2025-08-12 12:11:44,228 - DEBUG - [calculate_relationships] Vertices for stroke 0: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 12:11:44,229 - DEBUG - [calculate_relationships] Created LineString for stroke 0: LINESTRING (0 0, 187.20000000000002 0, 187.20000000000007 1152, 5.684341886080802e-14 1152, -2.0768028975502026e-13 -288)
2025-08-12 12:11:44,229 - DEBUG - [calculate_relationships] Buffered geometries: ['POLYGON ((0.0009999999998452 -0.001, 0.0009999999997923 -288, 0.0009951847264645 -288.0000980171403, 0.0009807852801956 -288.000195090322, 0.0009569403355245 -288.00029028467725, 0.0009238795323036 -288.00038268343235, 0.0008819212641407 -288.0004713967368, 0.0008314696120949 -288.000555570233, 0.0007730104531551 -288.00063439328414, 0.0007071067809789 -288.0007071067812, 0.000634393283956 -288.0007730104534, 0.0005555702328119 -288.0008314696123, 0.0004713967366183 -288.00088192126435, 0.0003826834321574 -288.00092387953254, 0.0002902846770468 -288.00095694033575, 0.0001950903218084 -288.0009807852804, 9.801714012188025e-5 -288.00099518472666, -2.0768028975502026e-13 -288.001, -9.801714053724117e-5 -288.00099518472666, -0.0001950903222238 -288.0009807852804, -0.0002902846774621 -288.00095694033575, -0.0003826834325728 -288.00092387953254, -0.0004713967370337 -288.00088192126435, -0.0005555702332273 -288.0008314696123, -0.0006343932843713 -288.0007730104534, -0.0007071067813942 -288.0007071067812, -0.0007730104535704 -288.00063439328414, -0.0008314696125102 -288.000555570233, -0.000881921264556 -288.0004713967368, -0.000923879532719 -288.00038268343235, -0.0009569403359399 -288.00029028467725, -0.0009807852806109 -288.000195090322, -0.0009951847268799 -288.0000980171403, -0.0010000000002077 -288, -0.0009999999999432 1152, -0.0009951847266154 1152.0000980171403, -0.0009807852803464 1152.000195090322, -0.0009569403356754 1152.0002902846772, -0.0009238795324544 1152.0003826834325, -0.0008819212642915 1152.0004713967369, -0.0008314696122457 1152.000555570233, -0.0007730104533059 1152.0006343932841, -0.0007071067811297 1152.0007071067812, -0.0006343932841068 1152.0007730104533, -0.0005555702329628 1152.0008314696122, -0.0004713967367692 1152.0008819212644, -0.0003826834323082 1152.0009238795326, -0.0002902846771976 1152.0009569403358, -0.0001950903219593 1152.0009807852805, -9.801714027271722e-5 1152.0009951847267, 5.684341886080802e-14 1152.001, 187.20000000000007 1152.001, 187.2000980171404 1152.0009951847267, 187.2001950903221 1152.0009807852805, 187.20029028467732 1152.0009569403358, 187.20038268343245 1152.0009238795326, 187.2004713967369 1152.0008819212644, 187.2005555702331 1152.0008314696122, 187.20063439328425 1152.0007730104533, 187.20070710678127 1152.0007071067812, 187.20077301045345 1152.0006343932841, 187.20083146961238 1152.000555570233, 187.20088192126443 1152.0004713967369, 187.20092387953258 1152.0003826834325, 187.2009569403358 1152.0002902846772, 187.20098078528048 1152.000195090322, 187.20099518472674 1152.0000980171403, 187.20100000000008 1152, 187.20100000000002 -4.934324553889585e-20, 187.20099518472668 -9.801714032956066e-5, 187.20098078528042 -0.0001950903220161, 187.20095694033574 -0.0002902846772545, 187.20092387953252 -0.0003826834323651, 187.20088192126437 -0.000471396736826, 187.20083146961233 -0.0005555702330196, 187.2007730104534 -0.0006343932841636, 187.2007071067812 -0.0007071067811865, 187.2006343932842 -0.0007730104533627, 187.20055557023304 -0.0008314696123025, 187.20047139673684 -0.0008819212643484, 187.2003826834324 -0.0009238795325113, 187.20029028467727 -0.0009569403357322, 187.20019509032204 -0.0009807852804032, 187.20009801714033 -0.0009951847266722, 187.20000000000002 -0.001, 0.0009999999998452 -0.001), (0.0009999999998452 0.001, 187.199 0.001, 187.19900000000007 1151.999, 0.0010000000000568 1151.999, 0.0009999999998452 0.001))']
2025-08-12 12:11:44,230 - INFO - [calculate_relationships] Intermediate results: adjacency=0, intersections=0, containment=0, overlap=0.0
2025-08-12 12:11:44,230 - INFO - [calculate_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:44,230 - WARNING - [calculate_relationships] All relational features are zero/default. Strokes: [{'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}]
2025-08-12 12:11:44,230 - INFO - [extract_relational_features] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:44,231 - DEBUG - [extract_relational_features] Output is JSON serializable.
2025-08-12 12:11:44,232 - INFO - [robust_curvature] INPUT: [[1.10940326e-15 2.00000000e-01]
 [1.00000000e+00 2.00000000e-01]
 [1.00000000e+00 1.00000000e+00]
 [1.41305400e-15 1.00000000e+00]
 [0.00000000e+00 0.00000000e+00]]
2025-08-12 12:11:44,232 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,232 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,232 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,233 - INFO - [robust_curvature] INPUT: [[1.10940326e-15 2.00000000e-01]
 [1.41305400e-15 1.00000000e+00]
 [0.00000000e+00 0.00000000e+00]]
2025-08-12 12:11:44,233 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,234 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,234 - INFO - [robust_curvature] INPUT: [[1.  0.2]
 [1.  1. ]]
2025-08-12 12:11:44,234 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,235 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,235 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,236 - INFO - [robust_curvature] INPUT: [[3.83625880e-03 1.99232748e-01]
 [9.96163741e-01 2.03069007e-01]
 [9.96163741e-01 9.96930993e-01]
 [3.83625880e-03 9.96163741e-01]
 [9.67679884e-18 4.60351056e-03]]
2025-08-12 12:11:44,236 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,236 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,237 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,237 - INFO - [robust_curvature] INPUT: [[3.83625880e-03 1.99232748e-01]
 [3.83625880e-03 9.96163741e-01]
 [9.67679884e-18 4.60351056e-03]]
2025-08-12 12:11:44,239 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,239 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,240 - INFO - [robust_curvature] INPUT: [[0.99616374 0.20306901]
 [0.99616374 0.99693099]]
2025-08-12 12:11:44,240 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,240 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,240 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,241 - INFO - [robust_curvature] INPUT: [[1.06714637e-01 1.79132030e-01]
 [8.93021498e-01 2.85318937e-01]
 [8.93021498e-01 9.14364425e-01]
 [1.06714637e-01 8.93127044e-01]
 [5.27730165e-04 1.28057564e-01]]
2025-08-12 12:11:44,241 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,242 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,242 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,243 - INFO - [robust_curvature] INPUT: [[1.06714637e-01 1.79132030e-01]
 [1.06714637e-01 8.93127044e-01]
 [5.27730165e-04 1.28057564e-01]]
2025-08-12 12:11:44,243 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,243 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,244 - INFO - [robust_curvature] INPUT: [[0.8930215  0.28531894]
 [0.8930215  0.91436443]]
2025-08-12 12:11:44,244 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,245 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,245 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,245 - INFO - [robust_curvature] INPUT: [[0.30052827 0.24505573]
 [0.64104875 0.42873801]
 [0.64104875 0.7011544 ]
 [0.30052827 0.66441794]
 [0.11684598 0.36063392]]
2025-08-12 12:11:44,245 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,246 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,246 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,248 - INFO - [robust_curvature] INPUT: [[0.64104875 0.42873801]
 [0.64104875 0.7011544 ]
 [0.30052827 0.66441794]]
2025-08-12 12:11:44,248 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,248 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,248 - INFO - [robust_curvature] INPUT: [[0.30052827 0.24505573]
 [0.11684598 0.36063392]]
2025-08-12 12:11:44,249 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,249 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,249 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,250 - INFO - [robust_curvature] INPUT: [[0.39149837 0.45695157]
 [0.42225094 0.47594856]
 [0.42225094 0.50055061]
 [0.39149837 0.49675121]
 [0.37250138 0.46979805]]
2025-08-12 12:11:44,250 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,250 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,250 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,251 - INFO - [robust_curvature] INPUT: [[0.42225094 0.47594856]
 [0.42225094 0.50055061]
 [0.39149837 0.49675121]]
2025-08-12 12:11:44,251 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,253 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,253 - INFO - [robust_curvature] INPUT: [[0.39149837 0.45695157]
 [0.37250138 0.46979805]]
2025-08-12 12:11:44,253 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,253 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,254 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,254 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}
2025-08-12 12:11:44,254 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}
2025-08-12 12:11:44,255 - INFO - [_calculate_image_features] INPUTS: vertices=[(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)], strokes=[{'area': 4.852738867546537e-08, 'perimeter': 0.20361746204286038, 'centroid': [0.42759631383447777, 0.4999996905955478], 'bounds': [0.37, 0.4999991546183258, 0.4718087309881091, 0.5], 'width': 0.04001671552220726, 'height': 9.272825969297571e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.20361746204286038, 'analytic_vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'normal', 'command': 'line_normal_0.130-0.500', 'vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'geometry': {'area': 2.2487349803545356e-08, 'perimeter': 0.08003343110228474, 'centroid': [0.4184438143001641, 0.500000343867676], 'bounds': [0.3974531835137832, 0.5, 0.4374698990359905, 0.5000009272825969], 'width': 0.04001671552220726, 'height': 9.272825969297571e-07}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 9.548660432936154e-08, 'perimeter': 0.43588509359158295, 'centroid': [0.4999997356141009, -0.19403180057837532], 'bounds': [0.49999921015650267, -0.30000000000000004, 0.4999999999999999, -0.08205745321182141], 'width': 7.78890247410402e-07, 'height': 0.13529275733127405, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.43588509359158295, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'open_stroke_perimeter': 0.8, 'shape_modifier': 'vertical', 'command': 'line_normal_0.800-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'geometry': {'area': 5.792340781665633e-08, 'perimeter': 0.2705855146761692, 'centroid': [0.49999972568269707, 0.4218153682002439], 'bounds': [0.4999992211097526, 0.36470724266872595, 0.5, 0.5], 'width': 7.78890247410402e-07, 'height': 0.13529275733127405}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.6627209045092224e-08, 'perimeter': 0.10036683750346431, 'centroid': [0.4999997126959114, 0.41236291940341585], 'bounds': [0.49999907039032015, 0.39548686916709563, 0.5, 0.4456702878907604], 'width': 9.891167117026534e-07, 'height': 0.06257483256421692, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.10036683750346431, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'vertical', 'command': 'line_normal_0.130-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'geometry': {'area': 2.298566909077897e-08, 'perimeter': 0.12514966517622816, 'centroid': [0.4999997052407711, 0.47638349529680013], 'bounds': [0.4999990108832883, 0.4374251674357831, 0.5, 0.5], 'width': 9.891167117026534e-07, 'height': 0.06257483256421692}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.3989390330619414e-07, 'perimeter': 0.583000859083496, 'centroid': [0.49999971048570396, 0.3561676767853711], 'bounds': [0.49999907640151914, 0.2084995704724941, 0.5, 0.5], 'width': 5.69912546544149e-07, 'height': 0.20003367350320816, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.583000859083496, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'open_stroke_perimeter': 1.0, 'shape_modifier': 'vertical', 'command': 'line_normal_1.000-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'geometry': {'area': 7.353188730909349e-08, 'perimeter': 0.40006734701848495, 'centroid': [0.49999978513299226, -0.04151052902050818], 'bounds': [0.4999994300874534, -0.15527990859665425, 0.49999999999999994, 0.04475376490655391], 'width': 5.69912546544149e-07, 'height': 0.20003367350320816}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}], geometry={'area': 0.7999999999999994, 'perimeter': 3.9999999999999973, 'centroid': [0.5000000000000003, 0.5999999999999999], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 12:11:44,255 - DEBUG - [POLYGON CREATION] Attempting to create Polygon with vertices: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-12 12:11:44,256 - DEBUG - [POLYGON REPAIR] Final polygon: is_valid=True, is_empty=False, area=0.7999999999999994
2025-08-12 12:11:44,256 - INFO - [_calculate_perimeter] INPUT vertices: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-12 12:11:44,256 - INFO - [_calculate_perimeter] OUTPUT perimeter: 3.9999999999999973
2025-08-12 12:11:44,257 - INFO - [robust_curvature] INPUT: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-12 12:11:44,257 - INFO - [robust_curvature] OUTPUT: 1.80641577581413
2025-08-12 12:11:44,258 - INFO - [robust_angular_variance] Computed angular variance: 0.394784 for 5 vertices.
2025-08-12 12:11:44,258 - INFO - [complexity] Calling calculate_complexity with vertices: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-12 12:11:44,258 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,259 - INFO - Complexity: n=5, n_norm=0.17, curvature=0.90, irregularity=0.16, result=0.39
2025-08-12 12:11:44,260 - INFO - [complexity] Output for vertices count 5: 0.38629569970545286
2025-08-12 12:11:44,260 - INFO - [_calculate_image_features] polsby_popper: 0.6283185307179591
2025-08-12 12:11:44,263 - INFO - [_calculate_image_features] OUTPUT: {'bounding_box': (0.0, 0.0, 1.0, 1.0), 'centroid': [0.5000000000000003, 0.5999999999999999], 'width': 1.0, 'height': 1.0, 'area_raw': 0.7999999999999994, 'area_normalized': 0.8888888888888891, 'perimeter_raw': 3.9999999999999973, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.8888888888888891, 'is_convex': False, 'compactness': 0.6283185307179591, 'polsby_popper_compactness': 0.6283185307179591, 'eccentricity': 0.4117684783981497, 'symmetry_score': 0.7071067811865468, 'horizontal_symmetry': 0.8800000000000001, 'vertical_symmetry': 0.9999999999999989, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 5.0, 'visual_complexity': 0.5044999999999998, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'moment_of_inertia': 0.3733333333333334, 'irregularity_score': 0.16000000000000045, 'standardized_complexity': 0.38629569970545286, 'clustering_heights': [0.0869035474475437, 0.14476508948482325, 0.38252865237468925], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 12:11:44,263 - DEBUG - [_calculate_composition_features] INPUTS: strokes count=4
2025-08-12 12:11:44,263 - DEBUG - [_calculate_composition_features] OUTPUT: {'stroke_type_distribution': {'line': 4}, 'shape_modifier_distribution': {'normal': 4}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 5, 'homogeneity_score': 1.0, 'pattern_regularity': 0.25}
2025-08-12 12:11:44,263 - INFO - [_calculate_physics_features] INPUT vertices: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-12 12:11:44,264 - INFO - [_calculate_physics_features] INPUT centroid: [0.5000000000000003, 0.5999999999999999]
2025-08-12 12:11:44,264 - INFO - [_calculate_physics_features] INPUT strokes: ['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-12 12:11:44,264 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,265 - INFO - [QualityMonitor] physics_features: {'degenerate': False, 'area': 0.7999999999999994}
2025-08-12 12:11:44,267 - INFO - [_calculate_physics_features] polsby_popper: 0.6283185307179591
2025-08-12 12:11:44,267 - INFO - [robust_angular_variance] Computed angular variance: 0.394784 for 5 vertices.
2025-08-12 12:11:44,268 - INFO - [_calculate_physics_features] OUTPUT: {'moment_of_inertia': 0.3733333333333334, 'center_of_mass': [0.5000000000000003, 0.5999999999999999], 'polsby_popper_compactness': 0.6283185307179591, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': False, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'edge_length_variance': 0.09599999999999975}
2025-08-12 12:11:44,268 - INFO - [calculate_shape_relationships] INPUT: shapes=[{'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}], buffer_amt=0.001
2025-08-12 12:11:44,268 - DEBUG - [calculate_shape_relationships] Shape 0 vertices: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 12:11:44,269 - DEBUG - [calculate_shape_relationships] Created Polygon for shape 0: POLYGON ((0 0, 187.20000000000002 0, 187.20000000000007 1152, 5.684341886080802e-14 1152, -2.0768028975502026e-13 -288, 0 0))
2025-08-12 12:11:44,269 - INFO - [calculate_shape_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:44,269 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal'], n=2
2025-08-12 12:11:44,270 - DEBUG - [ensure_str_list] Converting list: ['normal']
2025-08-12 12:11:44,270 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,270 - DEBUG - [ensure_str_list] Result: ['normal']
2025-08-12 12:11:44,270 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal']
2025-08-12 12:11:44,271 - DEBUG - [_extract_ngram_features] OUTPUT: {}
2025-08-12 12:11:44,271 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:44,271 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal'], n=2
2025-08-12 12:11:44,271 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal']
2025-08-12 12:11:44,272 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,272 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,272 - DEBUG - [ensure_str_list] Result: ['normal', 'normal']
2025-08-12 12:11:44,272 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal']
2025-08-12 12:11:44,273 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 1}
2025-08-12 12:11:44,273 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:44,273 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal'], n=2
2025-08-12 12:11:44,273 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal']
2025-08-12 12:11:44,274 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,274 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,274 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,274 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal']
2025-08-12 12:11:44,275 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal']
2025-08-12 12:11:44,275 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 2}
2025-08-12 12:11:44,275 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:44,275 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 12:11:44,276 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,276 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,276 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,276 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,277 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,277 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,277 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,278 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-12 12:11:44,278 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:44,278 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,279 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,279 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,279 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,279 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,280 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,280 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,280 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,280 - DEBUG - [_detect_alternation] OUTPUT: 0.25
2025-08-12 12:11:44,281 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 12:11:44,281 - INFO - [extract_regularity_features] INPUT: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,281 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,281 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,282 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,282 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,282 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,283 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,283 - INFO - [extract_regularity_features] OUTPUT: {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 4}}
2025-08-12 12:11:44,283 - DEBUG - [extract_regularity_features] Output is JSON serializable.
2025-08-12 12:11:44,283 - INFO - [extract_dominant_shape_modifiers] INPUT: {'modifiers': ['normal', 'normal', 'normal', 'normal']}
2025-08-12 12:11:44,284 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,284 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,284 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,285 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,285 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,285 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,285 - INFO - [extract_dominant_shape_modifiers] OUTPUT: {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 4}}
2025-08-12 12:11:44,286 - DEBUG - [extract_dominant_shape_modifiers] Output is JSON serializable.
2025-08-12 12:11:44,286 - WARNING - [PATCH] Failed to load canonical summary for image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5: type object 'FileIO' has no attribute 'load_canonical_features'
2025-08-12 12:11:44,286 - DEBUG - [process_single_image] Passing topo_shape_list to extract_topological_features: [{'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}]
2025-08-12 12:11:44,287 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,288 - INFO - [QualityMonitor] topological_features: {'degenerate': False, 'area': 0.7999999999999994}
2025-08-12 12:11:44,298 - INFO - [extract_stroke_features_from_shapes] Shape 0 actions: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750]
2025-08-12 12:11:44,298 - INFO - [extract_stroke_features_from_shapes] Shape 0: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None
2025-08-12 12:11:44,299 - INFO - [extract_stroke_features_from_shapes] Shape 0 geometry: {'area': 0.7999999999999994, 'perimeter': 3.9999999999999973, 'centroid': [0.5000000000000003, 0.5999999999999999], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'robust_curvature': 1.80641577581413, 'robust_angular_variance': 0.39478417604357513, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 1.5707963267948966}
2025-08-12 12:11:44,299 - INFO - [extract_stroke_features_from_shapes] Shape 0: num_actions=4 | actions=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750]
2025-08-12 12:11:44,299 - INFO - [LOGGING PATCH] [extract_stroke_features_from_shapes] shape_idx=0 initial shape_vertices: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 12:11:44,300 - INFO - [LOGGING PATCH] [extract_stroke_features_from_shapes] shape_idx=0 deduped/closed shape_vertices: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,300 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=0 | stroke=line_normal_0.130-0.500
2025-08-12 12:11:44,300 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,300 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,300 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,300 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,302 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 2966.4, 'centroid': [84.51262135922329, 506.0970873786407], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 5, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,302 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 12:11:44,303 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:44,303 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,304 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,304 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,305 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-12 12:11:44,305 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-12 12:11:44,306 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 0: {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 12:11:44,306 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=1 | stroke=line_normal_0.800-0.750
2025-08-12 12:11:44,306 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,306 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,307 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,307 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,307 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,308 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,308 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750]
2025-08-12 12:11:44,308 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.130-0.500
2025-08-12 12:11:44,309 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,309 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 2966.4, 'centroid': [84.51262135922329, 506.0970873786407], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 5, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,309 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,309 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,310 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 12:11:44,310 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 2966.4, 'centroid': [84.51262135922329, 506.0970873786407], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 5, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,310 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 12:11:44,311 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:44,312 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,312 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,313 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,313 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-12 12:11:44,313 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-12 12:11:44,314 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.800-0.750
2025-08-12 12:11:44,314 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,314 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,315 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,315 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,315 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,315 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,316 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,316 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,317 - INFO - [SoS] Perturbed collinear vertex 4: [-2.0768029e-13 -2.8800000e+02] -> [ 4.49977027e-07 -2.87999999e+02]
2025-08-12 12:11:44,317 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,318 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-12 12:11:44,318 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-12 12:11:44,319 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,319 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,319 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:44,321 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,321 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,321 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,322 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-12 12:11:44,322 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-12 12:11:44,322 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.130-0.750
2025-08-12 12:11:44,322 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,323 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,323 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,323 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,324 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,324 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,324 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,324 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,325 - INFO - [SoS] Perturbed collinear vertex 4: [-2.0768029e-13 -2.8800000e+02] -> [-9.56809147e-07 -2.87999999e+02]
2025-08-12 12:11:44,325 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,326 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-12 12:11:44,326 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-12 12:11:44,327 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,327 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,327 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:44,328 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,328 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,329 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,329 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-12 12:11:44,329 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-12 12:11:44,330 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_1.000-0.750
2025-08-12 12:11:44,330 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,330 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,331 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,331 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,331 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,332 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,332 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,332 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,333 - INFO - [SoS] Perturbed collinear vertex 4: [-2.0768029e-13 -2.8800000e+02] -> [ 8.99019775e-07 -2.88000000e+02]
2025-08-12 12:11:44,333 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,334 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-12 12:11:44,334 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-12 12:11:44,335 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,335 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,335 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:44,336 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,336 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,337 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,337 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-12 12:11:44,338 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-12 12:11:44,338 - INFO - [collect_stroke_features] Collected 4 valid stroke features
2025-08-12 12:11:44,338 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=4
2025-08-12 12:11:44,340 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,340 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=3254.4. Returning 0.0.
2025-08-12 12:11:44,341 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-12 12:11:44,341 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-12 12:11:44,341 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'width': {'mean': 140.4000002392023, 'var': 6570.720022389337, 'min': 0.0, 'max': 187.20000095680922, 'count': 4}, 'height': {'mean': 935.9999997765921, 'var': 305855.9997748048, 'min': 0.0, 'max': 1439.9999991063683, 'count': 4}, 'area': {'mean': 161740.7999823761, 'var': 8720028792.979666, 'min': 0.0, 'max': 215654.4005511221, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'perimeter': {'mean': 2152.7999992833848, 'var': 1600145.278731962, 'min': 0.0, 'max': 3254.3999982127366, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}}}
2025-08-12 12:11:44,342 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'width': {'mean': 140.4000002392023, 'var': 6570.720022389337, 'min': 0.0, 'max': 187.20000095680922, 'count': 4}, 'height': {'mean': 935.9999997765921, 'var': 305855.9997748048, 'min': 0.0, 'max': 1439.9999991063683, 'count': 4}, 'area': {'mean': 161740.7999823761, 'var': 8720028792.979666, 'min': 0.0, 'max': 215654.4005511221, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'perimeter': {'mean': 2152.7999992833848, 'var': 1600145.278731962, 'min': 0.0, 'max': 3254.3999982127366, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}}}
2025-08-12 12:11:44,342 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:44,343 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,343 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,343 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,344 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-12 12:11:44,344 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-12 12:11:44,344 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.3, 'var': 0.0, 'min': 0.3, 'max': 0.3, 'count': 1}, 'width': {'mean': 187.20000000000027, 'var': 0.0, 'min': 187.20000000000027, 'max': 187.20000000000027, 'count': 1}, 'height': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 3254.4, 'var': 0.0, 'min': 3254.4, 'max': 3254.4, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.3, 'var': 0.0, 'min': 0.3, 'max': 0.3, 'count': 1}, 'width': {'mean': 187.20000000000027, 'var': 0.0, 'min': 187.20000000000027, 'max': 187.20000000000027, 'count': 1}, 'height': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 3254.4, 'var': 0.0, 'min': 3254.4, 'max': 3254.4, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 12:11:44,345 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_normal_0.130-0.750
2025-08-12 12:11:44,345 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,345 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,345 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,345 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,346 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,346 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,347 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750]
2025-08-12 12:11:44,347 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.130-0.500
2025-08-12 12:11:44,347 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,347 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 2966.4, 'centroid': [84.51262135922329, 506.0970873786407], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 5, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,348 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,348 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,348 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 12:11:44,349 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 2966.4, 'centroid': [84.51262135922329, 506.0970873786407], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 5, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,349 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 12:11:44,349 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:44,350 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,350 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,351 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,352 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-12 12:11:44,352 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-12 12:11:44,352 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.800-0.750
2025-08-12 12:11:44,353 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,353 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,353 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,354 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,354 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,354 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,355 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,355 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,356 - INFO - [SoS] Perturbed collinear vertex 4: [-2.0768029e-13 -2.8800000e+02] -> [-5.69023007e-07 -2.88000000e+02]
2025-08-12 12:11:44,356 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,357 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-12 12:11:44,357 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-12 12:11:44,358 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,358 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,358 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:44,359 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,359 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,360 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,360 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-12 12:11:44,360 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-12 12:11:44,361 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.130-0.750
2025-08-12 12:11:44,361 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,361 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,361 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,362 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,362 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,362 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,362 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,363 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,363 - INFO - [SoS] Perturbed collinear vertex 4: [-2.0768029e-13 -2.8800000e+02] -> [ 9.38632291e-07 -2.88000001e+02]
2025-08-12 12:11:44,364 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,365 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-12 12:11:44,365 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-12 12:11:44,366 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,366 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,366 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:44,367 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,367 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,368 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,368 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-12 12:11:44,369 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-12 12:11:44,369 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_1.000-0.750
2025-08-12 12:11:44,369 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,369 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,371 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,371 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,371 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,371 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,372 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,372 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,372 - INFO - [SoS] Perturbed collinear vertex 4: [-2.0768029e-13 -2.8800000e+02] -> [-1.65249901e-07 -2.88000001e+02]
2025-08-12 12:11:44,373 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,373 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-12 12:11:44,373 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-12 12:11:44,375 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,375 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,375 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:44,376 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,376 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,377 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,378 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-12 12:11:44,378 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-12 12:11:44,378 - INFO - [collect_stroke_features] Collected 4 valid stroke features
2025-08-12 12:11:44,378 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=4
2025-08-12 12:11:44,379 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,379 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=3254.4. Returning 0.0.
2025-08-12 12:11:44,380 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-12 12:11:44,380 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-12 12:11:44,381 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'width': {'mean': 140.40000018356827, 'var': 6570.7200171819895, 'min': 0.0, 'max': 187.20000056902308, 'count': 4}, 'height': {'mean': 1008.0000002327596, 'var': 352512.0002011043, 'min': 0.0, 'max': 1440.0000009126875, 'count': 4}, 'area': {'mean': 161740.79999760486, 'var': 8720028794.62174, 'min': 0.0, 'max': 215654.40032775726, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'perimeter': {'mean': 2296.8000002777926, 'var': 1813726.0807482896, 'min': 0.0, 'max': 3254.400001825375, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}}}
2025-08-12 12:11:44,381 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'width': {'mean': 140.40000018356827, 'var': 6570.7200171819895, 'min': 0.0, 'max': 187.20000056902308, 'count': 4}, 'height': {'mean': 1008.0000002327596, 'var': 352512.0002011043, 'min': 0.0, 'max': 1440.0000009126875, 'count': 4}, 'area': {'mean': 161740.79999760486, 'var': 8720028794.62174, 'min': 0.0, 'max': 215654.40032775726, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'perimeter': {'mean': 2296.8000002777926, 'var': 1813726.0807482896, 'min': 0.0, 'max': 3254.400001825375, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}}}
2025-08-12 12:11:44,381 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:44,381 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,382 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,382 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,382 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-12 12:11:44,382 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-12 12:11:44,384 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.3, 'var': 0.0, 'min': 0.3, 'max': 0.3, 'count': 1}, 'width': {'mean': 187.20000000000027, 'var': 0.0, 'min': 187.20000000000027, 'max': 187.20000000000027, 'count': 1}, 'height': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 3254.4, 'var': 0.0, 'min': 3254.4, 'max': 3254.4, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.3, 'var': 0.0, 'min': 0.3, 'max': 0.3, 'count': 1}, 'width': {'mean': 187.20000000000027, 'var': 0.0, 'min': 187.20000000000027, 'max': 187.20000000000027, 'count': 1}, 'height': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 3254.4, 'var': 0.0, 'min': 3254.4, 'max': 3254.4, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 12:11:44,384 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_normal_1.000-0.750
2025-08-12 12:11:44,384 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,384 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,384 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,385 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,385 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,385 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,386 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750]
2025-08-12 12:11:44,386 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.130-0.500
2025-08-12 12:11:44,386 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,386 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 2966.4, 'centroid': [84.51262135922329, 506.0970873786407], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 5, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,387 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,387 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,387 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 12:11:44,389 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 2966.4, 'centroid': [84.51262135922329, 506.0970873786407], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 5, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,389 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 12:11:44,389 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:44,390 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,390 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,391 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,392 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-12 12:11:44,392 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-12 12:11:44,392 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.800-0.750
2025-08-12 12:11:44,393 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,393 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,393 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,394 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,394 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,394 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,395 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,395 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,396 - INFO - [SoS] Perturbed collinear vertex 4: [-2.0768029e-13 -2.8800000e+02] -> [ 9.67094725e-07 -2.88000001e+02]
2025-08-12 12:11:44,396 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,398 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-12 12:11:44,398 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-12 12:11:44,398 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,399 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,399 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:44,400 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,400 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,400 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,401 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-12 12:11:44,401 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-12 12:11:44,401 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.130-0.750
2025-08-12 12:11:44,402 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,402 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,402 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,403 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,403 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,403 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,404 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,404 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,405 - INFO - [SoS] Perturbed collinear vertex 4: [-2.0768029e-13 -2.8800000e+02] -> [-9.08052406e-07 -2.88000000e+02]
2025-08-12 12:11:44,405 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,406 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-12 12:11:44,406 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-12 12:11:44,407 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,407 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,407 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:44,408 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,408 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,408 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,409 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-12 12:11:44,409 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-12 12:11:44,410 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_1.000-0.750
2025-08-12 12:11:44,410 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,410 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,410 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,411 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,411 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000269452A3D10>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,411 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,411 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-12 12:11:44,412 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,412 - INFO - [SoS] Perturbed collinear vertex 4: [-2.0768029e-13 -2.8800000e+02] -> [ 7.11062095e-07 -2.87999999e+02]
2025-08-12 12:11:44,412 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,415 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-12 12:11:44,415 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-12 12:11:44,415 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,416 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,416 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:44,417 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,417 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,417 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,418 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-12 12:11:44,418 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-12 12:11:44,418 - INFO - [collect_stroke_features] Collected 4 valid stroke features
2025-08-12 12:11:44,419 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=4
2025-08-12 12:11:44,419 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,420 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=3254.4. Returning 0.0.
2025-08-12 12:11:44,420 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-12 12:11:44,420 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-12 12:11:44,421 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'width': {'mean': 140.40000022701312, 'var': 6570.7200212484295, 'min': 0.0, 'max': 187.2000009080525, 'count': 4}, 'height': {'mean': 935.9999999193899, 'var': 305855.99991874496, 'min': 0.0, 'max': 1439.9999996775593, 'count': 4}, 'area': {'mean': 161740.7999374359, 'var': 8720028788.133888, 'min': 0.0, 'max': 215654.4005230382, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'perimeter': {'mean': 2152.7999995031482, 'var': 1600145.2792919837, 'min': 0.0, 'max': 3254.399999355119, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}}}
2025-08-12 12:11:44,421 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'width': {'mean': 140.40000022701312, 'var': 6570.7200212484295, 'min': 0.0, 'max': 187.2000009080525, 'count': 4}, 'height': {'mean': 935.9999999193899, 'var': 305855.99991874496, 'min': 0.0, 'max': 1439.9999996775593, 'count': 4}, 'area': {'mean': 161740.7999374359, 'var': 8720028788.133888, 'min': 0.0, 'max': 215654.4005230382, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'perimeter': {'mean': 2152.7999995031482, 'var': 1600145.2792919837, 'min': 0.0, 'max': 3254.399999355119, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}}}
2025-08-12 12:11:44,421 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:44,422 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,422 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,423 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,424 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-12 12:11:44,424 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-12 12:11:44,424 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.3, 'var': 0.0, 'min': 0.3, 'max': 0.3, 'count': 1}, 'width': {'mean': 187.20000000000027, 'var': 0.0, 'min': 187.20000000000027, 'max': 187.20000000000027, 'count': 1}, 'height': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 3254.4, 'var': 0.0, 'min': 3254.4, 'max': 3254.4, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.3, 'var': 0.0, 'min': 0.3, 'max': 0.3, 'count': 1}, 'width': {'mean': 187.20000000000027, 'var': 0.0, 'min': 187.20000000000027, 'max': 187.20000000000027, 'count': 1}, 'height': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 3254.4, 'var': 0.0, 'min': 3254.4, 'max': 3254.4, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 12:11:44,424 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=4
2025-08-12 12:11:44,427 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['is_pattern', 'line_is_long', 'convexity_ratio', 'visual_complexity', 'is_geometric', 'compactness', 'avg_stroke_length', 'geom_complexity', 'num_vertices', 'line_length', 'line_is_short', 'robust_curvature', 'stroke_length', 'is_normal', 'robust_angular_variance', 'degenerate_case', 'line_is_vertical', 'geometric_complexity', 'line_curvature_score', 'open_stroke_perimeter', 'arc_curvature_score', 'line_angle', 'line_is_horizontal', 'is_simple', 'stroke_index']
2025-08-12 12:11:44,427 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (4) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-12 12:11:44,427 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=4
2025-08-12 12:11:44,428 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 4
2025-08-12 12:11:44,428 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 4, 'num_arcs': 0, 'line_ratio': 1.0, 'arc_ratio': 0.0, 'stroke_diversity': 0}, 'line_aggregate': {'total_line_length': 12729.6, 'avg_line_length': 3182.4, 'line_length_variance': 15552.0, 'line_angle_variance': 0.0, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'horizontal'}}
2025-08-12 12:11:44,428 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750
2025-08-12 12:11:44,429 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-12 12:11:44,429 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-12 12:11:44,429 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-12 12:11:44,429 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-12 12:11:44,430 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.130-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.800-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.130-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_1.000-0.750', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 12:11:44,430 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 12:11:44,431 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 12:11:44,431 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-12 12:11:44,431 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-12 12:11:44,432 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.40000000000000047, 0.48], 'orientation_degrees': -149.76939112977894}, geometry={'area': 0.7999999999999994, 'perimeter': 3.9999999999999973, 'centroid': [0.5000000000000003, 0.5999999999999999], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 12:11:44,432 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-12 12:11:44,432 - DEBUG - [PATCH][actions field] Joined: line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750
2025-08-12 12:11:44,432 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.130-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.800-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.130-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_1.000-0.750', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 12:11:44,432 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 12:11:44,434 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-12 12:11:44,434 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-12 12:11:44,434 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:44,435 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:44,435 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|normal': 3}
2025-08-12 12:11:44,436 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 12:11:44,436 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-12 12:11:44,436 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5000000000000003, 0.5999999999999999], 'width': 1.0, 'height': 1.0, 'area_raw': 0.7999999999999994, 'area_normalized': 0.8888888888888891, 'perimeter_raw': 3.9999999999999973, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.8888888888888891, 'is_convex': False, 'compactness': 0.6283185307179591, 'polsby_popper_compactness': 0.6283185307179591, 'eccentricity': 0.4117684783981497, 'symmetry_score': 0.7071067811865468, 'horizontal_symmetry': 0.8800000000000001, 'vertical_symmetry': 0.9999999999999989, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 5.0, 'visual_complexity': 0.5044999999999998, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'moment_of_inertia': 0.3733333333333334, 'irregularity_score': 0.16000000000000045, 'standardized_complexity': 0.38629569970545286, 'clustering_heights': [0.0869035474475437, 0.14476508948482325, 0.38252865237468925], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 12:11:44,437 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:44,437 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-12 12:11:44,437 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-12 12:11:44,438 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:44,438 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.130-0.500, stroke_index=0
2025-08-12 12:11:44,438 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.13, param2=None, param3=0.5
2025-08-12 12:11:44,438 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)]
2025-08-12 12:11:44,439 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], geometry={'width': 0.13, 'height': 0.0, 'area': 0.0, 'perimeter': 0.13, 'centroid': [0.43499999999999994, 0.5], 'bounds': [0.37, 0.5, 0.5, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'open_stroke_perimeter': 0.13, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,439 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)]
2025-08-12 12:11:44,439 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,440 - INFO - [SoS] Perturbed collinear vertex 1: [0.48142857 0.5       ] -> [0.48142893 0.50000025]
2025-08-12 12:11:44,440 - INFO - [SoS] Perturbed collinear vertex 2: [0.46285714 0.5       ] -> [0.46285671 0.49999921]
2025-08-12 12:11:44,441 - INFO - [SoS] Perturbed collinear vertex 3: [0.44428571 0.5       ] -> [0.44428666 0.49999926]
2025-08-12 12:11:44,442 - INFO - [SoS] Perturbed collinear vertex 4: [0.42571429 0.5       ] -> [0.42571365 0.49999927]
2025-08-12 12:11:44,442 - INFO - [SoS] Perturbed collinear vertex 5: [0.40714286 0.5       ] -> [0.40714231 0.50000079]
2025-08-12 12:11:44,443 - INFO - [SoS] Perturbed collinear vertex 6: [0.38857143 0.5       ] -> [0.38857147 0.50000018]
2025-08-12 12:11:44,444 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:44,444 - INFO - [robust_angular_variance] Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 12:11:44,445 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,445 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,445 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:44,446 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,446 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,447 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,448 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.3107640031146591}
2025-08-12 12:11:44,448 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.3107640031146591, 'is_simple': True}
2025-08-12 12:11:44,448 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:44,449 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.800-0.750, stroke_index=0
2025-08-12 12:11:44,449 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.8, param2=None, param3=0.75
2025-08-12 12:11:44,449 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)]
2025-08-12 12:11:44,450 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], geometry={'width': 1.6653345369377348e-16, 'height': 0.8, 'area': 0.0, 'perimeter': 0.8, 'centroid': [0.5, 0.09999999999999999], 'bounds': [0.49999999999999983, -0.30000000000000004, 0.5, 0.5], 'num_vertices': 16, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'open_stroke_perimeter': 0.8, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,450 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)]
2025-08-12 12:11:44,450 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,452 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44666667] -> [0.49999916 0.44666747]
2025-08-12 12:11:44,452 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39333333] -> [0.49999988 0.3933335 ]
2025-08-12 12:11:44,453 - INFO - [SoS] Perturbed collinear vertex 3: [0.5  0.34] -> [0.499999   0.34000011]
2025-08-12 12:11:44,453 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28666667] -> [0.50000028 0.28666748]
2025-08-12 12:11:44,454 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.23333333] -> [0.49999904 0.23333417]
2025-08-12 12:11:44,454 - INFO - [SoS] Perturbed collinear vertex 6: [0.5  0.18] -> [0.49999948 0.18000084]
2025-08-12 12:11:44,455 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.12666667] -> [0.50000024 0.12666686]
2025-08-12 12:11:44,455 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.07333333] -> [0.49999975 0.07333324]
2025-08-12 12:11:44,456 - INFO - [SoS] Perturbed collinear vertex 9: [0.5  0.02] -> [0.5000007  0.02000084]
2025-08-12 12:11:44,457 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.03333333] -> [ 0.50000024 -0.03333337]
2025-08-12 12:11:44,457 - INFO - [SoS] Perturbed collinear vertex 11: [ 0.5        -0.08666667] -> [ 0.50000099 -0.08666632]
2025-08-12 12:11:44,458 - INFO - [SoS] Perturbed collinear vertex 12: [ 0.5  -0.14] -> [ 0.49999946 -0.13999912]
2025-08-12 12:11:44,458 - INFO - [SoS] Perturbed collinear vertex 13: [ 0.5        -0.19333333] -> [ 0.50000083 -0.19333331]
2025-08-12 12:11:44,459 - INFO - [SoS] Perturbed collinear vertex 14: [ 0.5        -0.24666667] -> [ 0.50000028 -0.24666618]
2025-08-12 12:11:44,461 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:44,461 - INFO - [robust_angular_variance] Computed angular variance: 1.079488 for 16 vertices.
2025-08-12 12:11:44,462 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,462 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,462 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:44,463 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,463 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,464 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,467 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.32, 'num_vertices': 16, 'convexity_ratio': 1e-06, 'compactness': 0.48060151272536755}
2025-08-12 12:11:44,467 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.32, 'num_vertices': 16, 'convexity_ratio': 1e-06, 'compactness': 0.48060151272536755, 'is_simple': True}
2025-08-12 12:11:44,468 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:44,468 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.130-0.750, stroke_index=0
2025-08-12 12:11:44,468 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.13, param2=None, param3=0.75
2025-08-12 12:11:44,469 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)]
2025-08-12 12:11:44,469 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], geometry={'width': 0.0, 'height': 0.13, 'area': 0.0, 'perimeter': 0.13, 'centroid': [0.5, 0.43499999999999994], 'bounds': [0.5, 0.37, 0.5, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'open_stroke_perimeter': 0.13, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,469 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)]
2025-08-12 12:11:44,470 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,470 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.48142857] -> [0.50000026 0.48142957]
2025-08-12 12:11:44,470 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.46285714] -> [0.49999999 0.46285694]
2025-08-12 12:11:44,471 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.44428571] -> [0.4999994  0.44428544]
2025-08-12 12:11:44,471 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.42571429] -> [0.50000003 0.42571342]
2025-08-12 12:11:44,471 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.40714286] -> [0.49999903 0.40714311]
2025-08-12 12:11:44,472 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.38857143] -> [0.50000033 0.38857142]
2025-08-12 12:11:44,474 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:44,475 - INFO - [robust_angular_variance] Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 12:11:44,475 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,475 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,475 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:44,476 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,476 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,477 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,478 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.3331737982652969}
2025-08-12 12:11:44,479 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.3331737982652969, 'is_simple': True}
2025-08-12 12:11:44,479 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:44,479 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_1.000-0.750, stroke_index=0
2025-08-12 12:11:44,479 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=1.0, param2=None, param3=0.75
2025-08-12 12:11:44,481 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)]
2025-08-12 12:11:44,481 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], geometry={'width': 1.6653345369377348e-16, 'height': 1.0, 'area': 0.0, 'perimeter': 1.0, 'centroid': [0.5, 1.734723475976807e-17], 'bounds': [0.49999999999999983, -0.5, 0.5, 0.5], 'num_vertices': 20, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'open_stroke_perimeter': 1.0, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,481 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)]
2025-08-12 12:11:44,482 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,483 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44736842] -> [0.50000008 0.44736841]
2025-08-12 12:11:44,483 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39473684] -> [0.49999952 0.39473588]
2025-08-12 12:11:44,484 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.34210526] -> [0.50000013 0.34210504]
2025-08-12 12:11:44,484 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28947368] -> [0.50000096 0.28947324]
2025-08-12 12:11:44,485 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.23684211] -> [0.49999949 0.23684211]
2025-08-12 12:11:44,485 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.18421053] -> [0.4999994  0.18420974]
2025-08-12 12:11:44,486 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.13157895] -> [0.49999915 0.13157942]
2025-08-12 12:11:44,486 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.07894737] -> [0.50000056 0.07894713]
2025-08-12 12:11:44,487 - INFO - [SoS] Perturbed collinear vertex 9: [0.5        0.02631579] -> [0.49999932 0.02631611]
2025-08-12 12:11:44,487 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.02631579] -> [ 0.50000065 -0.02631678]
2025-08-12 12:11:44,487 - INFO - [SoS] Perturbed collinear vertex 11: [ 0.5        -0.07894737] -> [ 0.49999952 -0.07894693]
2025-08-12 12:11:44,488 - INFO - [SoS] Perturbed collinear vertex 12: [ 0.5        -0.13157895] -> [ 0.50000068 -0.13157988]
2025-08-12 12:11:44,488 - INFO - [SoS] Perturbed collinear vertex 13: [ 0.5        -0.18421053] -> [ 0.49999953 -0.18420995]
2025-08-12 12:11:44,489 - INFO - [SoS] Perturbed collinear vertex 14: [ 0.5        -0.23684211] -> [ 0.49999917 -0.23684227]
2025-08-12 12:11:44,489 - INFO - [SoS] Perturbed collinear vertex 15: [ 0.5        -0.28947368] -> [ 0.50000091 -0.28947415]
2025-08-12 12:11:44,490 - INFO - [SoS] Perturbed collinear vertex 16: [ 0.5        -0.34210526] -> [ 0.50000071 -0.34210614]
2025-08-12 12:11:44,490 - INFO - [SoS] Perturbed collinear vertex 17: [ 0.5        -0.39473684] -> [ 0.50000098 -0.39473618]
2025-08-12 12:11:44,491 - INFO - [SoS] Perturbed collinear vertex 18: [ 0.5        -0.44736842] -> [ 0.50000085 -0.44736835]
2025-08-12 12:11:44,494 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:44,494 - INFO - [robust_angular_variance] Computed angular variance: 0.888264 for 20 vertices.
2025-08-12 12:11:44,494 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,495 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,495 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:44,495 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,496 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,496 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,499 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.49521539981167073}
2025-08-12 12:11:44,499 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.49521539981167073, 'is_simple': True}
2025-08-12 12:11:44,500 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 12:11:44,500 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,500 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,501 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,501 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,501 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,502 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,502 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,502 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-12 12:11:44,502 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:44,503 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_5', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/5.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.130-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.800-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.130-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_1.000-0.750', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 4, 'raw_vertices': ['(0.0, 0.0)', '(187.20000000000002, 0.0)', '(187.20000000000007, 1152.0)', '(5.684341886080802e-14, 1152.0)', '(-2.0768028975502026e-13, -288.0)'], 'vertices': ['(1.1094032572383544e-15, 0.2)', '(0.9999999999999997, 0.2)', '(1.0, 1.0)', '(1.4130539990161747e-15, 1.0)', '(0.0, 0.0)'], 'num_vertices': 5, 'position_label': ['0.40000000000000047', '0.48'], 'rotation_label_degrees': ['-149.76939112977894'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5000000000000003, 0.5999999999999999], 'width': 1.0, 'height': 1.0, 'area_raw': 0.7999999999999994, 'area_normalized': 0.8888888888888891, 'perimeter_raw': 3.9999999999999973, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.8888888888888891, 'is_convex': False, 'compactness': 0.6283185307179591, 'polsby_popper_compactness': 0.6283185307179591, 'eccentricity': 0.4117684783981497, 'symmetry_score': 0.7071067811865468, 'horizontal_symmetry': 0.8800000000000001, 'vertical_symmetry': 0.9999999999999989, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 5.0, 'visual_complexity': 0.5044999999999998, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'moment_of_inertia': 0.3733333333333334, 'irregularity_score': 0.16000000000000045, 'standardized_complexity': 0.38629569970545286, 'clustering_heights': [0.0869035474475437, 0.14476508948482325, 0.38252865237468925], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 4.423207850501854e-08, 'perimeter_mean': 0.21895898949329176, 'width_mean': 0.010004763360428229, 'height_mean': 0.09947554767032402, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.3733333333333334, 'center_of_mass': [0.5000000000000003, 0.5999999999999999], 'polsby_popper_compactness': 0.6283185307179591, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': False, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'edge_length_variance': 0.09599999999999975}, 'composition_features': {'stroke_type_distribution': {'line': 4}, 'shape_modifier_distribution': {'normal': 4}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 5, 'homogeneity_score': 1.0, 'pattern_regularity': 0.25}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 4}}, 'processing_metadata': {'processing_timestamp': 1754980904.5037453, 'feature_count': 54}, 'actions': ['line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750'], 'action_program': ['line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750'], 'geometry': {'area': 0.7999999999999994, 'perimeter': 3.9999999999999973, 'centroid': [0.5000000000000003, 0.5999999999999999], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 3}, 'analytic_attributes': ['normal', 'normal', 'normal', 'normal'], 'analytic_ngram': {'normal|normal': 3}, 'alternation': 0.25, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 4}}}, 'topological_features': {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 3, 1: 3, 2: 3, 3: 3}, 'adjacency_clustering': {0: 1.0, 1: 1.0, 2: 1.0, 3: 1.0}, 'intersection_count': 6, 'betweenness_centrality': {0: 0.0, 1: 0.0, 2: 0.0, 3: 0.0}, 'containment_score': 0, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 3122.693580726045, 'skeleton_graph_features': {'num_nodes': 4, 'num_edges': 6}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}}
2025-08-12 12:11:44,504 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.40000000000000047, 0.48], 'orientation_degrees': -149.76939112977894}
2025-08-12 12:11:44,504 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.7999999999999994, 'perimeter': 3.9999999999999973, 'centroid': [0.5000000000000003, 0.5999999999999999], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 12:11:44,504 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.130-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.800-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.130-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_1.000-0.750', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 12:11:44,505 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-12 12:11:44,505 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-12 12:11:44,505 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-12 12:11:44,506 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5000000000000003, 0.5999999999999999], 'width': 1.0, 'height': 1.0, 'area_raw': 0.7999999999999994, 'area_normalized': 0.8888888888888891, 'perimeter_raw': 3.9999999999999973, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.8888888888888891, 'is_convex': False, 'compactness': 0.6283185307179591, 'polsby_popper_compactness': 0.6283185307179591, 'eccentricity': 0.4117684783981497, 'symmetry_score': 0.7071067811865468, 'horizontal_symmetry': 0.8800000000000001, 'vertical_symmetry': 0.9999999999999989, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 5.0, 'visual_complexity': 0.5044999999999998, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'moment_of_inertia': 0.3733333333333334, 'irregularity_score': 0.16000000000000045, 'standardized_complexity': 0.38629569970545286, 'clustering_heights': [0.0869035474475437, 0.14476508948482325, 0.38252865237468925], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 12:11:44,506 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.3733333333333334, 'center_of_mass': [0.5000000000000003, 0.5999999999999999], 'polsby_popper_compactness': 0.6283185307179591, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': False, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'edge_length_variance': 0.09599999999999975}
2025-08-12 12:11:44,506 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 4}, 'shape_modifier_distribution': {'normal': 4}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 5, 'homogeneity_score': 1.0, 'pattern_regularity': 0.25}
2025-08-12 12:11:44,507 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 12:11:44,507 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}
2025-08-12 12:11:44,509 - INFO - [PIPELINE] INPUT: images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/5.png
2025-08-12 12:11:44,509 - INFO - [PIPELINE] OUTPUT: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_5', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/5.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.130-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.800-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.130-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_1.000-0.750', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 4, 'raw_vertices': ['(0.0, 0.0)', '(187.20000000000002, 0.0)', '(187.20000000000007, 1152.0)', '(5.684341886080802e-14, 1152.0)', '(-2.0768028975502026e-13, -288.0)'], 'vertices': ['(1.1094032572383544e-15, 0.2)', '(0.9999999999999997, 0.2)', '(1.0, 1.0)', '(1.4130539990161747e-15, 1.0)', '(0.0, 0.0)'], 'num_vertices': 5, 'position_label': ['0.40000000000000047', '0.48'], 'rotation_label_degrees': ['-149.76939112977894'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5000000000000003, 0.5999999999999999], 'width': 1.0, 'height': 1.0, 'area_raw': 0.7999999999999994, 'area_normalized': 0.8888888888888891, 'perimeter_raw': 3.9999999999999973, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.8888888888888891, 'is_convex': False, 'compactness': 0.6283185307179591, 'polsby_popper_compactness': 0.6283185307179591, 'eccentricity': 0.4117684783981497, 'symmetry_score': 0.7071067811865468, 'horizontal_symmetry': 0.8800000000000001, 'vertical_symmetry': 0.9999999999999989, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 5.0, 'visual_complexity': 0.5044999999999998, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'moment_of_inertia': 0.3733333333333334, 'irregularity_score': 0.16000000000000045, 'standardized_complexity': 0.38629569970545286, 'clustering_heights': [0.0869035474475437, 0.14476508948482325, 0.38252865237468925], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 4.423207850501854e-08, 'perimeter_mean': 0.21895898949329176, 'width_mean': 0.010004763360428229, 'height_mean': 0.09947554767032402, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.3733333333333334, 'center_of_mass': [0.5000000000000003, 0.5999999999999999], 'polsby_popper_compactness': 0.6283185307179591, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': False, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'edge_length_variance': 0.09599999999999975}, 'composition_features': {'stroke_type_distribution': {'line': 4}, 'shape_modifier_distribution': {'normal': 4}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 5, 'homogeneity_score': 1.0, 'pattern_regularity': 0.25}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [[0.0, 0.0], [187.20000000000002, 0.0], [187.20000000000007, 1152.0], [5.684341886080802e-14, 1152.0], [-2.0768028975502026e-13, -288.0]], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [[0.0, 0.0], [187.20000000000002, 0.0], [187.20000000000007, 1152.0], [5.684341886080802e-14, 1152.0], [-2.0768028975502026e-13, -288.0], [0.0, 0.0]], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [[0.0, 0.0], [187.20000000000002, 0.0], [187.20000000000007, 1152.0], [5.684341886080802e-14, 1152.0], [-2.0768028975502026e-13, -288.0], [0.0, 0.0]], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [[0.0, 0.0], [187.20000000000002, 0.0], [187.20000000000007, 1152.0], [5.684341886080802e-14, 1152.0], [-2.0768028975502026e-13, -288.0], [0.0, 0.0]], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 4}}, 'processing_metadata': {'processing_timestamp': 1754980904.5037453, 'feature_count': 54}, 'actions': ['line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750'], 'action_program': ['line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750'], 'geometry': {'area': 0.7999999999999994, 'perimeter': 3.9999999999999973, 'centroid': [0.5000000000000003, 0.5999999999999999], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 3}, 'analytic_attributes': ['normal', 'normal', 'normal', 'normal'], 'analytic_ngram': {'normal|normal': 3}, 'alternation': 0.25, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 4}}}, 'topological_features': {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 3, 1: 3, 2: 3, 3: 3}, 'adjacency_clustering': {0: 1.0, 1: 1.0, 2: 1.0, 3: 1.0}, 'intersection_count': 6, 'betweenness_centrality': {0: 0.0, 1: 0.0, 2: 0.0, 3: 0.0}, 'containment_score': 0, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 3122.693580726045, 'skeleton_graph_features': {'num_nodes': 4, 'num_edges': 6}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}}
2025-08-12 12:11:44,510 - INFO - [INPUT] Processing image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018, is_positive=False
2025-08-12 12:11:44,510 - INFO - [INPUT] action_commands type: <class 'list'>, value: [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-12 12:11:44,510 - INFO - [SHAPE SPLIT] Raw action_commands: [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-12 12:11:44,510 - INFO - [SHAPE SPLIT] Sublist 0: ['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-12 12:11:44,511 - INFO - [SHAPE SPLIT] Parsed shapes_commands (multi-object): [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-12 12:11:44,511 - INFO - ComprehensiveNVLabsParser initialized:
2025-08-12 12:11:44,511 - INFO -   Canvas size: 512x512
2025-08-12 12:11:44,511 - INFO -   Coordinate range: (-360, 360)
2025-08-12 12:11:44,512 - INFO -   Base scaling factor: 1440.0
2025-08-12 12:11:44,512 - INFO - [PARSER] Parsing shape 0 commands: ['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-12 12:11:44,512 - INFO - [LOGOPARSER] Input action_commands for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: ['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-12 12:11:44,512 - DEBUG - Parsing 6 commands for hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-12 12:11:44,513 - DEBUG - [ACTIONS_JOIN] line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875
2025-08-12 12:11:44,513 - DEBUG - [ACTIONS_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 12:11:44,513 - DEBUG - [ACTIONS_ATTRS] [{'line_length': 1440.0, 'line_type': 'triangle', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_triangle_1.000-0.500'}, {'line_length': 864.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.600-0.750'}, {'line_length': 610.56, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_zigzag_0.424-0.875'}, {'line_length': 576.0, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 45.0, 'name': 'line', 'raw_command': 'line_circle_0.400-0.375'}, {'line_length': 610.56, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 45.0, 'name': 'line', 'raw_command': 'line_circle_0.424-0.375'}, {'line_length': 864.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_normal_0.600-0.875'}]
2025-08-12 12:11:44,514 - INFO - [OneStrokeShape.__init__] basic_actions: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], start_coordinates: None, start_orientation: None, scaling_factors: None
2025-08-12 12:11:44,514 - DEBUG - [OUTPUT_SHAPE_ACTIONS] line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875
2025-08-12 12:11:44,514 - DEBUG - [OUTPUT_SHAPE_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-12 12:11:44,514 - DEBUG - [OUTPUT_SHAPE_ATTRS] [{'line_length': 1440.0, 'line_type': 'triangle', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_triangle_1.000-0.500'}, {'line_length': 864.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.600-0.750'}, {'line_length': 610.56, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_zigzag_0.424-0.875'}, {'line_length': 576.0, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 45.0, 'name': 'line', 'raw_command': 'line_circle_0.400-0.375'}, {'line_length': 610.56, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 45.0, 'name': 'line', 'raw_command': 'line_circle_0.424-0.375'}, {'line_length': 864.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_normal_0.600-0.875'}]
2025-08-12 12:11:44,515 - INFO - [OneStrokeShape._calculate_vertices] INPUT basic_actions: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-12 12:11:44,515 - INFO - [OneStrokeShape._calculate_vertices] OUTPUT vertices: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:44,515 - INFO - [LOGOPARSER] Shape for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 has 7 vertices.
2025-08-12 12:11:44,515 - INFO - [LOGOPARSER] Parsed vertices (raw): [[0.0, 0.0], [1440.0, 0.0], [1440.0, 864.0], [1008.2688836787415, 432.26888367874164], [432.26888367874153, 432.2688836787417], [0.5377673574831761, 864.0000000000002], [0.5377673574830173, 2.2737367544323206e-13]]
2025-08-12 12:11:44,516 - INFO - [LOGOPARSER] Vertices bounding box: min=(0.00,0.00), max=(1440.00,864.00), center=(617.37,370.36)
2025-08-12 12:11:44,516 - INFO - Successfully created OneStrokeShape with 6 actions using NVLabs implementation
2025-08-12 12:11:44,516 - INFO - [PARSER] Parsed shape 0: type=OneStrokeShape, num_actions=6, action_types=['str', 'str', 'str', 'str', 'str', 'str'], attributes={}
2025-08-12 12:11:44,517 - INFO - [FEATURE EXTRACTION][geometry] INPUT: shape 0 vertices: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:44,517 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 0 command: line_triangle_1.000-0.500
2025-08-12 12:11:44,517 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:44,517 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_triangle_1.000-0.500, stroke_index=0
2025-08-12 12:11:44,518 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=1.0, param2=None, param3=0.5
2025-08-12 12:11:44,518 - INFO - [LOGGING PATCH] [_vertices_from_command] Triangle vertices: [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)]
2025-08-12 12:11:44,518 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], geometry={'width': 1.5000000000000004, 'height': 1.7320508075688772, 'area': 0.0, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000001], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'num_vertices': 4, 'analytic_vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'open_stroke_perimeter': 5.196152422706632, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,518 - INFO - [_calculate_vertices_from_action] Bounding box: (-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388)
2025-08-12 12:11:44,519 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=[(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)]
2025-08-12 12:11:44,519 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], geometry={'width': 1.5000000000000004, 'height': 1.7320508075688772, 'area': 0.0, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000001], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'num_vertices': 4, 'analytic_vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'open_stroke_perimeter': 5.196152422706632, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,519 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)]
2025-08-12 12:11:44,520 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,520 - INFO - [SoS] Removed duplicate vertex: [1.5 0.5]
2025-08-12 12:11:44,521 - INFO - Convexity: poly_area=1.2990, hull_area=1.2990, ratio=1.0000
2025-08-12 12:11:44,521 - INFO - [robust_angular_variance] Computed angular variance: 0.068539 for 4 vertices.
2025-08-12 12:11:44,522 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,522 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,522 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:44,523 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,523 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 12:11:44,523 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,525 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-12 12:11:44,525 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-12 12:11:44,525 - INFO - [SoS] Removed duplicate vertex: [1.5 0.5]
2025-08-12 12:11:44,526 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=0, assigned is_positive=False
2025-08-12 12:11:44,526 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=0, stroke_dict: {'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'open_stroke_perimeter': 5.196152422706632, 'shape_modifier': 'normal', 'command': 'line_triangle_1.000-0.500', 'vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'geometry': {'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 12:11:44,526 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 1 command: line_normal_0.600-0.750
2025-08-12 12:11:44,526 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:44,527 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.600-0.750, stroke_index=1
2025-08-12 12:11:44,527 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.6, param2=None, param3=0.75
2025-08-12 12:11:44,527 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)]
2025-08-12 12:11:44,527 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], geometry={'width': 1.1102230246251565e-16, 'height': 0.6, 'area': 0.0, 'perimeter': 0.6, 'centroid': [0.5, 0.20000000000000004], 'bounds': [0.4999999999999999, -0.09999999999999998, 0.5, 0.5], 'num_vertices': 12, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'open_stroke_perimeter': 0.6, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,528 - INFO - [_calculate_vertices_from_action] Bounding box: (0.4999999999999999, -0.09999999999999998, 0.5, 0.5)
2025-08-12 12:11:44,528 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)]
2025-08-12 12:11:44,528 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], geometry={'width': 1.1102230246251565e-16, 'height': 0.6, 'area': 0.0, 'perimeter': 0.6, 'centroid': [0.5, 0.20000000000000004], 'bounds': [0.4999999999999999, -0.09999999999999998, 0.5, 0.5], 'num_vertices': 12, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'open_stroke_perimeter': 0.6, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,528 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)]
2025-08-12 12:11:44,530 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,530 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44545455] -> [0.49999995 0.44545405]
2025-08-12 12:11:44,531 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39090909] -> [0.49999933 0.39090971]
2025-08-12 12:11:44,531 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.33636364] -> [0.50000027 0.33636278]
2025-08-12 12:11:44,532 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28181818] -> [0.50000058 0.28181884]
2025-08-12 12:11:44,532 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.22727273] -> [0.4999995  0.22727219]
2025-08-12 12:11:44,533 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.17272727] -> [0.49999916 0.17272765]
2025-08-12 12:11:44,533 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.11818182] -> [0.49999925 0.11818271]
2025-08-12 12:11:44,534 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.06363636] -> [0.49999925 0.06363596]
2025-08-12 12:11:44,534 - INFO - [SoS] Perturbed collinear vertex 9: [0.5        0.00909091] -> [0.49999952 0.00909014]
2025-08-12 12:11:44,535 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.04545455] -> [ 0.50000091 -0.04545527]
2025-08-12 12:11:44,536 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:44,536 - INFO - [robust_angular_variance] Computed angular variance: 1.370778 for 12 vertices.
2025-08-12 12:11:44,537 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,537 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,537 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:44,538 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,538 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,538 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,541 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.4870644538648868}
2025-08-12 12:11:44,541 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.4870644538648868, 'is_simple': True}
2025-08-12 12:11:44,542 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44545455] -> [0.49999946 0.44545465]
2025-08-12 12:11:44,542 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39090909] -> [0.50000022 0.39090848]
2025-08-12 12:11:44,543 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.33636364] -> [0.50000066 0.33636405]
2025-08-12 12:11:44,543 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28181818] -> [0.50000009 0.28181719]
2025-08-12 12:11:44,544 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.22727273] -> [0.50000028 0.22727178]
2025-08-12 12:11:44,544 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.17272727] -> [0.50000092 0.17272721]
2025-08-12 12:11:44,544 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.11818182] -> [0.50000092 0.11818112]
2025-08-12 12:11:44,545 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.06363636] -> [0.50000076 0.06363638]
2025-08-12 12:11:44,545 - INFO - [SoS] Perturbed collinear vertex 9: [0.5        0.00909091] -> [0.50000021 0.00909081]
2025-08-12 12:11:44,546 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.04545455] -> [ 0.49999961 -0.04545513]
2025-08-12 12:11:44,547 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=1, assigned is_positive=False
2025-08-12 12:11:44,547 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=1, stroke_dict: {'area': 2.1343368777995371e-07, 'perimeter': 0.8333069692905879, 'centroid': [0.5000003362529611, 0.17445213258337425], 'bounds': [0.4999999999999999, -0.010050760941506668, 0.500000922412066, 0.4066027236965289], 'width': 9.224120660622503e-07, 'height': 0.41665348463803553, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.8333069692905879, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'vertical', 'command': 'line_normal_0.600-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'geometry': {'area': 2.1343368777995371e-07, 'perimeter': 0.8333069692905879, 'centroid': [0.5000003362529611, 0.17445213258337425], 'bounds': [0.4999999999999999, -0.010050760941506668, 0.500000922412066, 0.4066027236965289], 'width': 9.224120660622503e-07, 'height': 0.41665348463803553, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.8333069692905879}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 12:11:44,547 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 2 command: line_zigzag_0.424-0.875
2025-08-12 12:11:44,548 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:44,548 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_zigzag_0.424-0.875, stroke_index=2
2025-08-12 12:11:44,548 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.424, param2=None, param3=0.875
2025-08-12 12:11:44,549 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)]
2025-08-12 12:11:44,549 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], geometry={'width': 0.2998132752230961, 'height': 0.2998132752230962, 'area': 0.0, 'perimeter': 0.424, 'centroid': [0.6499066376115481, 0.3500933623884519], 'bounds': [0.5, 0.2001867247769038, 0.7998132752230961, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'open_stroke_perimeter': 0.424, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,549 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.2001867247769038, 0.7998132752230961, 0.5)
2025-08-12 12:11:44,550 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)]
2025-08-12 12:11:44,550 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], geometry={'width': 0.2998132752230961, 'height': 0.2998132752230962, 'area': 0.0, 'perimeter': 0.424, 'centroid': [0.6499066376115481, 0.3500933623884519], 'bounds': [0.5, 0.2001867247769038, 0.7998132752230961, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'open_stroke_perimeter': 0.424, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,550 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)]
2025-08-12 12:11:44,551 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,551 - INFO - [SoS] Perturbed collinear vertex 1: [0.54283047 0.45716953] -> [0.54283098 0.45716968]
2025-08-12 12:11:44,552 - INFO - [SoS] Perturbed collinear vertex 2: [0.58566094 0.41433906] -> [0.58566053 0.41433936]
2025-08-12 12:11:44,552 - INFO - [SoS] Perturbed collinear vertex 3: [0.6284914 0.3715086] -> [0.62849113 0.37150814]
2025-08-12 12:11:44,553 - INFO - [SoS] Perturbed collinear vertex 4: [0.67132187 0.32867813] -> [0.67132255 0.32867855]
2025-08-12 12:11:44,554 - INFO - [SoS] Perturbed collinear vertex 5: [0.71415234 0.28584766] -> [0.71415246 0.28584737]
2025-08-12 12:11:44,554 - INFO - [SoS] Perturbed collinear vertex 6: [0.75698281 0.24301719] -> [0.75698364 0.24301813]
2025-08-12 12:11:44,556 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:44,557 - INFO - [robust_angular_variance] Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 12:11:44,557 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,557 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,558 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:44,558 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,558 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:44,559 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,561 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 12:11:44,561 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:44,562 - INFO - [SoS] Perturbed collinear vertex 1: [0.54283047 0.45716953] -> [0.54283053 0.4571689 ]
2025-08-12 12:11:44,562 - INFO - [SoS] Perturbed collinear vertex 2: [0.58566094 0.41433906] -> [0.58566131 0.41433873]
2025-08-12 12:11:44,563 - INFO - [SoS] Perturbed collinear vertex 3: [0.6284914 0.3715086] -> [0.62849174 0.37150937]
2025-08-12 12:11:44,563 - INFO - [SoS] Perturbed collinear vertex 4: [0.67132187 0.32867813] -> [0.6713222 0.3286791]
2025-08-12 12:11:44,564 - INFO - [SoS] Perturbed collinear vertex 5: [0.71415234 0.28584766] -> [0.71415312 0.28584706]
2025-08-12 12:11:44,564 - INFO - [SoS] Perturbed collinear vertex 6: [0.75698281 0.24301719] -> [0.7569828  0.24301786]
2025-08-12 12:11:44,565 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=2, assigned is_positive=False
2025-08-12 12:11:44,565 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=2, stroke_dict: {'area': 1.403358487182295e-07, 'perimeter': 0.6135912079066579, 'centroid': [0.676017935627295, 0.32398250487056257], 'bounds': [0.5828760232340991, 0.2001867247769038, 0.7998132752230961, 0.41712397676590085], 'width': 0.21693725198899694, 'height': 0.21693725198899705, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.6135912079066579, 'analytic_vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'open_stroke_perimeter': 0.424, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.424-0.875', 'vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'geometry': {'area': 1.403358487182295e-07, 'perimeter': 0.6135912079066579, 'centroid': [0.676017935627295, 0.32398250487056257], 'bounds': [0.5828760232340991, 0.2001867247769038, 0.7998132752230961, 0.41712397676590085], 'width': 0.21693725198899694, 'height': 0.21693725198899705, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.6135912079066579}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 12:11:44,566 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 3 command: line_circle_0.400-0.375
2025-08-12 12:11:44,566 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:44,566 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_circle_0.400-0.375, stroke_index=3
2025-08-12 12:11:44,566 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.4, param2=None, param3=0.375
2025-08-12 12:11:44,567 - INFO - [LOGGING PATCH] [_vertices_from_command] Circle vertices: [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)]
2025-08-12 12:11:44,567 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], geometry={'width': 0.8, 'height': 0.8, 'area': 0.0, 'perimeter': 2.3778038686115095, 'centroid': [0.47946256298636675, 0.5032528104671047], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'num_vertices': 20, 'analytic_vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'open_stroke_perimeter': 2.3778038686115095, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,567 - INFO - [_calculate_vertices_from_action] Bounding box: (0.09999999999999998, 0.09999999999999998, 0.9, 0.9)
2025-08-12 12:11:44,569 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=[(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)]
2025-08-12 12:11:44,569 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], geometry={'width': 0.8, 'height': 0.8, 'area': 0.0, 'perimeter': 2.3778038686115095, 'centroid': [0.47946256298636675, 0.5032528104671047], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'num_vertices': 20, 'analytic_vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'open_stroke_perimeter': 2.3778038686115095, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,569 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)]
2025-08-12 12:11:44,570 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:44,570 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,570 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:44,570 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,572 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547274}
2025-08-12 12:11:44,572 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547274, 'has_curved_edges': True}
2025-08-12 12:11:44,575 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=3, assigned is_positive=False
2025-08-12 12:11:44,576 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=3, stroke_dict: {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'open_stroke_perimeter': 2.3778038686115095, 'shape_modifier': 'normal', 'command': 'line_circle_0.400-0.375', 'vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'geometry': {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 12:11:44,576 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 4 command: line_circle_0.424-0.375
2025-08-12 12:11:44,576 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:44,576 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_circle_0.424-0.375, stroke_index=4
2025-08-12 12:11:44,577 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.424, param2=None, param3=0.375
2025-08-12 12:11:44,577 - INFO - [LOGGING PATCH] [_vertices_from_command] Circle vertices: [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)]
2025-08-12 12:11:44,577 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], geometry={'width': 0.8479999999999999, 'height': 0.8479999999999999, 'area': 0.0, 'perimeter': 2.5204721007282003, 'centroid': [0.4782303167655487, 0.5034479790951307], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'num_vertices': 20, 'analytic_vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'open_stroke_perimeter': 2.5204721007282003, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,577 - INFO - [_calculate_vertices_from_action] Bounding box: (0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999)
2025-08-12 12:11:44,578 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=[(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)]
2025-08-12 12:11:44,578 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], geometry={'width': 0.8479999999999999, 'height': 0.8479999999999999, 'area': 0.0, 'perimeter': 2.5204721007282003, 'centroid': [0.4782303167655487, 0.5034479790951307], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'num_vertices': 20, 'analytic_vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'open_stroke_perimeter': 2.5204721007282003, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,578 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)]
2025-08-12 12:11:44,579 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:44,579 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,580 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:44,580 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,583 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275}
2025-08-12 12:11:44,583 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275, 'has_curved_edges': True}
2025-08-12 12:11:44,587 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=4, assigned is_positive=False
2025-08-12 12:11:44,587 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=4, stroke_dict: {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'open_stroke_perimeter': 2.5204721007282003, 'shape_modifier': 'normal', 'command': 'line_circle_0.424-0.375', 'vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'geometry': {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 12:11:44,587 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 5 command: line_normal_0.600-0.875
2025-08-12 12:11:44,588 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:44,588 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.600-0.875, stroke_index=5
2025-08-12 12:11:44,588 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.6, param2=None, param3=0.875
2025-08-12 12:11:44,588 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)]
2025-08-12 12:11:44,589 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], geometry={'width': 0.42426406871192834, 'height': 0.4242640687119286, 'area': 0.0, 'perimeter': 0.6, 'centroid': [0.712132034355964, 0.28786796564403566], 'bounds': [0.5, 0.07573593128807138, 0.9242640687119283, 0.5], 'num_vertices': 12, 'analytic_vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'open_stroke_perimeter': 0.6, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,589 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.07573593128807138, 0.9242640687119283, 0.5)
2025-08-12 12:11:44,590 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)]
2025-08-12 12:11:44,590 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], geometry={'width': 0.42426406871192834, 'height': 0.4242640687119286, 'area': 0.0, 'perimeter': 0.6, 'centroid': [0.712132034355964, 0.28786796564403566], 'bounds': [0.5, 0.07573593128807138, 0.9242640687119283, 0.5], 'num_vertices': 12, 'analytic_vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'open_stroke_perimeter': 0.6, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,590 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)]
2025-08-12 12:11:44,591 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,591 - INFO - [SoS] Perturbed collinear vertex 1: [0.53856946 0.46143054] -> [0.538569  0.4614299]
2025-08-12 12:11:44,592 - INFO - [SoS] Perturbed collinear vertex 2: [0.57713892 0.42286108] -> [0.57713983 0.42286193]
2025-08-12 12:11:44,592 - INFO - [SoS] Perturbed collinear vertex 3: [0.61570838 0.38429162] -> [0.61570851 0.38429137]
2025-08-12 12:11:44,593 - INFO - [SoS] Perturbed collinear vertex 4: [0.65427784 0.34572216] -> [0.65427692 0.34572179]
2025-08-12 12:11:44,593 - INFO - [SoS] Perturbed collinear vertex 5: [0.6928473 0.3071527] -> [0.6928471  0.30715263]
2025-08-12 12:11:44,593 - INFO - [SoS] Perturbed collinear vertex 6: [0.73141676 0.26858324] -> [0.73141605 0.26858291]
2025-08-12 12:11:44,594 - INFO - [SoS] Perturbed collinear vertex 7: [0.76998623 0.23001377] -> [0.76998547 0.23001444]
2025-08-12 12:11:44,594 - INFO - [SoS] Perturbed collinear vertex 8: [0.80855569 0.19144431] -> [0.80855587 0.19144496]
2025-08-12 12:11:44,595 - INFO - [SoS] Perturbed collinear vertex 9: [0.84712515 0.15287485] -> [0.84712578 0.15287487]
2025-08-12 12:11:44,596 - INFO - [SoS] Perturbed collinear vertex 10: [0.88569461 0.11430539] -> [0.88569539 0.11430511]
2025-08-12 12:11:44,598 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:44,598 - INFO - [robust_angular_variance] Computed angular variance: 1.370778 for 12 vertices.
2025-08-12 12:11:44,599 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,599 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,599 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:44,600 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,600 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,600 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,602 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 12:11:44,602 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 12:11:44,603 - INFO - [SoS] Perturbed collinear vertex 1: [0.53856946 0.46143054] -> [0.53856859 0.46142988]
2025-08-12 12:11:44,603 - INFO - [SoS] Perturbed collinear vertex 2: [0.57713892 0.42286108] -> [0.57713814 0.42286046]
2025-08-12 12:11:44,603 - INFO - [SoS] Perturbed collinear vertex 3: [0.61570838 0.38429162] -> [0.61570864 0.3842921 ]
2025-08-12 12:11:44,604 - INFO - [SoS] Perturbed collinear vertex 4: [0.65427784 0.34572216] -> [0.65427819 0.34572167]
2025-08-12 12:11:44,604 - INFO - [SoS] Perturbed collinear vertex 5: [0.6928473 0.3071527] -> [0.69284664 0.30715324]
2025-08-12 12:11:44,605 - INFO - [SoS] Perturbed collinear vertex 6: [0.73141676 0.26858324] -> [0.73141655 0.26858347]
2025-08-12 12:11:44,605 - INFO - [SoS] Perturbed collinear vertex 7: [0.76998623 0.23001377] -> [0.76998536 0.23001288]
2025-08-12 12:11:44,606 - INFO - [SoS] Perturbed collinear vertex 8: [0.80855569 0.19144431] -> [0.80855535 0.19144348]
2025-08-12 12:11:44,607 - INFO - [SoS] Perturbed collinear vertex 9: [0.84712515 0.15287485] -> [0.84712563 0.1528755 ]
2025-08-12 12:11:44,607 - INFO - [SoS] Perturbed collinear vertex 10: [0.88569461 0.11430539] -> [0.88569394 0.11430455]
2025-08-12 12:11:44,609 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=5, assigned is_positive=False
2025-08-12 12:11:44,610 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=5, stroke_dict: {'area': 1.0365538063604116e-07, 'perimeter': 0.28943732191987515, 'centroid': [0.5532559065903724, 0.446743469154788], 'bounds': [0.5, 0.3976684534796757, 0.6023315465203242, 0.5], 'width': 0.10233154652032417, 'height': 0.10233154652032428, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.28943732191987515, 'analytic_vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'normal', 'command': 'line_normal_0.600-0.875', 'vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'geometry': {'area': 1.0365538063604116e-07, 'perimeter': 0.28943732191987515, 'centroid': [0.5532559065903724, 0.446743469154788], 'bounds': [0.5, 0.3976684534796757, 0.6023315465203242, 0.5], 'width': 0.10233154652032417, 'height': 0.10233154652032428, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.28943732191987515}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-12 12:11:44,610 - INFO - [ATTR DEBUG] Shape 0 strokes (dicts): [{'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'open_stroke_perimeter': 5.196152422706632, 'shape_modifier': 'normal', 'command': 'line_triangle_1.000-0.500', 'vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'geometry': {'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 2.1343368777995371e-07, 'perimeter': 0.8333069692905879, 'centroid': [0.5000003362529611, 0.17445213258337425], 'bounds': [0.4999999999999999, -0.010050760941506668, 0.500000922412066, 0.4066027236965289], 'width': 9.224120660622503e-07, 'height': 0.41665348463803553, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.8333069692905879, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'vertical', 'command': 'line_normal_0.600-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'geometry': {'area': 2.1343368777995371e-07, 'perimeter': 0.8333069692905879, 'centroid': [0.5000003362529611, 0.17445213258337425], 'bounds': [0.4999999999999999, -0.010050760941506668, 0.500000922412066, 0.4066027236965289], 'width': 9.224120660622503e-07, 'height': 0.41665348463803553, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.8333069692905879}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.403358487182295e-07, 'perimeter': 0.6135912079066579, 'centroid': [0.676017935627295, 0.32398250487056257], 'bounds': [0.5828760232340991, 0.2001867247769038, 0.7998132752230961, 0.41712397676590085], 'width': 0.21693725198899694, 'height': 0.21693725198899705, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.6135912079066579, 'analytic_vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'open_stroke_perimeter': 0.424, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.424-0.875', 'vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'geometry': {'area': 1.403358487182295e-07, 'perimeter': 0.6135912079066579, 'centroid': [0.676017935627295, 0.32398250487056257], 'bounds': [0.5828760232340991, 0.2001867247769038, 0.7998132752230961, 0.41712397676590085], 'width': 0.21693725198899694, 'height': 0.21693725198899705, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.6135912079066579}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'open_stroke_perimeter': 2.3778038686115095, 'shape_modifier': 'normal', 'command': 'line_circle_0.400-0.375', 'vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'geometry': {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'open_stroke_perimeter': 2.5204721007282003, 'shape_modifier': 'normal', 'command': 'line_circle_0.424-0.375', 'vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'geometry': {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.0365538063604116e-07, 'perimeter': 0.28943732191987515, 'centroid': [0.5532559065903724, 0.446743469154788], 'bounds': [0.5, 0.3976684534796757, 0.6023315465203242, 0.5], 'width': 0.10233154652032417, 'height': 0.10233154652032428, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.28943732191987515, 'analytic_vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'normal', 'command': 'line_normal_0.600-0.875', 'vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'geometry': {'area': 1.0365538063604116e-07, 'perimeter': 0.28943732191987515, 'centroid': [0.5532559065903724, 0.446743469154788], 'bounds': [0.5, 0.3976684534796757, 0.6023315465203242, 0.5], 'width': 0.10233154652032417, 'height': 0.10233154652032428, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.28943732191987515}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-12 12:11:44,611 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,612 - INFO - [PATCH][SHAPE GEOMETRY] idx=0, vertices=[(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)], geometry={'area': 0.6499377002974616, 'perimeter': 4.565837973061732, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 12:11:44,612 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-12 12:11:44,613 - INFO - [robust_curvature] OUTPUT: 1.9837357364764245
2025-08-12 12:11:44,613 - INFO - [robust_angular_variance] Computed angular variance: 0.606488 for 7 vertices.
2025-08-12 12:11:44,613 - INFO - [PATCH][SHAPE PHYSICS] idx=0, physics features: {'robust_curvature': 1.9837357364764245, 'robust_angular_variance': 0.6064876770353205, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 1.5707963267948966}
2025-08-12 12:11:44,614 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [1.44000000e+03 0.00000000e+00]
 [1.44000000e+03 8.64000000e+02]
 [1.00826888e+03 4.32268884e+02]
 [4.32268884e+02 4.32268884e+02]
 [5.37767357e-01 8.64000000e+02]
 [5.37767357e-01 2.27373675e-13]]
2025-08-12 12:11:44,614 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,615 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,615 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,616 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [1.00826888e+03 4.32268884e+02]
 [4.32268884e+02 4.32268884e+02]
 [5.37767357e-01 8.64000000e+02]
 [5.37767357e-01 2.27373675e-13]]
2025-08-12 12:11:44,616 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,617 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,617 - INFO - [robust_curvature] INPUT: [[1440.    0.]
 [1440.  864.]]
2025-08-12 12:11:44,617 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,618 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,618 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,618 - INFO - [robust_curvature] INPUT: [[5.52627569e+00 8.72264263e-16]
 [1.43447579e+03 3.31452760e+00]
 [1.43834377e+03 8.59029240e+02]
 [1.00771543e+03 4.33925116e+02]
 [4.32822336e+02 4.33925116e+02]
 [2.19399965e+00 8.59029240e+02]
 [5.35704343e-01 3.31452760e+00]]
2025-08-12 12:11:44,619 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,619 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,619 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,620 - INFO - [robust_curvature] INPUT: [[5.52627569e+00 8.72264263e-16]
 [1.00771543e+03 4.33925116e+02]
 [4.32822336e+02 4.33925116e+02]
 [2.19399965e+00 8.59029240e+02]
 [5.35704343e-01 3.31452760e+00]]
2025-08-12 12:11:44,621 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,621 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,622 - INFO - [robust_curvature] INPUT: [[1434.47578733    3.3145276 ]
 [1438.34376771  859.0292401 ]]
2025-08-12 12:11:44,622 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,622 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,622 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,623 - INFO - [robust_curvature] INPUT: [[1.53726465e+02 4.55958863e-01]
 [1.28621715e+03 9.20875276e+01]
 [1.39339602e+03 7.25726524e+02]
 [9.92759363e+02 4.78226852e+02]
 [4.47778404e+02 4.78226852e+02]
 [4.67616411e+01 7.25726524e+02]
 [9.74264195e-01 9.20875276e+01]]
2025-08-12 12:11:44,623 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,623 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,623 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,624 - INFO - [robust_curvature] INPUT: [[1.53726465e+02 4.55958863e-01]
 [4.47778404e+02 4.78226852e+02]
 [4.67616411e+01 7.25726524e+02]
 [9.74264195e-01 9.20875276e+01]]
2025-08-12 12:11:44,625 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,625 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,626 - INFO - [robust_curvature] INPUT: [[1286.21714577   92.08752765]
 [1393.39601861  725.7265242 ]
 [ 992.75936335  478.2268524 ]]
2025-08-12 12:11:44,626 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,626 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,627 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,627 - INFO - [robust_curvature] INPUT: [[ 432.92231635   97.24388156]
 [ 979.36014803  238.32037822]
 [1190.23335195  476.5673267 ]
 [ 933.05660837  532.75923798]
 [ 500.90410687  532.75923798]
 [ 172.52815725  476.5673267 ]
 [ 112.60861324  238.32037822]]
2025-08-12 12:11:44,627 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,628 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,628 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,630 - INFO - [robust_curvature] INPUT: [[432.92231635  97.24388156]
 [500.90410687 532.75923798]
 [172.52815725 476.5673267 ]
 [112.60861324 238.32037822]]
2025-08-12 12:11:44,630 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,630 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,631 - INFO - [robust_curvature] INPUT: [[ 979.36014803  238.32037822]
 [1190.23335195  476.5673267 ]
 [ 933.05660837  532.75923798]]
2025-08-12 12:11:44,631 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,631 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,632 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,633 - INFO - [robust_curvature] INPUT: [[575.9649245  303.53753649]
 [715.88605167 329.09527776]
 [781.2585016  385.54646171]
 [722.82613591 429.85837596]
 [585.53379994 429.85837596]
 [472.36690593 385.54646171]
 [467.77698253 329.09527776]]
2025-08-12 12:11:44,633 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,633 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,634 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,635 - INFO - [robust_curvature] INPUT: [[575.9649245  303.53753649]
 [585.53379994 429.85837596]
 [472.36690593 385.54646171]
 [467.77698253 329.09527776]]
2025-08-12 12:11:44,635 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,635 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,635 - INFO - [robust_curvature] INPUT: [[715.88605167 329.09527776]
 [781.2585016  385.54646171]
 [722.82613591 429.85837596]]
2025-08-12 12:11:44,635 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,636 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,636 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,636 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}
2025-08-12 12:11:44,638 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}
2025-08-12 12:11:44,639 - DEBUG - [extract_image_features] Calculated width: 1440.0, height: 864.0000000000002
2025-08-12 12:11:44,639 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:44,640 - INFO - [robust_curvature] OUTPUT: 1.844192209364541
2025-08-12 12:11:44,640 - INFO - [robust_angular_variance] Computed angular variance: 0.654617 for 7 vertices.
2025-08-12 12:11:44,641 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [1.44000000e+03 0.00000000e+00]
 [1.44000000e+03 8.64000000e+02]
 [1.00826888e+03 4.32268884e+02]
 [4.32268884e+02 4.32268884e+02]
 [5.37767357e-01 8.64000000e+02]
 [5.37767357e-01 2.27373675e-13]]
2025-08-12 12:11:44,641 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,641 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,642 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,643 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [1.00826888e+03 4.32268884e+02]
 [4.32268884e+02 4.32268884e+02]
 [5.37767357e-01 8.64000000e+02]
 [5.37767357e-01 2.27373675e-13]]
2025-08-12 12:11:44,643 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,643 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,644 - INFO - [robust_curvature] INPUT: [[1440.    0.]
 [1440.  864.]]
2025-08-12 12:11:44,644 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,644 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,645 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,646 - INFO - [robust_curvature] INPUT: [[5.52627569e+00 8.72264263e-16]
 [1.43447579e+03 3.31452760e+00]
 [1.43834377e+03 8.59029240e+02]
 [1.00771543e+03 4.33925116e+02]
 [4.32822336e+02 4.33925116e+02]
 [2.19399965e+00 8.59029240e+02]
 [5.35704343e-01 3.31452760e+00]]
2025-08-12 12:11:44,646 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,646 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,646 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,648 - INFO - [robust_curvature] INPUT: [[5.52627569e+00 8.72264263e-16]
 [1.00771543e+03 4.33925116e+02]
 [4.32822336e+02 4.33925116e+02]
 [2.19399965e+00 8.59029240e+02]
 [5.35704343e-01 3.31452760e+00]]
2025-08-12 12:11:44,648 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,648 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,649 - INFO - [robust_curvature] INPUT: [[1434.47578733    3.3145276 ]
 [1438.34376771  859.0292401 ]]
2025-08-12 12:11:44,649 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,649 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,650 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,650 - INFO - [robust_curvature] INPUT: [[1.53726465e+02 4.55958863e-01]
 [1.28621715e+03 9.20875276e+01]
 [1.39339602e+03 7.25726524e+02]
 [9.92759363e+02 4.78226852e+02]
 [4.47778404e+02 4.78226852e+02]
 [4.67616411e+01 7.25726524e+02]
 [9.74264195e-01 9.20875276e+01]]
2025-08-12 12:11:44,651 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,651 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,651 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,652 - INFO - [robust_curvature] INPUT: [[1.53726465e+02 4.55958863e-01]
 [4.47778404e+02 4.78226852e+02]
 [4.67616411e+01 7.25726524e+02]
 [9.74264195e-01 9.20875276e+01]]
2025-08-12 12:11:44,653 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,653 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,653 - INFO - [robust_curvature] INPUT: [[1286.21714577   92.08752765]
 [1393.39601861  725.7265242 ]
 [ 992.75936335  478.2268524 ]]
2025-08-12 12:11:44,654 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,654 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,654 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,655 - INFO - [robust_curvature] INPUT: [[ 432.92231635   97.24388156]
 [ 979.36014803  238.32037822]
 [1190.23335195  476.5673267 ]
 [ 933.05660837  532.75923798]
 [ 500.90410687  532.75923798]
 [ 172.52815725  476.5673267 ]
 [ 112.60861324  238.32037822]]
2025-08-12 12:11:44,655 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,655 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,655 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,656 - INFO - [robust_curvature] INPUT: [[432.92231635  97.24388156]
 [500.90410687 532.75923798]
 [172.52815725 476.5673267 ]
 [112.60861324 238.32037822]]
2025-08-12 12:11:44,657 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,657 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,657 - INFO - [robust_curvature] INPUT: [[ 979.36014803  238.32037822]
 [1190.23335195  476.5673267 ]
 [ 933.05660837  532.75923798]]
2025-08-12 12:11:44,659 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,659 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,659 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,660 - INFO - [robust_curvature] INPUT: [[575.9649245  303.53753649]
 [715.88605167 329.09527776]
 [781.2585016  385.54646171]
 [722.82613591 429.85837596]
 [585.53379994 429.85837596]
 [472.36690593 385.54646171]
 [467.77698253 329.09527776]]
2025-08-12 12:11:44,660 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,661 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,661 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,662 - INFO - [robust_curvature] INPUT: [[575.9649245  303.53753649]
 [585.53379994 429.85837596]
 [472.36690593 385.54646171]
 [467.77698253 329.09527776]]
2025-08-12 12:11:44,662 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,662 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,663 - INFO - [robust_curvature] INPUT: [[715.88605167 329.09527776]
 [781.2585016  385.54646171]
 [722.82613591 429.85837596]]
2025-08-12 12:11:44,663 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,664 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,664 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,664 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}
2025-08-12 12:11:44,665 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}
2025-08-12 12:11:44,665 - INFO - [SoS] Removed duplicate vertex: [1.5 0.5]
2025-08-12 12:11:44,666 - DEBUG - [extract_image_features] Stroke 0 geometry: {'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772}
2025-08-12 12:11:44,667 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44545455] -> [0.50000076 0.44545478]
2025-08-12 12:11:44,667 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39090909] -> [0.50000061 0.39090863]
2025-08-12 12:11:44,668 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.33636364] -> [0.49999962 0.3363645 ]
2025-08-12 12:11:44,668 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28181818] -> [0.50000077 0.28181836]
2025-08-12 12:11:44,669 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.22727273] -> [0.49999939 0.22727344]
2025-08-12 12:11:44,669 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.17272727] -> [0.49999956 0.1727265 ]
2025-08-12 12:11:44,670 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.11818182] -> [0.4999992  0.11818168]
2025-08-12 12:11:44,670 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.06363636] -> [0.49999917 0.06363583]
2025-08-12 12:11:44,671 - INFO - [SoS] Perturbed collinear vertex 9: [0.5        0.00909091] -> [0.50000041 0.00909188]
2025-08-12 12:11:44,671 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.04545455] -> [ 0.49999996 -0.04545462]
2025-08-12 12:11:44,674 - DEBUG - [extract_image_features] Stroke 1 geometry: {'area': 1.2933956804351027e-07, 'perimeter': 0.448741300282919, 'centroid': [0.49999967430965325, 0.13240944505805616], 'bounds': [0.49999916995743915, 0.02704178320043085, 0.49999999999999994, 0.25141243333255525], 'width': 8.300425607954409e-07, 'height': 0.2243706501321244}
2025-08-12 12:11:44,674 - INFO - [SoS] Perturbed collinear vertex 1: [0.54283047 0.45716953] -> [0.54282955 0.45716962]
2025-08-12 12:11:44,675 - INFO - [SoS] Perturbed collinear vertex 2: [0.58566094 0.41433906] -> [0.58566174 0.41433859]
2025-08-12 12:11:44,675 - INFO - [SoS] Perturbed collinear vertex 3: [0.6284914 0.3715086] -> [0.62849083 0.37150773]
2025-08-12 12:11:44,676 - INFO - [SoS] Perturbed collinear vertex 4: [0.67132187 0.32867813] -> [0.67132174 0.32867729]
2025-08-12 12:11:44,677 - INFO - [SoS] Perturbed collinear vertex 5: [0.71415234 0.28584766] -> [0.71415219 0.28584827]
2025-08-12 12:11:44,677 - INFO - [SoS] Perturbed collinear vertex 6: [0.75698281 0.24301719] -> [0.75698345 0.24301695]
2025-08-12 12:11:44,678 - DEBUG - [extract_image_features] Stroke 2 geometry: {'area': 9.096951925666001e-08, 'perimeter': 0.3025240343387626, 'centroid': [0.6448413069610075, 0.3551581635470355], 'bounds': [0.5935211192736792, 0.2995204826559363, 0.7004795173440637, 0.4064788807263207], 'width': 0.10695839807038443, 'height': 0.10695839807038443}
2025-08-12 12:11:44,679 - DEBUG - [extract_image_features] Stroke 3 geometry: {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8}
2025-08-12 12:11:44,681 - DEBUG - [extract_image_features] Stroke 4 geometry: {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999}
2025-08-12 12:11:44,681 - INFO - [SoS] Perturbed collinear vertex 1: [0.53856946 0.46143054] -> [0.53856974 0.46142985]
2025-08-12 12:11:44,682 - INFO - [SoS] Perturbed collinear vertex 2: [0.57713892 0.42286108] -> [0.57713982 0.42286132]
2025-08-12 12:11:44,682 - INFO - [SoS] Perturbed collinear vertex 3: [0.61570838 0.38429162] -> [0.61570868 0.38429091]
2025-08-12 12:11:44,682 - INFO - [SoS] Perturbed collinear vertex 4: [0.65427784 0.34572216] -> [0.65427694 0.34572148]
2025-08-12 12:11:44,683 - INFO - [SoS] Perturbed collinear vertex 5: [0.6928473 0.3071527] -> [0.69284777 0.30715259]
2025-08-12 12:11:44,684 - INFO - [SoS] Perturbed collinear vertex 6: [0.73141676 0.26858324] -> [0.73141692 0.26858353]
2025-08-12 12:11:44,684 - INFO - [SoS] Perturbed collinear vertex 7: [0.76998623 0.23001377] -> [0.76998636 0.23001368]
2025-08-12 12:11:44,685 - INFO - [SoS] Perturbed collinear vertex 8: [0.80855569 0.19144431] -> [0.80855489 0.1914436 ]
2025-08-12 12:11:44,685 - INFO - [SoS] Perturbed collinear vertex 9: [0.84712515 0.15287485] -> [0.84712545 0.15287406]
2025-08-12 12:11:44,685 - INFO - [SoS] Perturbed collinear vertex 10: [0.88569461 0.11430539] -> [0.88569411 0.11430459]
2025-08-12 12:11:44,687 - DEBUG - [extract_image_features] Stroke 5 geometry: {'area': 1.2680421904382247e-07, 'perimeter': 0.4331055401784951, 'centroid': [0.8451642544404284, 0.1548352499242966], 'bounds': [0.7711381365063322, 0.07573593128807138, 0.9242640687119283, 0.22886186349366766], 'width': 0.15312593220559612, 'height': 0.15312593220559628}
2025-08-12 12:11:44,688 - INFO - [extract_image_features] stroke_type_distribution INPUT: [{'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'open_stroke_perimeter': 5.196152422706632, 'shape_modifier': 'normal', 'command': 'line_triangle_1.000-0.500', 'vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'geometry': {'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 2.1343368777995371e-07, 'perimeter': 0.8333069692905879, 'centroid': [0.5000003362529611, 0.17445213258337425], 'bounds': [0.4999999999999999, -0.010050760941506668, 0.500000922412066, 0.4066027236965289], 'width': 8.300425607954409e-07, 'height': 0.2243706501321244, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.8333069692905879, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'vertical', 'command': 'line_normal_0.600-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'geometry': {'area': 1.2933956804351027e-07, 'perimeter': 0.448741300282919, 'centroid': [0.49999967430965325, 0.13240944505805616], 'bounds': [0.49999916995743915, 0.02704178320043085, 0.49999999999999994, 0.25141243333255525], 'width': 8.300425607954409e-07, 'height': 0.2243706501321244}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.403358487182295e-07, 'perimeter': 0.6135912079066579, 'centroid': [0.676017935627295, 0.32398250487056257], 'bounds': [0.5828760232340991, 0.2001867247769038, 0.7998132752230961, 0.41712397676590085], 'width': 0.10695839807038443, 'height': 0.10695839807038443, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.6135912079066579, 'analytic_vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'open_stroke_perimeter': 0.424, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.424-0.875', 'vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'geometry': {'area': 9.096951925666001e-08, 'perimeter': 0.3025240343387626, 'centroid': [0.6448413069610075, 0.3551581635470355], 'bounds': [0.5935211192736792, 0.2995204826559363, 0.7004795173440637, 0.4064788807263207], 'width': 0.10695839807038443, 'height': 0.10695839807038443}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'open_stroke_perimeter': 2.3778038686115095, 'shape_modifier': 'normal', 'command': 'line_circle_0.400-0.375', 'vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'geometry': {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'open_stroke_perimeter': 2.5204721007282003, 'shape_modifier': 'normal', 'command': 'line_circle_0.424-0.375', 'vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'geometry': {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.0365538063604116e-07, 'perimeter': 0.28943732191987515, 'centroid': [0.5532559065903724, 0.446743469154788], 'bounds': [0.5, 0.3976684534796757, 0.6023315465203242, 0.5], 'width': 0.15312593220559612, 'height': 0.15312593220559628, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.28943732191987515, 'analytic_vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'normal', 'command': 'line_normal_0.600-0.875', 'vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'geometry': {'area': 1.2680421904382247e-07, 'perimeter': 0.4331055401784951, 'centroid': [0.8451642544404284, 0.1548352499242966], 'bounds': [0.7711381365063322, 0.07573593128807138, 0.9242640687119283, 0.22886186349366766], 'width': 0.15312593220559612, 'height': 0.15312593220559628}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-12 12:11:44,688 - INFO - [extract_image_features] stroke_type_distribution OUTPUT: {'line': 6}
2025-08-12 12:11:44,688 - INFO - [extract_image_features] modifier_distribution OUTPUT: {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}
2025-08-12 12:11:44,689 - INFO - [extract_image_features] relational INPUT: []
2025-08-12 12:11:44,689 - INFO - [extract_image_features] relational OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:44,689 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 12:11:44,689 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,690 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,690 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,690 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,691 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,691 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,691 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,692 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,692 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,692 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-12 12:11:44,693 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:44,693 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,693 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,693 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,694 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,694 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,694 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,694 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,695 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,695 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,695 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,695 - DEBUG - [_detect_alternation] OUTPUT: 0.16666666666666666
2025-08-12 12:11:44,696 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 12:11:44,696 - INFO - [extract_image_features] PATCHED ngram: {'normal|normal': 5}
2025-08-12 12:11:44,696 - INFO - [extract_image_features] PATCHED alternation: 0.16666666666666666
2025-08-12 12:11:44,697 - INFO - [extract_image_features] PATCHED regularity: 0.16666666666666666
2025-08-12 12:11:44,697 - INFO - [extract_image_features] PATCHED dominant_shape_functions: line
2025-08-12 12:11:44,697 - INFO - [extract_image_features] PATCHED dominant_modifiers: normal
2025-08-12 12:11:44,697 - INFO - [extract_image_features] PATCHED image_canonical_summary: {'area': 808626.4892020901, 'perimeter': 4965.657767357483, 'compactness': 0.4121015600136674, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.16666666666666666}
2025-08-12 12:11:44,698 - INFO - [extract_image_features] OUTPUT: {'area': 808626.4892020901, 'perimeter': 4965.657767357483, 'convexity_ratio': 0.3499409175653963, 'compactness': 0.4121015600136674, 'aspect_ratio': 1.6666666666666663, 'centroid_x': 720.2688836787415, 'centroid_y': 299.12626352014365, 'width': 1440.0, 'height': 864.0000000000002, 'bounding_box': (0.0, 0.0, 1440.0, 864.0000000000002), 'num_vertices': 7, 'curvature': 1.844192209364541, 'angular_variance': 0.6546166184396274, 'complexity': 0.10776455089170946, 'num_strokes': 6, 'stroke_type_distribution': {'line': 6}, 'modifier_distribution': {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.10776455089170946, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}, 'moment_of_inertia': 428655.2723576205, 'center_of_mass_x': 0.5001867247769038, 'center_of_mass_y': 0.34621095314831435, 'symmetry_score': 887.4887176747658, 'ngram': {'normal|normal': 5}, 'alternation': 0.16666666666666666, 'regularity': 0.16666666666666666, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 808626.4892020901, 'perimeter': 4965.657767357483, 'compactness': 0.4121015600136674, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.16666666666666666}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 5, 'vertical': 1}}
2025-08-12 12:11:44,698 - DEBUG - [extract_image_features] FINAL OUTPUT bounding_box: (0.0, 0.0, 1440.0, 864.0000000000002)
2025-08-12 12:11:44,698 - DEBUG - [extract_image_features] FINAL OUTPUT width: 1440.0, height: 864.0000000000002
2025-08-12 12:11:44,699 - DEBUG - [extract_image_features] FINAL OUTPUT curvature: 1.844192209364541
2025-08-12 12:11:44,699 - INFO - [DIAG] Shape 0 extracted attributes: {'area': 808626.4892020901, 'perimeter': 4965.657767357483, 'convexity_ratio': 0.3499409175653963, 'compactness': 0.4121015600136674, 'aspect_ratio': 1.6666666666666663, 'centroid_x': 720.2688836787415, 'centroid_y': 299.12626352014365, 'width': 1440.0, 'height': 864.0000000000002, 'bounding_box': (0.0, 0.0, 1440.0, 864.0000000000002), 'num_vertices': 7, 'curvature': 1.844192209364541, 'angular_variance': 0.6546166184396274, 'complexity': 0.10776455089170946, 'num_strokes': 6, 'stroke_type_distribution': {'line': 6}, 'modifier_distribution': {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.10776455089170946, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}, 'moment_of_inertia': 428655.2723576205, 'center_of_mass_x': 0.5001867247769038, 'center_of_mass_y': 0.34621095314831435, 'symmetry_score': 887.4887176747658, 'ngram': {'normal|normal': 5}, 'alternation': 0.16666666666666666, 'regularity': 0.16666666666666666, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 808626.4892020901, 'perimeter': 4965.657767357483, 'compactness': 0.4121015600136674, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.16666666666666666}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 5, 'vertical': 1}}
2025-08-12 12:11:44,699 - INFO - [VALIDATION] expected_strokes=6, actual_shapes=1
2025-08-12 12:11:44,701 - INFO - [VALIDATION] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: Number of action commands matches number of parsed shapes (6)
2025-08-12 12:11:44,701 - INFO - [standardize_coordinates] INPUT vertices: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:44,701 - INFO - [standardize_coordinates] OUTPUT normalized vertices: [[0.0, 0.0], [1.0, 0.0], [1.0, 0.9999999999999998], [0.7001867247769038, 0.5003112079615064], [0.30018672477690383, 0.5003112079615065], [0.00037344955380776113, 1.0], [0.0003734495538076509, 2.6316397620744445e-16]]
2025-08-12 12:11:44,701 - DEBUG - [process_single_image] Passing shape_list to extract_relational_features: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}]
2025-08-12 12:11:44,703 - INFO - [extract_relational_features] INPUT: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}]
2025-08-12 12:11:44,703 - DEBUG - [extract_relational_features] Shape 0 vertices: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:44,703 - INFO - [calculate_relationships] INPUT: strokes=[{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}], buffer_amt=0.001
2025-08-12 12:11:44,703 - DEBUG - [calculate_relationships] Stroke 0: {'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}
2025-08-12 12:11:44,703 - DEBUG - [calculate_relationships] Vertices for stroke 0: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:44,703 - DEBUG - [calculate_relationships] Created LineString for stroke 0: LINESTRING (0 0, 1440 0, 1440 864, 1008.2688836787415 432.26888367874164, 432.26888367874153 432.2688836787417, 0.5377673574831761 864.0000000000002, 0.5377673574830173 2.2737367544323206e-13)
2025-08-12 12:11:44,705 - DEBUG - [calculate_relationships] Buffered geometries: ['POLYGON ((0.5367673574830173 0.001, 0.536767357483176 864.0000000000002, 0.5367721727565038 864.0000980171405, 0.5367865722027728 864.0001950903222, 0.5368104171474437 864.0002902846775, 0.5368434779506646 864.0003826834326, 0.5368854362188273 864.000471396737, 0.536935887870873 864.0005555702332, 0.5369943470298126 864.0006343932844, 0.5370602507019886 864.0007071067814, 0.5371329641990112 864.0007730104536, 0.5372117872501551 864.0008314696125, 0.5372959607463484 864.0008819212645, 0.5373846740508091 864.0009238795327, 0.5374770728059196 864.000956940336, 0.5375722671611577 864.0009807852806, 0.5376693403428441 864.0009951847269, 0.5377673574831734 864.0010000000002, 0.5378653746235028 864.0009951847269, 0.5379624478051893 864.0009807852806, 0.5380576421604275 864.000956940336, 0.5381500409155381 864.0009238795327, 0.538238754219999 864.0008819212645, 0.5383229277161926 864.0008314696125, 0.5384017507673368 864.0007730104536, 0.5384744642643626 864.0007071067814, 432.26929789230394 432.2698836787417, 1008.2684694651791 432.2698836787416, 1439.9992928932188 864.0007071067812, 1439.9993656067159 864.0007730104534, 1439.999444429767 864.0008314696123, 1439.9995286032631 864.0008819212643, 1439.9996173165675 864.0009238795325, 1439.9997097153228 864.0009569403358, 1439.999804909678 864.0009807852804, 1439.9999019828597 864.0009951847267, 1440 864.001, 1440.0000980171403 864.0009951847267, 1440.000195090322 864.0009807852804, 1440.0002902846772 864.0009569403358, 1440.0003826834325 864.0009238795325, 1440.0004713967369 864.0008819212643, 1440.000555570233 864.0008314696123, 1440.0006343932841 864.0007730104534, 1440.0007071067812 864.0007071067812, 1440.0007730104533 864.0006343932841, 1440.0008314696122 864.000555570233, 1440.0008819212644 864.0004713967368, 1440.0009238795326 864.0003826834323, 1440.0009569403358 864.0002902846772, 1440.0009807852805 864.000195090322, 1440.0009951847267 864.0000980171403, 1440.001 864, 1440.001 0, 1440.0009951847267 -9.80171403295606e-5, 1440.0009807852805 -0.0001950903220161, 1440.0009569403358 -0.0002902846772545, 1440.0009238795326 -0.0003826834323651, 1440.0008819212644 -0.000471396736826, 1440.0008314696122 -0.0005555702330196, 1440.0007730104533 -0.0006343932841636, 1440.0007071067812 -0.0007071067811865, 1440.0006343932841 -0.0007730104533627, 1440.000555570233 -0.0008314696123025, 1440.0004713967369 -0.0008819212643484, 1440.0003826834325 -0.0009238795325113, 1440.0002902846772 -0.0009569403357322, 1440.000195090322 -0.0009807852804032, 1440.0000980171403 -0.0009951847266722, 1440 -0.001, 0 -0.001, -9.801714032956045e-5 -0.0009951847266722, -0.0001950903220161 -0.0009807852804032, -0.0002902846772545 -0.0009569403357322, -0.0003826834323651 -0.0009238795325113, -0.000471396736826 -0.0008819212643484, -0.0005555702330196 -0.0008314696123025, -0.0006343932841636 -0.0007730104533627, -0.0007071067811865 -0.0007071067811865, -0.0007730104533627 -0.0006343932841636, -0.0008314696123025 -0.0005555702330196, -0.0008819212643484 -0.000471396736826, -0.0009238795325113 -0.0003826834323651, -0.0009569403357322 -0.0002902846772545, -0.0009807852804032 -0.0001950903220161, -0.0009951847266722 -9.801714032956059e-5, -0.001 0, -0.0009951847266722 9.801714032956083e-5, -0.0009807852804032 0.0001950903220161, -0.0009569403357322 0.0002902846772545, -0.0009238795325113 0.0003826834323651, -0.0008819212643484 0.000471396736826, -0.0008314696123025 0.0005555702330196, -0.0007730104533627 0.0006343932841636, -0.0007071067811865 0.0007071067811865, -0.0006343932841636 0.0007730104533627, -0.0005555702330196 0.0008314696123025, -0.000471396736826 0.0008819212643484, -0.0003826834323651 0.0009238795325113, -0.0002902846772545 0.0009569403357322, -0.0001950903220161 0.0009807852804032, -9.801714032956064e-5 0.0009951847266722, 0 0.001, 0.5367673574830173 0.001), (0.5387673574830173 0.001, 1439.999 0.001, 1439.999 863.9975857864376, 1008.2695907855227 432.26817657196045, 1008.2695180720257 432.2681106682883, 1008.2694392489745 432.26805220912934, 1008.2693550754783 432.2680017574773, 1008.2692663621739 432.2679597992091, 1008.2691739634188 432.2679267384059, 1008.2690787690635 432.26790289346127, 1008.2689816958818 432.267888494015, 1008.2688836787415 432.26788367874167, 432.26888367874153 432.2678836787417, 432.2687856616012 432.26788849401504, 432.26868858841954 432.2679028934613, 432.2685933940643 432.26792673840595, 432.2685009953092 432.26795979920917, 432.2684122820047 432.26800175747735, 432.2683281085085 432.2680522091294, 432.2682492854574 432.26811066828833, 432.26817657196034 432.2681765719605, 0.5387673574831761 863.9975857864379, 0.5387673574830173 0.001))']
2025-08-12 12:11:44,705 - INFO - [calculate_relationships] Intermediate results: adjacency=0, intersections=0, containment=0, overlap=0.0
2025-08-12 12:11:44,705 - INFO - [calculate_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:44,705 - WARNING - [calculate_relationships] All relational features are zero/default. Strokes: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}]
2025-08-12 12:11:44,706 - INFO - [extract_relational_features] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:44,706 - DEBUG - [extract_relational_features] Output is JSON serializable.
2025-08-12 12:11:44,707 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [1.00000000e+00 0.00000000e+00]
 [1.00000000e+00 1.00000000e+00]
 [7.00186725e-01 5.00311208e-01]
 [3.00186725e-01 5.00311208e-01]
 [3.73449554e-04 1.00000000e+00]
 [3.73449554e-04 2.63163976e-16]]
2025-08-12 12:11:44,707 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,708 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,708 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,709 - INFO - [robust_curvature] INPUT: [[1.00000000e+00 0.00000000e+00]
 [1.00000000e+00 1.00000000e+00]
 [7.00186725e-01 5.00311208e-01]
 [3.00186725e-01 5.00311208e-01]
 [3.73449554e-04 1.00000000e+00]]
2025-08-12 12:11:44,709 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,709 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,709 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [3.73449554e-04 2.63163976e-16]]
2025-08-12 12:11:44,710 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,710 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,710 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,711 - INFO - [robust_curvature] INPUT: [[3.83769145e-03 1.00956512e-18]
 [9.96163741e-01 3.83625880e-03]
 [9.98849839e-01 9.94246806e-01]
 [6.99802383e-01 5.02228143e-01]
 [3.00571067e-01 5.02228143e-01]
 [1.52361087e-03 9.94246806e-01]
 [3.72016905e-04 3.83625880e-03]]
2025-08-12 12:11:44,711 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,711 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,712 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,713 - INFO - [robust_curvature] INPUT: [[0.99616374 0.00383626]
 [0.99884984 0.99424681]
 [0.69980238 0.50222814]
 [0.30057107 0.50222814]
 [0.00152361 0.99424681]]
2025-08-12 12:11:44,713 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,713 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,714 - INFO - [robust_curvature] INPUT: [[3.83769145e-03 1.00956512e-18]
 [3.72016905e-04 3.83625880e-03]]
2025-08-12 12:11:44,714 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,714 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,714 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,715 - INFO - [robust_curvature] INPUT: [[1.06754490e-01 5.27730165e-04]
 [8.93206351e-01 1.06582787e-01]
 [9.67636124e-01 8.39961255e-01]
 [6.89416225e-01 5.53503301e-01]
 [3.10957225e-01 5.53503301e-01]
 [3.24733619e-02 8.39961255e-01]
 [6.76572358e-04 1.06582787e-01]]
2025-08-12 12:11:44,715 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,716 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,716 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,718 - INFO - [robust_curvature] INPUT: [[1.06754490e-01 5.27730165e-04]
 [3.24733619e-02 8.39961255e-01]
 [6.76572358e-04 1.06582787e-01]]
2025-08-12 12:11:44,718 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,718 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,719 - INFO - [robust_curvature] INPUT: [[0.89320635 0.10658279]
 [0.96763612 0.83996125]
 [0.68941622 0.5535033 ]
 [0.31095723 0.5535033 ]]
2025-08-12 12:11:44,719 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,719 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,720 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}
2025-08-12 12:11:44,721 - INFO - [robust_curvature] INPUT: [[0.3006405  0.11255079]
 [0.68011121 0.27583377]
 [0.82655094 0.55158255]
 [0.64795598 0.61661949]
 [0.34785007 0.61661949]
 [0.11981122 0.55158255]
 [0.07820043 0.27583377]]
2025-08-12 12:11:44,721 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,721 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,722 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,722 - INFO - [robust_curvature] INPUT: [[0.3006405  0.11255079]
 [0.34785007 0.61661949]
 [0.11981122 0.55158255]
 [0.07820043 0.27583377]]
2025-08-12 12:11:44,723 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,723 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,723 - INFO - [robust_curvature] INPUT: [[0.68011121 0.27583377]
 [0.82655094 0.55158255]
 [0.64795598 0.61661949]]
2025-08-12 12:11:44,723 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,725 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,725 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,725 - INFO - [robust_curvature] INPUT: [[0.39997564 0.35131659]
 [0.49714309 0.38089731]
 [0.54254063 0.44623433]
 [0.50196259 0.49752127]
 [0.40662069 0.49752127]
 [0.32803257 0.44623433]
 [0.32484513 0.38089731]]
2025-08-12 12:11:44,725 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,726 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,726 - ERROR - [robust_angular_variance] Exception: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-08-12 12:11:44,727 - INFO - [robust_curvature] INPUT: [[0.39997564 0.35131659]
 [0.49714309 0.38089731]
 [0.54254063 0.44623433]
 [0.50196259 0.49752127]]
2025-08-12 12:11:44,727 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,727 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,728 - INFO - [robust_curvature] INPUT: [[0.40662069 0.49752127]
 [0.32803257 0.44623433]
 [0.32484513 0.38089731]]
2025-08-12 12:11:44,728 - WARNING - [robust_curvature] Not enough vertices.
2025-08-12 12:11:44,728 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-12 12:11:44,730 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-12 12:11:44,730 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}
2025-08-12 12:11:44,730 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}
2025-08-12 12:11:44,731 - INFO - [_calculate_image_features] INPUTS: vertices=[(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)], strokes=[{'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'open_stroke_perimeter': 5.196152422706632, 'shape_modifier': 'normal', 'command': 'line_triangle_1.000-0.500', 'vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'geometry': {'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 2.1343368777995371e-07, 'perimeter': 0.8333069692905879, 'centroid': [0.5000003362529611, 0.17445213258337425], 'bounds': [0.4999999999999999, -0.010050760941506668, 0.500000922412066, 0.4066027236965289], 'width': 8.300425607954409e-07, 'height': 0.2243706501321244, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.8333069692905879, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'vertical', 'command': 'line_normal_0.600-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'geometry': {'area': 1.2933956804351027e-07, 'perimeter': 0.448741300282919, 'centroid': [0.49999967430965325, 0.13240944505805616], 'bounds': [0.49999916995743915, 0.02704178320043085, 0.49999999999999994, 0.25141243333255525], 'width': 8.300425607954409e-07, 'height': 0.2243706501321244}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.403358487182295e-07, 'perimeter': 0.6135912079066579, 'centroid': [0.676017935627295, 0.32398250487056257], 'bounds': [0.5828760232340991, 0.2001867247769038, 0.7998132752230961, 0.41712397676590085], 'width': 0.10695839807038443, 'height': 0.10695839807038443, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.6135912079066579, 'analytic_vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'open_stroke_perimeter': 0.424, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.424-0.875', 'vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'geometry': {'area': 9.096951925666001e-08, 'perimeter': 0.3025240343387626, 'centroid': [0.6448413069610075, 0.3551581635470355], 'bounds': [0.5935211192736792, 0.2995204826559363, 0.7004795173440637, 0.4064788807263207], 'width': 0.10695839807038443, 'height': 0.10695839807038443}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'open_stroke_perimeter': 2.3778038686115095, 'shape_modifier': 'normal', 'command': 'line_circle_0.400-0.375', 'vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'geometry': {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'open_stroke_perimeter': 2.5204721007282003, 'shape_modifier': 'normal', 'command': 'line_circle_0.424-0.375', 'vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'geometry': {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.0365538063604116e-07, 'perimeter': 0.28943732191987515, 'centroid': [0.5532559065903724, 0.446743469154788], 'bounds': [0.5, 0.3976684534796757, 0.6023315465203242, 0.5], 'width': 0.15312593220559612, 'height': 0.15312593220559628, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.28943732191987515, 'analytic_vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'normal', 'command': 'line_normal_0.600-0.875', 'vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'geometry': {'area': 1.2680421904382247e-07, 'perimeter': 0.4331055401784951, 'centroid': [0.8451642544404284, 0.1548352499242966], 'bounds': [0.7711381365063322, 0.07573593128807138, 0.9242640687119283, 0.22886186349366766], 'width': 0.15312593220559612, 'height': 0.15312593220559628}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}], geometry={'area': 0.6499377002974616, 'perimeter': 4.565837973061732, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 12:11:44,731 - DEBUG - [POLYGON CREATION] Attempting to create Polygon with vertices: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-12 12:11:44,731 - DEBUG - polygon: raw build 7 verts in 0.000s
2025-08-12 12:11:44,732 - DEBUG - [POLYGON REPAIR] Final polygon: is_valid=True, is_empty=False, area=0.6499377002974616
2025-08-12 12:11:44,732 - INFO - [_calculate_perimeter] INPUT vertices: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-12 12:11:44,732 - INFO - [_calculate_perimeter] OUTPUT perimeter: 4.565837973061732
2025-08-12 12:11:44,733 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-12 12:11:44,734 - INFO - [robust_curvature] OUTPUT: 1.9837357364764245
2025-08-12 12:11:44,734 - INFO - [robust_angular_variance] Computed angular variance: 0.606488 for 7 vertices.
2025-08-12 12:11:44,735 - INFO - [complexity] Calling calculate_complexity with vertices: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-12 12:11:44,735 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,736 - INFO - Complexity: n=7, n_norm=0.28, curvature=0.99, irregularity=0.24, result=0.49
2025-08-12 12:11:44,736 - INFO - [complexity] Output for vertices count 7: 0.4854288411970937
2025-08-12 12:11:44,737 - INFO - [_calculate_image_features] polsby_popper: 0.39177850258902114
2025-08-12 12:11:44,739 - INFO - [_calculate_image_features] OUTPUT: {'bounding_box': (0.0, 0.0, 1.0, 1.0), 'centroid': [0.5001867247769038, 0.34621095314831435], 'width': 1.0, 'height': 1.0, 'area_raw': 0.6499377002974616, 'area_normalized': 0.6500590824346036, 'perimeter_raw': 4.565837973061732, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.6500590824346036, 'is_convex': False, 'compactness': 0.39177850258902114, 'polsby_popper_compactness': 0.39177850258902114, 'eccentricity': 0.29624350248824083, 'symmetry_score': 0.6163116094963651, 'horizontal_symmetry': 0.7584032750784852, 'vertical_symmetry': 0.8284113787626539, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 7.0, 'visual_complexity': 0.5374328089489586, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'moment_of_inertia': 0.2610921766579035, 'irregularity_score': 0.24489795918370555, 'standardized_complexity': 0.4854288411970937, 'clustering_heights': [0.1459945618289437, 0.1757718298116586, 0.2077104151616263, 3.4127616658865207, 5.952367282101833], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 12:11:44,739 - DEBUG - [_calculate_composition_features] INPUTS: strokes count=6
2025-08-12 12:11:44,740 - DEBUG - [_calculate_composition_features] OUTPUT: {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 10, 'homogeneity_score': 0.2777777777777778, 'pattern_regularity': 0.6666666666666666}
2025-08-12 12:11:44,740 - INFO - [_calculate_physics_features] INPUT vertices: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-12 12:11:44,740 - INFO - [_calculate_physics_features] INPUT centroid: [0.5001867247769038, 0.34621095314831435]
2025-08-12 12:11:44,740 - INFO - [_calculate_physics_features] INPUT strokes: ['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-12 12:11:44,741 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,741 - INFO - [QualityMonitor] physics_features: {'degenerate': False, 'area': 0.6499377002974616}
2025-08-12 12:11:44,742 - INFO - [_calculate_physics_features] polsby_popper: 0.39177850258902114
2025-08-12 12:11:44,743 - INFO - [robust_angular_variance] Computed angular variance: 0.606488 for 7 vertices.
2025-08-12 12:11:44,743 - INFO - [_calculate_physics_features] OUTPUT: {'moment_of_inertia': 0.2610921766579035, 'center_of_mass': [0.5001867247769038, 0.34621095314831435], 'polsby_popper_compactness': 0.39177850258902114, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'edge_length_variance': 0.12300410253967249}
2025-08-12 12:11:44,744 - INFO - [calculate_shape_relationships] INPUT: shapes=[{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}], buffer_amt=0.001
2025-08-12 12:11:44,744 - DEBUG - [calculate_shape_relationships] Shape 0 vertices: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:44,744 - DEBUG - [calculate_shape_relationships] Created Polygon for shape 0: POLYGON ((0 0, 1440 0, 1440 864, 1008.2688836787415 432.26888367874164, 432.26888367874153 432.2688836787417, 0.5377673574831761 864.0000000000002, 0.5377673574830173 2.2737367544323206e-13, 0 0))
2025-08-12 12:11:44,744 - INFO - [calculate_shape_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:44,745 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal'], n=2
2025-08-12 12:11:44,745 - DEBUG - [ensure_str_list] Converting list: ['normal']
2025-08-12 12:11:44,745 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,745 - DEBUG - [ensure_str_list] Result: ['normal']
2025-08-12 12:11:44,747 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal']
2025-08-12 12:11:44,747 - DEBUG - [_extract_ngram_features] OUTPUT: {}
2025-08-12 12:11:44,747 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:44,747 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal'], n=2
2025-08-12 12:11:44,748 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal']
2025-08-12 12:11:44,748 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,748 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,748 - DEBUG - [ensure_str_list] Result: ['normal', 'normal']
2025-08-12 12:11:44,748 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal']
2025-08-12 12:11:44,749 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 1}
2025-08-12 12:11:44,749 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:44,749 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal'], n=2
2025-08-12 12:11:44,750 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal']
2025-08-12 12:11:44,750 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,750 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,750 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,751 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal']
2025-08-12 12:11:44,751 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal']
2025-08-12 12:11:44,751 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 2}
2025-08-12 12:11:44,751 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:44,752 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 12:11:44,752 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,752 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,752 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,752 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,753 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,753 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,753 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,754 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-12 12:11:44,754 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:44,754 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 12:11:44,755 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,755 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,755 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,755 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,756 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,756 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,756 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,756 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,756 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 4}
2025-08-12 12:11:44,756 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:44,758 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-12 12:11:44,758 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,758 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,758 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,759 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,759 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,759 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,759 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,760 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,760 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,760 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-12 12:11:44,760 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:44,761 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,761 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,761 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,761 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,762 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,762 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,762 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,762 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,762 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,762 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,764 - DEBUG - [_detect_alternation] OUTPUT: 0.16666666666666666
2025-08-12 12:11:44,764 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-12 12:11:44,764 - INFO - [extract_regularity_features] INPUT: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,764 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,764 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,765 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,765 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,765 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,765 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,765 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,765 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,766 - INFO - [extract_regularity_features] OUTPUT: {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 6}}
2025-08-12 12:11:44,766 - DEBUG - [extract_regularity_features] Output is JSON serializable.
2025-08-12 12:11:44,766 - INFO - [extract_dominant_shape_modifiers] INPUT: {'modifiers': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']}
2025-08-12 12:11:44,766 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,766 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,766 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,768 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,768 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,768 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,768 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:44,768 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-12 12:11:44,769 - INFO - [extract_dominant_shape_modifiers] OUTPUT: {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 6}}
2025-08-12 12:11:44,769 - DEBUG - [extract_dominant_shape_modifiers] Output is JSON serializable.
2025-08-12 12:11:44,769 - WARNING - [PATCH] Failed to load canonical summary for image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6: type object 'FileIO' has no attribute 'load_canonical_features'
2025-08-12 12:11:44,769 - DEBUG - [process_single_image] Passing topo_shape_list to extract_topological_features: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}]
2025-08-12 12:11:44,770 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,771 - INFO - [QualityMonitor] topological_features: {'degenerate': False, 'area': 0.6499377002974616}
2025-08-12 12:11:44,788 - INFO - [extract_stroke_features_from_shapes] Shape 0 actions: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-12 12:11:44,788 - INFO - [extract_stroke_features_from_shapes] Shape 0: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None
2025-08-12 12:11:44,788 - INFO - [extract_stroke_features_from_shapes] Shape 0 geometry: {'area': 0.6499377002974616, 'perimeter': 4.565837973061732, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'robust_curvature': 1.9837357364764245, 'robust_angular_variance': 0.6064876770353205, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 1.5707963267948966}
2025-08-12 12:11:44,789 - INFO - [extract_stroke_features_from_shapes] Shape 0: num_actions=6 | actions=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-12 12:11:44,789 - INFO - [LOGGING PATCH] [extract_stroke_features_from_shapes] shape_idx=0 initial shape_vertices: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:44,789 - INFO - [LOGGING PATCH] [extract_stroke_features_from_shapes] shape_idx=0 deduped/closed shape_vertices: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,791 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=0 | stroke=line_triangle_1.000-0.500
2025-08-12 12:11:44,791 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,791 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 12:11:44,791 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 12:11:44,792 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,792 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,792 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:44,793 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:44,793 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,794 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 12:11:44,794 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,795 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,795 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_sharp_angles': True}
2025-08-12 12:11:44,796 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 0: {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}
2025-08-12 12:11:44,796 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=1 | stroke=line_normal_0.600-0.750
2025-08-12 12:11:44,796 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,797 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,797 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,797 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,797 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,798 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,798 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-12 12:11:44,798 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_1.000-0.500
2025-08-12 12:11:44,799 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,799 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,799 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 12:11:44,800 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 12:11:44,800 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:44,800 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,801 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:44,801 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:44,802 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,802 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 12:11:44,802 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,803 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,804 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_sharp_angles': True}
2025-08-12 12:11:44,804 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-12 12:11:44,804 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,804 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,804 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,804 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,806 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,806 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,806 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,807 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,807 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,808 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,809 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,809 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,809 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,809 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:44,810 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,810 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,810 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,811 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,811 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-12 12:11:44,812 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.424-0.875
2025-08-12 12:11:44,812 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,812 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,812 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:44,813 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:44,813 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,813 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,813 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,814 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,815 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,816 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,816 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,816 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,817 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,817 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:44,817 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,817 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:44,818 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,819 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,819 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:44,819 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.400-0.375
2025-08-12 12:11:44,820 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,820 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,820 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:44,820 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:44,822 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,822 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,822 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,822 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,823 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,824 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,824 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,825 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,825 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,826 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:44,826 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,826 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:44,827 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,827 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,828 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-12 12:11:44,828 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.424-0.375
2025-08-12 12:11:44,828 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,828 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,829 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:44,829 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:44,829 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,830 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,830 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,830 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,831 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,832 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,832 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,832 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,832 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,833 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:44,833 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,833 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:44,834 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,835 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,835 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-12 12:11:44,835 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.875
2025-08-12 12:11:44,835 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,836 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,836 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,836 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,837 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,837 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,837 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,837 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,838 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,839 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,839 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,839 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,839 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,841 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:44,841 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,841 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,842 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,843 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,843 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-12 12:11:44,843 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 12:11:44,843 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 12:11:44,844 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,844 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=4965.657767357483. Returning 0.0.
2025-08-12 12:11:44,845 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,845 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,845 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 12:11:44,846 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 12:11:44,846 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:44,847 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,847 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,848 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,848 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,848 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-12 12:11:44,849 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 12:11:44,849 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_zigzag_0.424-0.875
2025-08-12 12:11:44,849 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,850 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:44,850 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:44,850 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,851 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,851 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,851 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-12 12:11:44,852 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_1.000-0.500
2025-08-12 12:11:44,852 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,852 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,852 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 12:11:44,853 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 12:11:44,853 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:44,853 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,854 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:44,854 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:44,855 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,855 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 12:11:44,855 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,856 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,856 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_sharp_angles': True}
2025-08-12 12:11:44,856 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-12 12:11:44,858 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,858 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,858 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,859 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,859 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,859 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,859 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,860 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,860 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,861 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,861 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,861 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,862 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,862 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:44,862 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,863 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,863 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,864 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,864 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-12 12:11:44,864 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.424-0.875
2025-08-12 12:11:44,864 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,866 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,866 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:44,866 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:44,866 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,866 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,866 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,868 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,868 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,869 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,869 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,870 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,870 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,870 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:44,871 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,871 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:44,871 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,872 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,872 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:44,873 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.400-0.375
2025-08-12 12:11:44,873 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,873 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,874 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:44,874 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:44,874 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,875 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,875 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,875 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,876 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,877 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,877 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,877 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,878 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,878 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:44,878 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,879 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:44,879 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,880 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,880 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-12 12:11:44,881 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.424-0.375
2025-08-12 12:11:44,881 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,881 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,883 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:44,883 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:44,883 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,884 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,884 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,884 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,885 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,885 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,886 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,886 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,886 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,886 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:44,887 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,887 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:44,887 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,888 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,888 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-12 12:11:44,888 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.875
2025-08-12 12:11:44,888 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,889 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,889 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,889 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,889 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,891 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,891 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,891 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,892 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,892 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,893 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,893 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,893 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,894 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:44,894 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,895 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,895 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,896 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,896 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-12 12:11:44,897 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 12:11:44,897 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 12:11:44,898 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,898 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=4965.657767357483. Returning 0.0.
2025-08-12 12:11:44,899 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,899 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,899 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 12:11:44,900 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 12:11:44,900 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:44,901 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,901 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:44,901 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,902 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,902 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:44,903 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}
2025-08-12 12:11:44,903 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_circle_0.400-0.375
2025-08-12 12:11:44,903 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,903 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:44,904 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:44,904 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,904 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,905 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,905 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-12 12:11:44,905 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_1.000-0.500
2025-08-12 12:11:44,905 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,906 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,906 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 12:11:44,906 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 12:11:44,907 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:44,907 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,907 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:44,907 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:44,908 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,908 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 12:11:44,909 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,909 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,910 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_sharp_angles': True}
2025-08-12 12:11:44,910 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-12 12:11:44,910 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,911 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,911 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,911 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,911 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,913 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,913 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,914 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,914 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,915 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,916 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,916 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,916 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,916 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:44,917 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,917 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,918 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,919 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,919 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-12 12:11:44,919 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.424-0.875
2025-08-12 12:11:44,920 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,920 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,920 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:44,921 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:44,921 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,921 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,922 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,922 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,923 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,923 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,924 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,924 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,924 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,925 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:44,926 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,926 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:44,926 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,927 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,928 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:44,928 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.400-0.375
2025-08-12 12:11:44,928 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,929 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,929 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:44,929 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:44,930 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,930 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,930 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,931 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,931 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,932 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,932 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,932 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,932 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,933 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:44,933 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,933 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:44,934 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,935 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,935 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-12 12:11:44,935 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.424-0.375
2025-08-12 12:11:44,935 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,935 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,937 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:44,937 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:44,937 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,937 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,938 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,938 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,939 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,940 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,940 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,940 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,941 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,941 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:44,942 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,942 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:44,942 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,943 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,944 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-12 12:11:44,944 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.875
2025-08-12 12:11:44,944 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,945 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,945 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,945 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,946 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,946 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,946 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,947 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,948 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,948 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,949 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,949 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,949 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,950 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:44,950 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,950 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,952 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,953 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,953 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-12 12:11:44,953 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 12:11:44,953 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 12:11:44,954 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,955 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=4965.657767357483. Returning 0.0.
2025-08-12 12:11:44,955 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,956 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,956 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 12:11:44,957 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 12:11:44,957 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:44,957 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,958 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:44,958 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,959 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,959 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-12 12:11:44,959 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}
2025-08-12 12:11:44,960 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=4 | stroke=line_circle_0.424-0.375
2025-08-12 12:11:44,960 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,960 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:44,961 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:44,961 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,961 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,962 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,962 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-12 12:11:44,962 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_1.000-0.500
2025-08-12 12:11:44,963 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,963 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,963 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 12:11:44,964 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 12:11:44,964 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:44,964 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,965 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:44,965 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:44,966 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,966 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 12:11:44,966 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,967 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,967 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_sharp_angles': True}
2025-08-12 12:11:44,968 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-12 12:11:44,968 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,968 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,968 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:44,970 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:44,970 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,970 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,970 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,971 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,972 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,972 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,973 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,973 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,973 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,974 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:44,974 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,975 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:44,975 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,976 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,976 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-12 12:11:44,977 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.424-0.875
2025-08-12 12:11:44,977 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,977 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,977 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:44,977 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:44,978 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,978 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,978 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,979 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,980 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,981 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,981 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,981 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,982 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,982 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:44,983 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,983 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:44,983 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,984 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,984 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:44,986 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.400-0.375
2025-08-12 12:11:44,986 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,987 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,987 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:44,987 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:44,987 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,988 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,988 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,988 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,989 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,989 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,990 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,990 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,990 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,990 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:44,992 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:44,992 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:44,992 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:44,993 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:44,993 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-12 12:11:44,993 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.424-0.375
2025-08-12 12:11:44,993 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,994 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,994 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:44,994 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:44,995 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,995 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:44,995 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:44,996 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:44,996 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:44,997 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:44,997 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:44,997 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,998 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:44,998 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:44,998 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:45,000 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:45,000 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:45,001 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:45,001 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-12 12:11:45,001 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.875
2025-08-12 12:11:45,002 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,002 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,002 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:45,003 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:45,003 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,003 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,004 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,004 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:45,005 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:45,005 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:45,006 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:45,006 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,006 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,006 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:45,007 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:45,007 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:45,007 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:45,007 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:45,009 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-12 12:11:45,009 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 12:11:45,009 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 12:11:45,010 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:45,010 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=4965.657767357483. Returning 0.0.
2025-08-12 12:11:45,011 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:45,011 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:45,011 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 12:11:45,012 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 12:11:45,012 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:45,012 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:45,012 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:45,013 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:45,014 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:45,014 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-12 12:11:45,015 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 4: {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}
2025-08-12 12:11:45,015 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=5 | stroke=line_normal_0.600-0.875
2025-08-12 12:11:45,015 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,015 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:45,015 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:45,016 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,016 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,016 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,017 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-12 12:11:45,017 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_1.000-0.500
2025-08-12 12:11:45,017 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,017 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,017 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-12 12:11:45,017 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-12 12:11:45,019 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:45,019 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,019 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:45,019 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:45,020 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:45,020 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 12:11:45,021 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:45,022 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:45,022 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_sharp_angles': True}
2025-08-12 12:11:45,022 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-12 12:11:45,022 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,023 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,023 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:45,023 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:45,023 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,025 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,025 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,025 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:45,026 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:45,027 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:45,028 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:45,028 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,028 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,028 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-12 12:11:45,029 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:45,029 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:45,030 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:45,031 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:45,031 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-12 12:11:45,031 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.424-0.875
2025-08-12 12:11:45,032 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,032 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,033 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-12 12:11:45,033 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-12 12:11:45,033 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,034 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,034 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,034 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:45,035 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:45,036 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:45,036 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:45,036 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,036 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,037 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-12 12:11:45,037 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:45,037 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:45,038 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:45,038 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:45,038 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:45,039 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.400-0.375
2025-08-12 12:11:45,039 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,039 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,040 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:45,040 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:45,040 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,041 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,041 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,041 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:45,042 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:45,042 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:45,043 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:45,043 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,043 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,044 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-12 12:11:45,044 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:45,045 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:45,045 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:45,046 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:45,046 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-12 12:11:45,047 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.424-0.375
2025-08-12 12:11:45,047 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,047 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,048 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-12 12:11:45,048 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-12 12:11:45,048 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,048 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,048 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,050 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:45,050 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:45,051 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:45,051 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:45,051 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,051 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,052 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-12 12:11:45,052 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:45,052 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:45,053 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:45,053 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:45,054 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-12 12:11:45,054 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.875
2025-08-12 12:11:45,054 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,054 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,054 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-12 12:11:45,055 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-12 12:11:45,055 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x000002694E0FB1D0>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,055 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,056 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-12 12:11:45,056 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:45,058 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-12 12:11:45,059 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:45,059 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:45,059 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,060 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,060 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:45,061 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:45,061 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:45,061 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:45,062 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:45,062 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-12 12:11:45,062 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-12 12:11:45,062 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-12 12:11:45,063 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:45,063 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=4965.657767357483. Returning 0.0.
2025-08-12 12:11:45,064 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-12 12:11:45,064 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-12 12:11:45,065 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 12:11:45,065 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}}}
2025-08-12 12:11:45,065 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-12 12:11:45,066 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:45,066 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:45,066 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:45,067 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-12 12:11:45,067 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-12 12:11:45,068 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 5: {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-12 12:11:45,068 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=6
2025-08-12 12:11:45,069 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['is_pattern', 'line_is_long', 'convexity_ratio', 'visual_complexity', 'is_geometric', 'compactness', 'avg_stroke_length', 'geom_complexity', 'num_vertices', 'line_length', 'line_is_short', 'robust_curvature', 'has_repetitive_pattern', 'stroke_length', 'has_curved_edges', 'is_normal', 'robust_angular_variance', 'degenerate_case', 'has_sharp_angles', 'line_is_vertical', 'geometric_complexity', 'line_curvature_score', 'open_stroke_perimeter', 'arc_curvature_score', 'line_angle', 'line_is_horizontal', 'is_simple', 'stroke_index']
2025-08-12 12:11:45,070 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (6) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-12 12:11:45,070 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=6
2025-08-12 12:11:45,070 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 6
2025-08-12 12:11:45,071 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 6, 'num_arcs': 0, 'line_ratio': 1.0, 'arc_ratio': 0.0, 'stroke_diversity': 0}, 'line_aggregate': {'total_line_length': 29793.408836787414, 'avg_line_length': 4965.568139464569, 'line_length_variance': 0.04016579594087719, 'line_angle_variance': 0.0, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'horizontal'}}
2025-08-12 12:11:45,071 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875
2025-08-12 12:11:45,071 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-12 12:11:45,071 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-12 12:11:45,073 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-12 12:11:45,073 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-12 12:11:45,074 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_triangle_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.600-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.424-0.875', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_circle_0.400-0.375', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_circle_0.424-0.375', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.600-0.875', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 12:11:45,074 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 12:11:45,074 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-12 12:11:45,075 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-12 12:11:45,075 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-12 12:11:45,076 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.4287314783802033, 0.428660345131859], 'orientation_degrees': -140.24012369530126}, geometry={'area': 0.6499377002974616, 'perimeter': 4.565837973061732, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 12:11:45,076 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-12 12:11:45,076 - DEBUG - [PATCH][actions field] Joined: line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875
2025-08-12 12:11:45,077 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_triangle_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.600-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.424-0.875', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_circle_0.400-0.375', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_circle_0.424-0.375', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.600-0.875', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 12:11:45,077 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:45,078 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-12 12:11:45,078 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-12 12:11:45,078 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:45,079 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:45,079 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|normal': 5}
2025-08-12 12:11:45,079 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 12:11:45,080 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-12 12:11:45,080 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5001867247769038, 0.34621095314831435], 'width': 1.0, 'height': 1.0, 'area_raw': 0.6499377002974616, 'area_normalized': 0.6500590824346036, 'perimeter_raw': 4.565837973061732, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.6500590824346036, 'is_convex': False, 'compactness': 0.39177850258902114, 'polsby_popper_compactness': 0.39177850258902114, 'eccentricity': 0.29624350248824083, 'symmetry_score': 0.6163116094963651, 'horizontal_symmetry': 0.7584032750784852, 'vertical_symmetry': 0.8284113787626539, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 7.0, 'visual_complexity': 0.5374328089489586, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'moment_of_inertia': 0.2610921766579035, 'irregularity_score': 0.24489795918370555, 'standardized_complexity': 0.4854288411970937, 'clustering_heights': [0.1459945618289437, 0.1757718298116586, 0.2077104151616263, 3.4127616658865207, 5.952367282101833], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 12:11:45,080 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-12 12:11:45,080 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-12 12:11:45,081 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-12 12:11:45,081 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:45,081 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_triangle_1.000-0.500, stroke_index=0
2025-08-12 12:11:45,081 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=1.0, param2=None, param3=0.5
2025-08-12 12:11:45,081 - INFO - [LOGGING PATCH] [_vertices_from_command] Triangle vertices: [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)]
2025-08-12 12:11:45,082 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], geometry={'width': 1.5000000000000004, 'height': 1.7320508075688772, 'area': 0.0, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000001], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'num_vertices': 4, 'analytic_vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'open_stroke_perimeter': 5.196152422706632, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,082 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)]
2025-08-12 12:11:45,082 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:45,083 - INFO - [SoS] Removed duplicate vertex: [1.5 0.5]
2025-08-12 12:11:45,084 - INFO - Convexity: poly_area=1.2990, hull_area=1.2990, ratio=1.0000
2025-08-12 12:11:45,084 - INFO - [robust_angular_variance] Computed angular variance: 0.068539 for 4 vertices.
2025-08-12 12:11:45,084 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,084 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,086 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:45,086 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:45,087 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-12 12:11:45,087 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:45,088 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-12 12:11:45,088 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-12 12:11:45,088 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:45,089 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.600-0.750, stroke_index=0
2025-08-12 12:11:45,089 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.6, param2=None, param3=0.75
2025-08-12 12:11:45,089 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)]
2025-08-12 12:11:45,090 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], geometry={'width': 1.1102230246251565e-16, 'height': 0.6, 'area': 0.0, 'perimeter': 0.6, 'centroid': [0.5, 0.20000000000000004], 'bounds': [0.4999999999999999, -0.09999999999999998, 0.5, 0.5], 'num_vertices': 12, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'open_stroke_perimeter': 0.6, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,090 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)]
2025-08-12 12:11:45,090 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:45,091 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44545455] -> [0.50000092 0.44545417]
2025-08-12 12:11:45,091 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39090909] -> [0.49999964 0.39090843]
2025-08-12 12:11:45,092 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.33636364] -> [0.50000026 0.33636397]
2025-08-12 12:11:45,093 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28181818] -> [0.49999929 0.28181901]
2025-08-12 12:11:45,093 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.22727273] -> [0.50000088 0.22727193]
2025-08-12 12:11:45,094 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.17272727] -> [0.50000028 0.17272654]
2025-08-12 12:11:45,094 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.11818182] -> [0.50000088 0.11818175]
2025-08-12 12:11:45,095 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.06363636] -> [0.4999996  0.06363728]
2025-08-12 12:11:45,095 - INFO - [SoS] Perturbed collinear vertex 9: [0.5        0.00909091] -> [0.50000026 0.00909172]
2025-08-12 12:11:45,096 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.04545455] -> [ 0.50000055 -0.04545425]
2025-08-12 12:11:45,098 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:45,099 - INFO - [robust_angular_variance] Computed angular variance: 1.370778 for 12 vertices.
2025-08-12 12:11:45,099 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,100 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,100 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:45,101 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:45,101 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:45,101 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:45,104 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.4870644538648868}
2025-08-12 12:11:45,105 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.4870644538648868, 'is_simple': True}
2025-08-12 12:11:45,105 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:45,105 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_zigzag_0.424-0.875, stroke_index=0
2025-08-12 12:11:45,105 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.424, param2=None, param3=0.875
2025-08-12 12:11:45,106 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)]
2025-08-12 12:11:45,106 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], geometry={'width': 0.2998132752230961, 'height': 0.2998132752230962, 'area': 0.0, 'perimeter': 0.424, 'centroid': [0.6499066376115481, 0.3500933623884519], 'bounds': [0.5, 0.2001867247769038, 0.7998132752230961, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'open_stroke_perimeter': 0.424, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,106 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)]
2025-08-12 12:11:45,106 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:45,107 - INFO - [SoS] Perturbed collinear vertex 1: [0.54283047 0.45716953] -> [0.54283084 0.45717012]
2025-08-12 12:11:45,107 - INFO - [SoS] Perturbed collinear vertex 2: [0.58566094 0.41433906] -> [0.5856608  0.41433957]
2025-08-12 12:11:45,108 - INFO - [SoS] Perturbed collinear vertex 3: [0.6284914 0.3715086] -> [0.62849053 0.37150822]
2025-08-12 12:11:45,108 - INFO - [SoS] Perturbed collinear vertex 4: [0.67132187 0.32867813] -> [0.67132223 0.32867905]
2025-08-12 12:11:45,109 - INFO - [SoS] Perturbed collinear vertex 5: [0.71415234 0.28584766] -> [0.71415219 0.28584793]
2025-08-12 12:11:45,109 - INFO - [SoS] Perturbed collinear vertex 6: [0.75698281 0.24301719] -> [0.75698328 0.24301772]
2025-08-12 12:11:45,111 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:45,111 - INFO - [robust_angular_variance] Computed angular variance: 1.850551 for 8 vertices.
2025-08-12 12:11:45,112 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,112 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,112 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:45,113 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:45,113 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-12 12:11:45,114 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:45,115 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 12:11:45,115 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-12 12:11:45,115 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:45,116 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_circle_0.400-0.375, stroke_index=0
2025-08-12 12:11:45,116 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.4, param2=None, param3=0.375
2025-08-12 12:11:45,116 - INFO - [LOGGING PATCH] [_vertices_from_command] Circle vertices: [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)]
2025-08-12 12:11:45,117 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], geometry={'width': 0.8, 'height': 0.8, 'area': 0.0, 'perimeter': 2.3778038686115095, 'centroid': [0.47946256298636675, 0.5032528104671047], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'num_vertices': 20, 'analytic_vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'open_stroke_perimeter': 2.3778038686115095, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,117 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)]
2025-08-12 12:11:45,117 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:45,119 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:45,119 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:45,120 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:45,121 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547274}
2025-08-12 12:11:45,121 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547274, 'has_curved_edges': True}
2025-08-12 12:11:45,121 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:45,122 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_circle_0.424-0.375, stroke_index=0
2025-08-12 12:11:45,122 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.424, param2=None, param3=0.375
2025-08-12 12:11:45,122 - INFO - [LOGGING PATCH] [_vertices_from_command] Circle vertices: [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)]
2025-08-12 12:11:45,122 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], geometry={'width': 0.8479999999999999, 'height': 0.8479999999999999, 'area': 0.0, 'perimeter': 2.5204721007282003, 'centroid': [0.4782303167655487, 0.5034479790951307], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'num_vertices': 20, 'analytic_vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'open_stroke_perimeter': 2.5204721007282003, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,124 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)]
2025-08-12 12:11:45,124 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:45,124 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:45,125 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-12 12:11:45,125 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:45,126 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275}
2025-08-12 12:11:45,127 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275, 'has_curved_edges': True}
2025-08-12 12:11:45,127 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-12 12:11:45,127 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.600-0.875, stroke_index=0
2025-08-12 12:11:45,127 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.6, param2=None, param3=0.875
2025-08-12 12:11:45,128 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)]
2025-08-12 12:11:45,128 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], geometry={'width': 0.42426406871192834, 'height': 0.4242640687119286, 'area': 0.0, 'perimeter': 0.6, 'centroid': [0.712132034355964, 0.28786796564403566], 'bounds': [0.5, 0.07573593128807138, 0.9242640687119283, 0.5], 'num_vertices': 12, 'analytic_vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'open_stroke_perimeter': 0.6, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-12 12:11:45,128 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)]
2025-08-12 12:11:45,129 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-12 12:11:45,129 - INFO - [SoS] Perturbed collinear vertex 1: [0.53856946 0.46143054] -> [0.53856993 0.46143097]
2025-08-12 12:11:45,130 - INFO - [SoS] Perturbed collinear vertex 2: [0.57713892 0.42286108] -> [0.57713909 0.42286171]
2025-08-12 12:11:45,130 - INFO - [SoS] Perturbed collinear vertex 3: [0.61570838 0.38429162] -> [0.61570908 0.38429124]
2025-08-12 12:11:45,131 - INFO - [SoS] Perturbed collinear vertex 4: [0.65427784 0.34572216] -> [0.65427837 0.34572186]
2025-08-12 12:11:45,131 - INFO - [SoS] Perturbed collinear vertex 5: [0.6928473 0.3071527] -> [0.69284797 0.30715352]
2025-08-12 12:11:45,131 - INFO - [SoS] Perturbed collinear vertex 6: [0.73141676 0.26858324] -> [0.7314158  0.26858278]
2025-08-12 12:11:45,133 - INFO - [SoS] Perturbed collinear vertex 7: [0.76998623 0.23001377] -> [0.76998715 0.23001452]
2025-08-12 12:11:45,133 - INFO - [SoS] Perturbed collinear vertex 8: [0.80855569 0.19144431] -> [0.80855476 0.19144386]
2025-08-12 12:11:45,134 - INFO - [SoS] Perturbed collinear vertex 9: [0.84712515 0.15287485] -> [0.84712472 0.15287474]
2025-08-12 12:11:45,134 - INFO - [SoS] Perturbed collinear vertex 10: [0.88569461 0.11430539] -> [0.88569531 0.11430445]
2025-08-12 12:11:45,136 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-12 12:11:45,137 - INFO - [robust_angular_variance] Computed angular variance: 1.370778 for 12 vertices.
2025-08-12 12:11:45,137 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,137 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-12 12:11:45,138 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-12 12:11:45,138 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['geom_complexity', 'width', 'height', 'area', 'visual_complexity', 'perimeter', 'stroke_index']
2025-08-12 12:11:45,139 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-12 12:11:45,139 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-12 12:11:45,142 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-12 12:11:45,142 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-12 12:11:45,142 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['triangle', 'normal', 'zigzag', 'circle', 'circle', 'normal'], n=2
2025-08-12 12:11:45,143 - DEBUG - [ensure_str_list] Converting list: ['triangle', 'normal', 'zigzag', 'circle', 'circle', 'normal']
2025-08-12 12:11:45,143 - DEBUG - [ensure_str_list] Returning string: triangle
2025-08-12 12:11:45,143 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:45,143 - DEBUG - [ensure_str_list] Returning string: zigzag
2025-08-12 12:11:45,144 - DEBUG - [ensure_str_list] Returning string: circle
2025-08-12 12:11:45,144 - DEBUG - [ensure_str_list] Returning string: circle
2025-08-12 12:11:45,144 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-12 12:11:45,144 - DEBUG - [ensure_str_list] Result: ['triangle', 'normal', 'zigzag', 'circle', 'circle', 'normal']
2025-08-12 12:11:45,145 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['triangle', 'normal', 'zigzag', 'circle', 'circle', 'normal']
2025-08-12 12:11:45,145 - DEBUG - [_extract_ngram_features] OUTPUT: {'triangle|normal': 1, 'normal|zigzag': 1, 'zigzag|circle': 1, 'circle|circle': 1, 'circle|normal': 1}
2025-08-12 12:11:45,145 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-12 12:11:45,146 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_6', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/6.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_triangle_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.600-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.424-0.875', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_circle_0.400-0.375', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_circle_0.424-0.375', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.600-0.875', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 6, 'raw_vertices': ['(0.0, 0.0)', '(1440.0, 0.0)', '(1440.0, 864.0)', '(1008.2688836787415, 432.26888367874164)', '(432.26888367874153, 432.2688836787417)', '(0.5377673574831761, 864.0000000000002)', '(0.5377673574830173, 2.2737367544323206e-13)'], 'vertices': ['(0.0, 0.0)', '(1.0, 0.0)', '(1.0, 0.9999999999999998)', '(0.7001867247769038, 0.5003112079615064)', '(0.30018672477690383, 0.5003112079615065)', '(0.00037344955380776113, 1.0)', '(0.0003734495538076509, 2.6316397620744445e-16)'], 'num_vertices': 7, 'position_label': ['0.4287314783802033', '0.428660345131859'], 'rotation_label_degrees': ['-140.24012369530126'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5001867247769038, 0.34621095314831435], 'width': 1.0, 'height': 1.0, 'area_raw': 0.6499377002974616, 'area_normalized': 0.6500590824346036, 'perimeter_raw': 4.565837973061732, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.6500590824346036, 'is_convex': False, 'compactness': 0.39177850258902114, 'polsby_popper_compactness': 0.39177850258902114, 'eccentricity': 0.29624350248824083, 'symmetry_score': 0.6163116094963651, 'horizontal_symmetry': 0.7584032750784852, 'vertical_symmetry': 0.8284113787626539, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 7.0, 'visual_complexity': 0.5374328089489586, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'moment_of_inertia': 0.2610921766579035, 'irregularity_score': 0.24489795918370555, 'standardized_complexity': 0.4854288411970937, 'clustering_heights': [0.1459945618289437, 0.1757718298116586, 0.2077104151616263, 3.4127616658865207, 5.952367282101833], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 0.3915006725995643, 'perimeter_mean': 1.9227672108721368, 'width_mean': 0.5680141933864237, 'height_mean': 0.6440842979961637, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.2610921766579035, 'center_of_mass': [0.5001867247769038, 0.34621095314831435], 'polsby_popper_compactness': 0.39177850258902114, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'edge_length_variance': 0.12300410253967249}, 'composition_features': {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 10, 'homogeneity_score': 0.2777777777777778, 'pattern_regularity': 0.6666666666666666}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 6}}, 'processing_metadata': {'processing_timestamp': 1754980905.1469166, 'feature_count': 54}, 'actions': ['line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875'], 'action_program': ['line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875'], 'geometry': {'area': 0.6499377002974616, 'perimeter': 4.565837973061732, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 5}, 'analytic_attributes': ['triangle', 'normal', 'zigzag', 'circle', 'circle', 'normal'], 'analytic_ngram': {'triangle|normal': 1, 'normal|zigzag': 1, 'zigzag|circle': 1, 'circle|circle': 1, 'circle|normal': 1}, 'alternation': 0.16666666666666666, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 6}}}, 'topological_features': {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 0, 1: 4, 2: 2, 3: 2, 4: 2, 5: 2}, 'adjacency_clustering': {0: 0, 1: 0.3333333333333333, 2: 1.0, 3: 1.0, 4: 1.0, 5: 1.0}, 'intersection_count': 6, 'betweenness_centrality': {0: 0.0, 1: 0.4, 2: 0.0, 3: 0.0, 4: 0.0, 5: 0.0}, 'containment_score': 4, 'overlap_heatmap': [0.0, 0.0, 0.4944271909999159, 0.5555383918075055, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.4944271909999159, 0.0, 0.0, 0.4944271909999159, 0.0, 0.5555383918075055, 0.0, 0.0, 0.4944271909999159, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 4607.462399999984, 'skeleton_graph_features': {'num_nodes': 6, 'num_edges': 6}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}}
2025-08-12 12:11:45,147 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.4287314783802033, 0.428660345131859], 'orientation_degrees': -140.24012369530126}
2025-08-12 12:11:45,147 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.6499377002974616, 'perimeter': 4.565837973061732, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-12 12:11:45,148 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_triangle_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.600-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.424-0.875', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_circle_0.400-0.375', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_circle_0.424-0.375', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.600-0.875', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}]
2025-08-12 12:11:45,148 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-12 12:11:45,148 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-12 12:11:45,149 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-12 12:11:45,149 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5001867247769038, 0.34621095314831435], 'width': 1.0, 'height': 1.0, 'area_raw': 0.6499377002974616, 'area_normalized': 0.6500590824346036, 'perimeter_raw': 4.565837973061732, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.6500590824346036, 'is_convex': False, 'compactness': 0.39177850258902114, 'polsby_popper_compactness': 0.39177850258902114, 'eccentricity': 0.29624350248824083, 'symmetry_score': 0.6163116094963651, 'horizontal_symmetry': 0.7584032750784852, 'vertical_symmetry': 0.8284113787626539, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 7.0, 'visual_complexity': 0.5374328089489586, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'moment_of_inertia': 0.2610921766579035, 'irregularity_score': 0.24489795918370555, 'standardized_complexity': 0.4854288411970937, 'clustering_heights': [0.1459945618289437, 0.1757718298116586, 0.2077104151616263, 3.4127616658865207, 5.952367282101833], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-12 12:11:45,150 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.2610921766579035, 'center_of_mass': [0.5001867247769038, 0.34621095314831435], 'polsby_popper_compactness': 0.39177850258902114, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'edge_length_variance': 0.12300410253967249}
2025-08-12 12:11:45,150 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 10, 'homogeneity_score': 0.2777777777777778, 'pattern_regularity': 0.6666666666666666}
2025-08-12 12:11:45,150 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-12 12:11:45,151 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}
2025-08-12 12:11:45,153 - INFO - [PIPELINE] INPUT: images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/6.png
2025-08-12 12:11:45,154 - INFO - [PIPELINE] OUTPUT: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_6', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/6.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_triangle_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.600-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.424-0.875', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_circle_0.400-0.375', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_circle_0.424-0.375', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.600-0.875', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 6, 'raw_vertices': ['(0.0, 0.0)', '(1440.0, 0.0)', '(1440.0, 864.0)', '(1008.2688836787415, 432.26888367874164)', '(432.26888367874153, 432.2688836787417)', '(0.5377673574831761, 864.0000000000002)', '(0.5377673574830173, 2.2737367544323206e-13)'], 'vertices': ['(0.0, 0.0)', '(1.0, 0.0)', '(1.0, 0.9999999999999998)', '(0.7001867247769038, 0.5003112079615064)', '(0.30018672477690383, 0.5003112079615065)', '(0.00037344955380776113, 1.0)', '(0.0003734495538076509, 2.6316397620744445e-16)'], 'num_vertices': 7, 'position_label': ['0.4287314783802033', '0.428660345131859'], 'rotation_label_degrees': ['-140.24012369530126'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5001867247769038, 0.34621095314831435], 'width': 1.0, 'height': 1.0, 'area_raw': 0.6499377002974616, 'area_normalized': 0.6500590824346036, 'perimeter_raw': 4.565837973061732, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.6500590824346036, 'is_convex': False, 'compactness': 0.39177850258902114, 'polsby_popper_compactness': 0.39177850258902114, 'eccentricity': 0.29624350248824083, 'symmetry_score': 0.6163116094963651, 'horizontal_symmetry': 0.7584032750784852, 'vertical_symmetry': 0.8284113787626539, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 7.0, 'visual_complexity': 0.5374328089489586, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'moment_of_inertia': 0.2610921766579035, 'irregularity_score': 0.24489795918370555, 'standardized_complexity': 0.4854288411970937, 'clustering_heights': [0.1459945618289437, 0.1757718298116586, 0.2077104151616263, 3.4127616658865207, 5.952367282101833], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 0.3915006725995643, 'perimeter_mean': 1.9227672108721368, 'width_mean': 0.5680141933864237, 'height_mean': 0.6440842979961637, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.2610921766579035, 'center_of_mass': [0.5001867247769038, 0.34621095314831435], 'polsby_popper_compactness': 0.39177850258902114, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'edge_length_variance': 0.12300410253967249}, 'composition_features': {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 10, 'homogeneity_score': 0.2777777777777778, 'pattern_regularity': 0.6666666666666666}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [[0.0, 0.0], [1440.0, 0.0], [1440.0, 864.0], [1008.2688836787415, 432.26888367874164], [432.26888367874153, 432.2688836787417], [0.5377673574831761, 864.0000000000002], [0.5377673574830173, 2.2737367544323206e-13]], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 1, 'analytic_vertices': [[0.0, 0.0], [1440.0, 0.0], [1440.0, 864.0], [1008.2688836787415, 432.26888367874164], [432.26888367874153, 432.2688836787417], [0.5377673574831761, 864.0000000000002], [0.5377673574830173, 2.2737367544323206e-13], [0.0, 0.0]], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [[0.0, 0.0], [1440.0, 0.0], [1440.0, 864.0], [1008.2688836787415, 432.26888367874164], [432.26888367874153, 432.2688836787417], [0.5377673574831761, 864.0000000000002], [0.5377673574830173, 2.2737367544323206e-13], [0.0, 0.0]], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [[0.0, 0.0], [1440.0, 0.0], [1440.0, 864.0], [1008.2688836787415, 432.26888367874164], [432.26888367874153, 432.2688836787417], [0.5377673574831761, 864.0000000000002], [0.5377673574830173, 2.2737367544323206e-13], [0.0, 0.0]], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 4, 'analytic_vertices': [[0.0, 0.0], [1440.0, 0.0], [1440.0, 864.0], [1008.2688836787415, 432.26888367874164], [432.26888367874153, 432.2688836787417], [0.5377673574831761, 864.0000000000002], [0.5377673574830173, 2.2737367544323206e-13], [0.0, 0.0]], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 5, 'analytic_vertices': [[0.0, 0.0], [1440.0, 0.0], [1440.0, 864.0], [1008.2688836787415, 432.26888367874164], [432.26888367874153, 432.2688836787417], [0.5377673574831761, 864.0000000000002], [0.5377673574830173, 2.2737367544323206e-13], [0.0, 0.0]], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 6}}, 'processing_metadata': {'processing_timestamp': 1754980905.1469166, 'feature_count': 54}, 'actions': ['line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875'], 'action_program': ['line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875'], 'geometry': {'area': 0.6499377002974616, 'perimeter': 4.565837973061732, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 5}, 'analytic_attributes': ['triangle', 'normal', 'zigzag', 'circle', 'circle', 'normal'], 'analytic_ngram': {'triangle|normal': 1, 'normal|zigzag': 1, 'zigzag|circle': 1, 'circle|circle': 1, 'circle|normal': 1}, 'alternation': 0.16666666666666666, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 6}}}, 'topological_features': {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 0, 1: 4, 2: 2, 3: 2, 4: 2, 5: 2}, 'adjacency_clustering': {0: 0, 1: 0.3333333333333333, 2: 1.0, 3: 1.0, 4: 1.0, 5: 1.0}, 'intersection_count': 6, 'betweenness_centrality': {0: 0.0, 1: 0.4, 2: 0.0, 3: 0.0, 4: 0.0, 5: 0.0}, 'containment_score': 4, 'overlap_heatmap': [0.0, 0.0, 0.4944271909999159, 0.5555383918075055, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.4944271909999159, 0.0, 0.0, 0.4944271909999159, 0.0, 0.5555383918075055, 0.0, 0.0, 0.4944271909999159, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 4607.462399999984, 'skeleton_graph_features': {'num_nodes': 6, 'num_edges': 6}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 3, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.0, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}}
2025-08-12 12:11:45,154 - INFO - [DEBUG] pos_results[0] image_level_features type: <class 'dict'>
2025-08-12 12:11:45,154 - INFO - [DEBUG] pos_results[0] image_level_features value: {'area_mean': 7.095510641122197e-08, 'perimeter_mean': 0.29162545264169343, 'width_mean': 0.09047980979005837, 'height_mean': 0.08435532212631194, 'visual_complexity_mean': 0.0}
2025-08-12 12:11:45,155 - INFO - [DEBUG] pos_results[0] has keys: ['area_mean', 'perimeter_mean', 'width_mean', 'height_mean', 'visual_complexity_mean']
2025-08-12 12:11:45,155 - INFO - [DEBUG] pos_results[1] image_level_features type: <class 'dict'>
2025-08-12 12:11:45,155 - INFO - [DEBUG] pos_results[1] image_level_features value: {'area_mean': 3.983901428023526e-08, 'perimeter_mean': 0.1973510834974729, 'width_mean': 0.04911867795376379, 'height_mean': 0.0641034621863568, 'visual_complexity_mean': 0.0}
2025-08-12 12:11:45,156 - INFO - [DEBUG] pos_results[1] has keys: ['area_mean', 'perimeter_mean', 'width_mean', 'height_mean', 'visual_complexity_mean']
2025-08-12 12:11:45,156 - INFO - [extract_support_set_context] INPUT: positive_images=7, negative_images=7
2025-08-12 12:11:45,156 - INFO - [compute_feature_statistics] INPUT: label=positive, num_features=7
2025-08-12 12:11:45,157 - INFO - [compute_feature_statistics] OUTPUT for label=positive: valid=True, stat_keys=['height_mean', 'area_mean', 'visual_complexity_mean', 'perimeter_mean', 'width_mean']
2025-08-12 12:11:45,157 - INFO - [compute_feature_statistics] INPUT: label=negative, num_features=7
2025-08-12 12:11:45,157 - INFO - [compute_feature_statistics] OUTPUT for label=negative: valid=True, stat_keys=['height_mean', 'area_mean', 'visual_complexity_mean', 'perimeter_mean', 'width_mean']
2025-08-12 12:11:45,158 - INFO - [extract_support_set_context] OUTPUT: {'valid': True, 'reason': 'successful_problem_level_extraction', 'positive_stats': {'valid': True, 'count': 7, 'stats': {'height_mean': {'mean': 0.0726589831913956, 'var': 0.00036821092260488116, 'min': 0.04118871772146147, 'max': 0.10842317325610577, 'count': 7}, 'area_mean': {'mean': 6.267834935036677e-08, 'var': 4.141343750726926e-16, 'min': 3.812950043094688e-08, 'max': 9.910011099064555e-08, 'count': 7}, 'visual_complexity_mean': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter_mean': {'mean': 0.2726392819375458, 'var': 0.005147072380438844, 'min': 0.15923804716340584, 'max': 0.3936271161843865, 'count': 7}, 'width_mean': {'mean': 0.09684016095541745, 'var': 0.001195523609638567, 'min': 0.04911867795376379, 'max': 0.14233748487314737, 'count': 7}}}, 'negative_stats': {'valid': True, 'count': 7, 'stats': {'height_mean': {'mean': 0.4181636164902579, 'var': 0.12063606275933174, 'min': 0.09947554767032402, 'max': 1.1481091336563019, 'count': 7}, 'area_mean': {'mean': 0.28862443584735836, 'var': 0.18625932680109353, 'min': 4.423207850501854e-08, 'max': 1.2948469049455897, 'count': 7}, 'visual_complexity_mean': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter_mean': {'mean': 1.2660174182978179, 'var': 1.266116335846068, 'min': 0.21895898949329176, 'max': 3.6505782745913486, 'count': 7}, 'width_mean': {'mean': 0.36973063736445055, 'var': 0.13899579178564728, 'min': 0.010004763360428229, 'max': 1.156254570716008, 'count': 7}}}, 'discriminative': {'valid': True, 'reason': 'cross_set_comparison_successful', 'stats': {'height_mean': -0.3455046332988623, 'area_mean': -0.288624373169009, 'visual_complexity_mean': 0.0, 'perimeter_mean': -0.9933781363602721, 'width_mean': -0.2728904764090331}}}
2025-08-12 12:11:45,159 - WARNING - [PROBLEM LEVEL] Failed to compute compositional hierarchical features: composition_tree_depth() missing 1 required positional argument: 'root'
2025-08-12 12:11:45,159 - INFO - [PROBLEM SUMMARY] Problem: hd_has_six_straight_lines-exist_quadrangle_0018
{
  "problem_id": "hd_has_six_straight_lines-exist_quadrangle_0018",
  "unique_shape_functions": [],
  "shape_function_counts": {},
  "modifiers": [],
  "num_images": 14,
  "compositional_hierarchical_features": {},
  "problem_multiscale_features": {},
  "problem_spatial_topological_features": {
    "geodesic_dist_convex_hull": {
      "mean": 3882.8020031996884,
      "var": 535949.2941540349,
      "min": 2692.730609907687,
      "max": 4977.952978073034
    },
    "intersection_count": {
      "mean": 12.857142857142858,
      "var": 40.55102040816326,
      "min": 3.0,
      "max": 22.0
    },
    "containment_score": {
      "mean": 1.5714285714285714,
      "var": 7.10204081632653,
      "min": 0.0,
      "max": 10.0
    }
  }
}
2025-08-12 12:11:45,160 - INFO - [extract_support_set_context] INPUT: positive_images=7, negative_images=7
2025-08-12 12:11:45,160 - INFO - [compute_feature_statistics] INPUT: label=positive, num_features=7
2025-08-12 12:11:45,161 - INFO - [compute_feature_statistics] OUTPUT for label=positive: valid=True, stat_keys=['height_mean', 'area_mean', 'visual_complexity_mean', 'perimeter_mean', 'width_mean']
2025-08-12 12:11:45,161 - INFO - [compute_feature_statistics] INPUT: label=negative, num_features=7
2025-08-12 12:11:45,162 - INFO - [compute_feature_statistics] OUTPUT for label=negative: valid=True, stat_keys=['height_mean', 'area_mean', 'visual_complexity_mean', 'perimeter_mean', 'width_mean']
2025-08-12 12:11:45,162 - INFO - [extract_support_set_context] OUTPUT: {'valid': True, 'reason': 'successful_problem_level_extraction', 'positive_stats': {'valid': True, 'count': 7, 'stats': {'height_mean': {'mean': 0.0726589831913956, 'var': 0.00036821092260488116, 'min': 0.04118871772146147, 'max': 0.10842317325610577, 'count': 7}, 'area_mean': {'mean': 6.267834935036677e-08, 'var': 4.141343750726926e-16, 'min': 3.812950043094688e-08, 'max': 9.910011099064555e-08, 'count': 7}, 'visual_complexity_mean': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter_mean': {'mean': 0.2726392819375458, 'var': 0.005147072380438844, 'min': 0.15923804716340584, 'max': 0.3936271161843865, 'count': 7}, 'width_mean': {'mean': 0.09684016095541745, 'var': 0.001195523609638567, 'min': 0.04911867795376379, 'max': 0.14233748487314737, 'count': 7}}}, 'negative_stats': {'valid': True, 'count': 7, 'stats': {'height_mean': {'mean': 0.4181636164902579, 'var': 0.12063606275933174, 'min': 0.09947554767032402, 'max': 1.1481091336563019, 'count': 7}, 'area_mean': {'mean': 0.28862443584735836, 'var': 0.18625932680109353, 'min': 4.423207850501854e-08, 'max': 1.2948469049455897, 'count': 7}, 'visual_complexity_mean': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'perimeter_mean': {'mean': 1.2660174182978179, 'var': 1.266116335846068, 'min': 0.21895898949329176, 'max': 3.6505782745913486, 'count': 7}, 'width_mean': {'mean': 0.36973063736445055, 'var': 0.13899579178564728, 'min': 0.010004763360428229, 'max': 1.156254570716008, 'count': 7}}}, 'discriminative': {'valid': True, 'reason': 'cross_set_comparison_successful', 'stats': {'height_mean': -0.3455046332988623, 'area_mean': -0.288624373169009, 'visual_complexity_mean': 0.0, 'perimeter_mean': -0.9933781363602721, 'width_mean': -0.2728904764090331}}}
2025-08-12 12:11:45,162 - INFO - [PROBLEM SUMMARY] Problem: hd_has_six_straight_lines-exist_quadrangle_0018
{
  "problem_id": "hd_has_six_straight_lines-exist_quadrangle_0018",
  "unique_shape_functions": [],
  "shape_function_counts": {},
  "modifiers": [],
  "num_images": 14
}
