2025-08-13 03:14:42,042 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,045 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,045 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,046 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:42,046 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,046 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,051 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,052 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,052 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,053 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.412-0.775
2025-08-13 03:14:42,053 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,053 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,054 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,054 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,054 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,055 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,055 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,055 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,056 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,057 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,057 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,058 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,058 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,058 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:42,059 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,059 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,059 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,061 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,061 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,061 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.400-0.789
2025-08-13 03:14:42,061 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,062 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,062 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,062 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,062 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,063 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,063 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,063 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,064 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,065 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,065 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,066 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,066 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,066 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-13 03:14:42,067 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,067 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,067 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,069 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,069 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,069 - DEBUG - [PATCH][DIAG] Processing action 7: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.301
2025-08-13 03:14:42,069 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,070 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,070 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,070 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,070 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,071 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,071 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,071 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,073 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,073 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,074 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,074 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,074 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,074 - INFO - [compute_feature_statistics] INPUT: label=stroke_7, num_features=1
2025-08-13 03:14:42,075 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_7: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,075 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,076 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,077 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,077 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,077 - INFO - [collect_stroke_features] Collected 8 valid stroke features
2025-08-13 03:14:42,078 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=8
2025-08-13 03:14:42,078 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,078 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=6101.377143165675. Returning 0.0.
2025-08-13 03:14:42,079 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,079 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,079 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}}}
2025-08-13 03:14:42,080 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}}}
2025-08-13 03:14:42,080 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:42,080 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,081 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,081 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,082 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,082 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,082 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-13 03:14:42,083 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=4 | stroke=line_normal_0.762-0.788
2025-08-13 03:14:42,083 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,083 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,083 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,084 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,084 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,084 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,085 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301]
2025-08-13 03:14:42,085 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.500
2025-08-13 03:14:42,085 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,086 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,086 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,086 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,086 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-13 03:14:42,087 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,087 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-13 03:14:42,087 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:42,088 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,088 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,088 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,090 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,090 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,090 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.ArcAction'>, value=arc_normal_0.500_0.625-0.750
2025-08-13 03:14:42,090 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,092 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,092 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,092 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,092 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,093 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,093 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,094 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,094 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,095 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,096 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,096 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,097 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,097 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:42,097 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,098 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,098 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,099 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,099 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,100 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.750
2025-08-13 03:14:42,100 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,100 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,101 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,101 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,101 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,102 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,102 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,102 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,104 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,104 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,105 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,105 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,105 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,105 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:42,106 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,106 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,106 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,108 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,108 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,108 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.250
2025-08-13 03:14:42,108 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,109 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,109 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,109 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,110 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,110 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,111 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,111 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,112 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,113 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,113 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,114 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,114 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,115 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:42,115 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,116 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,116 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,117 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,117 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,118 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.762-0.788
2025-08-13 03:14:42,118 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,118 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,119 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,119 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,119 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,120 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,120 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,120 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,121 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,121 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,121 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,123 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,123 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,123 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:42,123 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,124 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,124 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,125 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,125 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,125 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.412-0.775
2025-08-13 03:14:42,125 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,127 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,127 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,128 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,128 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,128 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,129 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,129 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,130 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,131 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,131 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,132 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,132 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,132 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:42,133 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,133 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,133 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,135 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,135 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,136 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.400-0.789
2025-08-13 03:14:42,136 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,136 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,137 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,137 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,137 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,137 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,137 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,138 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,139 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,139 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,140 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,140 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,140 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,141 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-13 03:14:42,141 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,142 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,142 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,143 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,143 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,144 - DEBUG - [PATCH][DIAG] Processing action 7: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.301
2025-08-13 03:14:42,144 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,144 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,144 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,145 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,145 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,145 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,145 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,146 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,147 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,147 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,148 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,148 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,148 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,149 - INFO - [compute_feature_statistics] INPUT: label=stroke_7, num_features=1
2025-08-13 03:14:42,149 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_7: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,149 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,150 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,151 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,151 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,152 - INFO - [collect_stroke_features] Collected 8 valid stroke features
2025-08-13 03:14:42,152 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=8
2025-08-13 03:14:42,152 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,153 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=6101.377143165675. Returning 0.0.
2025-08-13 03:14:42,153 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,154 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,154 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}}}
2025-08-13 03:14:42,154 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}}}
2025-08-13 03:14:42,154 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:42,155 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,156 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,156 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,157 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,158 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,158 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 4: {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-13 03:14:42,158 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=5 | stroke=line_normal_0.412-0.775
2025-08-13 03:14:42,158 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,159 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,159 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,159 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,160 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,160 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,160 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301]
2025-08-13 03:14:42,160 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.500
2025-08-13 03:14:42,161 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,161 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,161 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,162 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,162 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-13 03:14:42,162 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,163 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-13 03:14:42,163 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:42,164 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,164 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,164 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,166 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,166 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,166 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.ArcAction'>, value=arc_normal_0.500_0.625-0.750
2025-08-13 03:14:42,166 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,167 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,167 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,167 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,168 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,168 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,168 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,169 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,170 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,171 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,171 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,171 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,171 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,172 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:42,172 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,173 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,173 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,174 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,174 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,174 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.750
2025-08-13 03:14:42,174 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,176 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,176 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,176 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,176 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,177 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,177 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,177 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,178 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,179 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,179 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,179 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,180 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,180 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:42,180 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,181 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,181 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,182 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,183 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,183 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.250
2025-08-13 03:14:42,183 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,184 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,184 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,184 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,184 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,185 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,185 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,185 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,186 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,187 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,187 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,188 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,188 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,188 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:42,189 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,189 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,189 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,191 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,191 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,191 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.762-0.788
2025-08-13 03:14:42,191 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,192 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,192 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,192 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,193 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,193 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,193 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,194 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,195 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,195 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,195 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,197 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,197 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,197 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:42,198 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,198 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,199 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,200 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,200 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,200 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.412-0.775
2025-08-13 03:14:42,201 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,201 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,201 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,202 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,202 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,202 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,203 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,203 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,204 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,205 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,205 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,206 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,206 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,206 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:42,206 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,206 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,207 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,208 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,208 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,209 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.400-0.789
2025-08-13 03:14:42,209 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,209 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,210 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,210 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,210 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,210 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,211 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,211 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,212 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,213 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,213 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,213 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,214 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,214 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-13 03:14:42,214 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,215 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,215 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,216 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,216 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,216 - DEBUG - [PATCH][DIAG] Processing action 7: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.301
2025-08-13 03:14:42,216 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,218 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,218 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,218 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,218 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,219 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,219 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,219 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,221 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,221 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,222 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,222 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,222 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,223 - INFO - [compute_feature_statistics] INPUT: label=stroke_7, num_features=1
2025-08-13 03:14:42,223 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_7: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,223 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,223 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,225 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,225 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,225 - INFO - [collect_stroke_features] Collected 8 valid stroke features
2025-08-13 03:14:42,226 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=8
2025-08-13 03:14:42,226 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,226 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=6101.377143165675. Returning 0.0.
2025-08-13 03:14:42,227 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,227 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,228 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}}}
2025-08-13 03:14:42,229 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}}}
2025-08-13 03:14:42,229 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:42,229 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,230 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,230 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,231 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,232 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,232 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 5: {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-13 03:14:42,232 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=6 | stroke=line_normal_0.400-0.789
2025-08-13 03:14:42,233 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,233 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,233 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,233 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,234 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,234 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,234 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301]
2025-08-13 03:14:42,235 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.500
2025-08-13 03:14:42,235 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,235 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,236 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,236 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,236 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-13 03:14:42,237 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,237 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-13 03:14:42,237 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:42,238 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,238 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,238 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,239 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,240 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,240 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.ArcAction'>, value=arc_normal_0.500_0.625-0.750
2025-08-13 03:14:42,240 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,241 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,241 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,241 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,241 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,242 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,242 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,242 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,243 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,244 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,244 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,245 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,245 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,245 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:42,246 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,246 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,246 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,248 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,248 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,248 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.750
2025-08-13 03:14:42,249 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,249 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,249 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,249 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,249 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,250 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,250 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,251 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,252 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,252 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,253 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,253 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,253 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,254 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:42,254 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,254 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,255 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,256 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,256 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,256 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.250
2025-08-13 03:14:42,257 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,257 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,257 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,257 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,258 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,258 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,258 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,260 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,261 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,261 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,261 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,261 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,262 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,262 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:42,262 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,263 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,263 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,264 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,264 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,264 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.762-0.788
2025-08-13 03:14:42,265 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,265 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,265 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,266 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,266 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,266 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,267 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,267 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,268 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,269 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,269 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,269 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,270 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,270 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:42,270 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,270 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,271 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,272 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,272 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,272 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.412-0.775
2025-08-13 03:14:42,273 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,273 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,273 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,273 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,274 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,274 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,275 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,275 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,276 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,278 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,278 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,278 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,279 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,279 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:42,279 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,280 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,280 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,282 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,283 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,283 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.400-0.789
2025-08-13 03:14:42,283 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,284 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,284 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,284 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,285 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,285 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,285 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,286 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,287 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,287 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,288 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,288 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,288 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,289 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-13 03:14:42,289 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,289 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,290 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,291 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,291 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,291 - DEBUG - [PATCH][DIAG] Processing action 7: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.301
2025-08-13 03:14:42,292 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,292 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,292 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,293 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,293 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,293 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,293 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,294 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,295 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,296 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,296 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,296 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,296 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,297 - INFO - [compute_feature_statistics] INPUT: label=stroke_7, num_features=1
2025-08-13 03:14:42,297 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_7: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,298 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,298 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,299 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,300 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,300 - INFO - [collect_stroke_features] Collected 8 valid stroke features
2025-08-13 03:14:42,300 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=8
2025-08-13 03:14:42,301 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,301 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=6101.377143165675. Returning 0.0.
2025-08-13 03:14:42,301 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,301 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,302 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}}}
2025-08-13 03:14:42,302 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}}}
2025-08-13 03:14:42,302 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-13 03:14:42,303 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,303 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,303 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,304 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,304 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,305 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 6: {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-13 03:14:42,305 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=7 | stroke=line_normal_0.316-0.301
2025-08-13 03:14:42,305 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,306 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,306 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,306 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,306 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,307 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,307 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301]
2025-08-13 03:14:42,307 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.500
2025-08-13 03:14:42,307 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,308 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,308 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,308 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,309 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-13 03:14:42,309 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6012.573355292326, 'centroid': [-107.55307367884025, -183.79668742114714], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 17, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,309 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-13 03:14:42,310 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:42,310 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,310 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,311 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,312 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,313 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,313 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.ArcAction'>, value=arc_normal_0.500_0.625-0.750
2025-08-13 03:14:42,313 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,313 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,314 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,314 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,314 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,314 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,315 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,315 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,316 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,317 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,317 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,317 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,317 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,318 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:42,318 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,318 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,319 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,320 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,320 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,320 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.750
2025-08-13 03:14:42,320 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,321 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,321 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,321 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,322 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,322 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,322 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,322 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,323 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,324 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,324 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,325 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,325 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,325 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:42,326 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,326 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,326 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,328 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,328 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,328 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.500-0.250
2025-08-13 03:14:42,328 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,329 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,329 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,330 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,330 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,330 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,330 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,331 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,332 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,333 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,333 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,333 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,334 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,334 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:42,334 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,335 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,335 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,336 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,337 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,337 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.762-0.788
2025-08-13 03:14:42,337 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,337 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,338 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,338 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,338 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,339 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,339 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,339 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,340 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,341 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,341 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,342 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,342 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,342 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:42,342 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,343 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,343 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,344 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,344 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,344 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.412-0.775
2025-08-13 03:14:42,344 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,345 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,345 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,345 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,345 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,346 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,346 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,346 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,347 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,348 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,348 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,349 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,349 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,349 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:42,350 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,350 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,350 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,351 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,351 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,352 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.400-0.789
2025-08-13 03:14:42,352 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,352 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,353 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,353 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,353 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,353 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,353 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,354 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,355 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,355 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,356 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,356 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,356 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,357 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-13 03:14:42,357 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,357 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,358 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,359 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,359 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,359 - DEBUG - [PATCH][DIAG] Processing action 7: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.316-0.301
2025-08-13 03:14:42,360 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,360 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,360 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,360 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,360 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=7, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B00E9C50>, parent_shape_vertices=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,361 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], geometry={'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [-106.40981505666834, -181.61090672687024], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,361 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=7, verts=[(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)]
2025-08-13 03:14:42,362 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,363 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,364 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,364 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,364 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,364 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,365 - INFO - [compute_feature_statistics] INPUT: label=stroke_7, num_features=1
2025-08-13 03:14:42,365 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_7: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,366 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,366 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,367 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,367 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,368 - INFO - [collect_stroke_features] Collected 8 valid stroke features
2025-08-13 03:14:42,368 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=8
2025-08-13 03:14:42,368 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,369 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=6101.377143165675. Returning 0.0.
2025-08-13 03:14:42,369 - INFO - Convexity: poly_area=904028.8741, hull_area=1639382.6800, ratio=0.5514
2025-08-13 03:14:42,370 - INFO - [robust_angular_variance] Computed angular variance: 0.546390 for 18 vertices.
2025-08-13 03:14:42,370 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}}}
2025-08-13 03:14:42,370 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 5338.705000269965, 'var': 4071681.5828439333, 'min': 0.0, 'max': 6101.377143165675, 'count': 8}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}, 'stroke_index': {'mean': 3.5, 'var': 5.25, 'min': 0.0, 'max': 7.0, 'count': 8}, 'width': {'mean': 1313.3778174666088, 'var': 246423.04163047895, 'min': 0.0, 'max': 1501.0032199618386, 'count': 8}, 'area': {'mean': 791025.2648482232, 'var': 89388709946.88596, 'min': 0.0, 'max': 904028.874112255, 'count': 8}, 'height': {'mean': 1562.8830594060364, 'var': 348943.35105405323, 'min': 0.0, 'max': 1786.152067892613, 'count': 8}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 8}}}
2025-08-13 03:14:42,370 - INFO - [compute_feature_statistics] INPUT: label=stroke_7, num_features=1
2025-08-13 03:14:42,371 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_7: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,371 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,372 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,372 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423}
2025-08-13 03:14:42,374 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'convexity_ratio': 1e-06, 'compactness': 0.3024665632719423, 'is_simple': True}
2025-08-13 03:14:42,374 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 7: {'stroke_index': 7, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'stroke_index': {'mean': 7.0, 'var': 0.0, 'min': 7.0, 'max': 7.0, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 6101.377143165675, 'var': 0.0, 'min': 6101.377143165675, 'max': 6101.377143165675, 'count': 1}, 'geom_complexity': {'mean': 0.9, 'var': 0.0, 'min': 0.9, 'max': 0.9, 'count': 1}, 'stroke_index': {'mean': 7.0, 'var': 0.0, 'min': 7.0, 'max': 7.0, 'count': 1}, 'width': {'mean': 1501.0032199618386, 'var': 0.0, 'min': 1501.0032199618386, 'max': 1501.0032199618386, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1786.152067892613, 'var': 0.0, 'min': 1786.152067892613, 'max': 1786.152067892613, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-13 03:14:42,374 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=8
2025-08-13 03:14:42,375 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['line_angle', 'geom_complexity', 'robust_curvature', 'arc_is_major', 'degenerate_case', 'convexity_ratio', 'line_is_short', 'line_is_horizontal', 'arc_length', 'arc_span_angle', 'stroke_length', 'line_length', 'line_curvature_score', 'visual_complexity', 'arc_radius', 'robust_angular_variance', 'arc_is_large', 'stroke_index', 'is_geometric', 'is_simple', 'open_stroke_perimeter', 'is_normal', 'arc_curvature', 'is_pattern', 'arc_is_small', 'compactness', 'arc_curvature_score', 'line_is_vertical', 'num_vertices', 'arc_is_full_circle', 'geometric_complexity', 'avg_stroke_length', 'line_is_long']
2025-08-13 03:14:42,376 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (8) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-13 03:14:42,376 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=8
2025-08-13 03:14:42,376 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 8
2025-08-13 03:14:42,377 - WARNING - Variance: only one value, returning None
2025-08-13 03:14:42,377 - WARNING - Variance: only one value, returning None
2025-08-13 03:14:42,377 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 7, 'num_arcs': 1, 'line_ratio': 0.875, 'arc_ratio': 0.125, 'stroke_diversity': 1}, 'line_aggregate': {'total_line_length': 42620.83621428638, 'avg_line_length': 6088.690887755197, 'line_length_variance': 965.6464580393679, 'line_angle_variance': 0.0, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'horizontal'}, 'arc_aggregate': {'total_arc_length': 0.7853981633974483, 'avg_arc_radius': 0.5, 'avg_arc_span': 90.0, 'arc_radius_variance': None, 'arc_span_variance': None, 'total_curvature': 2.0, 'has_full_circles': False, 'has_major_arcs': False, 'curvature_complexity': 1}}
2025-08-13 03:14:42,377 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_normal_0.500-0.500,arc_normal_0.500_0.625-0.750,line_normal_0.500-0.750,line_normal_0.500-0.250,line_normal_0.762-0.788,line_normal_0.412-0.775,line_normal_0.400-0.789,line_normal_0.316-0.301
2025-08-13 03:14:42,378 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']]
2025-08-13 03:14:42,378 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']
2025-08-13 03:14:42,378 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']
2025-08-13 03:14:42,378 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']]
2025-08-13 03:14:42,379 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.500-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'arc_normal_0.500_0.625-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.500-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.500-0.250', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.762-0.788', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.412-0.775', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.400-0.789', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 7, 'stroke_command': 'line_normal_0.316-0.301', 'features': {'stroke_index': 7, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}]
2025-08-13 03:14:42,379 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-13 03:14:42,380 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-13 03:14:42,380 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-13 03:14:42,380 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-13 03:14:42,381 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.6134798638828637, 0.6843391081408409], 'orientation_degrees': 46.16578543292882}, geometry={'area': 0.33719587035626253, 'perimeter': 3.7428926365541084, 'centroid': [0.44867678683185835, 0.5358196079379418], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-13 03:14:42,381 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']
2025-08-13 03:14:42,381 - DEBUG - [PATCH][actions field] Joined: line_normal_0.500-0.500,arc_normal_0.500_0.625-0.750,line_normal_0.500-0.750,line_normal_0.500-0.250,line_normal_0.762-0.788,line_normal_0.412-0.775,line_normal_0.400-0.789,line_normal_0.316-0.301
2025-08-13 03:14:42,382 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.500-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'arc_normal_0.500_0.625-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.500-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.500-0.250', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.762-0.788', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.412-0.775', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.400-0.789', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 7, 'stroke_command': 'line_normal_0.316-0.301', 'features': {'stroke_index': 7, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}]
2025-08-13 03:14:42,382 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-13 03:14:42,382 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(0.5203208158218974, 0.633099820783206), (1.0, 0.633099820783206), (0.9854622073553833, 0.7023854064323992), (0.9568283455391784, 0.7684969427827529), (0.9149684399532374, 0.8294256642563134), (0.8611543826466551, 0.883320282482527), (0.7970212865194649, 0.9285432367585834), (0.7245178032445789, 0.9637204505027231), (0.6458469144727719, 0.9877830818758601), (0.5633989953499846, 1.0), (0.4796791841781028, 1.0), (0.47967918417810274, 0.5968988234862387), (0.0, 0.5968988234862388), (0.17288811642975047, 0.0), (0.5375797279001502, 0.12807379340787864), (0.3081376683089076, 0.38656386913270946), (0.4816746141105195, 0.5954548222236565)]
2025-08-13 03:14:42,383 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']]
2025-08-13 03:14:42,383 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:42,383 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:42,383 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 5}
2025-08-13 03:14:42,383 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 7, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': [{'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}]}
2025-08-13 03:14:42,384 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-13 03:14:42,384 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.44867678683185835, 0.5358196079379418], 'width': 1.0, 'height': 1.0, 'area_raw': 0.33719587035626253, 'area_normalized': 0.5514446902221597, 'perimeter_raw': 3.7428926365541084, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.5514446902221597, 'is_convex': False, 'compactness': 0.3024665632719423, 'polsby_popper_compactness': 0.3024665632719423, 'eccentricity': 0.6473738900486478, 'symmetry_score': 0.46024522887488073, 'horizontal_symmetry': 0.5541733912936185, 'vertical_symmetry': 0.5331366425154033, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 17.0, 'visual_complexity': 0.4887284500483604, 'curvature_score': 1.3061532745519022, 'angular_variance': 0.5475491675431053, 'moment_of_inertia': 0.312557639067535, 'irregularity_score': 0.619873831955699, 'standardized_complexity': 0.7365644242405919, 'clustering_heights': [0.03474715721186058, 0.037871585316469045, 0.04509063026870967, 0.112428255615131, 0.2404269771199682, 0.30093383442097965, 0.4415147229443537], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-13 03:14:42,385 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:42,385 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-13 03:14:42,385 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-13 03:14:42,385 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.500, all_vertices=None, bongard_image=[line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:42,385 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.500-0.500, stroke_index=0
2025-08-13 03:14:42,386 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.5, param2=None, param3=0.5
2025-08-13 03:14:42,386 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)]
2025-08-13 03:14:42,386 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)], geometry={'width': 0.5, 'height': 1.1102230246251565e-16, 'area': 0.0, 'perimeter': 0.5, 'centroid': [0.25, 0.5], 'bounds': [0.0, 0.5, 0.5, 0.5000000000000001], 'num_vertices': 10, 'analytic_vertices': [(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)], 'open_stroke_perimeter': 0.5, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,387 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.4444444444444444, 0.5), (0.3888888888888889, 0.5), (0.33333333333333337, 0.5), (0.2777777777777778, 0.5), (0.2222222222222222, 0.5000000000000001), (0.16666666666666669, 0.5000000000000001), (0.11111111111111116, 0.5000000000000001), (0.05555555555555558, 0.5000000000000001), (0.0, 0.5000000000000001)]
2025-08-13 03:14:42,387 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,388 - INFO - [SoS] Perturbed collinear vertex 1: [0.44444444 0.5       ] -> [0.44444463 0.49999992]
2025-08-13 03:14:42,388 - INFO - [SoS] Perturbed collinear vertex 2: [0.38888889 0.5       ] -> [0.38888953 0.50000062]
2025-08-13 03:14:42,388 - INFO - [SoS] Perturbed collinear vertex 3: [0.33333333 0.5       ] -> [0.33333313 0.50000014]
2025-08-13 03:14:42,389 - INFO - [SoS] Perturbed collinear vertex 4: [0.27777778 0.5       ] -> [0.27777865 0.50000005]
2025-08-13 03:14:42,389 - INFO - [SoS] Perturbed collinear vertex 5: [0.22222222 0.5       ] -> [0.22222163 0.49999907]
2025-08-13 03:14:42,390 - INFO - [SoS] Perturbed collinear vertex 6: [0.16666667 0.5       ] -> [0.1666662  0.49999933]
2025-08-13 03:14:42,390 - INFO - [SoS] Perturbed collinear vertex 7: [0.11111111 0.5       ] -> [0.11111165 0.50000026]
2025-08-13 03:14:42,390 - INFO - [SoS] Perturbed collinear vertex 8: [0.05555556 0.5       ] -> [0.05555531 0.49999961]
2025-08-13 03:14:42,392 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,392 - INFO - [robust_angular_variance] Computed angular variance: 1.579137 for 10 vertices.
2025-08-13 03:14:42,392 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,393 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,393 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:42,393 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,394 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,394 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,396 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 0.5099957097683265}
2025-08-13 03:14:42,396 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 0.5099957097683265, 'is_simple': True}
2025-08-13 03:14:42,396 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=arc_normal_0.500_0.625-0.750, all_vertices=None, bongard_image=[line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:42,396 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=arc_normal_0.500_0.625-0.750, stroke_index=0
2025-08-13 03:14:42,396 - INFO - [_vertices_from_command] Parsed: action_type=arc, modifier=normal, param1=0.5, param2=0.625, param3=0.75
2025-08-13 03:14:42,397 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.4999999999999999, 0.0), (0.5002727076821033, 7.436948540329169e-08), (0.5005454152830822, 2.9747791951972857e-07), (0.500818122721812, 6.693252359579738e-07), (0.5010908299171685, 1.1899113240843029e-06), (0.501363536788027, 1.8592360290781151e-06), (0.5016362432532635, 2.6772991517654e-06), (0.5019089492317537, 3.6441004488962925e-06), (0.5021816546423731, 4.759639632756496e-06), (0.5024543594039989, 6.02391637155586e-06), (0.5027270634355068, 7.436930289206334e-06), (0.5029997666557735, 8.998680965377481e-06), (0.5032724689836758, 1.0709167935385455e-05), (0.5035451703380909, 1.2568390690526066e-05), (0.5038178706378958, 1.457634867763069e-05), (0.5040905698019686, 1.6733041299454854e-05), (0.504363267749187, 1.903846791434516e-05), (0.5046359643984296, 2.1492627836572353e-05), (0.504908659668575, 2.4095520335998266e-05), (0.5051813534785019, 2.684714463835336e-05), (0.505454045747091, 2.974749992512571e-05)]
2025-08-13 03:14:42,397 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.4999999999999999, 0.0), (0.5002727076821033, 7.436948540329169e-08), (0.5005454152830822, 2.9747791951972857e-07), (0.500818122721812, 6.693252359579738e-07), (0.5010908299171685, 1.1899113240843029e-06), (0.501363536788027, 1.8592360290781151e-06), (0.5016362432532635, 2.6772991517654e-06), (0.5019089492317537, 3.6441004488962925e-06), (0.5021816546423731, 4.759639632756496e-06), (0.5024543594039989, 6.02391637155586e-06), (0.5027270634355068, 7.436930289206334e-06), (0.5029997666557735, 8.998680965377481e-06), (0.5032724689836758, 1.0709167935385455e-05), (0.5035451703380909, 1.2568390690526066e-05), (0.5038178706378958, 1.457634867763069e-05), (0.5040905698019686, 1.6733041299454854e-05), (0.504363267749187, 1.903846791434516e-05), (0.5046359643984296, 2.1492627836572353e-05), (0.504908659668575, 2.4095520335998266e-05), (0.5051813534785019, 2.684714463835336e-05), (0.505454045747091, 2.974749992512571e-05)], geometry={'width': 0.005454045747091074, 'height': 2.974749992512571e-05, 'area': 0.0, 'perimeter': 0.005454153844878395, 'centroid': [0.5027270498472365, 9.928267307220579e-06], 'bounds': [0.4999999999999999, 0.0, 0.505454045747091, 2.974749992512571e-05], 'num_vertices': 21, 'analytic_vertices': [(0.4999999999999999, 0.0), (0.5002727076821033, 7.436948540329169e-08), (0.5005454152830822, 2.9747791951972857e-07), (0.500818122721812, 6.693252359579738e-07), (0.5010908299171685, 1.1899113240843029e-06), (0.501363536788027, 1.8592360290781151e-06), (0.5016362432532635, 2.6772991517654e-06), (0.5019089492317537, 3.6441004488962925e-06), (0.5021816546423731, 4.759639632756496e-06), (0.5024543594039989, 6.02391637155586e-06), (0.5027270634355068, 7.436930289206334e-06), (0.5029997666557735, 8.998680965377481e-06), (0.5032724689836758, 1.0709167935385455e-05), (0.5035451703380909, 1.2568390690526066e-05), (0.5038178706378958, 1.457634867763069e-05), (0.5040905698019686, 1.6733041299454854e-05), (0.504363267749187, 1.903846791434516e-05), (0.5046359643984296, 2.1492627836572353e-05), (0.504908659668575, 2.4095520335998266e-05), (0.5051813534785019, 2.684714463835336e-05), (0.505454045747091, 2.974749992512571e-05)], 'open_stroke_perimeter': 0.005454153844878395, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,398 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.4999999999999999, 0.0), (0.5002727076821033, 7.436948540329169e-08), (0.5005454152830822, 2.9747791951972857e-07), (0.500818122721812, 6.693252359579738e-07), (0.5010908299171685, 1.1899113240843029e-06), (0.501363536788027, 1.8592360290781151e-06), (0.5016362432532635, 2.6772991517654e-06), (0.5019089492317537, 3.6441004488962925e-06), (0.5021816546423731, 4.759639632756496e-06), (0.5024543594039989, 6.02391637155586e-06), (0.5027270634355068, 7.436930289206334e-06), (0.5029997666557735, 8.998680965377481e-06), (0.5032724689836758, 1.0709167935385455e-05), (0.5035451703380909, 1.2568390690526066e-05), (0.5038178706378958, 1.457634867763069e-05), (0.5040905698019686, 1.6733041299454854e-05), (0.504363267749187, 1.903846791434516e-05), (0.5046359643984296, 2.1492627836572353e-05), (0.504908659668575, 2.4095520335998266e-05), (0.5051813534785019, 2.684714463835336e-05), (0.505454045747091, 2.974749992512571e-05)]
2025-08-13 03:14:42,398 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:42,398 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,399 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,399 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,400 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.42, 'num_vertices': 21, 'convexity_ratio': 1e-06, 'compactness': 0.24962798915725862}
2025-08-13 03:14:42,400 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.42, 'num_vertices': 21, 'convexity_ratio': 1e-06, 'compactness': 0.24962798915725862, 'is_simple': True}
2025-08-13 03:14:42,401 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.750, all_vertices=None, bongard_image=[line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:42,401 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.500-0.750, stroke_index=0
2025-08-13 03:14:42,401 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.5, param2=None, param3=0.75
2025-08-13 03:14:42,402 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)]
2025-08-13 03:14:42,402 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)], geometry={'width': 1.1102230246251565e-16, 'height': 0.5, 'area': 0.0, 'perimeter': 0.5, 'centroid': [0.5, 0.25], 'bounds': [0.4999999999999999, 0.0, 0.5, 0.5], 'num_vertices': 10, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)], 'open_stroke_perimeter': 0.5, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,402 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.4444444444444444), (0.5, 0.3888888888888889), (0.49999999999999994, 0.33333333333333337), (0.49999999999999994, 0.2777777777777778), (0.49999999999999994, 0.2222222222222222), (0.49999999999999994, 0.16666666666666669), (0.4999999999999999, 0.11111111111111116), (0.4999999999999999, 0.05555555555555558), (0.4999999999999999, 0.0)]
2025-08-13 03:14:42,403 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,403 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44444444] -> [0.49999902 0.44444385]
2025-08-13 03:14:42,403 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.38888889] -> [0.49999977 0.3888897 ]
2025-08-13 03:14:42,403 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.33333333] -> [0.4999996  0.33333421]
2025-08-13 03:14:42,405 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.27777778] -> [0.50000055 0.27777697]
2025-08-13 03:14:42,405 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.22222222] -> [0.4999994  0.22222203]
2025-08-13 03:14:42,406 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.16666667] -> [0.49999996 0.1666665 ]
2025-08-13 03:14:42,406 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.11111111] -> [0.4999994  0.11111103]
2025-08-13 03:14:42,406 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.05555556] -> [0.50000028 0.05555631]
2025-08-13 03:14:42,408 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,408 - INFO - [robust_angular_variance] Computed angular variance: 1.579137 for 10 vertices.
2025-08-13 03:14:42,408 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,409 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,409 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:42,409 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,410 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,410 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,411 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 0.4723884791070516}
2025-08-13 03:14:42,412 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 0.4723884791070516, 'is_simple': True}
2025-08-13 03:14:42,412 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.500-0.250, all_vertices=None, bongard_image=[line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:42,412 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.500-0.250, stroke_index=0
2025-08-13 03:14:42,412 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.5, param2=None, param3=0.25
2025-08-13 03:14:42,413 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.5555555555555556), (0.5, 0.6111111111111112), (0.5, 0.6666666666666666), (0.5, 0.7222222222222222), (0.5, 0.7777777777777778), (0.5, 0.8333333333333333), (0.5, 0.8888888888888888), (0.5, 0.9444444444444444), (0.5, 1.0)]
2025-08-13 03:14:42,413 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.5555555555555556), (0.5, 0.6111111111111112), (0.5, 0.6666666666666666), (0.5, 0.7222222222222222), (0.5, 0.7777777777777778), (0.5, 0.8333333333333333), (0.5, 0.8888888888888888), (0.5, 0.9444444444444444), (0.5, 1.0)], geometry={'width': 0.0, 'height': 0.5, 'area': 0.0, 'perimeter': 0.5, 'centroid': [0.5, 0.75], 'bounds': [0.5, 0.5, 0.5, 1.0], 'num_vertices': 10, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.5555555555555556), (0.5, 0.6111111111111112), (0.5, 0.6666666666666666), (0.5, 0.7222222222222222), (0.5, 0.7777777777777778), (0.5, 0.8333333333333333), (0.5, 0.8888888888888888), (0.5, 0.9444444444444444), (0.5, 1.0)], 'open_stroke_perimeter': 0.5, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,413 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.5555555555555556), (0.5, 0.6111111111111112), (0.5, 0.6666666666666666), (0.5, 0.7222222222222222), (0.5, 0.7777777777777778), (0.5, 0.8333333333333333), (0.5, 0.8888888888888888), (0.5, 0.9444444444444444), (0.5, 1.0)]
2025-08-13 03:14:42,414 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,414 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.55555556] -> [0.50000063 0.55555643]
2025-08-13 03:14:42,414 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.61111111] -> [0.50000073 0.61111012]
2025-08-13 03:14:42,414 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.66666667] -> [0.50000064 0.66666669]
2025-08-13 03:14:42,415 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.72222222] -> [0.50000085 0.72222146]
2025-08-13 03:14:42,415 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.77777778] -> [0.50000063 0.77777829]
2025-08-13 03:14:42,415 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.83333333] -> [0.50000089 0.83333413]
2025-08-13 03:14:42,416 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.88888889] -> [0.49999965 0.88888944]
2025-08-13 03:14:42,416 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.94444444] -> [0.49999964 0.94444507]
2025-08-13 03:14:42,417 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,417 - INFO - [robust_angular_variance] Computed angular variance: 1.579137 for 10 vertices.
2025-08-13 03:14:42,418 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,418 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,418 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:42,419 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,419 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,419 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,421 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 0.5984117613749982}
2025-08-13 03:14:42,421 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 0.5984117613749982, 'is_simple': True}
2025-08-13 03:14:42,421 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.762-0.788, all_vertices=None, bongard_image=[line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:42,421 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.762-0.788, stroke_index=0
2025-08-13 03:14:42,422 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.762, param2=None, param3=0.788
2025-08-13 03:14:42,422 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5128723025522913, 0.447115472822787), (0.5257446051045827, 0.39423094564557404), (0.5386169076568739, 0.3413464184683611), (0.5514892102091652, 0.2884618912911481), (0.5643615127614565, 0.23557736411393515), (0.5772338153137478, 0.18269283693672217), (0.5901061178660392, 0.1298083097595092), (0.6029784204183304, 0.07692378258229621), (0.6158507229706217, 0.024039255405083226), (0.628723025522913, -0.0288452717721297), (0.6415953280752043, -0.08172979894934274), (0.6544676306274957, -0.13461432612655566), (0.6673399331797869, -0.1874988533037687), (0.6802122357320782, -0.24038338048098162)]
2025-08-13 03:14:42,422 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5128723025522913, 0.447115472822787), (0.5257446051045827, 0.39423094564557404), (0.5386169076568739, 0.3413464184683611), (0.5514892102091652, 0.2884618912911481), (0.5643615127614565, 0.23557736411393515), (0.5772338153137478, 0.18269283693672217), (0.5901061178660392, 0.1298083097595092), (0.6029784204183304, 0.07692378258229621), (0.6158507229706217, 0.024039255405083226), (0.628723025522913, -0.0288452717721297), (0.6415953280752043, -0.08172979894934274), (0.6544676306274957, -0.13461432612655566), (0.6673399331797869, -0.1874988533037687), (0.6802122357320782, -0.24038338048098162)], geometry={'width': 0.18021223573207823, 'height': 0.7403833804809816, 'area': 0.0, 'perimeter': 0.7620000000000001, 'centroid': [0.5901061178660392, 0.12980830975950916], 'bounds': [0.5, -0.24038338048098162, 0.6802122357320782, 0.5], 'num_vertices': 15, 'analytic_vertices': [(0.5, 0.5), (0.5128723025522913, 0.447115472822787), (0.5257446051045827, 0.39423094564557404), (0.5386169076568739, 0.3413464184683611), (0.5514892102091652, 0.2884618912911481), (0.5643615127614565, 0.23557736411393515), (0.5772338153137478, 0.18269283693672217), (0.5901061178660392, 0.1298083097595092), (0.6029784204183304, 0.07692378258229621), (0.6158507229706217, 0.024039255405083226), (0.628723025522913, -0.0288452717721297), (0.6415953280752043, -0.08172979894934274), (0.6544676306274957, -0.13461432612655566), (0.6673399331797869, -0.1874988533037687), (0.6802122357320782, -0.24038338048098162)], 'open_stroke_perimeter': 0.7620000000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,423 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5128723025522913, 0.447115472822787), (0.5257446051045827, 0.39423094564557404), (0.5386169076568739, 0.3413464184683611), (0.5514892102091652, 0.2884618912911481), (0.5643615127614565, 0.23557736411393515), (0.5772338153137478, 0.18269283693672217), (0.5901061178660392, 0.1298083097595092), (0.6029784204183304, 0.07692378258229621), (0.6158507229706217, 0.024039255405083226), (0.628723025522913, -0.0288452717721297), (0.6415953280752043, -0.08172979894934274), (0.6544676306274957, -0.13461432612655566), (0.6673399331797869, -0.1874988533037687), (0.6802122357320782, -0.24038338048098162)]
2025-08-13 03:14:42,424 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,424 - INFO - [SoS] Perturbed collinear vertex 1: [0.5128723  0.44711547] -> [0.51287202 0.44711583]
2025-08-13 03:14:42,424 - INFO - [SoS] Perturbed collinear vertex 2: [0.52574461 0.39423095] -> [0.52574371 0.39423139]
2025-08-13 03:14:42,424 - INFO - [SoS] Perturbed collinear vertex 3: [0.53861691 0.34134642] -> [0.53861726 0.34134676]
2025-08-13 03:14:42,426 - INFO - [SoS] Perturbed collinear vertex 4: [0.55148921 0.28846189] -> [0.5514899  0.28846259]
2025-08-13 03:14:42,426 - INFO - [SoS] Perturbed collinear vertex 5: [0.56436151 0.23557736] -> [0.56436175 0.2355771 ]
2025-08-13 03:14:42,426 - INFO - [SoS] Perturbed collinear vertex 6: [0.57723382 0.18269284] -> [0.57723434 0.18269197]
2025-08-13 03:14:42,426 - INFO - [SoS] Perturbed collinear vertex 7: [0.59010612 0.12980831] -> [0.59010577 0.129808  ]
2025-08-13 03:14:42,426 - INFO - [SoS] Perturbed collinear vertex 8: [0.60297842 0.07692378] -> [0.60297749 0.07692424]
2025-08-13 03:14:42,427 - INFO - [SoS] Perturbed collinear vertex 9: [0.61585072 0.02403926] -> [0.61585002 0.02404012]
2025-08-13 03:14:42,427 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.62872303 -0.02884527] -> [ 0.62872279 -0.02884473]
2025-08-13 03:14:42,428 - INFO - [SoS] Perturbed collinear vertex 11: [ 0.64159533 -0.0817298 ] -> [ 0.64159462 -0.08172994]
2025-08-13 03:14:42,428 - INFO - [SoS] Perturbed collinear vertex 12: [ 0.65446763 -0.13461433] -> [ 0.65446731 -0.13461414]
2025-08-13 03:14:42,428 - INFO - [SoS] Perturbed collinear vertex 13: [ 0.66733993 -0.18749885] -> [ 0.66733958 -0.18749884]
2025-08-13 03:14:42,430 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,430 - INFO - [robust_angular_variance] Computed angular variance: 1.140488 for 15 vertices.
2025-08-13 03:14:42,430 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,430 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,430 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:42,432 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,432 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,432 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,434 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.3, 'num_vertices': 15, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-13 03:14:42,435 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.3, 'num_vertices': 15, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-13 03:14:42,435 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.412-0.775, all_vertices=None, bongard_image=[line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:42,435 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.412-0.775, stroke_index=0
2025-08-13 03:14:42,435 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.412, param2=None, param3=0.775
2025-08-13 03:14:42,435 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5092072856566536, 0.4418674862392576), (0.5184145713133071, 0.3837349724785152), (0.5276218569699608, 0.3256024587177728), (0.5368291426266143, 0.2674699449570304), (0.5460364282832679, 0.209337431196288), (0.5552437139399216, 0.15120491743554565), (0.5644509995965751, 0.09307240367480324)]
2025-08-13 03:14:42,436 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5092072856566536, 0.4418674862392576), (0.5184145713133071, 0.3837349724785152), (0.5276218569699608, 0.3256024587177728), (0.5368291426266143, 0.2674699449570304), (0.5460364282832679, 0.209337431196288), (0.5552437139399216, 0.15120491743554565), (0.5644509995965751, 0.09307240367480324)], geometry={'width': 0.06445099959657508, 'height': 0.40692759632519676, 'area': 0.0, 'perimeter': 0.41200000000000003, 'centroid': [0.5322254997982875, 0.2965362018374016], 'bounds': [0.5, 0.09307240367480324, 0.5644509995965751, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.5092072856566536, 0.4418674862392576), (0.5184145713133071, 0.3837349724785152), (0.5276218569699608, 0.3256024587177728), (0.5368291426266143, 0.2674699449570304), (0.5460364282832679, 0.209337431196288), (0.5552437139399216, 0.15120491743554565), (0.5644509995965751, 0.09307240367480324)], 'open_stroke_perimeter': 0.41200000000000003, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,436 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5092072856566536, 0.4418674862392576), (0.5184145713133071, 0.3837349724785152), (0.5276218569699608, 0.3256024587177728), (0.5368291426266143, 0.2674699449570304), (0.5460364282832679, 0.209337431196288), (0.5552437139399216, 0.15120491743554565), (0.5644509995965751, 0.09307240367480324)]
2025-08-13 03:14:42,436 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,436 - INFO - [SoS] Perturbed collinear vertex 1: [0.50920729 0.44186749] -> [0.50920754 0.44186713]
2025-08-13 03:14:42,437 - INFO - [SoS] Perturbed collinear vertex 2: [0.51841457 0.38373497] -> [0.51841536 0.38373474]
2025-08-13 03:14:42,437 - INFO - [SoS] Perturbed collinear vertex 3: [0.52762186 0.32560246] -> [0.52762143 0.32560214]
2025-08-13 03:14:42,438 - INFO - [SoS] Perturbed collinear vertex 4: [0.53682914 0.26746994] -> [0.53682925 0.2674709 ]
2025-08-13 03:14:42,438 - INFO - [SoS] Perturbed collinear vertex 5: [0.54603643 0.20933743] -> [0.54603731 0.20933662]
2025-08-13 03:14:42,438 - INFO - [SoS] Perturbed collinear vertex 6: [0.55524371 0.15120492] -> [0.55524353 0.15120473]
2025-08-13 03:14:42,439 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,440 - INFO - [robust_angular_variance] Computed angular variance: 1.850551 for 8 vertices.
2025-08-13 03:14:42,440 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,440 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,441 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:42,441 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,441 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,442 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,443 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-13 03:14:42,443 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-13 03:14:42,443 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.400-0.789, all_vertices=None, bongard_image=[line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:42,444 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.400-0.789, stroke_index=0
2025-08-13 03:14:42,444 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.4, param2=None, param3=0.789
2025-08-13 03:14:42,444 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5138628131883091, 0.44456419448627965), (0.527725626376618, 0.38912838897255936), (0.5415884395649271, 0.333692583458839), (0.5554512527532361, 0.2782567779451187), (0.5693140659415452, 0.22282097243139837), (0.5831768791298542, 0.16738516691767802), (0.5970396923181632, 0.11194936140395773)]
2025-08-13 03:14:42,444 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5138628131883091, 0.44456419448627965), (0.527725626376618, 0.38912838897255936), (0.5415884395649271, 0.333692583458839), (0.5554512527532361, 0.2782567779451187), (0.5693140659415452, 0.22282097243139837), (0.5831768791298542, 0.16738516691767802), (0.5970396923181632, 0.11194936140395773)], geometry={'width': 0.09703969231816323, 'height': 0.3880506385960423, 'area': 0.0, 'perimeter': 0.39999999999999997, 'centroid': [0.5485198461590817, 0.30597468070197886], 'bounds': [0.5, 0.11194936140395773, 0.5970396923181632, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.5138628131883091, 0.44456419448627965), (0.527725626376618, 0.38912838897255936), (0.5415884395649271, 0.333692583458839), (0.5554512527532361, 0.2782567779451187), (0.5693140659415452, 0.22282097243139837), (0.5831768791298542, 0.16738516691767802), (0.5970396923181632, 0.11194936140395773)], 'open_stroke_perimeter': 0.39999999999999997, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,445 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5138628131883091, 0.44456419448627965), (0.527725626376618, 0.38912838897255936), (0.5415884395649271, 0.333692583458839), (0.5554512527532361, 0.2782567779451187), (0.5693140659415452, 0.22282097243139837), (0.5831768791298542, 0.16738516691767802), (0.5970396923181632, 0.11194936140395773)]
2025-08-13 03:14:42,445 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,445 - INFO - [SoS] Perturbed collinear vertex 1: [0.51386281 0.44456419] -> [0.51386379 0.44456347]
2025-08-13 03:14:42,446 - INFO - [SoS] Perturbed collinear vertex 2: [0.52772563 0.38912839] -> [0.52772552 0.38912803]
2025-08-13 03:14:42,446 - INFO - [SoS] Perturbed collinear vertex 3: [0.54158844 0.33369258] -> [0.54158786 0.33369283]
2025-08-13 03:14:42,448 - INFO - [SoS] Perturbed collinear vertex 4: [0.55545125 0.27825678] -> [0.55545046 0.27825644]
2025-08-13 03:14:42,448 - INFO - [SoS] Perturbed collinear vertex 5: [0.56931407 0.22282097] -> [0.56931478 0.22282043]
2025-08-13 03:14:42,448 - INFO - [SoS] Perturbed collinear vertex 6: [0.58317688 0.16738517] -> [0.58317754 0.167386  ]
2025-08-13 03:14:42,449 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,450 - INFO - [robust_angular_variance] Computed angular variance: 1.850551 for 8 vertices.
2025-08-13 03:14:42,450 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,450 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,450 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:42,451 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,451 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,451 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,453 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-13 03:14:42,453 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-13 03:14:42,453 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.316-0.301, all_vertices=None, bongard_image=[line_normal_0.500-0.500, arc_normal_0.500_0.625-0.750, line_normal_0.500-0.750, line_normal_0.500-0.250, line_normal_0.762-0.788, line_normal_0.412-0.775, line_normal_0.400-0.789, line_normal_0.316-0.301], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:42,453 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.316-0.301, stroke_index=0
2025-08-13 03:14:42,454 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.316, param2=None, param3=0.301
2025-08-13 03:14:42,454 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4857806085412748, 0.5428449116881333), (0.4715612170825496, 0.5856898233762666), (0.4573418256238244, 0.6285347350643999), (0.4431224341650993, 0.6713796467525333), (0.4289030427063741, 0.7142245584406666), (0.4146836512476489, 0.7570694701287998), (0.4004642597889237, 0.7999143818169331)]
2025-08-13 03:14:42,454 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.4857806085412748, 0.5428449116881333), (0.4715612170825496, 0.5856898233762666), (0.4573418256238244, 0.6285347350643999), (0.4431224341650993, 0.6713796467525333), (0.4289030427063741, 0.7142245584406666), (0.4146836512476489, 0.7570694701287998), (0.4004642597889237, 0.7999143818169331)], geometry={'width': 0.0995357402110763, 'height': 0.2999143818169331, 'area': 0.0, 'perimeter': 0.316, 'centroid': [0.4502321298944619, 0.6499571909084666], 'bounds': [0.4004642597889237, 0.5, 0.5, 0.7999143818169331], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.4857806085412748, 0.5428449116881333), (0.4715612170825496, 0.5856898233762666), (0.4573418256238244, 0.6285347350643999), (0.4431224341650993, 0.6713796467525333), (0.4289030427063741, 0.7142245584406666), (0.4146836512476489, 0.7570694701287998), (0.4004642597889237, 0.7999143818169331)], 'open_stroke_perimeter': 0.316, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,454 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.4857806085412748, 0.5428449116881333), (0.4715612170825496, 0.5856898233762666), (0.4573418256238244, 0.6285347350643999), (0.4431224341650993, 0.6713796467525333), (0.4289030427063741, 0.7142245584406666), (0.4146836512476489, 0.7570694701287998), (0.4004642597889237, 0.7999143818169331)]
2025-08-13 03:14:42,455 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,455 - INFO - [SoS] Perturbed collinear vertex 1: [0.48578061 0.54284491] -> [0.48578045 0.54284516]
2025-08-13 03:14:42,456 - INFO - [SoS] Perturbed collinear vertex 2: [0.47156122 0.58568982] -> [0.47156134 0.58569047]
2025-08-13 03:14:42,456 - INFO - [SoS] Perturbed collinear vertex 3: [0.45734183 0.62853474] -> [0.45734138 0.62853383]
2025-08-13 03:14:42,456 - INFO - [SoS] Perturbed collinear vertex 4: [0.44312243 0.67137965] -> [0.44312267 0.67137998]
2025-08-13 03:14:42,457 - INFO - [SoS] Perturbed collinear vertex 5: [0.42890304 0.71422456] -> [0.42890343 0.71422458]
2025-08-13 03:14:42,457 - INFO - [SoS] Perturbed collinear vertex 6: [0.41468365 0.75706947] -> [0.41468448 0.75706937]
2025-08-13 03:14:42,458 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,458 - INFO - [robust_angular_variance] Computed angular variance: 1.850551 for 8 vertices.
2025-08-13 03:14:42,458 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,459 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,459 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:42,460 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,460 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,460 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,461 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-13 03:14:42,462 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-13 03:14:42,462 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-13 03:14:42,462 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,462 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,462 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,463 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,463 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,463 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,463 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,464 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,464 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,464 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,464 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,465 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 7}
2025-08-13 03:14:42,465 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:42,466 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_3', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/3.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.500-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'arc_normal_0.500_0.625-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.500-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.500-0.250', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.762-0.788', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.412-0.775', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.400-0.789', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 7, 'stroke_command': 'line_normal_0.316-0.301', 'features': {'stroke_index': 7, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 8, 'raw_vertices': ['(0.0, 0.0)', '(720.0, 0.0)', '(698.1787264292926, 123.75459208245697)', '(655.1992076432267, 241.83984944619894)', '(592.3673545714308, 350.667811300252)', '(511.5922812750398, 446.9317950932866)', '(415.32829748200515, 527.7068683896777)', '(306.5003356279521, 590.5387214614735)', '(188.41507826421014, 633.5182402475396)', '(64.66048618175317, 655.3395138182469)', '(-61.00321996183855, 655.3395138182469)', '(-61.00321996183869, -64.66048618175307)', '(-781.0032199618387, -64.66048618175299)', '(-521.497600507646, -1130.8125540743663)', '(25.905682602495745, -902.0532831360325)', '(-318.48758763863543, -440.35069985040786)', '(-58.00807320807286, -67.23969202295393)'], 'vertices': ['(0.5203208158218974, 0.633099820783206)', '(1.0, 0.633099820783206)', '(0.9854622073553833, 0.7023854064323992)', '(0.9568283455391784, 0.7684969427827529)', '(0.9149684399532374, 0.8294256642563134)', '(0.8611543826466551, 0.883320282482527)', '(0.7970212865194649, 0.9285432367585834)', '(0.7245178032445789, 0.9637204505027231)', '(0.6458469144727719, 0.9877830818758601)', '(0.5633989953499846, 1.0)', '(0.4796791841781028, 1.0)', '(0.47967918417810274, 0.5968988234862387)', '(0.0, 0.5968988234862388)', '(0.17288811642975047, 0.0)', '(0.5375797279001502, 0.12807379340787864)', '(0.3081376683089076, 0.38656386913270946)', '(0.4816746141105195, 0.5954548222236565)'], 'num_vertices': 17, 'position_label': ['0.6134798638828637', '0.6843391081408409'], 'rotation_label_degrees': ['46.16578543292882'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.44867678683185835, 0.5358196079379418], 'width': 1.0, 'height': 1.0, 'area_raw': 0.33719587035626253, 'area_normalized': 0.5514446902221597, 'perimeter_raw': 3.7428926365541084, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.5514446902221597, 'is_convex': False, 'compactness': 0.3024665632719423, 'polsby_popper_compactness': 0.3024665632719423, 'eccentricity': 0.6473738900486478, 'symmetry_score': 0.46024522887488073, 'horizontal_symmetry': 0.5541733912936185, 'vertical_symmetry': 0.5331366425154033, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 17.0, 'visual_complexity': 0.4887284500483604, 'curvature_score': 1.3061532745519022, 'angular_variance': 0.5475491675431053, 'moment_of_inertia': 0.312557639067535, 'irregularity_score': 0.619873831955699, 'standardized_complexity': 0.7365644242405919, 'clustering_heights': [0.03474715721186058, 0.037871585316469045, 0.04509063026870967, 0.112428255615131, 0.2404269771199682, 0.30093383442097965, 0.4415147229443537], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 6.422480323225558e-08, 'perimeter_mean': 0.2778630945233772, 'width_mean': 0.04004857012767356, 'height_mean': 0.11326635054931157, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.312557639067535, 'center_of_mass': [0.44867678683185835, 0.5358196079379418], 'polsby_popper_compactness': 0.3024665632719423, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.3061532745519022, 'angular_variance': 0.5475491675431053, 'edge_length_variance': 0.03442052296557477}, 'composition_features': {'stroke_type_distribution': {'line': 7, 'arc': 1}, 'shape_modifier_distribution': {'normal': 8}, 'stroke_diversity': 2, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 9, 'homogeneity_score': 1.0, 'pattern_regularity': 0.125}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 7, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': [{'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}]}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 7, 'arc': 1}}, 'processing_metadata': {'processing_timestamp': 1755035082.4655209, 'feature_count': 54}, 'actions': ['line_normal_0.500-0.500,arc_normal_0.500_0.625-0.750,line_normal_0.500-0.750,line_normal_0.500-0.250,line_normal_0.762-0.788,line_normal_0.412-0.775,line_normal_0.400-0.789,line_normal_0.316-0.301'], 'action_program': ['line_normal_0.500-0.500,arc_normal_0.500_0.625-0.750,line_normal_0.500-0.750,line_normal_0.500-0.250,line_normal_0.762-0.788,line_normal_0.412-0.775,line_normal_0.400-0.789,line_normal_0.316-0.301'], 'geometry': {'area': 0.33719587035626253, 'perimeter': 3.7428926365541084, 'centroid': [0.44867678683185835, 0.5358196079379418], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 5}, 'analytic_attributes': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], 'analytic_ngram': {'normal|normal': 7}, 'alternation': 0.375, 'regularity': {'regularity_score': 0.875, 'most_common_element': 'normal', 'distribution': {'normal': 7, 'arc': 1}}}, 'topological_features': {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 6, 2: 7, 3: 6, 4: 6, 5: 6, 6: 6, 7: 6, 1: 1}, 'adjacency_clustering': {0: 1.0, 2: 0.7142857142857143, 3: 1.0, 4: 1.0, 5: 1.0, 6: 1.0, 7: 1.0, 1: 0}, 'intersection_count': 22, 'betweenness_centrality': {0: 0.0, 2: 0.2857142857142857, 3: 0.0, 4: 0.0, 5: 0.0, 6: 0.0, 7: 0.0, 1: 0.0}, 'containment_score': 0, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 4977.952978073034, 'skeleton_graph_features': {'num_nodes': 8, 'num_edges': 22}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.5475491675431053, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.5337050222423345, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.2856173383967654, 'complexity': 5, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 1}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.17838703534085873, 'complexity': 3, 'groups': {'group_0': {'size': 11, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.08630224293781551, 'complexity': 2, 'groups': {'group_0': {'size': 9, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 8, 'curvature': 0.0, 'complexity': 1}}, 'degenerate_case': False}}}
2025-08-13 03:14:42,466 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.6134798638828637, 0.6843391081408409], 'orientation_degrees': 46.16578543292882}
2025-08-13 03:14:42,466 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.33719587035626253, 'perimeter': 3.7428926365541084, 'centroid': [0.44867678683185835, 0.5358196079379418], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-13 03:14:42,467 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.500-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'arc_normal_0.500_0.625-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.500-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.500-0.250', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.762-0.788', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.412-0.775', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.400-0.789', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 7, 'stroke_command': 'line_normal_0.316-0.301', 'features': {'stroke_index': 7, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}]
2025-08-13 03:14:42,468 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_normal_0.500-0.500', 'arc_normal_0.500_0.625-0.750', 'line_normal_0.500-0.750', 'line_normal_0.500-0.250', 'line_normal_0.762-0.788', 'line_normal_0.412-0.775', 'line_normal_0.400-0.789', 'line_normal_0.316-0.301']]
2025-08-13 03:14:42,468 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)]
2025-08-13 03:14:42,468 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(0.5203208158218974, 0.633099820783206), (1.0, 0.633099820783206), (0.9854622073553833, 0.7023854064323992), (0.9568283455391784, 0.7684969427827529), (0.9149684399532374, 0.8294256642563134), (0.8611543826466551, 0.883320282482527), (0.7970212865194649, 0.9285432367585834), (0.7245178032445789, 0.9637204505027231), (0.6458469144727719, 0.9877830818758601), (0.5633989953499846, 1.0), (0.4796791841781028, 1.0), (0.47967918417810274, 0.5968988234862387), (0.0, 0.5968988234862388), (0.17288811642975047, 0.0), (0.5375797279001502, 0.12807379340787864), (0.3081376683089076, 0.38656386913270946), (0.4816746141105195, 0.5954548222236565)]
2025-08-13 03:14:42,468 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.44867678683185835, 0.5358196079379418], 'width': 1.0, 'height': 1.0, 'area_raw': 0.33719587035626253, 'area_normalized': 0.5514446902221597, 'perimeter_raw': 3.7428926365541084, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.5514446902221597, 'is_convex': False, 'compactness': 0.3024665632719423, 'polsby_popper_compactness': 0.3024665632719423, 'eccentricity': 0.6473738900486478, 'symmetry_score': 0.46024522887488073, 'horizontal_symmetry': 0.5541733912936185, 'vertical_symmetry': 0.5331366425154033, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 17.0, 'visual_complexity': 0.4887284500483604, 'curvature_score': 1.3061532745519022, 'angular_variance': 0.5475491675431053, 'moment_of_inertia': 0.312557639067535, 'irregularity_score': 0.619873831955699, 'standardized_complexity': 0.7365644242405919, 'clustering_heights': [0.03474715721186058, 0.037871585316469045, 0.04509063026870967, 0.112428255615131, 0.2404269771199682, 0.30093383442097965, 0.4415147229443537], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-13 03:14:42,469 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.312557639067535, 'center_of_mass': [0.44867678683185835, 0.5358196079379418], 'polsby_popper_compactness': 0.3024665632719423, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.3061532745519022, 'angular_variance': 0.5475491675431053, 'edge_length_variance': 0.03442052296557477}
2025-08-13 03:14:42,469 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 7, 'arc': 1}, 'shape_modifier_distribution': {'normal': 8}, 'stroke_diversity': 2, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 9, 'homogeneity_score': 1.0, 'pattern_regularity': 0.125}
2025-08-13 03:14:42,469 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 7, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': [{'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}]}
2025-08-13 03:14:42,470 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}
2025-08-13 03:14:42,472 - INFO - [PIPELINE] INPUT: images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/3.png
2025-08-13 03:14:42,472 - INFO - [PIPELINE] OUTPUT: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_3', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/3.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.500-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393)], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'arc_normal_0.500_0.625-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.500-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_0.500-0.250', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_normal_0.762-0.788', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.412-0.775', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.400-0.789', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 7, 'stroke_command': 'line_normal_0.316-0.301', 'features': {'stroke_index': 7, 'analytic_vertices': [(0.0, 0.0), (720.0, 0.0), (698.1787264292926, 123.75459208245697), (655.1992076432267, 241.83984944619894), (592.3673545714308, 350.667811300252), (511.5922812750398, 446.9317950932866), (415.32829748200515, 527.7068683896777), (306.5003356279521, 590.5387214614735), (188.41507826421014, 633.5182402475396), (64.66048618175317, 655.3395138182469), (-61.00321996183855, 655.3395138182469), (-61.00321996183869, -64.66048618175307), (-781.0032199618387, -64.66048618175299), (-521.497600507646, -1130.8125540743663), (25.905682602495745, -902.0532831360325), (-318.48758763863543, -440.35069985040786), (-58.00807320807286, -67.23969202295393), (0.0, 0.0)], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 8, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 8, 'raw_vertices': ['(0.0, 0.0)', '(720.0, 0.0)', '(698.1787264292926, 123.75459208245697)', '(655.1992076432267, 241.83984944619894)', '(592.3673545714308, 350.667811300252)', '(511.5922812750398, 446.9317950932866)', '(415.32829748200515, 527.7068683896777)', '(306.5003356279521, 590.5387214614735)', '(188.41507826421014, 633.5182402475396)', '(64.66048618175317, 655.3395138182469)', '(-61.00321996183855, 655.3395138182469)', '(-61.00321996183869, -64.66048618175307)', '(-781.0032199618387, -64.66048618175299)', '(-521.497600507646, -1130.8125540743663)', '(25.905682602495745, -902.0532831360325)', '(-318.48758763863543, -440.35069985040786)', '(-58.00807320807286, -67.23969202295393)'], 'vertices': ['(0.5203208158218974, 0.633099820783206)', '(1.0, 0.633099820783206)', '(0.9854622073553833, 0.7023854064323992)', '(0.9568283455391784, 0.7684969427827529)', '(0.9149684399532374, 0.8294256642563134)', '(0.8611543826466551, 0.883320282482527)', '(0.7970212865194649, 0.9285432367585834)', '(0.7245178032445789, 0.9637204505027231)', '(0.6458469144727719, 0.9877830818758601)', '(0.5633989953499846, 1.0)', '(0.4796791841781028, 1.0)', '(0.47967918417810274, 0.5968988234862387)', '(0.0, 0.5968988234862388)', '(0.17288811642975047, 0.0)', '(0.5375797279001502, 0.12807379340787864)', '(0.3081376683089076, 0.38656386913270946)', '(0.4816746141105195, 0.5954548222236565)'], 'num_vertices': 17, 'position_label': ['0.6134798638828637', '0.6843391081408409'], 'rotation_label_degrees': ['46.16578543292882'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.44867678683185835, 0.5358196079379418], 'width': 1.0, 'height': 1.0, 'area_raw': 0.33719587035626253, 'area_normalized': 0.5514446902221597, 'perimeter_raw': 3.7428926365541084, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.5514446902221597, 'is_convex': False, 'compactness': 0.3024665632719423, 'polsby_popper_compactness': 0.3024665632719423, 'eccentricity': 0.6473738900486478, 'symmetry_score': 0.46024522887488073, 'horizontal_symmetry': 0.5541733912936185, 'vertical_symmetry': 0.5331366425154033, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 17.0, 'visual_complexity': 0.4887284500483604, 'curvature_score': 1.3061532745519022, 'angular_variance': 0.5475491675431053, 'moment_of_inertia': 0.312557639067535, 'irregularity_score': 0.619873831955699, 'standardized_complexity': 0.7365644242405919, 'clustering_heights': [0.03474715721186058, 0.037871585316469045, 0.04509063026870967, 0.112428255615131, 0.2404269771199682, 0.30093383442097965, 0.4415147229443537], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 6.422480323225558e-08, 'perimeter_mean': 0.2778630945233772, 'width_mean': 0.04004857012767356, 'height_mean': 0.11326635054931157, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.312557639067535, 'center_of_mass': [0.44867678683185835, 0.5358196079379418], 'polsby_popper_compactness': 0.3024665632719423, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.3061532745519022, 'angular_variance': 0.5475491675431053, 'edge_length_variance': 0.03442052296557477}, 'composition_features': {'stroke_type_distribution': {'line': 7, 'arc': 1}, 'shape_modifier_distribution': {'normal': 8}, 'stroke_diversity': 2, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 9, 'homogeneity_score': 1.0, 'pattern_regularity': 0.125}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [[0.0, 0.0], [720.0, 0.0], [698.1787264292926, 123.75459208245697], [655.1992076432267, 241.83984944619894], [592.3673545714308, 350.667811300252], [511.5922812750398, 446.9317950932866], [415.32829748200515, 527.7068683896777], [306.5003356279521, 590.5387214614735], [188.41507826421014, 633.5182402475396], [64.66048618175317, 655.3395138182469], [-61.00321996183855, 655.3395138182469], [-61.00321996183869, -64.66048618175307], [-781.0032199618387, -64.66048618175299], [-521.497600507646, -1130.8125540743663], [25.905682602495745, -902.0532831360325], [-318.48758763863543, -440.35069985040786], [-58.00807320807286, -67.23969202295393]], 'open_stroke_perimeter': 6012.573355292326, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 6012.573355292326, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.34, 'num_vertices': 17, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [[0.0, 0.0], [720.0, 0.0], [698.1787264292926, 123.75459208245697], [655.1992076432267, 241.83984944619894], [592.3673545714308, 350.667811300252], [511.5922812750398, 446.9317950932866], [415.32829748200515, 527.7068683896777], [306.5003356279521, 590.5387214614735], [188.41507826421014, 633.5182402475396], [64.66048618175317, 655.3395138182469], [-61.00321996183855, 655.3395138182469], [-61.00321996183869, -64.66048618175307], [-781.0032199618387, -64.66048618175299], [-521.497600507646, -1130.8125540743663], [25.905682602495745, -902.0532831360325], [-318.48758763863543, -440.35069985040786], [-58.00807320807286, -67.23969202295393], [0.0, 0.0]], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [[0.0, 0.0], [720.0, 0.0], [698.1787264292926, 123.75459208245697], [655.1992076432267, 241.83984944619894], [592.3673545714308, 350.667811300252], [511.5922812750398, 446.9317950932866], [415.32829748200515, 527.7068683896777], [306.5003356279521, 590.5387214614735], [188.41507826421014, 633.5182402475396], [64.66048618175317, 655.3395138182469], [-61.00321996183855, 655.3395138182469], [-61.00321996183869, -64.66048618175307], [-781.0032199618387, -64.66048618175299], [-521.497600507646, -1130.8125540743663], [25.905682602495745, -902.0532831360325], [-318.48758763863543, -440.35069985040786], [-58.00807320807286, -67.23969202295393], [0.0, 0.0]], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 4, 'analytic_vertices': [[0.0, 0.0], [720.0, 0.0], [698.1787264292926, 123.75459208245697], [655.1992076432267, 241.83984944619894], [592.3673545714308, 350.667811300252], [511.5922812750398, 446.9317950932866], [415.32829748200515, 527.7068683896777], [306.5003356279521, 590.5387214614735], [188.41507826421014, 633.5182402475396], [64.66048618175317, 655.3395138182469], [-61.00321996183855, 655.3395138182469], [-61.00321996183869, -64.66048618175307], [-781.0032199618387, -64.66048618175299], [-521.497600507646, -1130.8125540743663], [25.905682602495745, -902.0532831360325], [-318.48758763863543, -440.35069985040786], [-58.00807320807286, -67.23969202295393], [0.0, 0.0]], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 5, 'analytic_vertices': [[0.0, 0.0], [720.0, 0.0], [698.1787264292926, 123.75459208245697], [655.1992076432267, 241.83984944619894], [592.3673545714308, 350.667811300252], [511.5922812750398, 446.9317950932866], [415.32829748200515, 527.7068683896777], [306.5003356279521, 590.5387214614735], [188.41507826421014, 633.5182402475396], [64.66048618175317, 655.3395138182469], [-61.00321996183855, 655.3395138182469], [-61.00321996183869, -64.66048618175307], [-781.0032199618387, -64.66048618175299], [-521.497600507646, -1130.8125540743663], [25.905682602495745, -902.0532831360325], [-318.48758763863543, -440.35069985040786], [-58.00807320807286, -67.23969202295393], [0.0, 0.0]], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 6, 'analytic_vertices': [[0.0, 0.0], [720.0, 0.0], [698.1787264292926, 123.75459208245697], [655.1992076432267, 241.83984944619894], [592.3673545714308, 350.667811300252], [511.5922812750398, 446.9317950932866], [415.32829748200515, 527.7068683896777], [306.5003356279521, 590.5387214614735], [188.41507826421014, 633.5182402475396], [64.66048618175317, 655.3395138182469], [-61.00321996183855, 655.3395138182469], [-61.00321996183869, -64.66048618175307], [-781.0032199618387, -64.66048618175299], [-521.497600507646, -1130.8125540743663], [25.905682602495745, -902.0532831360325], [-318.48758763863543, -440.35069985040786], [-58.00807320807286, -67.23969202295393], [0.0, 0.0]], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 7, 'analytic_vertices': [[0.0, 0.0], [720.0, 0.0], [698.1787264292926, 123.75459208245697], [655.1992076432267, 241.83984944619894], [592.3673545714308, 350.667811300252], [511.5922812750398, 446.9317950932866], [415.32829748200515, 527.7068683896777], [306.5003356279521, 590.5387214614735], [188.41507826421014, 633.5182402475396], [64.66048618175317, 655.3395138182469], [-61.00321996183855, 655.3395138182469], [-61.00321996183869, -64.66048618175307], [-781.0032199618387, -64.66048618175299], [-521.497600507646, -1130.8125540743663], [25.905682602495745, -902.0532831360325], [-318.48758763863543, -440.35069985040786], [-58.00807320807286, -67.23969202295393], [0.0, 0.0]], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'line_length': 6101.377143165675, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': [{'stroke_index': 1, 'analytic_vertices': [[0.0, 0.0], [720.0, 0.0], [698.1787264292926, 123.75459208245697], [655.1992076432267, 241.83984944619894], [592.3673545714308, 350.667811300252], [511.5922812750398, 446.9317950932866], [415.32829748200515, 527.7068683896777], [306.5003356279521, 590.5387214614735], [188.41507826421014, 633.5182402475396], [64.66048618175317, 655.3395138182469], [-61.00321996183855, 655.3395138182469], [-61.00321996183869, -64.66048618175307], [-781.0032199618387, -64.66048618175299], [-521.497600507646, -1130.8125540743663], [25.905682602495745, -902.0532831360325], [-318.48758763863543, -440.35069985040786], [-58.00807320807286, -67.23969202295393], [0.0, 0.0]], 'open_stroke_perimeter': 6101.377143165675, 'compactness': 0.3024665632719423, 'convexity_ratio': 1e-06, 'geom_complexity': 0.9, 'arc_curvature_score': 0.001046497639648523, 'degenerate_case': True, 'stroke_length': 6101.377143165675, 'avg_stroke_length': 6101.377143165675, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.5463904325247595, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1501.0032199618386, 'height': 1786.152067892613, 'area': 0.0, 'perimeter': 6101.377143165675, 'centroid': [132.06358493541867, 86.4366502338951], 'bounds': [-781.0032199618387, -1130.8125540743663, 720.0, 655.3395138182469], 'num_vertices': 18, 'degenerate_case': True}, 'arc_radius': 0.5, 'arc_span_angle': 90, 'arc_length': 0.7853981633974483, 'arc_curvature': 2.0, 'arc_is_major': False, 'arc_is_full_circle': False, 'arc_direction': 'counterclockwise', 'arc_is_small': False, 'arc_is_large': False, 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.36, 'num_vertices': 18, 'is_simple': True, 'analytic_attribute': 'normal'}]}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 7, 'arc': 1}}, 'processing_metadata': {'processing_timestamp': 1755035082.4655209, 'feature_count': 54}, 'actions': ['line_normal_0.500-0.500,arc_normal_0.500_0.625-0.750,line_normal_0.500-0.750,line_normal_0.500-0.250,line_normal_0.762-0.788,line_normal_0.412-0.775,line_normal_0.400-0.789,line_normal_0.316-0.301'], 'action_program': ['line_normal_0.500-0.500,arc_normal_0.500_0.625-0.750,line_normal_0.500-0.750,line_normal_0.500-0.250,line_normal_0.762-0.788,line_normal_0.412-0.775,line_normal_0.400-0.789,line_normal_0.316-0.301'], 'geometry': {'area': 0.33719587035626253, 'perimeter': 3.7428926365541084, 'centroid': [0.44867678683185835, 0.5358196079379418], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|arc': 1, 'arc|normal': 1, 'normal|normal': 5}, 'analytic_attributes': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], 'analytic_ngram': {'normal|normal': 7}, 'alternation': 0.375, 'regularity': {'regularity_score': 0.875, 'most_common_element': 'normal', 'distribution': {'normal': 7, 'arc': 1}}}, 'topological_features': {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 6, 2: 7, 3: 6, 4: 6, 5: 6, 6: 6, 7: 6, 1: 1}, 'adjacency_clustering': {0: 1.0, 2: 0.7142857142857143, 3: 1.0, 4: 1.0, 5: 1.0, 6: 1.0, 7: 1.0, 1: 0}, 'intersection_count': 22, 'betweenness_centrality': {0: 0.0, 2: 0.2857142857142857, 3: 0.0, 4: 0.0, 5: 0.0, 6: 0.0, 7: 0.0, 1: 0.0}, 'containment_score': 0, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 4977.952978073034, 'skeleton_graph_features': {'num_nodes': 8, 'num_edges': 22}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.5475491675431053, 'complexity': 5, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_3': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.5337050222423345, 'complexity': 5, 'groups': {'group_0': {'size': 10, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_2': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.2856173383967654, 'complexity': 5, 'groups': {'group_0': {'size': 7, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 0}, 'group_2': {'size': 4, 'curvature': 0.0, 'complexity': 1}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.17838703534085873, 'complexity': 3, 'groups': {'group_0': {'size': 11, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 6, 'curvature': 0.0, 'complexity': 1}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.08630224293781551, 'complexity': 2, 'groups': {'group_0': {'size': 9, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 8, 'curvature': 0.0, 'complexity': 1}}, 'degenerate_case': False}}}
2025-08-13 03:14:42,473 - INFO - [INPUT] Processing image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018, is_positive=False
2025-08-13 03:14:42,473 - INFO - [INPUT] action_commands type: <class 'list'>, value: [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-13 03:14:42,473 - INFO - [SHAPE SPLIT] Raw action_commands: [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-13 03:14:42,473 - INFO - [SHAPE SPLIT] Sublist 0: ['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-13 03:14:42,474 - INFO - [SHAPE SPLIT] Parsed shapes_commands (multi-object): [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-13 03:14:42,474 - INFO - ComprehensiveNVLabsParser initialized:
2025-08-13 03:14:42,474 - INFO -   Canvas size: 512x512
2025-08-13 03:14:42,474 - INFO -   Coordinate range: (-360, 360)
2025-08-13 03:14:42,475 - INFO -   Base scaling factor: 1440.0
2025-08-13 03:14:42,475 - INFO - [PARSER] Parsing shape 0 commands: ['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-13 03:14:42,475 - INFO - [LOGOPARSER] Input action_commands for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: ['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-13 03:14:42,475 - DEBUG - Parsing 7 commands for hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-13 03:14:42,475 - DEBUG - [ACTIONS_JOIN] line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930
2025-08-13 03:14:42,476 - DEBUG - [ACTIONS_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-13 03:14:42,476 - DEBUG - [ACTIONS_ATTRS] [{'line_length': 1287.3600000000001, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_zigzag_0.894-0.500'}, {'line_length': 720.0, 'line_type': 'circle', 'turn_direction': 'L', 'turn_angle': 153.36, 'name': 'line', 'raw_command': 'line_circle_0.500-0.926'}, {'line_length': 720.0, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 53.28, 'name': 'line', 'raw_command': 'line_zigzag_0.500-0.648'}, {'line_length': 839.52, 'line_type': 'zigzag', 'turn_direction': 'R', 'turn_angle': 120.96000000000001, 'name': 'line', 'raw_command': 'line_zigzag_0.583-0.164'}, {'line_length': 519.84, 'line_type': 'triangle', 'turn_direction': 'L', 'turn_angle': 154.8, 'name': 'line', 'raw_command': 'line_triangle_0.361-0.930'}, {'line_length': 519.84, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 67.32, 'name': 'line', 'raw_command': 'line_circle_0.361-0.313'}, {'line_length': 839.52, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 154.8, 'name': 'line', 'raw_command': 'line_normal_0.583-0.930'}]
2025-08-13 03:14:42,476 - INFO - [OneStrokeShape.__init__] basic_actions: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], start_coordinates: None, start_orientation: None, scaling_factors: None
2025-08-13 03:14:42,476 - DEBUG - [OUTPUT_SHAPE_ACTIONS] line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930
2025-08-13 03:14:42,477 - DEBUG - [OUTPUT_SHAPE_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-13 03:14:42,477 - DEBUG - [OUTPUT_SHAPE_ATTRS] [{'line_length': 1287.3600000000001, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_zigzag_0.894-0.500'}, {'line_length': 720.0, 'line_type': 'circle', 'turn_direction': 'L', 'turn_angle': 153.36, 'name': 'line', 'raw_command': 'line_circle_0.500-0.926'}, {'line_length': 720.0, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 53.28, 'name': 'line', 'raw_command': 'line_zigzag_0.500-0.648'}, {'line_length': 839.52, 'line_type': 'zigzag', 'turn_direction': 'R', 'turn_angle': 120.96000000000001, 'name': 'line', 'raw_command': 'line_zigzag_0.583-0.164'}, {'line_length': 519.84, 'line_type': 'triangle', 'turn_direction': 'L', 'turn_angle': 154.8, 'name': 'line', 'raw_command': 'line_triangle_0.361-0.930'}, {'line_length': 519.84, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 67.32, 'name': 'line', 'raw_command': 'line_circle_0.361-0.313'}, {'line_length': 839.52, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 154.8, 'name': 'line', 'raw_command': 'line_normal_0.583-0.930'}]
2025-08-13 03:14:42,477 - INFO - [OneStrokeShape._calculate_vertices] INPUT basic_actions: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-13 03:14:42,477 - INFO - [OneStrokeShape._calculate_vertices] OUTPUT vertices: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:42,477 - INFO - [LOGOPARSER] Shape for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 has 8 vertices.
2025-08-13 03:14:42,478 - INFO - [LOGOPARSER] Parsed vertices (raw): [[0.0, 0.0], [1287.3600000000001, 0.0], [643.79417461109, 322.83591558482294], [0.22834922218021347, -3.979039320256561e-13], [63.46670899899013, 837.1348399467902], [-192.6726722314738, 384.778516919384], [-708.8127653910458, 446.689984623101], [2.829815511103675, 1.3152351739121855]]
2025-08-13 03:14:42,478 - INFO - [LOGOPARSER] Vertices bounding box: min=(-708.81,-0.00), max=(1287.36,837.13), center=(137.02,249.09)
2025-08-13 03:14:42,478 - INFO - Successfully created OneStrokeShape with 7 actions using NVLabs implementation
2025-08-13 03:14:42,478 - INFO - [PARSER] Parsed shape 0: type=OneStrokeShape, num_actions=7, action_types=['str', 'str', 'str', 'str', 'str', 'str', 'str'], attributes={}
2025-08-13 03:14:42,478 - INFO - [FEATURE EXTRACTION][geometry] INPUT: shape 0 vertices: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:42,478 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 0 command: line_zigzag_0.894-0.500
2025-08-13 03:14:42,479 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:42,479 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_zigzag_0.894-0.500, stroke_index=0
2025-08-13 03:14:42,479 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.894, param2=None, param3=0.5
2025-08-13 03:14:42,479 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)]
2025-08-13 03:14:42,480 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], geometry={'width': 0.894, 'height': 1.1102230246251565e-16, 'area': 0.0, 'perimeter': 0.894, 'centroid': [0.052999999999999964, 0.5], 'bounds': [-0.394, 0.5, 0.5, 0.5000000000000001], 'num_vertices': 17, 'analytic_vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'open_stroke_perimeter': 0.894, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,480 - INFO - [_calculate_vertices_from_action] Bounding box: (-0.394, 0.5, 0.5, 0.5000000000000001)
2025-08-13 03:14:42,480 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)]
2025-08-13 03:14:42,481 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], geometry={'width': 0.894, 'height': 1.1102230246251565e-16, 'area': 0.0, 'perimeter': 0.894, 'centroid': [0.052999999999999964, 0.5], 'bounds': [-0.394, 0.5, 0.5, 0.5000000000000001], 'num_vertices': 17, 'analytic_vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'open_stroke_perimeter': 0.894, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,481 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)]
2025-08-13 03:14:42,481 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,482 - INFO - [SoS] Perturbed collinear vertex 1: [0.444125 0.5     ] -> [0.44412526 0.50000007]
2025-08-13 03:14:42,482 - INFO - [SoS] Perturbed collinear vertex 2: [0.38825 0.5    ] -> [0.38825094 0.49999984]
2025-08-13 03:14:42,482 - INFO - [SoS] Perturbed collinear vertex 3: [0.332375 0.5     ] -> [0.33237526 0.50000069]
2025-08-13 03:14:42,483 - INFO - [SoS] Perturbed collinear vertex 4: [0.2765 0.5   ] -> [0.27650088 0.49999956]
2025-08-13 03:14:42,483 - INFO - [SoS] Perturbed collinear vertex 5: [0.220625 0.5     ] -> [0.22062568 0.50000002]
2025-08-13 03:14:42,484 - INFO - [SoS] Perturbed collinear vertex 6: [0.16475 0.5    ] -> [0.16475058 0.49999988]
2025-08-13 03:14:42,484 - INFO - [SoS] Perturbed collinear vertex 7: [0.108875 0.5     ] -> [0.10887513 0.50000005]
2025-08-13 03:14:42,484 - INFO - [SoS] Perturbed collinear vertex 8: [0.053 0.5  ] -> [0.05299962 0.50000069]
2025-08-13 03:14:42,485 - INFO - [SoS] Perturbed collinear vertex 9: [-0.002875  0.5     ] -> [-0.00287508  0.4999999 ]
2025-08-13 03:14:42,485 - INFO - [SoS] Perturbed collinear vertex 10: [-0.05875  0.5    ] -> [-0.0587507   0.49999934]
2025-08-13 03:14:42,486 - INFO - [SoS] Perturbed collinear vertex 11: [-0.114625  0.5     ] -> [-0.11462416  0.50000092]
2025-08-13 03:14:42,486 - INFO - [SoS] Perturbed collinear vertex 12: [-0.1705  0.5   ] -> [-0.17049924  0.4999999 ]
2025-08-13 03:14:42,486 - INFO - [SoS] Perturbed collinear vertex 13: [-0.226375  0.5     ] -> [-0.22637442  0.49999923]
2025-08-13 03:14:42,487 - INFO - [SoS] Perturbed collinear vertex 14: [-0.28225  0.5    ] -> [-0.28224978  0.49999998]
2025-08-13 03:14:42,487 - INFO - [SoS] Perturbed collinear vertex 15: [-0.338125  0.5     ] -> [-0.33812466  0.50000015]
2025-08-13 03:14:42,490 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,490 - INFO - [robust_angular_variance] Computed angular variance: 1.024526 for 17 vertices.
2025-08-13 03:14:42,491 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,491 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,491 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:42,492 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,492 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:42,492 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,494 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.5237352967841565}
2025-08-13 03:14:42,494 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.5237352967841565, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:42,494 - INFO - [SoS] Perturbed collinear vertex 1: [0.444125 0.5     ] -> [0.44412432 0.50000026]
2025-08-13 03:14:42,495 - INFO - [SoS] Perturbed collinear vertex 2: [0.38825 0.5    ] -> [0.38825043 0.50000029]
2025-08-13 03:14:42,495 - INFO - [SoS] Perturbed collinear vertex 3: [0.332375 0.5     ] -> [0.33237465 0.49999903]
2025-08-13 03:14:42,495 - INFO - [SoS] Perturbed collinear vertex 4: [0.2765 0.5   ] -> [0.27650068 0.49999927]
2025-08-13 03:14:42,496 - INFO - [SoS] Perturbed collinear vertex 5: [0.220625 0.5     ] -> [0.22062584 0.49999972]
2025-08-13 03:14:42,496 - INFO - [SoS] Perturbed collinear vertex 6: [0.16475 0.5    ] -> [0.16475059 0.5000007 ]
2025-08-13 03:14:42,497 - INFO - [SoS] Perturbed collinear vertex 7: [0.108875 0.5     ] -> [0.10887579 0.49999946]
2025-08-13 03:14:42,497 - INFO - [SoS] Perturbed collinear vertex 8: [0.053 0.5  ] -> [0.05299933 0.50000089]
2025-08-13 03:14:42,497 - INFO - [SoS] Perturbed collinear vertex 9: [-0.002875  0.5     ] -> [-0.00287511  0.50000044]
2025-08-13 03:14:42,498 - INFO - [SoS] Perturbed collinear vertex 10: [-0.05875  0.5    ] -> [-0.0587491   0.50000079]
2025-08-13 03:14:42,498 - INFO - [SoS] Perturbed collinear vertex 11: [-0.114625  0.5     ] -> [-0.11462437  0.50000005]
2025-08-13 03:14:42,498 - INFO - [SoS] Perturbed collinear vertex 12: [-0.1705  0.5   ] -> [-0.17050018  0.49999901]
2025-08-13 03:14:42,499 - INFO - [SoS] Perturbed collinear vertex 13: [-0.226375  0.5     ] -> [-0.22637412  0.50000029]
2025-08-13 03:14:42,499 - INFO - [SoS] Perturbed collinear vertex 14: [-0.28225  0.5    ] -> [-0.28225017  0.50000006]
2025-08-13 03:14:42,499 - INFO - [SoS] Perturbed collinear vertex 15: [-0.338125  0.5     ] -> [-0.33812513  0.50000019]
2025-08-13 03:14:42,501 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=0, assigned is_positive=False
2025-08-13 03:14:42,501 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=0, stroke_dict: {'area': 1.1008548624240816e-07, 'perimeter': 0.40992184879713234, 'centroid': [-0.008453141131205716, 0.5000003109287086], 'bounds': [-0.11714979455826005, 0.5, 0.0878111298305274, 0.5000008886079231], 'width': 0.20496092438878744, 'height': 8.886079231329447e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.40992184879713234, 'analytic_vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'open_stroke_perimeter': 0.894, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.894-0.500', 'vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'geometry': {'area': 1.1008548624240816e-07, 'perimeter': 0.40992184879713234, 'centroid': [-0.008453141131205716, 0.5000003109287086], 'bounds': [-0.11714979455826005, 0.5, 0.0878111298305274, 0.5000008886079231], 'width': 0.20496092438878744, 'height': 8.886079231329447e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.40992184879713234}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-13 03:14:42,501 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 1 command: line_circle_0.500-0.926
2025-08-13 03:14:42,502 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:42,502 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_circle_0.500-0.926, stroke_index=1
2025-08-13 03:14:42,502 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.5, param2=None, param3=0.926
2025-08-13 03:14:42,503 - INFO - [LOGGING PATCH] [_vertices_from_command] Circle vertices: [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)]
2025-08-13 03:14:42,503 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], geometry={'width': 1.0, 'height': 1.0, 'area': 0.0, 'perimeter': 2.972254835764386, 'centroid': [0.4743282037329585, 0.5040660130838809], 'bounds': [0.0, 0.0, 1.0, 1.0], 'num_vertices': 20, 'analytic_vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'open_stroke_perimeter': 2.972254835764386, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,503 - INFO - [_calculate_vertices_from_action] Bounding box: (0.0, 0.0, 1.0, 1.0)
2025-08-13 03:14:42,504 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=[(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)]
2025-08-13 03:14:42,504 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], geometry={'width': 1.0, 'height': 1.0, 'area': 0.0, 'perimeter': 2.972254835764386, 'centroid': [0.4743282037329585, 0.5040660130838809], 'bounds': [0.0, 0.0, 1.0, 1.0], 'num_vertices': 20, 'analytic_vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'open_stroke_perimeter': 2.972254835764386, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,504 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)]
2025-08-13 03:14:42,504 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:42,505 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,505 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:42,506 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,507 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275}
2025-08-13 03:14:42,507 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275, 'has_curved_edges': True}
2025-08-13 03:14:42,509 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=1, assigned is_positive=False
2025-08-13 03:14:42,509 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=1, stroke_dict: {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'open_stroke_perimeter': 2.972254835764386, 'shape_modifier': 'normal', 'command': 'line_circle_0.500-0.926', 'vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'geometry': {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-13 03:14:42,510 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 2 command: line_zigzag_0.500-0.648
2025-08-13 03:14:42,510 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:42,510 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_zigzag_0.500-0.648, stroke_index=2
2025-08-13 03:14:42,510 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.5, param2=None, param3=0.648
2025-08-13 03:14:42,511 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)]
2025-08-13 03:14:42,511 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], geometry={'width': 0.2989524915287595, 'height': 0.4007834924354382, 'area': 0.0, 'perimeter': 0.49999999999999994, 'centroid': [0.3505237542356202, 0.29960825378228095], 'bounds': [0.20104750847124048, 0.0992165075645618, 0.5, 0.5], 'num_vertices': 10, 'analytic_vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'open_stroke_perimeter': 0.49999999999999994, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,511 - INFO - [_calculate_vertices_from_action] Bounding box: (0.20104750847124048, 0.0992165075645618, 0.5, 0.5)
2025-08-13 03:14:42,512 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)]
2025-08-13 03:14:42,512 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], geometry={'width': 0.2989524915287595, 'height': 0.4007834924354382, 'area': 0.0, 'perimeter': 0.49999999999999994, 'centroid': [0.3505237542356202, 0.29960825378228095], 'bounds': [0.20104750847124048, 0.0992165075645618, 0.5, 0.5], 'num_vertices': 10, 'analytic_vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'open_stroke_perimeter': 0.49999999999999994, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,512 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)]
2025-08-13 03:14:42,512 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,513 - INFO - [SoS] Perturbed collinear vertex 1: [0.46678306 0.4554685 ] -> [0.46678209 0.45546886]
2025-08-13 03:14:42,513 - INFO - [SoS] Perturbed collinear vertex 2: [0.43356611 0.410937  ] -> [0.43356598 0.41093686]
2025-08-13 03:14:42,514 - INFO - [SoS] Perturbed collinear vertex 3: [0.40034917 0.3664055 ] -> [0.40035005 0.36640536]
2025-08-13 03:14:42,514 - INFO - [SoS] Perturbed collinear vertex 4: [0.36713223 0.321874  ] -> [0.36713316 0.32187356]
2025-08-13 03:14:42,514 - INFO - [SoS] Perturbed collinear vertex 5: [0.33391528 0.2773425 ] -> [0.33391502 0.2773427 ]
2025-08-13 03:14:42,515 - INFO - [SoS] Perturbed collinear vertex 6: [0.30069834 0.23281101] -> [0.30069802 0.23281047]
2025-08-13 03:14:42,515 - INFO - [SoS] Perturbed collinear vertex 7: [0.2674814  0.18827951] -> [0.26748218 0.18827885]
2025-08-13 03:14:42,516 - INFO - [SoS] Perturbed collinear vertex 8: [0.23426445 0.14374801] -> [0.23426378 0.14374769]
2025-08-13 03:14:42,517 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,517 - INFO - [robust_angular_variance] Computed angular variance: 1.579137 for 10 vertices.
2025-08-13 03:14:42,518 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,518 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,518 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:42,519 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,519 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:42,519 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,520 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-13 03:14:42,520 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:42,521 - INFO - [SoS] Perturbed collinear vertex 1: [0.46678306 0.4554685 ] -> [0.46678363 0.45546847]
2025-08-13 03:14:42,521 - INFO - [SoS] Perturbed collinear vertex 2: [0.43356611 0.410937  ] -> [0.43356667 0.41093707]
2025-08-13 03:14:42,521 - INFO - [SoS] Perturbed collinear vertex 3: [0.40034917 0.3664055 ] -> [0.40034914 0.36640574]
2025-08-13 03:14:42,522 - INFO - [SoS] Perturbed collinear vertex 4: [0.36713223 0.321874  ] -> [0.36713264 0.32187476]
2025-08-13 03:14:42,522 - INFO - [SoS] Perturbed collinear vertex 5: [0.33391528 0.2773425 ] -> [0.33391536 0.27734327]
2025-08-13 03:14:42,522 - INFO - [SoS] Perturbed collinear vertex 6: [0.30069834 0.23281101] -> [0.30069765 0.23281057]
2025-08-13 03:14:42,522 - INFO - [SoS] Perturbed collinear vertex 7: [0.2674814  0.18827951] -> [0.26748062 0.18827907]
2025-08-13 03:14:42,524 - INFO - [SoS] Perturbed collinear vertex 8: [0.23426445 0.14374801] -> [0.23426457 0.14374896]
2025-08-13 03:14:42,525 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=2, assigned is_positive=False
2025-08-13 03:14:42,525 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=2, stroke_dict: {'area': 9.734084385933095e-08, 'perimeter': 0.699169553442867, 'centroid': [0.2934836505067087, 0.22313907990172038], 'bounds': [0.20104750847124048, 0.0992165075645618, 0.4100659884728855, 0.3794321229963777], 'width': 0.20901848000164502, 'height': 0.2802156154318159, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.699169553442867, 'analytic_vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'open_stroke_perimeter': 0.49999999999999994, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.500-0.648', 'vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'geometry': {'area': 9.734084385933095e-08, 'perimeter': 0.699169553442867, 'centroid': [0.2934836505067087, 0.22313907990172038], 'bounds': [0.20104750847124048, 0.0992165075645618, 0.4100659884728855, 0.3794321229963777], 'width': 0.20901848000164502, 'height': 0.2802156154318159, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.699169553442867}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-13 03:14:42,525 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 3 command: line_zigzag_0.583-0.164
2025-08-13 03:14:42,525 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:42,526 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_zigzag_0.583-0.164, stroke_index=3
2025-08-13 03:14:42,526 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.583, param2=None, param3=0.164
2025-08-13 03:14:42,526 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)]
2025-08-13 03:14:42,527 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], geometry={'width': 0.2999182481946182, 'height': 0.4999380405608993, 'area': 0.0, 'perimeter': 0.5830000000000001, 'centroid': [0.6499591240973089, 0.7499690202804496], 'bounds': [0.5, 0.5, 0.7999182481946182, 0.9999380405608993], 'num_vertices': 11, 'analytic_vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'open_stroke_perimeter': 0.5830000000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,527 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.5, 0.7999182481946182, 0.9999380405608993)
2025-08-13 03:14:42,527 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)]
2025-08-13 03:14:42,528 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], geometry={'width': 0.2999182481946182, 'height': 0.4999380405608993, 'area': 0.0, 'perimeter': 0.5830000000000001, 'centroid': [0.6499591240973089, 0.7499690202804496], 'bounds': [0.5, 0.5, 0.7999182481946182, 0.9999380405608993], 'num_vertices': 11, 'analytic_vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'open_stroke_perimeter': 0.5830000000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,528 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)]
2025-08-13 03:14:42,528 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,529 - INFO - [SoS] Perturbed collinear vertex 1: [0.52999182 0.5499938 ] -> [0.52999188 0.54999478]
2025-08-13 03:14:42,529 - INFO - [SoS] Perturbed collinear vertex 2: [0.55998365 0.59998761] -> [0.5599834  0.59998754]
2025-08-13 03:14:42,529 - INFO - [SoS] Perturbed collinear vertex 3: [0.58997547 0.64998141] -> [0.589975   0.64998156]
2025-08-13 03:14:42,530 - INFO - [SoS] Perturbed collinear vertex 4: [0.6199673  0.69997522] -> [0.61996799 0.6999745 ]
2025-08-13 03:14:42,530 - INFO - [SoS] Perturbed collinear vertex 5: [0.64995912 0.74996902] -> [0.64995915 0.74996959]
2025-08-13 03:14:42,530 - INFO - [SoS] Perturbed collinear vertex 6: [0.67995095 0.79996282] -> [0.67995129 0.7999636 ]
2025-08-13 03:14:42,531 - INFO - [SoS] Perturbed collinear vertex 7: [0.70994277 0.84995663] -> [0.70994196 0.84995728]
2025-08-13 03:14:42,531 - INFO - [SoS] Perturbed collinear vertex 8: [0.7399346  0.89995043] -> [0.73993453 0.89995063]
2025-08-13 03:14:42,531 - INFO - [SoS] Perturbed collinear vertex 9: [0.76992642 0.94994424] -> [0.7699267  0.94994406]
2025-08-13 03:14:42,533 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,533 - INFO - [robust_angular_variance] Computed angular variance: 1.468206 for 11 vertices.
2025-08-13 03:14:42,533 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,534 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,534 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:42,534 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,535 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:42,535 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,536 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-13 03:14:42,536 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:42,537 - INFO - [SoS] Perturbed collinear vertex 1: [0.52999182 0.5499938 ] -> [0.52999226 0.54999294]
2025-08-13 03:14:42,537 - INFO - [SoS] Perturbed collinear vertex 2: [0.55998365 0.59998761] -> [0.55998305 0.59998673]
2025-08-13 03:14:42,538 - INFO - [SoS] Perturbed collinear vertex 3: [0.58997547 0.64998141] -> [0.58997501 0.64998165]
2025-08-13 03:14:42,538 - INFO - [SoS] Perturbed collinear vertex 4: [0.6199673  0.69997522] -> [0.61996697 0.69997589]
2025-08-13 03:14:42,538 - INFO - [SoS] Perturbed collinear vertex 5: [0.64995912 0.74996902] -> [0.64996007 0.74996886]
2025-08-13 03:14:42,539 - INFO - [SoS] Perturbed collinear vertex 6: [0.67995095 0.79996282] -> [0.67995193 0.79996253]
2025-08-13 03:14:42,539 - INFO - [SoS] Perturbed collinear vertex 7: [0.70994277 0.84995663] -> [0.70994188 0.84995619]
2025-08-13 03:14:42,539 - INFO - [SoS] Perturbed collinear vertex 8: [0.7399346  0.89995043] -> [0.73993362 0.89995057]
2025-08-13 03:14:42,540 - INFO - [SoS] Perturbed collinear vertex 9: [0.76992642 0.94994424] -> [0.76992657 0.94994511]
2025-08-13 03:14:42,542 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=3, assigned is_positive=False
2025-08-13 03:14:42,542 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=3, stroke_dict: {'area': 9.338290252072605e-08, 'perimeter': 0.3909172178795457, 'centroid': [0.7406216098422387, 0.9010962389605427], 'bounds': [0.6993666125411885, 0.8323270732177286, 0.7999182481946182, 0.9999380405608993], 'width': 0.10055163565342973, 'height': 0.1676109673431707, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.3909172178795457, 'analytic_vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'open_stroke_perimeter': 0.5830000000000001, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.583-0.164', 'vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'geometry': {'area': 9.338290252072605e-08, 'perimeter': 0.3909172178795457, 'centroid': [0.7406216098422387, 0.9010962389605427], 'bounds': [0.6993666125411885, 0.8323270732177286, 0.7999182481946182, 0.9999380405608993], 'width': 0.10055163565342973, 'height': 0.1676109673431707, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.3909172178795457}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-13 03:14:42,542 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 4 command: line_triangle_0.361-0.930
2025-08-13 03:14:42,542 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:42,543 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_triangle_0.361-0.930, stroke_index=4
2025-08-13 03:14:42,543 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=0.361, param2=None, param3=0.93
2025-08-13 03:14:42,543 - INFO - [LOGGING PATCH] [_vertices_from_command] Triangle vertices: [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)]
2025-08-13 03:14:42,543 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], geometry={'width': 0.5415000000000001, 'height': 0.6252703415323646, 'area': 0.0, 'perimeter': 1.8758110245970938, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'num_vertices': 4, 'analytic_vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'open_stroke_perimeter': 1.8758110245970938, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,544 - INFO - [_calculate_vertices_from_action] Bounding box: (0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823)
2025-08-13 03:14:42,544 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=[(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)]
2025-08-13 03:14:42,544 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], geometry={'width': 0.5415000000000001, 'height': 0.6252703415323646, 'area': 0.0, 'perimeter': 1.8758110245970938, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'num_vertices': 4, 'analytic_vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'open_stroke_perimeter': 1.8758110245970938, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,544 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)]
2025-08-13 03:14:42,545 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,545 - INFO - [SoS] Removed duplicate vertex: [0.861 0.5  ]
2025-08-13 03:14:42,546 - INFO - Convexity: poly_area=0.1693, hull_area=0.1693, ratio=1.0000
2025-08-13 03:14:42,546 - INFO - [robust_angular_variance] Computed angular variance: 0.068539 for 4 vertices.
2025-08-13 03:14:42,546 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,547 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,547 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:42,547 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,548 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-13 03:14:42,548 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,548 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-13 03:14:42,549 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-13 03:14:42,549 - INFO - [SoS] Removed duplicate vertex: [0.861 0.5  ]
2025-08-13 03:14:42,549 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=4, assigned is_positive=False
2025-08-13 03:14:42,550 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=4, stroke_dict: {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'open_stroke_perimeter': 1.8758110245970938, 'shape_modifier': 'normal', 'command': 'line_triangle_0.361-0.930', 'vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'geometry': {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-13 03:14:42,550 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 5 command: line_circle_0.361-0.313
2025-08-13 03:14:42,550 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:42,550 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_circle_0.361-0.313, stroke_index=5
2025-08-13 03:14:42,551 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.361, param2=None, param3=0.313
2025-08-13 03:14:42,551 - INFO - [LOGGING PATCH] [_vertices_from_command] Circle vertices: [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)]
2025-08-13 03:14:42,551 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], geometry={'width': 0.722, 'height': 0.722, 'area': 0.0, 'perimeter': 2.1459679914218865, 'centroid': [0.4814649630951961, 0.5029356614465622], 'bounds': [0.139, 0.139, 0.861, 0.861], 'num_vertices': 20, 'analytic_vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'open_stroke_perimeter': 2.1459679914218865, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,551 - INFO - [_calculate_vertices_from_action] Bounding box: (0.139, 0.139, 0.861, 0.861)
2025-08-13 03:14:42,551 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=[(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)]
2025-08-13 03:14:42,552 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], geometry={'width': 0.722, 'height': 0.722, 'area': 0.0, 'perimeter': 2.1459679914218865, 'centroid': [0.4814649630951961, 0.5029356614465622], 'bounds': [0.139, 0.139, 0.861, 0.861], 'num_vertices': 20, 'analytic_vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'open_stroke_perimeter': 2.1459679914218865, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,552 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)]
2025-08-13 03:14:42,552 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:42,553 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,553 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:42,554 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,555 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547272}
2025-08-13 03:14:42,555 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547272, 'has_curved_edges': True}
2025-08-13 03:14:42,557 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=5, assigned is_positive=False
2025-08-13 03:14:42,557 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=5, stroke_dict: {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'open_stroke_perimeter': 2.1459679914218865, 'shape_modifier': 'normal', 'command': 'line_circle_0.361-0.313', 'vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'geometry': {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-13 03:14:42,557 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 6 command: line_normal_0.583-0.930
2025-08-13 03:14:42,558 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:42,558 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.583-0.930, stroke_index=6
2025-08-13 03:14:42,558 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.583, param2=None, param3=0.93
2025-08-13 03:14:42,558 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)]
2025-08-13 03:14:42,559 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], geometry={'width': 0.5275141715876894, 'height': 0.24822932698243705, 'area': 0.0, 'perimeter': 0.583, 'centroid': [0.7637570857938447, 0.3758853365087814], 'bounds': [0.5, 0.25177067301756295, 1.0275141715876894, 0.5], 'num_vertices': 11, 'analytic_vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'open_stroke_perimeter': 0.583, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,559 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.25177067301756295, 1.0275141715876894, 0.5)
2025-08-13 03:14:42,559 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)]
2025-08-13 03:14:42,560 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], geometry={'width': 0.5275141715876894, 'height': 0.24822932698243705, 'area': 0.0, 'perimeter': 0.583, 'centroid': [0.7637570857938447, 0.3758853365087814], 'bounds': [0.5, 0.25177067301756295, 1.0275141715876894, 0.5], 'num_vertices': 11, 'analytic_vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'open_stroke_perimeter': 0.583, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,560 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)]
2025-08-13 03:14:42,560 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,561 - INFO - [SoS] Perturbed collinear vertex 1: [0.55275142 0.47517707] -> [0.55275199 0.47517611]
2025-08-13 03:14:42,562 - INFO - [SoS] Perturbed collinear vertex 2: [0.60550283 0.45035413] -> [0.60550333 0.4503547 ]
2025-08-13 03:14:42,562 - INFO - [SoS] Perturbed collinear vertex 3: [0.65825425 0.4255312 ] -> [0.65825487 0.42553028]
2025-08-13 03:14:42,562 - INFO - [SoS] Perturbed collinear vertex 4: [0.71100567 0.40070827] -> [0.71100493 0.40070762]
2025-08-13 03:14:42,563 - INFO - [SoS] Perturbed collinear vertex 5: [0.76375709 0.37588534] -> [0.76375712 0.37588553]
2025-08-13 03:14:42,563 - INFO - [SoS] Perturbed collinear vertex 6: [0.8165085 0.3510624] -> [0.81650823 0.35106221]
2025-08-13 03:14:42,563 - INFO - [SoS] Perturbed collinear vertex 7: [0.86925992 0.32623947] -> [0.86926008 0.32623944]
2025-08-13 03:14:42,564 - INFO - [SoS] Perturbed collinear vertex 8: [0.92201134 0.30141654] -> [0.92201095 0.30141598]
2025-08-13 03:14:42,564 - INFO - [SoS] Perturbed collinear vertex 9: [0.97476275 0.27659361] -> [0.97476242 0.2765932 ]
2025-08-13 03:14:42,566 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,566 - INFO - [robust_angular_variance] Computed angular variance: 1.468206 for 11 vertices.
2025-08-13 03:14:42,566 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,567 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,567 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-13 03:14:42,567 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,567 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,568 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,569 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-13 03:14:42,569 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-13 03:14:42,570 - INFO - [SoS] Perturbed collinear vertex 1: [0.55275142 0.47517707] -> [0.55275107 0.47517685]
2025-08-13 03:14:42,570 - INFO - [SoS] Perturbed collinear vertex 2: [0.60550283 0.45035413] -> [0.60550331 0.45035414]
2025-08-13 03:14:42,570 - INFO - [SoS] Perturbed collinear vertex 3: [0.65825425 0.4255312 ] -> [0.65825453 0.42553194]
2025-08-13 03:14:42,571 - INFO - [SoS] Perturbed collinear vertex 4: [0.71100567 0.40070827] -> [0.71100572 0.40070835]
2025-08-13 03:14:42,571 - INFO - [SoS] Perturbed collinear vertex 5: [0.76375709 0.37588534] -> [0.76375646 0.37588553]
2025-08-13 03:14:42,572 - INFO - [SoS] Perturbed collinear vertex 6: [0.8165085 0.3510624] -> [0.816508   0.35106249]
2025-08-13 03:14:42,572 - INFO - [SoS] Perturbed collinear vertex 7: [0.86925992 0.32623947] -> [0.86926061 0.32623854]
2025-08-13 03:14:42,572 - INFO - [SoS] Perturbed collinear vertex 8: [0.92201134 0.30141654] -> [0.92201102 0.30141685]
2025-08-13 03:14:42,572 - INFO - [SoS] Perturbed collinear vertex 9: [0.97476275 0.27659361] -> [0.97476338 0.27659276]
2025-08-13 03:14:42,574 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=6, assigned is_positive=False
2025-08-13 03:14:42,574 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, stroke_idx=6, stroke_dict: {'area': 5.800545124768058e-08, 'perimeter': 0.3364603298524391, 'centroid': [0.6553975293385252, 0.426875756298626], 'bounds': [0.5856921739239767, 0.3880474033314913, 0.7379113781864199, 0.4596763237719487], 'width': 0.1522192042624433, 'height': 0.07162892044045743, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.3364603298524391, 'analytic_vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'open_stroke_perimeter': 0.583, 'shape_modifier': 'normal', 'command': 'line_normal_0.583-0.930', 'vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'geometry': {'area': 5.800545124768058e-08, 'perimeter': 0.3364603298524391, 'centroid': [0.6553975293385252, 0.426875756298626], 'bounds': [0.5856921739239767, 0.3880474033314913, 0.7379113781864199, 0.4596763237719487], 'width': 0.1522192042624433, 'height': 0.07162892044045743, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.3364603298524391}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-13 03:14:42,574 - INFO - [ATTR DEBUG] Shape 0 strokes (dicts): [{'area': 1.1008548624240816e-07, 'perimeter': 0.40992184879713234, 'centroid': [-0.008453141131205716, 0.5000003109287086], 'bounds': [-0.11714979455826005, 0.5, 0.0878111298305274, 0.5000008886079231], 'width': 0.20496092438878744, 'height': 8.886079231329447e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.40992184879713234, 'analytic_vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'open_stroke_perimeter': 0.894, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.894-0.500', 'vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'geometry': {'area': 1.1008548624240816e-07, 'perimeter': 0.40992184879713234, 'centroid': [-0.008453141131205716, 0.5000003109287086], 'bounds': [-0.11714979455826005, 0.5, 0.0878111298305274, 0.5000008886079231], 'width': 0.20496092438878744, 'height': 8.886079231329447e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.40992184879713234}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'open_stroke_perimeter': 2.972254835764386, 'shape_modifier': 'normal', 'command': 'line_circle_0.500-0.926', 'vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'geometry': {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 9.734084385933095e-08, 'perimeter': 0.699169553442867, 'centroid': [0.2934836505067087, 0.22313907990172038], 'bounds': [0.20104750847124048, 0.0992165075645618, 0.4100659884728855, 0.3794321229963777], 'width': 0.20901848000164502, 'height': 0.2802156154318159, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.699169553442867, 'analytic_vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'open_stroke_perimeter': 0.49999999999999994, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.500-0.648', 'vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'geometry': {'area': 9.734084385933095e-08, 'perimeter': 0.699169553442867, 'centroid': [0.2934836505067087, 0.22313907990172038], 'bounds': [0.20104750847124048, 0.0992165075645618, 0.4100659884728855, 0.3794321229963777], 'width': 0.20901848000164502, 'height': 0.2802156154318159, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.699169553442867}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 9.338290252072605e-08, 'perimeter': 0.3909172178795457, 'centroid': [0.7406216098422387, 0.9010962389605427], 'bounds': [0.6993666125411885, 0.8323270732177286, 0.7999182481946182, 0.9999380405608993], 'width': 0.10055163565342973, 'height': 0.1676109673431707, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.3909172178795457, 'analytic_vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'open_stroke_perimeter': 0.5830000000000001, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.583-0.164', 'vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'geometry': {'area': 9.338290252072605e-08, 'perimeter': 0.3909172178795457, 'centroid': [0.7406216098422387, 0.9010962389605427], 'bounds': [0.6993666125411885, 0.8323270732177286, 0.7999182481946182, 0.9999380405608993], 'width': 0.10055163565342973, 'height': 0.1676109673431707, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.3909172178795457}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'open_stroke_perimeter': 1.8758110245970938, 'shape_modifier': 'normal', 'command': 'line_triangle_0.361-0.930', 'vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'geometry': {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'open_stroke_perimeter': 2.1459679914218865, 'shape_modifier': 'normal', 'command': 'line_circle_0.361-0.313', 'vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'geometry': {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 5.800545124768058e-08, 'perimeter': 0.3364603298524391, 'centroid': [0.6553975293385252, 0.426875756298626], 'bounds': [0.5856921739239767, 0.3880474033314913, 0.7379113781864199, 0.4596763237719487], 'width': 0.1522192042624433, 'height': 0.07162892044045743, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.3364603298524391, 'analytic_vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'open_stroke_perimeter': 0.583, 'shape_modifier': 'normal', 'command': 'line_normal_0.583-0.930', 'vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'geometry': {'area': 5.800545124768058e-08, 'perimeter': 0.3364603298524391, 'centroid': [0.6553975293385252, 0.426875756298626], 'bounds': [0.5856921739239767, 0.3880474033314913, 0.7379113781864199, 0.4596763237719487], 'width': 0.1522192042624433, 'height': 0.07162892044045743, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.3364603298524391}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-13 03:14:42,575 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,576 - INFO - [PATCH][SHAPE GEOMETRY] idx=0, vertices=[(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)], geometry={'area': 0.12433152925499794, 'perimeter': 1.6501113434590904, 'centroid': [0.677600137349416, 0.12854795515194184], 'bounds': [0.3552002746988321, 4.753164162310427e-16, 1.0, 0.3856438654558245], 'width': 0.6447997253011679, 'height': 0.385643865455824}
2025-08-13 03:14:42,576 - INFO - [robust_curvature] INPUT: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-13 03:14:42,577 - INFO - [robust_curvature] OUTPUT: 2.252643883464292
2025-08-13 03:14:42,577 - INFO - [robust_angular_variance] Computed angular variance: 0.247408 for 8 vertices.
2025-08-13 03:14:42,578 - INFO - [PATCH][SHAPE PHYSICS] idx=0, physics features: {'robust_curvature': 2.252643883464292, 'robust_angular_variance': 0.2474078250225908, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 2.4360995595356707}
2025-08-13 03:14:42,578 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 1.28736000e+03  0.00000000e+00]
 [ 6.43794175e+02  3.22835916e+02]
 [ 2.28349222e-01 -3.97903932e-13]
 [ 6.34667090e+01  8.37134840e+02]
 [-1.92672672e+02  3.84778517e+02]
 [-7.08812765e+02  4.46689985e+02]
 [ 2.82981551e+00  1.31523517e+00]]
2025-08-13 03:14:42,578 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,579 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,579 - INFO - [robust_angular_variance] Computed angular variance: 0.454561 for 8 vertices.
2025-08-13 03:14:42,580 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 2.28349222e-01 -3.97903932e-13]
 [ 6.34667090e+01  8.37134840e+02]
 [-1.92672672e+02  3.84778517e+02]
 [-7.08812765e+02  4.46689985e+02]
 [ 2.82981551e+00  1.31523517e+00]]
2025-08-13 03:14:42,581 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,581 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,581 - INFO - [robust_curvature] INPUT: [[1287.36          0.        ]
 [ 643.79417461  322.83591558]]
2025-08-13 03:14:42,582 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,582 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,583 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:42,583 - INFO - [robust_curvature] INPUT: [[ 4.94950203e+00  5.04558251e-03]
 [ 1.27995247e+03  1.23848212e+00]
 [ 6.43794175e+02  3.20358951e+02]
 [ 2.93983300e+00  4.44994802e+00]
 [ 6.22414933e+01  8.32188018e+02]
 [-1.93670102e+02  3.86751381e+02]
 [-7.04102673e+02  4.44743903e+02]
 [ 8.89144936e-02  3.01876239e+00]]
2025-08-13 03:14:42,583 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,583 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,584 - INFO - [robust_angular_variance] Computed angular variance: 1.010010 for 8 vertices.
2025-08-13 03:14:42,585 - INFO - [robust_curvature] INPUT: [[ 4.94950203e+00  5.04558251e-03]
 [ 2.93983300e+00  4.44994802e+00]
 [ 6.22414933e+01  8.32188018e+02]
 [-1.93670102e+02  3.86751381e+02]
 [-7.04102673e+02  4.44743903e+02]
 [ 8.89144936e-02  3.01876239e+00]]
2025-08-13 03:14:42,585 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,585 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,586 - INFO - [robust_curvature] INPUT: [[1.27995247e+03 1.23848212e+00]
 [6.43794175e+02 3.20358951e+02]]
2025-08-13 03:14:42,586 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,586 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,586 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:42,587 - INFO - [robust_curvature] INPUT: [[ 1.37324546e+02  3.43058815e-01]
 [ 1.08113288e+03  3.43664795e+01]
 [ 6.43471172e+02  2.54154171e+02]
 [ 7.57569296e+01  1.23581312e+02]
 [ 2.94180525e+01  6.99628780e+02]
 [-2.20247463e+02  4.39320008e+02]
 [-5.77723543e+02  3.92674134e+02]
 [-7.29389663e+01  4.86865488e+01]]
2025-08-13 03:14:42,587 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,587 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,587 - INFO - [robust_angular_variance] Computed angular variance: 0.855591 for 8 vertices.
2025-08-13 03:14:42,588 - INFO - [robust_curvature] INPUT: [[ 1.37324546e+02  3.43058815e-01]
 [ 7.57569296e+01  1.23581312e+02]
 [ 2.94180525e+01  6.99628780e+02]
 [-2.20247463e+02  4.39320008e+02]
 [-5.77723543e+02  3.92674134e+02]
 [-7.29389663e+01  4.86865488e+01]]
2025-08-13 03:14:42,588 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,589 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,590 - INFO - [robust_curvature] INPUT: [[1081.1328835    34.36647948]
 [ 643.47117165  254.15417112]]
2025-08-13 03:14:42,590 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,590 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,590 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:42,591 - INFO - [robust_curvature] INPUT: [[ 307.84276878   43.79517399]
 [ 666.61713018   83.9808085 ]
 [ 570.79265603  175.82180969]
 [ 227.19083724  303.43444681]
 [ -19.03888626  468.62829124]
 [-229.65792568  465.65560038]
 [-319.40740292  316.91198002]
 [-108.14556664  134.52638163]]
2025-08-13 03:14:42,591 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,591 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,592 - INFO - [robust_angular_variance] Computed angular variance: 0.420841 for 8 vertices.
2025-08-13 03:14:42,593 - INFO - [robust_curvature] INPUT: [[307.84276878  43.79517399]
 [666.61713018  83.9808085 ]
 [570.79265603 175.82180969]
 [227.19083724 303.43444681]]
2025-08-13 03:14:42,593 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,593 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,594 - INFO - [robust_curvature] INPUT: [[ -19.03888626  468.62829124]
 [-229.65792568  465.65560038]
 [-319.40740292  316.91198002]
 [-108.14556664  134.52638163]]
2025-08-13 03:14:42,594 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,594 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,594 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:42,595 - INFO - [robust_curvature] INPUT: [[208.94936789 168.52941266]
 [313.10511921 172.30075115]
 [311.32131352 220.08358756]
 [207.76452468 285.02208037]
 [ 65.55715001 329.90683898]
 [-35.12639085 327.26263521]
 [-37.73905341 277.86631981]
 [ 62.36157967 211.78286651]]
2025-08-13 03:14:42,596 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,596 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,596 - INFO - [robust_angular_variance] Computed angular variance: 0.269743 for 8 vertices.
2025-08-13 03:14:42,597 - INFO - [robust_curvature] INPUT: [[208.94936789 168.52941266]
 [313.10511921 172.30075115]
 [311.32131352 220.08358756]
 [207.76452468 285.02208037]]
2025-08-13 03:14:42,597 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,597 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,598 - INFO - [robust_curvature] INPUT: [[ 65.55715001 329.90683898]
 [-35.12639085 327.26263521]
 [-37.73905341 277.86631981]
 [ 62.36157967 211.78286651]]
2025-08-13 03:14:42,598 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,598 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,599 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:42,599 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.26974345350763407, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}
2025-08-13 03:14:42,599 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.4545612501981901, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 1.010010108320618, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.8555913871130585, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.42084093020365354, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.26974345350763407, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}
2025-08-13 03:14:42,600 - DEBUG - [extract_image_features] Calculated width: 1287.1316507778192, height: 322.83591558482294
2025-08-13 03:14:42,601 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:42,601 - INFO - [robust_curvature] OUTPUT: 2.1905491448917287
2025-08-13 03:14:42,602 - INFO - [robust_angular_variance] Computed angular variance: 0.454561 for 8 vertices.
2025-08-13 03:14:42,602 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 1.28736000e+03  0.00000000e+00]
 [ 6.43794175e+02  3.22835916e+02]
 [ 2.28349222e-01 -3.97903932e-13]
 [ 6.34667090e+01  8.37134840e+02]
 [-1.92672672e+02  3.84778517e+02]
 [-7.08812765e+02  4.46689985e+02]
 [ 2.82981551e+00  1.31523517e+00]]
2025-08-13 03:14:42,602 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,603 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,603 - INFO - [robust_angular_variance] Computed angular variance: 0.454561 for 8 vertices.
2025-08-13 03:14:42,604 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 2.28349222e-01 -3.97903932e-13]
 [ 6.34667090e+01  8.37134840e+02]
 [-1.92672672e+02  3.84778517e+02]
 [-7.08812765e+02  4.46689985e+02]
 [ 2.82981551e+00  1.31523517e+00]]
2025-08-13 03:14:42,604 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,605 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,605 - INFO - [robust_curvature] INPUT: [[1287.36          0.        ]
 [ 643.79417461  322.83591558]]
2025-08-13 03:14:42,605 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,605 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,606 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:42,606 - INFO - [robust_curvature] INPUT: [[ 4.94950203e+00  5.04558251e-03]
 [ 1.27995247e+03  1.23848212e+00]
 [ 6.43794175e+02  3.20358951e+02]
 [ 2.93983300e+00  4.44994802e+00]
 [ 6.22414933e+01  8.32188018e+02]
 [-1.93670102e+02  3.86751381e+02]
 [-7.04102673e+02  4.44743903e+02]
 [ 8.89144936e-02  3.01876239e+00]]
2025-08-13 03:14:42,606 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,607 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,607 - INFO - [robust_angular_variance] Computed angular variance: 1.010010 for 8 vertices.
2025-08-13 03:14:42,608 - INFO - [robust_curvature] INPUT: [[ 4.94950203e+00  5.04558251e-03]
 [ 2.93983300e+00  4.44994802e+00]
 [ 6.22414933e+01  8.32188018e+02]
 [-1.93670102e+02  3.86751381e+02]
 [-7.04102673e+02  4.44743903e+02]
 [ 8.89144936e-02  3.01876239e+00]]
2025-08-13 03:14:42,608 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,609 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,609 - INFO - [robust_curvature] INPUT: [[1.27995247e+03 1.23848212e+00]
 [6.43794175e+02 3.20358951e+02]]
2025-08-13 03:14:42,609 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,610 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,610 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:42,611 - INFO - [robust_curvature] INPUT: [[ 1.37324546e+02  3.43058815e-01]
 [ 1.08113288e+03  3.43664795e+01]
 [ 6.43471172e+02  2.54154171e+02]
 [ 7.57569296e+01  1.23581312e+02]
 [ 2.94180525e+01  6.99628780e+02]
 [-2.20247463e+02  4.39320008e+02]
 [-5.77723543e+02  3.92674134e+02]
 [-7.29389663e+01  4.86865488e+01]]
2025-08-13 03:14:42,611 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,611 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,611 - INFO - [robust_angular_variance] Computed angular variance: 0.855591 for 8 vertices.
2025-08-13 03:14:42,613 - INFO - [robust_curvature] INPUT: [[ 1.37324546e+02  3.43058815e-01]
 [ 7.57569296e+01  1.23581312e+02]
 [ 2.94180525e+01  6.99628780e+02]
 [-2.20247463e+02  4.39320008e+02]
 [-5.77723543e+02  3.92674134e+02]
 [-7.29389663e+01  4.86865488e+01]]
2025-08-13 03:14:42,613 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,613 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,613 - INFO - [robust_curvature] INPUT: [[1081.1328835    34.36647948]
 [ 643.47117165  254.15417112]]
2025-08-13 03:14:42,614 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,614 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,614 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:42,615 - INFO - [robust_curvature] INPUT: [[ 307.84276878   43.79517399]
 [ 666.61713018   83.9808085 ]
 [ 570.79265603  175.82180969]
 [ 227.19083724  303.43444681]
 [ -19.03888626  468.62829124]
 [-229.65792568  465.65560038]
 [-319.40740292  316.91198002]
 [-108.14556664  134.52638163]]
2025-08-13 03:14:42,615 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,615 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,616 - INFO - [robust_angular_variance] Computed angular variance: 0.420841 for 8 vertices.
2025-08-13 03:14:42,617 - INFO - [robust_curvature] INPUT: [[307.84276878  43.79517399]
 [666.61713018  83.9808085 ]
 [570.79265603 175.82180969]
 [227.19083724 303.43444681]]
2025-08-13 03:14:42,617 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,617 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,617 - INFO - [robust_curvature] INPUT: [[ -19.03888626  468.62829124]
 [-229.65792568  465.65560038]
 [-319.40740292  316.91198002]
 [-108.14556664  134.52638163]]
2025-08-13 03:14:42,617 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,617 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,619 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:42,619 - INFO - [robust_curvature] INPUT: [[208.94936789 168.52941266]
 [313.10511921 172.30075115]
 [311.32131352 220.08358756]
 [207.76452468 285.02208037]
 [ 65.55715001 329.90683898]
 [-35.12639085 327.26263521]
 [-37.73905341 277.86631981]
 [ 62.36157967 211.78286651]]
2025-08-13 03:14:42,619 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,620 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,620 - INFO - [robust_angular_variance] Computed angular variance: 0.269743 for 8 vertices.
2025-08-13 03:14:42,621 - INFO - [robust_curvature] INPUT: [[208.94936789 168.52941266]
 [313.10511921 172.30075115]
 [311.32131352 220.08358756]
 [207.76452468 285.02208037]]
2025-08-13 03:14:42,622 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,622 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,622 - INFO - [robust_curvature] INPUT: [[ 65.55715001 329.90683898]
 [-35.12639085 327.26263521]
 [-37.73905341 277.86631981]
 [ 62.36157967 211.78286651]]
2025-08-13 03:14:42,622 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,623 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,623 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:42,624 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.26974345350763407, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}
2025-08-13 03:14:42,624 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.4545612501981901, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 1.010010108320618, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.8555913871130585, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.42084093020365354, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.26974345350763407, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}
2025-08-13 03:14:42,625 - INFO - [SoS] Perturbed collinear vertex 1: [0.444125 0.5     ] -> [0.44412499 0.50000007]
2025-08-13 03:14:42,625 - INFO - [SoS] Perturbed collinear vertex 2: [0.38825 0.5    ] -> [0.38824949 0.49999923]
2025-08-13 03:14:42,626 - INFO - [SoS] Perturbed collinear vertex 3: [0.332375 0.5     ] -> [0.33237526 0.4999993 ]
2025-08-13 03:14:42,626 - INFO - [SoS] Perturbed collinear vertex 4: [0.2765 0.5   ] -> [0.27650079 0.49999986]
2025-08-13 03:14:42,627 - INFO - [SoS] Perturbed collinear vertex 5: [0.220625 0.5     ] -> [0.2206243  0.49999954]
2025-08-13 03:14:42,627 - INFO - [SoS] Perturbed collinear vertex 6: [0.16475 0.5    ] -> [0.16474931 0.49999914]
2025-08-13 03:14:42,628 - INFO - [SoS] Perturbed collinear vertex 7: [0.108875 0.5     ] -> [0.10887487 0.49999955]
2025-08-13 03:14:42,628 - INFO - [SoS] Perturbed collinear vertex 8: [0.053 0.5  ] -> [0.05299941 0.49999901]
2025-08-13 03:14:42,629 - INFO - [SoS] Perturbed collinear vertex 9: [-0.002875  0.5     ] -> [-0.0028754   0.49999955]
2025-08-13 03:14:42,629 - INFO - [SoS] Perturbed collinear vertex 10: [-0.05875  0.5    ] -> [-0.05874967  0.4999993 ]
2025-08-13 03:14:42,630 - INFO - [SoS] Perturbed collinear vertex 11: [-0.114625  0.5     ] -> [-0.11462416  0.49999942]
2025-08-13 03:14:42,630 - INFO - [SoS] Perturbed collinear vertex 12: [-0.1705  0.5   ] -> [-0.17049934  0.49999957]
2025-08-13 03:14:42,631 - INFO - [SoS] Perturbed collinear vertex 13: [-0.226375  0.5     ] -> [-0.22637402  0.50000085]
2025-08-13 03:14:42,631 - INFO - [SoS] Perturbed collinear vertex 14: [-0.28225  0.5    ] -> [-0.28225024  0.4999993 ]
2025-08-13 03:14:42,631 - INFO - [SoS] Perturbed collinear vertex 15: [-0.338125  0.5     ] -> [-0.33812562  0.50000021]
2025-08-13 03:14:42,633 - DEBUG - [extract_image_features] Stroke 0 geometry: {'area': 3.552481029069512e-07, 'perimeter': 1.2576952726706245, 'centroid': [0.11731835614560691, 0.49999968315807924], 'bounds': [-0.18943386924613864, 0.4999990126458913, 0.4394137670773458, 0.5000000000000001], 'width': 0.6288476363234845, 'height': 9.873541088056825e-07}
2025-08-13 03:14:42,635 - DEBUG - [extract_image_features] Stroke 1 geometry: {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-13 03:14:42,635 - INFO - [SoS] Perturbed collinear vertex 1: [0.46678306 0.4554685 ] -> [0.46678358 0.45546869]
2025-08-13 03:14:42,635 - INFO - [SoS] Perturbed collinear vertex 2: [0.43356611 0.410937  ] -> [0.4335656  0.41093641]
2025-08-13 03:14:42,637 - INFO - [SoS] Perturbed collinear vertex 3: [0.40034917 0.3664055 ] -> [0.40035008 0.36640469]
2025-08-13 03:14:42,637 - INFO - [SoS] Perturbed collinear vertex 4: [0.36713223 0.321874  ] -> [0.3671325  0.32187424]
2025-08-13 03:14:42,638 - INFO - [SoS] Perturbed collinear vertex 5: [0.33391528 0.2773425 ] -> [0.33391628 0.27734315]
2025-08-13 03:14:42,638 - INFO - [SoS] Perturbed collinear vertex 6: [0.30069834 0.23281101] -> [0.30069917 0.23281142]
2025-08-13 03:14:42,639 - INFO - [SoS] Perturbed collinear vertex 7: [0.2674814  0.18827951] -> [0.26748122 0.1882788 ]
2025-08-13 03:14:42,639 - INFO - [SoS] Perturbed collinear vertex 8: [0.23426445 0.14374801] -> [0.23426393 0.14374776]
2025-08-13 03:14:42,640 - DEBUG - [extract_image_features] Stroke 2 geometry: {'area': 1.2862345741076163e-07, 'perimeter': 0.6074994444664207, 'centroid': [0.3574253560703185, 0.308860221441583], 'bounds': [0.25044521415371224, 0.1654403577170679, 0.4320586866708463, 0.40891610671159406], 'width': 0.18161347251713406, 'height': 0.24347574899452618}
2025-08-13 03:14:42,641 - INFO - [SoS] Perturbed collinear vertex 1: [0.52999182 0.5499938 ] -> [0.52999192 0.54999474]
2025-08-13 03:14:42,641 - INFO - [SoS] Perturbed collinear vertex 2: [0.55998365 0.59998761] -> [0.55998462 0.59998832]
2025-08-13 03:14:42,642 - INFO - [SoS] Perturbed collinear vertex 3: [0.58997547 0.64998141] -> [0.58997553 0.64998217]
2025-08-13 03:14:42,642 - INFO - [SoS] Perturbed collinear vertex 4: [0.6199673  0.69997522] -> [0.61996715 0.69997597]
2025-08-13 03:14:42,643 - INFO - [SoS] Perturbed collinear vertex 5: [0.64995912 0.74996902] -> [0.64995925 0.74996888]
2025-08-13 03:14:42,643 - INFO - [SoS] Perturbed collinear vertex 6: [0.67995095 0.79996282] -> [0.67995068 0.79996339]
2025-08-13 03:14:42,643 - INFO - [SoS] Perturbed collinear vertex 7: [0.70994277 0.84995663] -> [0.70994241 0.84995696]
2025-08-13 03:14:42,644 - INFO - [SoS] Perturbed collinear vertex 8: [0.7399346  0.89995043] -> [0.73993497 0.89995128]
2025-08-13 03:14:42,644 - INFO - [SoS] Perturbed collinear vertex 9: [0.76992642 0.94994424] -> [0.76992724 0.94994334]
2025-08-13 03:14:42,646 - DEBUG - [extract_image_features] Stroke 3 geometry: {'area': 6.475559109699221e-08, 'perimeter': 0.2227790215472803, 'centroid': [0.7708201890039045, 0.9514333139148188], 'bounds': [0.7426150802103337, 0.9044185658625628, 0.7999182481946182, 0.9999380405608993], 'width': 0.057303167984284475, 'height': 0.09551947469833655}
2025-08-13 03:14:42,646 - INFO - [SoS] Removed duplicate vertex: [0.861 0.5  ]
2025-08-13 03:14:42,647 - DEBUG - [extract_image_features] Stroke 4 geometry: {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646}
2025-08-13 03:14:42,648 - DEBUG - [extract_image_features] Stroke 5 geometry: {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722}
2025-08-13 03:14:42,649 - INFO - [SoS] Perturbed collinear vertex 1: [0.55275142 0.47517707] -> [0.55275045 0.47517722]
2025-08-13 03:14:42,649 - INFO - [SoS] Perturbed collinear vertex 2: [0.60550283 0.45035413] -> [0.60550356 0.4503545 ]
2025-08-13 03:14:42,654 - INFO - [SoS] Perturbed collinear vertex 3: [0.65825425 0.4255312 ] -> [0.6582534 0.4255305]
2025-08-13 03:14:42,655 - INFO - [SoS] Perturbed collinear vertex 4: [0.71100567 0.40070827] -> [0.71100568 0.40070729]
2025-08-13 03:14:42,655 - INFO - [SoS] Perturbed collinear vertex 5: [0.76375709 0.37588534] -> [0.76375753 0.37588469]
2025-08-13 03:14:42,656 - INFO - [SoS] Perturbed collinear vertex 6: [0.8165085 0.3510624] -> [0.8165083  0.35106307]
2025-08-13 03:14:42,656 - INFO - [SoS] Perturbed collinear vertex 7: [0.86925992 0.32623947] -> [0.86926041 0.32624047]
2025-08-13 03:14:42,657 - INFO - [SoS] Perturbed collinear vertex 8: [0.92201134 0.30141654] -> [0.92201085 0.30141622]
2025-08-13 03:14:42,657 - INFO - [SoS] Perturbed collinear vertex 9: [0.97476275 0.27659361] -> [0.97476372 0.27659437]
2025-08-13 03:14:42,659 - DEBUG - [extract_image_features] Stroke 6 geometry: {'area': 1.1525093327998184e-07, 'perimeter': 0.3553910929035267, 'centroid': [0.6986098802265194, 0.406540852137477], 'bounds': [0.6261183358365255, 0.3649941320710137, 0.786902073360071, 0.4406532159494001], 'width': 0.16078373752354547, 'height': 0.07565908387838638}
2025-08-13 03:14:42,659 - INFO - [extract_image_features] stroke_type_distribution INPUT: [{'area': 1.1008548624240816e-07, 'perimeter': 0.40992184879713234, 'centroid': [-0.008453141131205716, 0.5000003109287086], 'bounds': [-0.11714979455826005, 0.5, 0.0878111298305274, 0.5000008886079231], 'width': 0.6288476363234845, 'height': 9.873541088056825e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.40992184879713234, 'analytic_vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'open_stroke_perimeter': 0.894, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.894-0.500', 'vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'geometry': {'area': 3.552481029069512e-07, 'perimeter': 1.2576952726706245, 'centroid': [0.11731835614560691, 0.49999968315807924], 'bounds': [-0.18943386924613864, 0.4999990126458913, 0.4394137670773458, 0.5000000000000001], 'width': 0.6288476363234845, 'height': 9.873541088056825e-07}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'open_stroke_perimeter': 2.972254835764386, 'shape_modifier': 'normal', 'command': 'line_circle_0.500-0.926', 'vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'geometry': {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 9.734084385933095e-08, 'perimeter': 0.699169553442867, 'centroid': [0.2934836505067087, 0.22313907990172038], 'bounds': [0.20104750847124048, 0.0992165075645618, 0.4100659884728855, 0.3794321229963777], 'width': 0.18161347251713406, 'height': 0.24347574899452618, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.699169553442867, 'analytic_vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'open_stroke_perimeter': 0.49999999999999994, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.500-0.648', 'vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'geometry': {'area': 1.2862345741076163e-07, 'perimeter': 0.6074994444664207, 'centroid': [0.3574253560703185, 0.308860221441583], 'bounds': [0.25044521415371224, 0.1654403577170679, 0.4320586866708463, 0.40891610671159406], 'width': 0.18161347251713406, 'height': 0.24347574899452618}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 9.338290252072605e-08, 'perimeter': 0.3909172178795457, 'centroid': [0.7406216098422387, 0.9010962389605427], 'bounds': [0.6993666125411885, 0.8323270732177286, 0.7999182481946182, 0.9999380405608993], 'width': 0.057303167984284475, 'height': 0.09551947469833655, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.3909172178795457, 'analytic_vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'open_stroke_perimeter': 0.5830000000000001, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.583-0.164', 'vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'geometry': {'area': 6.475559109699221e-08, 'perimeter': 0.2227790215472803, 'centroid': [0.7708201890039045, 0.9514333139148188], 'bounds': [0.7426150802103337, 0.9044185658625628, 0.7999182481946182, 0.9999380405608993], 'width': 0.057303167984284475, 'height': 0.09551947469833655}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'open_stroke_perimeter': 1.8758110245970938, 'shape_modifier': 'normal', 'command': 'line_triangle_0.361-0.930', 'vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'geometry': {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'open_stroke_perimeter': 2.1459679914218865, 'shape_modifier': 'normal', 'command': 'line_circle_0.361-0.313', 'vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'geometry': {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 5.800545124768058e-08, 'perimeter': 0.3364603298524391, 'centroid': [0.6553975293385252, 0.426875756298626], 'bounds': [0.5856921739239767, 0.3880474033314913, 0.7379113781864199, 0.4596763237719487], 'width': 0.16078373752354547, 'height': 0.07565908387838638, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.3364603298524391, 'analytic_vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'open_stroke_perimeter': 0.583, 'shape_modifier': 'normal', 'command': 'line_normal_0.583-0.930', 'vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'geometry': {'area': 1.1525093327998184e-07, 'perimeter': 0.3553910929035267, 'centroid': [0.6986098802265194, 0.406540852137477], 'bounds': [0.6261183358365255, 0.3649941320710137, 0.786902073360071, 0.4406532159494001], 'width': 0.16078373752354547, 'height': 0.07565908387838638}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-13 03:14:42,659 - INFO - [extract_image_features] stroke_type_distribution OUTPUT: {'line': 7}
2025-08-13 03:14:42,660 - INFO - [extract_image_features] modifier_distribution OUTPUT: {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}
2025-08-13 03:14:42,660 - INFO - [extract_image_features] relational INPUT: []
2025-08-13 03:14:42,660 - INFO - [extract_image_features] relational OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:42,661 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-13 03:14:42,661 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,661 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,661 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,661 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,662 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,662 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,662 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,662 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,663 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,663 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,664 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 6}
2025-08-13 03:14:42,664 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:42,664 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,664 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,665 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,665 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,665 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,665 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,666 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,666 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,666 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,666 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,667 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,667 - DEBUG - [_detect_alternation] OUTPUT: 0.14285714285714285
2025-08-13 03:14:42,667 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-13 03:14:42,667 - INFO - [extract_image_features] PATCHED ngram: {'normal|normal': 6}
2025-08-13 03:14:42,668 - INFO - [extract_image_features] PATCHED alternation: 0.14285714285714285
2025-08-13 03:14:42,668 - INFO - [extract_image_features] PATCHED regularity: 0.14285714285714285
2025-08-13 03:14:42,668 - INFO - [extract_image_features] PATCHED dominant_shape_functions: line
2025-08-13 03:14:42,668 - INFO - [extract_image_features] PATCHED dominant_modifiers: zigzag
2025-08-13 03:14:42,669 - INFO - [extract_image_features] PATCHED image_canonical_summary: {'area': 207766.1624785309, 'perimeter': 2727.1316507778183, 'compactness': 0.35105282701376045, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'zigzag', 'regularity': 0.14285714285714285}
2025-08-13 03:14:42,669 - INFO - [extract_image_features] OUTPUT: {'area': 207766.1624785309, 'perimeter': 2727.1316507778183, 'convexity_ratio': 0.5375400042896898, 'compactness': 0.35105282701376045, 'aspect_ratio': 3.9869530886802282, 'centroid_x': 643.7941746110904, 'centroid_y': 107.61197186160764, 'width': 1287.1316507778192, 'height': 322.83591558482294, 'bounding_box': (-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902), 'num_vertices': 8, 'curvature': 2.1905491448917287, 'angular_variance': 0.4545612501981901, 'complexity': -0.1253420815946918, 'num_strokes': 7, 'stroke_type_distribution': {'line': 7}, 'modifier_distribution': {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}, 'avg_stroke_length': 0.0, 'stroke_complexity': -0.1253420815946918, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.4545612501981901, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 1.010010108320618, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.8555913871130585, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.42084093020365354, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.26974345350763407, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}, 'moment_of_inertia': 179555.5085392413, 'center_of_mass_x': 0.4850858828170155, 'center_of_mass_y': 0.2611596268754171, 'symmetry_score': 803.9190614060234, 'ngram': {'normal|normal': 6}, 'alternation': 0.14285714285714285, 'regularity': 0.14285714285714285, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'zigzag', 'image_canonical_summary': {'area': 207766.1624785309, 'perimeter': 2727.1316507778183, 'compactness': 0.35105282701376045, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'zigzag', 'regularity': 0.14285714285714285}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 7}}
2025-08-13 03:14:42,669 - DEBUG - [extract_image_features] FINAL OUTPUT bounding_box: (-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902)
2025-08-13 03:14:42,670 - DEBUG - [extract_image_features] FINAL OUTPUT width: 1287.1316507778192, height: 322.83591558482294
2025-08-13 03:14:42,670 - DEBUG - [extract_image_features] FINAL OUTPUT curvature: 2.1905491448917287
2025-08-13 03:14:42,670 - INFO - [DIAG] Shape 0 extracted attributes: {'area': 207766.1624785309, 'perimeter': 2727.1316507778183, 'convexity_ratio': 0.5375400042896898, 'compactness': 0.35105282701376045, 'aspect_ratio': 3.9869530886802282, 'centroid_x': 643.7941746110904, 'centroid_y': 107.61197186160764, 'width': 1287.1316507778192, 'height': 322.83591558482294, 'bounding_box': (-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902), 'num_vertices': 8, 'curvature': 2.1905491448917287, 'angular_variance': 0.4545612501981901, 'complexity': -0.1253420815946918, 'num_strokes': 7, 'stroke_type_distribution': {'line': 7}, 'modifier_distribution': {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}, 'avg_stroke_length': 0.0, 'stroke_complexity': -0.1253420815946918, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.4545612501981901, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 3}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 1.010010108320618, 'complexity': 5, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.8555913871130585, 'complexity': 4, 'groups': {'group_0': {'size': 6, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.42084093020365354, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.26974345350763407, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}, 'moment_of_inertia': 179555.5085392413, 'center_of_mass_x': 0.4850858828170155, 'center_of_mass_y': 0.2611596268754171, 'symmetry_score': 803.9190614060234, 'ngram': {'normal|normal': 6}, 'alternation': 0.14285714285714285, 'regularity': 0.14285714285714285, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'zigzag', 'image_canonical_summary': {'area': 207766.1624785309, 'perimeter': 2727.1316507778183, 'compactness': 0.35105282701376045, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'zigzag', 'regularity': 0.14285714285714285}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 7}}
2025-08-13 03:14:42,670 - INFO - [VALIDATION] expected_strokes=7, actual_shapes=1
2025-08-13 03:14:42,671 - INFO - [VALIDATION] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: Number of action commands matches number of parsed shapes (7)
2025-08-13 03:14:42,671 - INFO - [standardize_coordinates] INPUT vertices: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:42,671 - INFO - [standardize_coordinates] OUTPUT normalized vertices: [[0.35508588118232887, 4.753164162310427e-16], [1.0, 4.753164162310427e-16], [0.6776001373494158, 0.3856438654558245], [0.3552002746988317, 0.0], [0.3868800776062828, 1.0], [0.2585648407333427, 0.45963744256999434], [0.0, 0.5335938289839826], [0.35650350172107487, 0.0015711150834388655]]
2025-08-13 03:14:42,672 - DEBUG - [process_single_image] Passing shape_list to extract_relational_features: [{'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}]
2025-08-13 03:14:42,674 - INFO - [extract_relational_features] INPUT: [{'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}]
2025-08-13 03:14:42,674 - DEBUG - [extract_relational_features] Shape 0 vertices: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:42,674 - INFO - [calculate_relationships] INPUT: strokes=[{'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}], buffer_amt=0.001
2025-08-13 03:14:42,674 - DEBUG - [calculate_relationships] Stroke 0: {'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}
2025-08-13 03:14:42,675 - DEBUG - [calculate_relationships] Vertices for stroke 0: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:42,675 - DEBUG - [calculate_relationships] Created LineString for stroke 0: LINESTRING (0 0, 1287.3600000000001 0, 643.79417461109 322.83591558482294, 0.2283492221802135 -3.979039320256561e-13, 63.46670899899013 837.1348399467902, -192.6726722314738 384.778516919384, -708.8127653910458 446.689984623101, 2.829815511103675 1.3152351739121855)
2025-08-13 03:14:42,676 - DEBUG - [calculate_relationships] Buffered geometries: ['POLYGON ((0.2274219144119125 0.001, 0.4396133104905972 2.8099408235973145, -708.81329590223 446.68913694516493, -708.8133751015216 446.6891919988927, -708.813448628408 446.68925442675277, -708.813515798836 446.6893236479513, -708.8135759878895 446.68939901849296, -708.8136286356034 446.6894798371724, -708.8136732521727 446.6895653520978, -708.8137094225099 446.68965476768614, -708.8137368101063 446.68974725206476, -708.813755160163 446.6898419448107, -708.8137643019614 446.68993796495573, -708.8137641504514 446.69003441918204, -708.8137547070424 446.6901304101334, -708.8137360595907 446.6902250447638, -708.8137083815817 446.6903174426455, -708.8136719305161 446.6904067441603, -708.8136270455143 446.6904921184968, -708.8135741441613 446.69057277138006, -708.8135137186216 446.6906479524606, -708.8134463310606 446.69071696229577, -708.8133726084145 446.6907791588567, -708.8132932365577 446.69083396350123, -708.8132089539215 446.69088086635776, -708.8131205446243 446.69091943106827, -708.8130288311768 446.69094929884824, -708.8129346668297 446.6909701918246, -708.8128389276354 446.69098191562074, -708.8127425042978 446.6909843611651, -708.8126462938857 446.6909775057056, -192.6732143036966 384.77958910984984, 63.46583881523546 837.1353326741317, 63.46589033347885 837.1354142174413, 63.4659494681283 837.1354904180578, 63.4660156690281 837.1355605670534, 63.466088320282104 837.1356240118012, 63.46616674598368 837.1356801620465, 63.46625021650395 837.1357284953991, 63.46633795527989 837.1357685621923, 63.46642914603899 837.1357999896672, 63.46652294039344 837.1358224854401, 63.466618465733006 837.135835840223, 63.466714833343374 837.1358399297702, 63.466811146674175 837.1358347160351, 63.46690650968005 837.1358202475233, 63.467000035156936 837.1357966588417, 63.467090852996094 837.1357641694464, 63.46717811827914 837.1357230816002, 63.46726101913869 837.1356737775617, 63.46733878431151 837.1356167160282, 63.46741069031392 837.1355524278679, 63.467476068172694 837.1354815111822, 63.4675343096488 837.1354046257403, 63.46758487289611 837.1353224868412, 63.46762728750246 837.1352358586594, 63.467661158866065 837.1351455471348, 63.4676861718667 837.1350523924757, 63.467702093797406 837.1349572613407, 63.467708776529435 837.1348610387768, 63.46770615789039 837.1347646199847, 0.4416986518692786 2.8109951191469182, 2.8303460222879817 1.3160828518482706, 2.830426554698841 1.3160267708581157, 2.830501202425849 1.3159630663566408, 2.830569246570587 1.3158923518530192, 2.8306300318307454 1.3158153083665773, 2.8306829728110396 1.315732677868206, 2.8307275596608887 1.3156452561347747, 2.830763362984556 1.3155538850853663, 2.8307900379764614 1.315459444673135, 2.8308073277418515 1.3153628444108767, 2.830815065770834 1.3152650146119242, 2.8308131775419594 1.3151668974307207, 2.8308016812399037 1.3150694377893573, 2.8307806875803414 1.3149735742774575, 2.8307503987436893 1.314880230113045, 2.8307111064280024 1.3147903042514502, 2.8306631890397598 1.3147046627278787, 2.8306071080496054 1.3146241303170192, 2.83054340354813 1.3145494825900113, 2.8304726890445084 1.3144814384452732, 2.8303956455580668 1.314420653185115, 2.8303130150596956 1.3143677122048207, 2.830225593326264 1.3143231253549714, 2.8301342222768557 1.3142873220313045, 2.8300397818646243 1.314260647039399, 2.829943181602366 1.3142433572740089, 2.8298453518034137 1.3142356192450266, 2.82974723462221 1.3142375074739012, 2.829649774980847 1.3142490037759564, 2.8295539114689467 1.314269997435519, 2.8294605673045345 1.314300286272171, 2.8293706414429396 1.314339578587858, 2.829284999919368 1.3143874959761004, 0.4415284662814811 2.8087422415374275, 0.2294794123879221 0.0016857109986829, 643.793726227874 322.8368094262471, 643.7938208097363 322.8368509054108, 643.7939191653321 322.8368824082116, 643.7940202455762 322.83690359863266, 643.7941229723215 322.8369142506517, 643.7942262498586 322.8369142506517, 643.7943289766039 322.83690359863266, 643.794430056848 322.8368824082116, 643.7945284124438 322.8368509054108, 643.7946229943061 322.8368094262471, 1287.3604483832162 0.0008938414241513, 1287.360534647369 0.0008450752575891, 1287.3606156614753 0.0007880107536255, 1287.360690630006 0.0007232082653356, 1287.3607588167963 0.0006513041300236, 1287.3608195522766 0.0005730044206326, 1287.360872240046 0.0004890780123603, 1287.3609163627298 0.0004003490325793, 1287.3609514870584 0.0003076887681997, 1287.3609772681236 0.0002120071099436, 1287.360993452765 0.000114243617542, 1287.3609998820546 1.535829359450424e-5, 1287.3609964928594 -8.367784331404813e-5, 1287.36098331846 -0.0001818922936694, 1287.3609604882242 -0.0002783206266259, 1287.3609282263371 -0.0003720159503734, 1287.3608868495985 -0.0004620582102763, 1287.3608367643135 -0.0005475632234823, 1287.3607784623016 -0.0006276913612821, 1287.360712516068 -0.0007016557939636, 1287.3606395731806 -0.0007687302171989, 1287.360560349913 -0.0008282559840935, 1287.3604756242091 -0.0008796485728637, 1287.3603862280454 -0.000922403326632, 1287.3602930392601 -0.0009561004089774, 1287.360196972934 -0.0009804089265791, 1287.3600989724039 -0.0009950901784711, 1287.3600000000001 -0.001, 0 -0.001, -9.801714032956045e-5 -0.0009951847266722, -0.0001950903220161 -0.0009807852804032, -0.0002902846772545 -0.0009569403357322, -0.0003826834323651 -0.0009238795325113, -0.000471396736826 -0.0008819212643484, -0.0005555702330196 -0.0008314696123025, -0.0006343932841636 -0.0007730104533627, -0.0007071067811865 -0.0007071067811865, -0.0007730104533627 -0.0006343932841636, -0.0008314696123025 -0.0005555702330196, -0.0008819212643484 -0.000471396736826, -0.0009238795325113 -0.0003826834323651, -0.0009569403357322 -0.0002902846772545, -0.0009807852804032 -0.0001950903220161, -0.0009951847266722 -9.801714032956059e-5, -0.001 0, -0.0009951847266722 9.801714032956083e-5, -0.0009807852804032 0.0001950903220161, -0.0009569403357322 0.0002902846772545, -0.0009238795325113 0.0003826834323651, -0.0008819212643484 0.000471396736826, -0.0008314696123025 0.0005555702330196, -0.0007730104533627 0.0006343932841636, -0.0007071067811865 0.0007071067811865, -0.0006343932841636 0.0007730104533627, -0.0005555702330196 0.0008314696123025, -0.000471396736826 0.0008819212643484, -0.0003826834323651 0.0009238795325113, -0.0002902846772545 0.0009569403357322, -0.0001950903220161 0.0009807852804032, -9.801714032956064e-5 0.0009951847266722, 0 0.001, 0.2274219144119125 0.001), (0.2325729338548419 0.001, 1287.3557762883263 0.001, 643.79417461109 322.8347968181458, 0.2325729338548419 0.001), (0.4397834960783947 2.8121937012068052, 63.46537484733379 837.130454241116, -192.67180204771913 384.77802419204244, -192.67185438294055 384.7779414858286, -192.6719145525729 384.7778642918615, -192.67198198023357 384.7777933496048, -192.6720560200133 384.7777293386352, -192.67213596266322 384.7776728721325, -192.67222104238937 384.7776244910059, -192.67231044418804 384.7775846587124, -192.6724033116532 384.7775537568172, -192.67249875518016 384.7775320813387, -192.6725958604874 384.77751983991254, -192.67269369737474 384.777517149803, -192.6727913286339 384.7775240367794, -708.8084425867735 446.6884589304305, 0.4397834960783947 2.8121937012068052))']
2025-08-13 03:14:42,676 - INFO - [calculate_relationships] Intermediate results: adjacency=0, intersections=0, containment=0, overlap=0.0
2025-08-13 03:14:42,676 - INFO - [calculate_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:42,677 - WARNING - [calculate_relationships] All relational features are zero/default. Strokes: [{'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}]
2025-08-13 03:14:42,677 - INFO - [extract_relational_features] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:42,677 - DEBUG - [extract_relational_features] Output is JSON serializable.
2025-08-13 03:14:42,677 - INFO - [robust_curvature] INPUT: [[3.55085881e-01 4.75316416e-16]
 [1.00000000e+00 4.75316416e-16]
 [6.77600137e-01 3.85643865e-01]
 [3.55200275e-01 0.00000000e+00]
 [3.86880078e-01 1.00000000e+00]
 [2.58564841e-01 4.59637443e-01]
 [0.00000000e+00 5.33593829e-01]
 [3.56503502e-01 1.57111508e-03]]
2025-08-13 03:14:42,678 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,678 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,679 - INFO - [robust_angular_variance] Computed angular variance: 0.247408 for 8 vertices.
2025-08-13 03:14:42,680 - INFO - [robust_curvature] INPUT: [[3.55085881e-01 4.75316416e-16]
 [1.00000000e+00 4.75316416e-16]
 [6.77600137e-01 3.85643865e-01]
 [3.55200275e-01 0.00000000e+00]
 [3.56503502e-01 1.57111508e-03]]
2025-08-13 03:14:42,680 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,680 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,680 - INFO - [robust_curvature] INPUT: [[0.38688008 1.        ]
 [0.25856484 0.45963744]
 [0.         0.53359383]]
2025-08-13 03:14:42,681 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,681 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,681 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:42,682 - INFO - [robust_curvature] INPUT: [[3.57565377e-01 6.02720406e-06]
 [9.96289133e-01 1.47942967e-03]
 [6.77600137e-01 3.82685006e-01]
 [3.56558616e-01 5.31568847e-03]
 [3.86266295e-01 9.94090771e-01]
 [2.58065170e-01 4.61994129e-01]
 [2.35956134e-03 5.31269136e-01]
 [3.55130424e-01 3.60606470e-03]]
2025-08-13 03:14:42,682 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,683 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,683 - INFO - [robust_angular_variance] Computed angular variance: 0.784881 for 8 vertices.
2025-08-13 03:14:42,684 - INFO - [robust_curvature] INPUT: [[3.57565377e-01 6.02720406e-06]
 [9.96289133e-01 1.47942967e-03]
 [6.77600137e-01 3.82685006e-01]
 [3.56558616e-01 5.31568847e-03]
 [3.55130424e-01 3.60606470e-03]]
2025-08-13 03:14:42,685 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,685 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,685 - INFO - [robust_curvature] INPUT: [[0.3862663  0.99409077]
 [0.25806517 0.46199413]
 [0.00235956 0.53126914]]
2025-08-13 03:14:42,686 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,686 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,686 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:42,687 - INFO - [robust_curvature] INPUT: [[4.23879799e-01 4.09801144e-04]
 [8.96688744e-01 4.10525017e-02]
 [6.77438326e-01 3.03600040e-01]
 [3.93036970e-01 1.47624141e-01]
 [3.69823109e-01 8.35742041e-01]
 [2.44751011e-01 5.24790018e-01]
 [6.56702788e-02 4.69069157e-01]
 [3.18546476e-01 5.81585504e-02]]
2025-08-13 03:14:42,687 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,687 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,688 - INFO - [robust_angular_variance] Computed angular variance: 0.568203 for 8 vertices.
2025-08-13 03:14:42,689 - INFO - [robust_curvature] INPUT: [[4.23879799e-01 4.09801144e-04]
 [8.96688744e-01 4.10525017e-02]
 [6.77438326e-01 3.03600040e-01]
 [3.93036970e-01 1.47624141e-01]
 [3.18546476e-01 5.81585504e-02]]
2025-08-13 03:14:42,689 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,689 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,690 - INFO - [robust_curvature] INPUT: [[0.36982311 0.83574204]
 [0.24475101 0.52479002]
 [0.06567028 0.46906916]]
2025-08-13 03:14:42,690 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,690 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,691 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:42,691 - INFO - [robust_curvature] INPUT: [[0.50930238 0.05231556]
 [0.68903349 0.10031933]
 [0.6410294  0.21002806]
 [0.46889909 0.36246783]
 [0.34554819 0.55980025]
 [0.24003676 0.55624922]
 [0.19507598 0.37856742]
 [0.30090942 0.16069858]]
2025-08-13 03:14:42,691 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,692 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,692 - INFO - [robust_angular_variance] Computed angular variance: 0.195097 for 8 vertices.
2025-08-13 03:14:42,693 - INFO - [robust_curvature] INPUT: [[0.46889909 0.36246783]
 [0.34554819 0.55980025]
 [0.24003676 0.55624922]
 [0.19507598 0.37856742]
 [0.30090942 0.16069858]]
2025-08-13 03:14:42,693 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,694 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,694 - INFO - [robust_curvature] INPUT: [[0.50930238 0.05231556]
 [0.68903349 0.10031933]
 [0.6410294  0.21002806]]
2025-08-13 03:14:42,694 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,694 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,696 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:42,696 - INFO - [robust_curvature] INPUT: [[0.45976087 0.20131693]
 [0.5119386  0.20582198]
 [0.51104498 0.262901  ]
 [0.45916732 0.34047332]
 [0.3879273  0.39409044]
 [0.33748901 0.39093181]
 [0.33618018 0.3319254 ]
 [0.38632645 0.25298537]]
2025-08-13 03:14:42,697 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,697 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,698 - INFO - [robust_angular_variance] Computed angular variance: 0.182001 for 8 vertices.
2025-08-13 03:14:42,699 - INFO - [robust_curvature] INPUT: [[0.45916732 0.34047332]
 [0.3879273  0.39409044]
 [0.33748901 0.39093181]
 [0.33618018 0.3319254 ]
 [0.38632645 0.25298537]]
2025-08-13 03:14:42,699 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,699 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,700 - INFO - [robust_curvature] INPUT: [[0.45976087 0.20131693]
 [0.5119386  0.20582198]
 [0.51104498 0.262901  ]]
2025-08-13 03:14:42,700 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:42,700 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:42,701 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:42,701 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.18200108496378298, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}
2025-08-13 03:14:42,701 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.2474078250225908, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.7848807085191869, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.5682027026722688, 'complexity': 4, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.19509708599975403, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.18200108496378298, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}
2025-08-13 03:14:42,702 - INFO - [_calculate_image_features] INPUTS: vertices=[(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)], strokes=[{'area': 1.1008548624240816e-07, 'perimeter': 0.40992184879713234, 'centroid': [-0.008453141131205716, 0.5000003109287086], 'bounds': [-0.11714979455826005, 0.5, 0.0878111298305274, 0.5000008886079231], 'width': 0.6288476363234845, 'height': 9.873541088056825e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.40992184879713234, 'analytic_vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'open_stroke_perimeter': 0.894, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.894-0.500', 'vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'geometry': {'area': 3.552481029069512e-07, 'perimeter': 1.2576952726706245, 'centroid': [0.11731835614560691, 0.49999968315807924], 'bounds': [-0.18943386924613864, 0.4999990126458913, 0.4394137670773458, 0.5000000000000001], 'width': 0.6288476363234845, 'height': 9.873541088056825e-07}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'open_stroke_perimeter': 2.972254835764386, 'shape_modifier': 'normal', 'command': 'line_circle_0.500-0.926', 'vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'geometry': {'area': 0.7725424859373685, 'perimeter': 3.128689300804617, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 9.734084385933095e-08, 'perimeter': 0.699169553442867, 'centroid': [0.2934836505067087, 0.22313907990172038], 'bounds': [0.20104750847124048, 0.0992165075645618, 0.4100659884728855, 0.3794321229963777], 'width': 0.18161347251713406, 'height': 0.24347574899452618, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1.0, 'degenerate_case': False, 'visual_complexity': 0.699169553442867, 'analytic_vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'open_stroke_perimeter': 0.49999999999999994, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.500-0.648', 'vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'geometry': {'area': 1.2862345741076163e-07, 'perimeter': 0.6074994444664207, 'centroid': [0.3574253560703185, 0.308860221441583], 'bounds': [0.25044521415371224, 0.1654403577170679, 0.4320586866708463, 0.40891610671159406], 'width': 0.18161347251713406, 'height': 0.24347574899452618}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 9.338290252072605e-08, 'perimeter': 0.3909172178795457, 'centroid': [0.7406216098422387, 0.9010962389605427], 'bounds': [0.6993666125411885, 0.8323270732177286, 0.7999182481946182, 0.9999380405608993], 'width': 0.057303167984284475, 'height': 0.09551947469833655, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.3909172178795457, 'analytic_vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'open_stroke_perimeter': 0.5830000000000001, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.583-0.164', 'vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'geometry': {'area': 6.475559109699221e-08, 'perimeter': 0.2227790215472803, 'centroid': [0.7708201890039045, 0.9514333139148188], 'bounds': [0.7426150802103337, 0.9044185658625628, 0.7999182481946182, 0.9999380405608993], 'width': 0.057303167984284475, 'height': 0.09551947469833655}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'open_stroke_perimeter': 1.8758110245970938, 'shape_modifier': 'normal', 'command': 'line_triangle_0.361-0.930', 'vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'geometry': {'area': 0.1692919449698877, 'perimeter': 1.8758110245970938, 'centroid': [0.49999999999999994, 0.49999999999999994], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'width': 0.5415000000000001, 'height': 0.6252703415323646}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'open_stroke_perimeter': 2.1459679914218865, 'shape_modifier': 'normal', 'command': 'line_circle_0.361-0.313', 'vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'geometry': {'area': 0.40271403723937527, 'perimeter': 2.258913675180933, 'centroid': [0.5, 0.5], 'bounds': [0.139, 0.139, 0.861, 0.861], 'width': 0.722, 'height': 0.722}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 5.800545124768058e-08, 'perimeter': 0.3364603298524391, 'centroid': [0.6553975293385252, 0.426875756298626], 'bounds': [0.5856921739239767, 0.3880474033314913, 0.7379113781864199, 0.4596763237719487], 'width': 0.16078373752354547, 'height': 0.07565908387838638, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.3364603298524391, 'analytic_vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'open_stroke_perimeter': 0.583, 'shape_modifier': 'normal', 'command': 'line_normal_0.583-0.930', 'vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'geometry': {'area': 1.1525093327998184e-07, 'perimeter': 0.3553910929035267, 'centroid': [0.6986098802265194, 0.406540852137477], 'bounds': [0.6261183358365255, 0.3649941320710137, 0.786902073360071, 0.4406532159494001], 'width': 0.16078373752354547, 'height': 0.07565908387838638}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}], geometry={'area': 0.12433152925499794, 'perimeter': 1.6501113434590904, 'centroid': [0.677600137349416, 0.12854795515194184], 'bounds': [0.3552002746988321, 4.753164162310427e-16, 1.0, 0.3856438654558245], 'width': 0.6447997253011679, 'height': 0.385643865455824}
2025-08-13 03:14:42,702 - DEBUG - [POLYGON CREATION] Attempting to create Polygon with vertices: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-13 03:14:42,703 - DEBUG - [POLYGON REPAIR] Final polygon: is_valid=True, is_empty=False, area=0.5084825935046632
2025-08-13 03:14:42,703 - INFO - [_calculate_perimeter] INPUT vertices: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-13 03:14:42,703 - INFO - [_calculate_perimeter] OUTPUT perimeter: 4.117589844652146
2025-08-13 03:14:42,703 - INFO - [robust_curvature] INPUT: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-13 03:14:42,703 - INFO - [robust_curvature] OUTPUT: 2.252643883464292
2025-08-13 03:14:42,703 - INFO - [robust_angular_variance] Computed angular variance: 0.247408 for 8 vertices.
2025-08-13 03:14:42,705 - INFO - [complexity] Calling calculate_complexity with vertices: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-13 03:14:42,705 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,705 - INFO - Complexity: n=8, n_norm=0.33, curvature=1.00, irregularity=0.13, result=0.49
2025-08-13 03:14:42,706 - INFO - [complexity] Output for vertices count 8: 0.49298736326093107
2025-08-13 03:14:42,706 - INFO - [_calculate_image_features] polsby_popper: 0.17429059689039136
2025-08-13 03:14:42,710 - INFO - [_calculate_image_features] OUTPUT: {'bounding_box': (0.0, 0.0, 1.0, 1.0), 'centroid': [0.677600137349416, 0.12854795515194184], 'width': 0.6447997253011679, 'height': 0.385643865455824, 'area_raw': 0.5084825935046632, 'area_normalized': 1.0, 'perimeter_raw': 4.117589844652146, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.6720082518077304, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.37687713209159157, 'polsby_popper_compactness': 0.17429059689039136, 'eccentricity': 0.541552212030195, 'symmetry_score': 0.40273020218695216, 'horizontal_symmetry': 0.6007061294530136, 'vertical_symmetry': 0.4500485603803981, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 8.0, 'visual_complexity': 0.5711116454474393, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'moment_of_inertia': 0.1988356493263487, 'irregularity_score': 0.131603482971322, 'standardized_complexity': 0.49298736326093107, 'clustering_heights': [0.16937716748454537, 0.41885919207100863, 0.49314337760036253, 1.2299972457956059, 1.462991292310712, 3.788460711143546], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-13 03:14:42,710 - DEBUG - [_calculate_composition_features] INPUTS: strokes count=7
2025-08-13 03:14:42,710 - DEBUG - [_calculate_composition_features] OUTPUT: {'stroke_type_distribution': {'line': 7}, 'shape_modifier_distribution': {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'zigzag', 'composition_complexity': 11, 'homogeneity_score': 0.30612244897959184, 'pattern_regularity': 0.5714285714285714}
2025-08-13 03:14:42,710 - INFO - [_calculate_physics_features] INPUT vertices: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-13 03:14:42,711 - INFO - [_calculate_physics_features] INPUT centroid: [0.677600137349416, 0.12854795515194184]
2025-08-13 03:14:42,711 - INFO - [_calculate_physics_features] INPUT strokes: ['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-13 03:14:42,711 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,712 - INFO - [QualityMonitor] physics_features: {'degenerate': False, 'area': 0.12433152925499794}
2025-08-13 03:14:42,713 - INFO - [_calculate_physics_features] polsby_popper: 0.6802566981244207
2025-08-13 03:14:42,715 - INFO - [robust_angular_variance] Computed angular variance: 0.247408 for 8 vertices.
2025-08-13 03:14:42,715 - INFO - [_calculate_physics_features] OUTPUT: {'moment_of_inertia': 0.1988356493263487, 'center_of_mass': [0.677600137349416, 0.12854795515194184], 'polsby_popper_compactness': 0.6802566981244207, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'edge_length_variance': 0.07423181245043547}
2025-08-13 03:14:42,715 - INFO - [calculate_shape_relationships] INPUT: shapes=[{'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}], buffer_amt=0.001
2025-08-13 03:14:42,716 - DEBUG - [calculate_shape_relationships] Shape 0 vertices: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:42,716 - WARNING - calculate_shape_relationships: No valid geometries found.
2025-08-13 03:14:42,716 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal'], n=2
2025-08-13 03:14:42,717 - DEBUG - [ensure_str_list] Converting list: ['normal']
2025-08-13 03:14:42,717 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,717 - DEBUG - [ensure_str_list] Result: ['normal']
2025-08-13 03:14:42,717 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal']
2025-08-13 03:14:42,718 - DEBUG - [_extract_ngram_features] OUTPUT: {}
2025-08-13 03:14:42,718 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:42,718 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal'], n=2
2025-08-13 03:14:42,718 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal']
2025-08-13 03:14:42,718 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,718 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,719 - DEBUG - [ensure_str_list] Result: ['normal', 'normal']
2025-08-13 03:14:42,719 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal']
2025-08-13 03:14:42,719 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 1}
2025-08-13 03:14:42,719 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:42,719 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal'], n=2
2025-08-13 03:14:42,719 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal']
2025-08-13 03:14:42,720 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,720 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,720 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,720 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal']
2025-08-13 03:14:42,720 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal']
2025-08-13 03:14:42,721 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 2}
2025-08-13 03:14:42,721 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:42,721 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-13 03:14:42,721 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,721 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,722 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,722 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,722 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,722 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,722 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,724 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-13 03:14:42,724 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:42,724 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-13 03:14:42,724 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,724 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,725 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,725 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,725 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,725 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,725 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,725 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,726 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 4}
2025-08-13 03:14:42,727 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:42,727 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-13 03:14:42,727 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,727 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,727 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,728 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,728 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,728 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,728 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,729 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,729 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,729 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-13 03:14:42,729 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:42,730 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-13 03:14:42,730 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,730 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,730 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,731 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,731 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,731 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,731 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,732 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,732 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,732 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,732 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 6}
2025-08-13 03:14:42,732 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:42,732 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,733 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,733 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,733 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,733 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,734 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,734 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,734 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,735 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,735 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,735 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,735 - DEBUG - [_detect_alternation] OUTPUT: 0.14285714285714285
2025-08-13 03:14:42,736 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-13 03:14:42,736 - INFO - [extract_regularity_features] INPUT: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,736 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,736 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,736 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,736 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,738 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,738 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,738 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,738 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,739 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,739 - INFO - [extract_regularity_features] OUTPUT: {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 7}}
2025-08-13 03:14:42,739 - DEBUG - [extract_regularity_features] Output is JSON serializable.
2025-08-13 03:14:42,739 - INFO - [extract_dominant_shape_modifiers] INPUT: {'modifiers': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']}
2025-08-13 03:14:42,740 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,740 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,740 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,740 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,741 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,741 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,741 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,742 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:42,742 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:42,742 - INFO - [extract_dominant_shape_modifiers] OUTPUT: {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 7}}
2025-08-13 03:14:42,742 - DEBUG - [extract_dominant_shape_modifiers] Output is JSON serializable.
2025-08-13 03:14:42,743 - WARNING - [PATCH] Failed to load canonical summary for image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_4: type object 'FileIO' has no attribute 'load_canonical_features'
2025-08-13 03:14:42,743 - DEBUG - [process_single_image] Passing topo_shape_list to extract_topological_features: [{'vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]}]
2025-08-13 03:14:42,744 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,746 - INFO - [QualityMonitor] topological_features: {'degenerate': False, 'area': 0.12433152925499794}
2025-08-13 03:14:42,759 - INFO - [extract_stroke_features_from_shapes] Shape 0 actions: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-13 03:14:42,759 - INFO - [extract_stroke_features_from_shapes] Shape 0: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None
2025-08-13 03:14:42,759 - INFO - [extract_stroke_features_from_shapes] Shape 0 geometry: {'area': 0.12433152925499794, 'perimeter': 1.6501113434590904, 'centroid': [0.677600137349416, 0.12854795515194184], 'bounds': [0.3552002746988321, 4.753164162310427e-16, 1.0, 0.3856438654558245], 'width': 0.6447997253011679, 'height': 0.385643865455824, 'robust_curvature': 2.252643883464292, 'robust_angular_variance': 0.2474078250225908, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 2.4360995595356707}
2025-08-13 03:14:42,759 - INFO - [extract_stroke_features_from_shapes] Shape 0: num_actions=7 | actions=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-13 03:14:42,760 - INFO - [LOGGING PATCH] [extract_stroke_features_from_shapes] shape_idx=0 initial shape_vertices: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:42,760 - INFO - [LOGGING PATCH] [extract_stroke_features_from_shapes] shape_idx=0 deduped/closed shape_vertices: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,760 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=0 | stroke=line_zigzag_0.894-0.500
2025-08-13 03:14:42,761 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,761 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:42,762 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:42,762 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,762 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,763 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:42,763 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:42,764 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,764 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:42,764 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,765 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,766 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:42,766 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 0: {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}
2025-08-13 03:14:42,766 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=1 | stroke=line_circle_0.500-0.926
2025-08-13 03:14:42,766 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,766 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:42,766 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:42,767 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,767 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,767 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,767 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-13 03:14:42,768 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.894-0.500
2025-08-13 03:14:42,768 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,768 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,769 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:42,769 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:42,769 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:42,769 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,770 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:42,770 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:42,770 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,771 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:42,771 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,772 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,773 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:42,773 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.500-0.926
2025-08-13 03:14:42,774 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,774 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,774 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:42,774 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:42,775 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,775 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,775 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,775 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,775 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,777 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,777 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,777 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,777 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,777 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:42,779 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,779 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:42,779 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,781 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,781 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-13 03:14:42,781 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.500-0.648
2025-08-13 03:14:42,781 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,782 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,782 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:42,782 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:42,783 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,783 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,783 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,783 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,784 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,785 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,785 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,786 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,786 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,786 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:42,787 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,787 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:42,787 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,789 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,789 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:42,789 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.583-0.164
2025-08-13 03:14:42,789 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,790 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,790 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:42,790 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:42,790 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,790 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,791 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,791 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,791 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,792 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,793 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,793 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,793 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,794 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:42,794 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,794 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:42,794 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,797 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,797 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:42,797 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.361-0.930
2025-08-13 03:14:42,797 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,798 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,798 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-13 03:14:42,798 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-13 03:14:42,799 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,799 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,799 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,800 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,800 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,801 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,802 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,802 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,802 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,802 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:42,803 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,803 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-13 03:14:42,803 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,805 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,805 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_sharp_angles': True}
2025-08-13 03:14:42,807 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.361-0.313
2025-08-13 03:14:42,807 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,807 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,808 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:42,808 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:42,808 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,809 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,809 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,809 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,810 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,811 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,812 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,812 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,812 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,812 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:42,813 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,813 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:42,814 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,815 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,815 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-13 03:14:42,815 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.583-0.930
2025-08-13 03:14:42,816 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,816 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,816 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,817 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,817 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,817 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,818 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,818 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,818 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,820 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,820 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,820 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,820 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,822 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-13 03:14:42,822 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,822 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,823 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,824 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,824 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'is_simple': True}
2025-08-13 03:14:42,824 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-13 03:14:42,824 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-13 03:14:42,825 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,825 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=5449.200528703534. Returning 0.0.
2025-08-13 03:14:42,826 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,826 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,827 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}}}
2025-08-13 03:14:42,827 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}}}
2025-08-13 03:14:42,827 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:42,828 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,828 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:42,828 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,830 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,830 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-13 03:14:42,831 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.200528703534, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}
2025-08-13 03:14:42,831 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_zigzag_0.500-0.648
2025-08-13 03:14:42,831 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,831 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:42,832 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:42,832 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,833 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,833 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,833 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-13 03:14:42,833 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.894-0.500
2025-08-13 03:14:42,834 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,834 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,834 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:42,834 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:42,834 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:42,836 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,836 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:42,837 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:42,837 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,837 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:42,838 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,839 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,840 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:42,840 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.500-0.926
2025-08-13 03:14:42,840 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,840 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,841 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:42,841 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:42,841 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,841 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,842 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,842 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,843 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,844 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,844 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,844 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,845 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,845 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:42,845 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,846 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:42,846 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,847 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,847 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-13 03:14:42,848 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.500-0.648
2025-08-13 03:14:42,848 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,848 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,848 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:42,849 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:42,849 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,849 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,849 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,850 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,850 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,851 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,852 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,852 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,852 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,853 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:42,853 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,854 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:42,854 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,855 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,855 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:42,856 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.583-0.164
2025-08-13 03:14:42,856 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,856 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,857 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:42,857 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:42,857 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,857 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,858 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,858 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,859 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,860 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,860 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,861 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,861 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,861 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:42,862 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,862 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:42,862 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,864 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,865 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:42,865 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.361-0.930
2025-08-13 03:14:42,865 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,866 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,866 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-13 03:14:42,866 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-13 03:14:42,866 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,867 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,867 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,867 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,868 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,869 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,869 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,870 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,870 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,870 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:42,871 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,871 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-13 03:14:42,871 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,872 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,873 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_sharp_angles': True}
2025-08-13 03:14:42,873 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.361-0.313
2025-08-13 03:14:42,873 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,874 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,874 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:42,874 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:42,874 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,875 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,875 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,875 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,876 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,877 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,878 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,878 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,878 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,879 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:42,879 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,879 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:42,880 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,881 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,882 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-13 03:14:42,882 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.583-0.930
2025-08-13 03:14:42,883 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,884 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,884 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,884 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,885 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,885 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,885 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,886 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,887 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,888 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,888 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,889 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,889 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,889 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-13 03:14:42,890 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,891 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,891 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,893 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,893 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'is_simple': True}
2025-08-13 03:14:42,893 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-13 03:14:42,894 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-13 03:14:42,895 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,895 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=5449.200528703534. Returning 0.0.
2025-08-13 03:14:42,896 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,896 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,896 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}}}
2025-08-13 03:14:42,897 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}}}
2025-08-13 03:14:42,897 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:42,897 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,898 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:42,898 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,899 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,900 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:42,900 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.200528703534, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}
2025-08-13 03:14:42,900 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_zigzag_0.583-0.164
2025-08-13 03:14:42,901 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,901 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:42,901 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:42,901 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,902 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,902 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,903 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-13 03:14:42,903 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.894-0.500
2025-08-13 03:14:42,904 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,904 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,904 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:42,905 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:42,905 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:42,905 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,905 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:42,906 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:42,906 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,907 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:42,907 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,908 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,908 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:42,908 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.500-0.926
2025-08-13 03:14:42,908 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,910 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,910 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:42,910 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:42,910 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,910 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,910 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,912 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,912 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,913 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,914 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,914 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,914 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,915 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:42,915 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,915 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:42,916 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,918 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,918 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-13 03:14:42,918 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.500-0.648
2025-08-13 03:14:42,919 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,919 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,919 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:42,919 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:42,920 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,920 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,920 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,921 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,921 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,924 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,924 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,924 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,924 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,924 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:42,925 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,925 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:42,926 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,927 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,927 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:42,927 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.583-0.164
2025-08-13 03:14:42,927 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,929 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,929 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:42,930 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:42,930 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,930 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,931 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,931 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,932 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,933 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,933 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,934 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,934 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,935 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:42,935 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,935 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:42,936 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,937 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,937 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:42,937 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.361-0.930
2025-08-13 03:14:42,938 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,938 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,938 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-13 03:14:42,938 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-13 03:14:42,939 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,939 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,939 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,940 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,940 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,942 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,942 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,943 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,943 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,943 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:42,944 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,944 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-13 03:14:42,944 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,946 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,946 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_sharp_angles': True}
2025-08-13 03:14:42,946 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.361-0.313
2025-08-13 03:14:42,946 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,947 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,947 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:42,947 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:42,948 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,948 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,948 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,949 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,949 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,950 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,950 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,950 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,952 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,952 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:42,952 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,953 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:42,953 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,954 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,954 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-13 03:14:42,954 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.583-0.930
2025-08-13 03:14:42,955 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,955 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,955 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:42,955 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:42,956 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,956 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,956 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,957 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,957 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,958 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,958 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,958 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,960 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,960 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-13 03:14:42,960 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,960 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:42,961 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,962 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,962 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'is_simple': True}
2025-08-13 03:14:42,962 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-13 03:14:42,963 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-13 03:14:42,963 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,963 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=5449.200528703534. Returning 0.0.
2025-08-13 03:14:42,964 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,964 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,964 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}}}
2025-08-13 03:14:42,964 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}}}
2025-08-13 03:14:42,966 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:42,966 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,966 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:42,967 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,968 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,968 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:42,968 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.200528703534, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}
2025-08-13 03:14:42,969 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=4 | stroke=line_triangle_0.361-0.930
2025-08-13 03:14:42,969 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,969 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-13 03:14:42,969 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-13 03:14:42,970 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,970 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,970 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,971 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-13 03:14:42,971 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.894-0.500
2025-08-13 03:14:42,971 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,971 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,972 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:42,972 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:42,972 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:42,973 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,973 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:42,973 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:42,974 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,974 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:42,974 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,976 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,976 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:42,976 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.500-0.926
2025-08-13 03:14:42,977 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,977 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,977 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:42,978 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:42,978 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,978 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,978 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,979 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,979 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,981 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,982 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,982 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,982 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,983 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:42,983 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,983 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:42,984 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,985 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,985 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-13 03:14:42,985 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.500-0.648
2025-08-13 03:14:42,985 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,986 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,986 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:42,986 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:42,986 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,987 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,987 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,987 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,988 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,990 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,990 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,990 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,990 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,990 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:42,991 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:42,991 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:42,991 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:42,992 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:42,992 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:42,993 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.583-0.164
2025-08-13 03:14:42,993 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,993 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,994 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:42,994 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:42,994 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,994 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:42,994 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:42,996 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:42,996 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:42,998 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:42,998 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:42,998 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,999 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:42,999 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:42,999 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,000 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:43,000 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,001 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,002 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:43,002 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.361-0.930
2025-08-13 03:14:43,002 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,002 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,002 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-13 03:14:43,003 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-13 03:14:43,003 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,003 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,003 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,004 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,004 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,005 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,006 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:43,006 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,006 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,006 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:43,008 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,008 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-13 03:14:43,008 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,009 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,009 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_sharp_angles': True}
2025-08-13 03:14:43,010 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.361-0.313
2025-08-13 03:14:43,010 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,010 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,010 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:43,011 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:43,011 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,011 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,011 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,012 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,013 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,014 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,015 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:43,015 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,015 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,015 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:43,016 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,016 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:43,017 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,018 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,018 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-13 03:14:43,018 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.583-0.930
2025-08-13 03:14:43,019 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,019 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,019 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,020 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,020 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,020 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,020 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,020 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,021 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,023 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,023 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:43,023 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,023 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,023 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-13 03:14:43,024 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,024 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,024 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,025 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,025 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'is_simple': True}
2025-08-13 03:14:43,027 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-13 03:14:43,027 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-13 03:14:43,028 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,028 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=5449.200528703534. Returning 0.0.
2025-08-13 03:14:43,029 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,029 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:43,029 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}}}
2025-08-13 03:14:43,030 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}}}
2025-08-13 03:14:43,030 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:43,030 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,030 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-13 03:14:43,030 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,032 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,032 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_sharp_angles': True}
2025-08-13 03:14:43,032 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 4: {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.200528703534, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}
2025-08-13 03:14:43,032 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=5 | stroke=line_circle_0.361-0.313
2025-08-13 03:14:43,033 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,033 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:43,033 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:43,033 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,034 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,034 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,034 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-13 03:14:43,035 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.894-0.500
2025-08-13 03:14:43,035 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,035 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,035 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:43,036 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:43,036 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:43,036 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,036 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:43,037 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,037 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,037 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:43,037 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,039 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,040 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:43,040 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.500-0.926
2025-08-13 03:14:43,040 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,041 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,041 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:43,041 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:43,041 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,042 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,042 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,042 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,044 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,045 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,045 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:43,045 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,046 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,046 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:43,046 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,047 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:43,047 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,048 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,049 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-13 03:14:43,049 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.500-0.648
2025-08-13 03:14:43,049 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,049 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,049 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:43,051 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:43,051 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,051 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,051 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,052 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,052 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,053 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,054 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:43,054 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,054 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,054 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:43,055 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,055 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:43,056 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,057 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,057 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:43,057 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.583-0.164
2025-08-13 03:14:43,057 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,058 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,058 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:43,058 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:43,059 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,059 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,059 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,059 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,061 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,062 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,062 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:43,062 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,063 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,063 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:43,063 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,063 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:43,063 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,065 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,065 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:43,065 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.361-0.930
2025-08-13 03:14:43,065 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,065 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,067 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-13 03:14:43,067 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-13 03:14:43,067 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,067 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,068 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,068 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,069 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,070 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,070 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:43,070 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,070 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,071 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:43,071 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,072 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-13 03:14:43,072 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,073 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,073 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_sharp_angles': True}
2025-08-13 03:14:43,073 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.361-0.313
2025-08-13 03:14:43,073 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,074 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,074 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:43,074 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:43,075 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,075 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,075 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,075 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,076 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,077 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,077 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:43,077 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,077 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,079 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:43,079 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,079 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:43,080 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,081 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,081 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-13 03:14:43,081 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.583-0.930
2025-08-13 03:14:43,081 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,082 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,082 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,082 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,083 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,083 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,083 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,084 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,084 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,085 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,086 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:43,086 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,086 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,086 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-13 03:14:43,087 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,087 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,087 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,089 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,089 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'is_simple': True}
2025-08-13 03:14:43,089 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-13 03:14:43,089 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-13 03:14:43,091 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,091 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=5449.200528703534. Returning 0.0.
2025-08-13 03:14:43,091 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,092 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:43,092 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}}}
2025-08-13 03:14:43,092 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}}}
2025-08-13 03:14:43,093 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:43,093 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,093 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:43,093 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,095 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,095 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-13 03:14:43,095 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 5: {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.200528703534, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}
2025-08-13 03:14:43,096 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=6 | stroke=line_normal_0.583-0.930
2025-08-13 03:14:43,096 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,097 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,097 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,097 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,097 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,098 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,098 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930]
2025-08-13 03:14:43,098 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.894-0.500
2025-08-13 03:14:43,098 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,099 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,099 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:43,099 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:43,099 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:43,100 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5446.080000000001, 'centroid': [223.68518676314918, 239.7333978451858], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,100 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:43,100 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,101 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,101 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:43,101 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,102 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,102 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:43,103 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.500-0.926
2025-08-13 03:14:43,103 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,103 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,104 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:43,104 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:43,105 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,105 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,105 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,106 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,106 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,107 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,108 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:43,108 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,108 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,108 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:43,109 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,109 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:43,109 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,111 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,111 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-13 03:14:43,111 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.500-0.648
2025-08-13 03:14:43,111 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,112 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,112 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:43,112 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:43,112 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,112 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,114 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,114 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,115 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,116 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,116 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:43,116 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,117 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,117 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:43,118 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,118 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:43,118 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,119 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,119 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:43,120 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.583-0.164
2025-08-13 03:14:43,120 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,120 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,120 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:43,121 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:43,121 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,121 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,122 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,122 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,123 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,124 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,125 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:43,125 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,125 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,125 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:43,126 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,126 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:43,126 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,128 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,128 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:43,128 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_0.361-0.930
2025-08-13 03:14:43,128 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,129 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,129 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-13 03:14:43,129 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-13 03:14:43,130 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,130 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,130 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,130 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,132 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,132 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,133 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:43,133 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,133 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,133 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:43,135 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,135 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-13 03:14:43,135 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,137 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,137 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_sharp_angles': True}
2025-08-13 03:14:43,137 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.361-0.313
2025-08-13 03:14:43,137 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,137 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,137 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:43,138 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:43,138 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,138 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,139 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,139 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,139 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,141 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,141 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:43,141 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,141 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,142 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:43,143 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,143 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:43,143 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,145 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,145 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'has_curved_edges': True}
2025-08-13 03:14:43,145 - DEBUG - [PATCH][DIAG] Processing action 6: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.583-0.930
2025-08-13 03:14:43,145 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,145 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,145 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,146 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,146 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=6, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B0073A10>, parent_shape_vertices=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,146 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], geometry={'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [223.5579018922893, 239.5964891682734], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,147 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=6, verts=[(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)]
2025-08-13 03:14:43,147 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,148 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,149 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,150 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:43,150 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,150 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,151 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-13 03:14:43,151 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,152 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,152 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,153 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,153 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'is_simple': True}
2025-08-13 03:14:43,153 - INFO - [collect_stroke_features] Collected 7 valid stroke features
2025-08-13 03:14:43,153 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=7
2025-08-13 03:14:43,154 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,154 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=5449.200528703534. Returning 0.0.
2025-08-13 03:14:43,156 - INFO - Convexity: hull_area=849707.8559, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,156 - INFO - [robust_angular_variance] Computed angular variance: 0.405772 for 9 vertices.
2025-08-13 03:14:43,156 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}}}
2025-08-13 03:14:43,156 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 2337.5414149524154, 'var': 910683.3111029569, 'min': 0.0, 'max': 2727.1316507778183, 'count': 7}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'stroke_index': {'mean': 3.0, 'var': 4.0, 'min': 0.0, 'max': 6.0, 'count': 7}, 'width': {'mean': 1103.2557006667023, 'var': 202862.19017559593, 'min': 0.0, 'max': 1287.1316507778192, 'count': 7}, 'area': {'mean': 178085.28212445506, 'var': 5285727951.557792, 'min': 0.0, 'max': 207766.1624785309, 'count': 7}, 'height': {'mean': 276.7164990727054, 'var': 12762.003476509091, 'min': 0.0, 'max': 322.83591558482294, 'count': 7}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}}}
2025-08-13 03:14:43,157 - INFO - [compute_feature_statistics] INPUT: label=stroke_6, num_features=1
2025-08-13 03:14:43,157 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_6: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,157 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,158 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,159 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182}
2025-08-13 03:14:43,159 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'convexity_ratio': 1e-06, 'compactness': 0.5738054116704182, 'is_simple': True}
2025-08-13 03:14:43,159 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 6: {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.200528703534, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 5449.200528703534, 'var': 0.0, 'min': 5449.200528703534, 'max': 5449.200528703534, 'count': 1}, 'geom_complexity': {'mean': 0.45, 'var': 0.0, 'min': 0.45, 'max': 0.45, 'count': 1}, 'stroke_index': {'mean': 6.0, 'var': 0.0, 'min': 6.0, 'max': 6.0, 'count': 1}, 'width': {'mean': 1996.172765391046, 'var': 0.0, 'min': 1996.172765391046, 'max': 1996.172765391046, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 837.1348399467906, 'var': 0.0, 'min': 837.1348399467906, 'max': 837.1348399467906, 'count': 1}, 'visual_complexity': {'mean': 0.9999999999999998, 'var': 0.0, 'min': 0.9999999999999998, 'max': 0.9999999999999998, 'count': 1}}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-13 03:14:43,159 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=7
2025-08-13 03:14:43,162 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['line_angle', 'geom_complexity', 'robust_curvature', 'degenerate_case', 'convexity_ratio', 'line_is_short', 'line_is_horizontal', 'stroke_length', 'has_repetitive_pattern', 'line_length', 'line_curvature_score', 'has_sharp_angles', 'visual_complexity', 'has_curved_edges', 'robust_angular_variance', 'stroke_index', 'is_geometric', 'is_simple', 'open_stroke_perimeter', 'is_normal', 'is_pattern', 'compactness', 'arc_curvature_score', 'line_is_vertical', 'num_vertices', 'geometric_complexity', 'avg_stroke_length', 'line_is_long']
2025-08-13 03:14:43,162 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (7) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-13 03:14:43,162 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=7
2025-08-13 03:14:43,162 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 7
2025-08-13 03:14:43,163 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 7, 'num_arcs': 0, 'line_ratio': 1.0, 'arc_ratio': 0.0, 'stroke_diversity': 0}, 'line_aggregate': {'total_line_length': 38141.28317222121, 'avg_line_length': 5448.754738888744, 'line_length_variance': 1.1923713538257943, 'line_angle_variance': 0.0, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'horizontal'}}
2025-08-13 03:14:43,163 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930
2025-08-13 03:14:43,163 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-13 03:14:43,164 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-13 03:14:43,164 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-13 03:14:43,164 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-13 03:14:43,165 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_zigzag_0.894-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_circle_0.500-0.926', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.500-0.648', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_zigzag_0.583-0.164', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_triangle_0.361-0.930', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_circle_0.361-0.313', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.583-0.930', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}]
2025-08-13 03:14:43,165 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-13 03:14:43,166 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-13 03:14:43,166 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-13 03:14:43,166 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-13 03:14:43,167 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.4237293391614096, 0.2975557815116552], 'orientation_degrees': 118.30663895797257}, geometry={'area': 0.12433152925499794, 'perimeter': 1.6501113434590904, 'centroid': [0.677600137349416, 0.12854795515194184], 'bounds': [0.3552002746988321, 4.753164162310427e-16, 1.0, 0.3856438654558245], 'width': 0.6447997253011679, 'height': 0.385643865455824}
2025-08-13 03:14:43,167 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']
2025-08-13 03:14:43,167 - DEBUG - [PATCH][actions field] Joined: line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930
2025-08-13 03:14:43,167 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_zigzag_0.894-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_circle_0.500-0.926', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.500-0.648', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_zigzag_0.583-0.164', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_triangle_0.361-0.930', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_circle_0.361-0.313', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.583-0.930', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}]
2025-08-13 03:14:43,167 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:43,168 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-13 03:14:43,168 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-13 03:14:43,168 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:43,169 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:43,169 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|normal': 6}
2025-08-13 03:14:43,169 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-13 03:14:43,169 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-13 03:14:43,170 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.677600137349416, 0.12854795515194184], 'width': 0.6447997253011679, 'height': 0.385643865455824, 'area_raw': 0.5084825935046632, 'area_normalized': 1.0, 'perimeter_raw': 4.117589844652146, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.6720082518077304, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.37687713209159157, 'polsby_popper_compactness': 0.17429059689039136, 'eccentricity': 0.541552212030195, 'symmetry_score': 0.40273020218695216, 'horizontal_symmetry': 0.6007061294530136, 'vertical_symmetry': 0.4500485603803981, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 8.0, 'visual_complexity': 0.5711116454474393, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'moment_of_inertia': 0.1988356493263487, 'irregularity_score': 0.131603482971322, 'standardized_complexity': 0.49298736326093107, 'clustering_heights': [0.16937716748454537, 0.41885919207100863, 0.49314337760036253, 1.2299972457956059, 1.462991292310712, 3.788460711143546], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-13 03:14:43,170 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:43,170 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-13 03:14:43,171 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-13 03:14:43,171 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.894-0.500, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,171 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_zigzag_0.894-0.500, stroke_index=0
2025-08-13 03:14:43,171 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.894, param2=None, param3=0.5
2025-08-13 03:14:43,171 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)]
2025-08-13 03:14:43,173 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], geometry={'width': 0.894, 'height': 1.1102230246251565e-16, 'area': 0.0, 'perimeter': 0.894, 'centroid': [0.052999999999999964, 0.5], 'bounds': [-0.394, 0.5, 0.5, 0.5000000000000001], 'num_vertices': 17, 'analytic_vertices': [(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)], 'open_stroke_perimeter': 0.894, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,173 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.444125, 0.5), (0.38825, 0.5), (0.332375, 0.5), (0.27649999999999997, 0.5), (0.22062500000000002, 0.5), (0.16475, 0.5), (0.108875, 0.5), (0.05299999999999999, 0.5), (-0.002874999999999961, 0.5000000000000001), (-0.05874999999999997, 0.5000000000000001), (-0.11462499999999998, 0.5000000000000001), (-0.17049999999999998, 0.5000000000000001), (-0.226375, 0.5000000000000001), (-0.28225, 0.5000000000000001), (-0.338125, 0.5000000000000001), (-0.394, 0.5000000000000001)]
2025-08-13 03:14:43,173 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,174 - INFO - [SoS] Perturbed collinear vertex 1: [0.444125 0.5     ] -> [0.44412457 0.50000049]
2025-08-13 03:14:43,174 - INFO - [SoS] Perturbed collinear vertex 2: [0.38825 0.5    ] -> [0.38825095 0.50000087]
2025-08-13 03:14:43,175 - INFO - [SoS] Perturbed collinear vertex 3: [0.332375 0.5     ] -> [0.33237572 0.50000091]
2025-08-13 03:14:43,175 - INFO - [SoS] Perturbed collinear vertex 4: [0.2765 0.5   ] -> [0.27649958 0.49999938]
2025-08-13 03:14:43,175 - INFO - [SoS] Perturbed collinear vertex 5: [0.220625 0.5     ] -> [0.22062588 0.49999997]
2025-08-13 03:14:43,175 - INFO - [SoS] Perturbed collinear vertex 6: [0.16475 0.5    ] -> [0.16475001 0.5000008 ]
2025-08-13 03:14:43,176 - INFO - [SoS] Perturbed collinear vertex 7: [0.108875 0.5     ] -> [0.10887461 0.50000086]
2025-08-13 03:14:43,176 - INFO - [SoS] Perturbed collinear vertex 8: [0.053 0.5  ] -> [0.05300099 0.49999911]
2025-08-13 03:14:43,176 - INFO - [SoS] Perturbed collinear vertex 9: [-0.002875  0.5     ] -> [-0.00287498  0.49999999]
2025-08-13 03:14:43,178 - INFO - [SoS] Perturbed collinear vertex 10: [-0.05875  0.5    ] -> [-0.0587509   0.49999956]
2025-08-13 03:14:43,178 - INFO - [SoS] Perturbed collinear vertex 11: [-0.114625  0.5     ] -> [-0.1146245   0.49999922]
2025-08-13 03:14:43,178 - INFO - [SoS] Perturbed collinear vertex 12: [-0.1705  0.5   ] -> [-0.17049906  0.49999904]
2025-08-13 03:14:43,179 - INFO - [SoS] Perturbed collinear vertex 13: [-0.226375  0.5     ] -> [-0.22637521  0.49999993]
2025-08-13 03:14:43,179 - INFO - [SoS] Perturbed collinear vertex 14: [-0.28225  0.5    ] -> [-0.28224993  0.50000056]
2025-08-13 03:14:43,179 - INFO - [SoS] Perturbed collinear vertex 15: [-0.338125  0.5     ] -> [-0.338125    0.50000034]
2025-08-13 03:14:43,181 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,182 - INFO - [robust_angular_variance] Computed angular variance: 1.024526 for 17 vertices.
2025-08-13 03:14:43,182 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,183 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,183 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,183 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,183 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:43,184 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,185 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.5237352967841565}
2025-08-13 03:14:43,185 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.34, 'num_vertices': 17, 'convexity_ratio': 1e-06, 'compactness': 0.5237352967841565, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:43,185 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_circle_0.500-0.926, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,187 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_circle_0.500-0.926, stroke_index=0
2025-08-13 03:14:43,187 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.5, param2=None, param3=0.926
2025-08-13 03:14:43,187 - INFO - [LOGGING PATCH] [_vertices_from_command] Circle vertices: [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)]
2025-08-13 03:14:43,188 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], geometry={'width': 1.0, 'height': 1.0, 'area': 0.0, 'perimeter': 2.972254835764386, 'centroid': [0.4743282037329585, 0.5040660130838809], 'bounds': [0.0, 0.0, 1.0, 1.0], 'num_vertices': 20, 'analytic_vertices': [(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)], 'open_stroke_perimeter': 2.972254835764386, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,188 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(1.0, 0.5), (0.9755282581475768, 0.6545084971874737), (0.9045084971874737, 0.7938926261462366), (0.7938926261462366, 0.9045084971874737), (0.6545084971874737, 0.9755282581475768), (0.5, 1.0), (0.34549150281252633, 0.9755282581475768), (0.2061073738537635, 0.9045084971874737), (0.09549150281252633, 0.7938926261462367), (0.024471741852423234, 0.6545084971874737), (0.0, 0.5000000000000001), (0.024471741852423123, 0.34549150281252655), (0.09549150281252627, 0.2061073738537635), (0.20610737385376338, 0.09549150281252633), (0.3454915028125262, 0.024471741852423234), (0.4999999999999999, 0.0), (0.6545084971874736, 0.02447174185242318), (0.7938926261462365, 0.09549150281252622), (0.9045084971874737, 0.20610737385376332), (0.9755282581475768, 0.34549150281252616)]
2025-08-13 03:14:43,188 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,189 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,189 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:43,190 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,191 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275}
2025-08-13 03:14:43,191 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275, 'has_curved_edges': True}
2025-08-13 03:14:43,192 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.500-0.648, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,192 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_zigzag_0.500-0.648, stroke_index=0
2025-08-13 03:14:43,192 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.5, param2=None, param3=0.648
2025-08-13 03:14:43,192 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)]
2025-08-13 03:14:43,193 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], geometry={'width': 0.2989524915287595, 'height': 0.4007834924354382, 'area': 0.0, 'perimeter': 0.49999999999999994, 'centroid': [0.3505237542356202, 0.29960825378228095], 'bounds': [0.20104750847124048, 0.0992165075645618, 0.5, 0.5], 'num_vertices': 10, 'analytic_vertices': [(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)], 'open_stroke_perimeter': 0.49999999999999994, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,193 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.4667830564968045, 0.4554685008405069), (0.433566112993609, 0.4109370016810137), (0.4003491694904135, 0.3664055025215206), (0.36713222598721795, 0.3218740033620274), (0.33391528248402247, 0.2773425042025343), (0.300698338980827, 0.2328110050430412), (0.2674813954776315, 0.18827950588354803), (0.23426445197443596, 0.1437480067240549), (0.20104750847124048, 0.0992165075645618)]
2025-08-13 03:14:43,194 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,194 - INFO - [SoS] Perturbed collinear vertex 1: [0.46678306 0.4554685 ] -> [0.46678284 0.45546793]
2025-08-13 03:14:43,194 - INFO - [SoS] Perturbed collinear vertex 2: [0.43356611 0.410937  ] -> [0.43356678 0.41093789]
2025-08-13 03:14:43,195 - INFO - [SoS] Perturbed collinear vertex 3: [0.40034917 0.3664055 ] -> [0.40034903 0.3664052 ]
2025-08-13 03:14:43,195 - INFO - [SoS] Perturbed collinear vertex 4: [0.36713223 0.321874  ] -> [0.36713233 0.32187458]
2025-08-13 03:14:43,196 - INFO - [SoS] Perturbed collinear vertex 5: [0.33391528 0.2773425 ] -> [0.3339144  0.27734171]
2025-08-13 03:14:43,196 - INFO - [SoS] Perturbed collinear vertex 6: [0.30069834 0.23281101] -> [0.30069776 0.23281069]
2025-08-13 03:14:43,197 - INFO - [SoS] Perturbed collinear vertex 7: [0.2674814  0.18827951] -> [0.26748187 0.18827866]
2025-08-13 03:14:43,197 - INFO - [SoS] Perturbed collinear vertex 8: [0.23426445 0.14374801] -> [0.23426384 0.14374836]
2025-08-13 03:14:43,198 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,198 - INFO - [robust_angular_variance] Computed angular variance: 1.579137 for 10 vertices.
2025-08-13 03:14:43,198 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,199 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,199 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,200 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,200 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:43,200 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,202 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-13 03:14:43,202 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.2, 'num_vertices': 10, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:43,202 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.583-0.164, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,202 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_zigzag_0.583-0.164, stroke_index=0
2025-08-13 03:14:43,203 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.583, param2=None, param3=0.164
2025-08-13 03:14:43,203 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)]
2025-08-13 03:14:43,204 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], geometry={'width': 0.2999182481946182, 'height': 0.4999380405608993, 'area': 0.0, 'perimeter': 0.5830000000000001, 'centroid': [0.6499591240973089, 0.7499690202804496], 'bounds': [0.5, 0.5, 0.7999182481946182, 0.9999380405608993], 'num_vertices': 11, 'analytic_vertices': [(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)], 'open_stroke_perimeter': 0.5830000000000001, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,204 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5299918248194618, 0.5499938040560899), (0.5599836496389237, 0.5999876081121799), (0.5899754744583855, 0.6499814121682698), (0.6199672992778473, 0.6999752162243598), (0.649959124097309, 0.7499690202804496), (0.679950948916771, 0.7999628243365395), (0.7099427737362327, 0.8499566283926294), (0.7399345985556945, 0.8999504324487194), (0.7699264233751564, 0.9499442365048094), (0.7999182481946182, 0.9999380405608993)]
2025-08-13 03:14:43,204 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,205 - INFO - [SoS] Perturbed collinear vertex 1: [0.52999182 0.5499938 ] -> [0.52999203 0.54999426]
2025-08-13 03:14:43,205 - INFO - [SoS] Perturbed collinear vertex 2: [0.55998365 0.59998761] -> [0.55998377 0.59998808]
2025-08-13 03:14:43,206 - INFO - [SoS] Perturbed collinear vertex 3: [0.58997547 0.64998141] -> [0.58997539 0.64998054]
2025-08-13 03:14:43,206 - INFO - [SoS] Perturbed collinear vertex 4: [0.6199673  0.69997522] -> [0.61996824 0.6999761 ]
2025-08-13 03:14:43,206 - INFO - [SoS] Perturbed collinear vertex 5: [0.64995912 0.74996902] -> [0.64995975 0.74997001]
2025-08-13 03:14:43,207 - INFO - [SoS] Perturbed collinear vertex 6: [0.67995095 0.79996282] -> [0.67995089 0.79996273]
2025-08-13 03:14:43,208 - INFO - [SoS] Perturbed collinear vertex 7: [0.70994277 0.84995663] -> [0.70994253 0.84995592]
2025-08-13 03:14:43,208 - INFO - [SoS] Perturbed collinear vertex 8: [0.7399346  0.89995043] -> [0.73993511 0.8999508 ]
2025-08-13 03:14:43,209 - INFO - [SoS] Perturbed collinear vertex 9: [0.76992642 0.94994424] -> [0.76992657 0.9499443 ]
2025-08-13 03:14:43,210 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,210 - INFO - [robust_angular_variance] Computed angular variance: 1.468206 for 11 vertices.
2025-08-13 03:14:43,211 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,211 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,211 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,212 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,212 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:43,212 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,214 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-13 03:14:43,214 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:43,214 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_0.361-0.930, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,215 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_triangle_0.361-0.930, stroke_index=0
2025-08-13 03:14:43,215 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=0.361, param2=None, param3=0.93
2025-08-13 03:14:43,215 - INFO - [LOGGING PATCH] [_vertices_from_command] Triangle vertices: [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)]
2025-08-13 03:14:43,215 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], geometry={'width': 0.5415000000000001, 'height': 0.6252703415323646, 'area': 0.0, 'perimeter': 1.8758110245970938, 'centroid': [0.5, 0.5000000000000001], 'bounds': [0.31949999999999984, 0.1873648292338177, 0.861, 0.8126351707661823], 'num_vertices': 4, 'analytic_vertices': [(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)], 'open_stroke_perimeter': 1.8758110245970938, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,216 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.861, 0.5), (0.3195000000000001, 0.8126351707661823), (0.31949999999999984, 0.1873648292338177), (0.861, 0.5)]
2025-08-13 03:14:43,216 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,217 - INFO - [SoS] Removed duplicate vertex: [0.861 0.5  ]
2025-08-13 03:14:43,217 - INFO - Convexity: poly_area=0.1693, hull_area=0.1693, ratio=1.0000
2025-08-13 03:14:43,217 - INFO - [robust_angular_variance] Computed angular variance: 0.068539 for 4 vertices.
2025-08-13 03:14:43,218 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,218 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,218 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,218 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,219 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-13 03:14:43,219 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,219 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-13 03:14:43,220 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-13 03:14:43,220 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_circle_0.361-0.313, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,220 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_circle_0.361-0.313, stroke_index=0
2025-08-13 03:14:43,220 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.361, param2=None, param3=0.313
2025-08-13 03:14:43,221 - INFO - [LOGGING PATCH] [_vertices_from_command] Circle vertices: [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)]
2025-08-13 03:14:43,221 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], geometry={'width': 0.722, 'height': 0.722, 'area': 0.0, 'perimeter': 2.1459679914218865, 'centroid': [0.4814649630951961, 0.5029356614465622], 'bounds': [0.139, 0.139, 0.861, 0.861], 'num_vertices': 20, 'analytic_vertices': [(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)], 'open_stroke_perimeter': 2.1459679914218865, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,221 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.861, 0.5), (0.8433314023825504, 0.611555134969356), (0.7920551349693561, 0.7121904760775828), (0.7121904760775828, 0.7920551349693561), (0.611555134969356, 0.8433314023825504), (0.5, 0.861), (0.388444865030644, 0.8433314023825504), (0.2878095239224172, 0.7920551349693561), (0.20794486503064402, 0.7121904760775828), (0.1566685976174496, 0.611555134969356), (0.139, 0.5), (0.1566685976174495, 0.3884448650306442), (0.20794486503064397, 0.2878095239224172), (0.28780952392241715, 0.20794486503064402), (0.3884448650306439, 0.1566685976174496), (0.49999999999999994, 0.139), (0.611555134969356, 0.15666859761744956), (0.7121904760775827, 0.20794486503064397), (0.792055134969356, 0.2878095239224171), (0.8433314023825504, 0.3884448650306439)]
2025-08-13 03:14:43,222 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,222 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,222 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:43,223 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,225 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547272}
2025-08-13 03:14:43,225 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547272, 'has_curved_edges': True}
2025-08-13 03:14:43,225 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.583-0.930, all_vertices=None, bongard_image=[line_zigzag_0.894-0.500, line_circle_0.500-0.926, line_zigzag_0.500-0.648, line_zigzag_0.583-0.164, line_triangle_0.361-0.930, line_circle_0.361-0.313, line_normal_0.583-0.930], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,225 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.583-0.930, stroke_index=0
2025-08-13 03:14:43,226 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.583, param2=None, param3=0.93
2025-08-13 03:14:43,226 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)]
2025-08-13 03:14:43,226 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], geometry={'width': 0.5275141715876894, 'height': 0.24822932698243705, 'area': 0.0, 'perimeter': 0.583, 'centroid': [0.7637570857938447, 0.3758853365087814], 'bounds': [0.5, 0.25177067301756295, 1.0275141715876894, 0.5], 'num_vertices': 11, 'analytic_vertices': [(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)], 'open_stroke_perimeter': 0.583, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,227 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.552751417158769, 0.4751770673017563), (0.6055028343175379, 0.4503541346035126), (0.6582542514763068, 0.4255312019052689), (0.7110056686350757, 0.4007082692070252), (0.7637570857938447, 0.3758853365087815), (0.8165085029526137, 0.35106240381053777), (0.8692599201113826, 0.32623947111229407), (0.9220113372701515, 0.30141653841405036), (0.9747627544289206, 0.27659360571580666), (1.0275141715876894, 0.25177067301756295)]
2025-08-13 03:14:43,227 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,227 - INFO - [SoS] Perturbed collinear vertex 1: [0.55275142 0.47517707] -> [0.55275042 0.4751775 ]
2025-08-13 03:14:43,227 - INFO - [SoS] Perturbed collinear vertex 2: [0.60550283 0.45035413] -> [0.60550196 0.45035321]
2025-08-13 03:14:43,228 - INFO - [SoS] Perturbed collinear vertex 3: [0.65825425 0.4255312 ] -> [0.65825393 0.42553049]
2025-08-13 03:14:43,228 - INFO - [SoS] Perturbed collinear vertex 4: [0.71100567 0.40070827] -> [0.71100625 0.40070913]
2025-08-13 03:14:43,229 - INFO - [SoS] Perturbed collinear vertex 5: [0.76375709 0.37588534] -> [0.76375618 0.37588601]
2025-08-13 03:14:43,229 - INFO - [SoS] Perturbed collinear vertex 6: [0.8165085 0.3510624] -> [0.81650757 0.35106263]
2025-08-13 03:14:43,229 - INFO - [SoS] Perturbed collinear vertex 7: [0.86925992 0.32623947] -> [0.86926062 0.32623914]
2025-08-13 03:14:43,230 - INFO - [SoS] Perturbed collinear vertex 8: [0.92201134 0.30141654] -> [0.92201154 0.30141753]
2025-08-13 03:14:43,230 - INFO - [SoS] Perturbed collinear vertex 9: [0.97476275 0.27659361] -> [0.97476267 0.27659352]
2025-08-13 03:14:43,232 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,232 - INFO - [robust_angular_variance] Computed angular variance: 1.468206 for 11 vertices.
2025-08-13 03:14:43,232 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,232 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,233 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,233 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,233 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,234 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,235 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-13 03:14:43,235 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.22, 'num_vertices': 11, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-13 03:14:43,236 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['zigzag', 'circle', 'zigzag', 'zigzag', 'triangle', 'circle', 'normal'], n=2
2025-08-13 03:14:43,236 - DEBUG - [ensure_str_list] Converting list: ['zigzag', 'circle', 'zigzag', 'zigzag', 'triangle', 'circle', 'normal']
2025-08-13 03:14:43,236 - DEBUG - [ensure_str_list] Returning string: zigzag
2025-08-13 03:14:43,236 - DEBUG - [ensure_str_list] Returning string: circle
2025-08-13 03:14:43,237 - DEBUG - [ensure_str_list] Returning string: zigzag
2025-08-13 03:14:43,237 - DEBUG - [ensure_str_list] Returning string: zigzag
2025-08-13 03:14:43,237 - DEBUG - [ensure_str_list] Returning string: triangle
2025-08-13 03:14:43,237 - DEBUG - [ensure_str_list] Returning string: circle
2025-08-13 03:14:43,237 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,237 - DEBUG - [ensure_str_list] Result: ['zigzag', 'circle', 'zigzag', 'zigzag', 'triangle', 'circle', 'normal']
2025-08-13 03:14:43,239 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['zigzag', 'circle', 'zigzag', 'zigzag', 'triangle', 'circle', 'normal']
2025-08-13 03:14:43,239 - DEBUG - [_extract_ngram_features] OUTPUT: {'zigzag|circle': 1, 'circle|zigzag': 1, 'zigzag|zigzag': 1, 'zigzag|triangle': 1, 'triangle|circle': 1, 'circle|normal': 1}
2025-08-13 03:14:43,239 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:43,240 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_4', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/4.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_zigzag_0.894-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_circle_0.500-0.926', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.500-0.648', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_zigzag_0.583-0.164', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_triangle_0.361-0.930', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_circle_0.361-0.313', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.583-0.930', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 7, 'raw_vertices': ['(0.0, 0.0)', '(1287.3600000000001, 0.0)', '(643.79417461109, 322.83591558482294)', '(0.22834922218021347, -3.979039320256561e-13)', '(63.46670899899013, 837.1348399467902)', '(-192.6726722314738, 384.778516919384)', '(-708.8127653910458, 446.689984623101)', '(2.829815511103675, 1.3152351739121855)'], 'vertices': ['(0.35508588118232887, 4.753164162310427e-16)', '(1.0, 4.753164162310427e-16)', '(0.6776001373494158, 0.3856438654558245)', '(0.3552002746988317, 0.0)', '(0.3868800776062828, 1.0)', '(0.2585648407333427, 0.45963744256999434)', '(0.0, 0.5335938289839826)', '(0.35650350172107487, 0.0015711150834388655)'], 'num_vertices': 8, 'position_label': ['0.4237293391614096', '0.2975557815116552'], 'rotation_label_degrees': ['118.30663895797257'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.677600137349416, 0.12854795515194184], 'width': 0.6447997253011679, 'height': 0.385643865455824, 'area_raw': 0.5084825935046632, 'area_normalized': 1.0, 'perimeter_raw': 4.117589844652146, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.6720082518077304, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.37687713209159157, 'polsby_popper_compactness': 0.17429059689039136, 'eccentricity': 0.541552212030195, 'symmetry_score': 0.40273020218695216, 'horizontal_symmetry': 0.6007061294530136, 'vertical_symmetry': 0.4500485603803981, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 8.0, 'visual_complexity': 0.5711116454474393, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'moment_of_inertia': 0.1988356493263487, 'irregularity_score': 0.131603482971322, 'standardized_complexity': 0.49298736326093107, 'clustering_heights': [0.16937716748454537, 0.41885919207100863, 0.49314337760036253, 1.2299972457956059, 1.462991292310712, 3.788460711143546], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 0.1920784474321023, 'perimeter_mean': 1.3866826903100709, 'width_mean': 0.47029257347834985, 'height_mean': 0.39456080520824605, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.1988356493263487, 'center_of_mass': [0.677600137349416, 0.12854795515194184], 'polsby_popper_compactness': 0.6802566981244207, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'edge_length_variance': 0.07423181245043547}, 'composition_features': {'stroke_type_distribution': {'line': 7}, 'shape_modifier_distribution': {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'zigzag', 'composition_complexity': 11, 'homogeneity_score': 0.30612244897959184, 'pattern_regularity': 0.5714285714285714}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 7}}, 'processing_metadata': {'processing_timestamp': 1755035083.2402525, 'feature_count': 54}, 'actions': ['line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930'], 'action_program': ['line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930'], 'geometry': {'area': 0.12433152925499794, 'perimeter': 1.6501113434590904, 'centroid': [0.677600137349416, 0.12854795515194184], 'bounds': [0.3552002746988321, 4.753164162310427e-16, 1.0, 0.3856438654558245], 'width': 0.6447997253011679, 'height': 0.385643865455824}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 6}, 'analytic_attributes': ['zigzag', 'circle', 'zigzag', 'zigzag', 'triangle', 'circle', 'normal'], 'analytic_ngram': {'zigzag|circle': 1, 'circle|zigzag': 1, 'zigzag|zigzag': 1, 'zigzag|triangle': 1, 'triangle|circle': 1, 'circle|normal': 1}, 'alternation': 0.14285714285714285, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 7}}}, 'topological_features': {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 5, 1: 2, 2: 6, 3: 4, 5: 5, 6: 4, 4: 2}, 'adjacency_clustering': {0: 0.7, 1: 1.0, 2: 0.5333333333333333, 3: 1.0, 5: 0.7, 6: 1.0, 4: 1.0}, 'intersection_count': 14, 'betweenness_centrality': {0: 0.1, 1: 0.0, 2: 0.26666666666666666, 3: 0.0, 5: 0.1, 6: 0.0, 4: 0.0}, 'containment_score': 2, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1692919449698877, 0.40271403723937527, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1692919449698877, 0.0, 0.0, 0.16927386481281592, 0.0, 0.0, 0.40271403723937527, 0.0, 0.0, 0.16927386481281592, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 4473.356250504268, 'skeleton_graph_features': {'num_nodes': 7, 'num_edges': 14}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.2474078250225908, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.7848807085191869, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.5682027026722688, 'complexity': 4, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.19509708599975403, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.18200108496378298, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}}
2025-08-13 03:14:43,240 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.4237293391614096, 0.2975557815116552], 'orientation_degrees': 118.30663895797257}
2025-08-13 03:14:43,241 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.12433152925499794, 'perimeter': 1.6501113434590904, 'centroid': [0.677600137349416, 0.12854795515194184], 'bounds': [0.3552002746988321, 4.753164162310427e-16, 1.0, 0.3856438654558245], 'width': 0.6447997253011679, 'height': 0.385643865455824}
2025-08-13 03:14:43,241 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_zigzag_0.894-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_circle_0.500-0.926', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.500-0.648', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_zigzag_0.583-0.164', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_triangle_0.361-0.930', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_circle_0.361-0.313', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.583-0.930', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}]
2025-08-13 03:14:43,241 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_zigzag_0.894-0.500', 'line_circle_0.500-0.926', 'line_zigzag_0.500-0.648', 'line_zigzag_0.583-0.164', 'line_triangle_0.361-0.930', 'line_circle_0.361-0.313', 'line_normal_0.583-0.930']]
2025-08-13 03:14:43,242 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)]
2025-08-13 03:14:43,242 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(0.35508588118232887, 4.753164162310427e-16), (1.0, 4.753164162310427e-16), (0.6776001373494158, 0.3856438654558245), (0.3552002746988317, 0.0), (0.3868800776062828, 1.0), (0.2585648407333427, 0.45963744256999434), (0.0, 0.5335938289839826), (0.35650350172107487, 0.0015711150834388655)]
2025-08-13 03:14:43,242 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.677600137349416, 0.12854795515194184], 'width': 0.6447997253011679, 'height': 0.385643865455824, 'area_raw': 0.5084825935046632, 'area_normalized': 1.0, 'perimeter_raw': 4.117589844652146, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.6720082518077304, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.37687713209159157, 'polsby_popper_compactness': 0.17429059689039136, 'eccentricity': 0.541552212030195, 'symmetry_score': 0.40273020218695216, 'horizontal_symmetry': 0.6007061294530136, 'vertical_symmetry': 0.4500485603803981, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 8.0, 'visual_complexity': 0.5711116454474393, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'moment_of_inertia': 0.1988356493263487, 'irregularity_score': 0.131603482971322, 'standardized_complexity': 0.49298736326093107, 'clustering_heights': [0.16937716748454537, 0.41885919207100863, 0.49314337760036253, 1.2299972457956059, 1.462991292310712, 3.788460711143546], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-13 03:14:43,243 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.1988356493263487, 'center_of_mass': [0.677600137349416, 0.12854795515194184], 'polsby_popper_compactness': 0.6802566981244207, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'edge_length_variance': 0.07423181245043547}
2025-08-13 03:14:43,243 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 7}, 'shape_modifier_distribution': {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'zigzag', 'composition_complexity': 11, 'homogeneity_score': 0.30612244897959184, 'pattern_regularity': 0.5714285714285714}
2025-08-13 03:14:43,243 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-13 03:14:43,244 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}
2025-08-13 03:14:43,245 - INFO - [PIPELINE] INPUT: images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/4.png
2025-08-13 03:14:43,246 - INFO - [PIPELINE] OUTPUT: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_4', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/4.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_zigzag_0.894-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855)], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_circle_0.500-0.926', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.500-0.648', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_zigzag_0.583-0.164', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_triangle_0.361-0.930', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_circle_0.361-0.313', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 6, 'stroke_command': 'line_normal_0.583-0.930', 'features': {'stroke_index': 6, 'analytic_vertices': [(0.0, 0.0), (1287.3600000000001, 0.0), (643.79417461109, 322.83591558482294), (0.22834922218021347, -3.979039320256561e-13), (63.46670899899013, 837.1348399467902), (-192.6726722314738, 384.778516919384), (-708.8127653910458, 446.689984623101), (2.829815511103675, 1.3152351739121855), (0.0, 0.0)], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 7, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 7, 'raw_vertices': ['(0.0, 0.0)', '(1287.3600000000001, 0.0)', '(643.79417461109, 322.83591558482294)', '(0.22834922218021347, -3.979039320256561e-13)', '(63.46670899899013, 837.1348399467902)', '(-192.6726722314738, 384.778516919384)', '(-708.8127653910458, 446.689984623101)', '(2.829815511103675, 1.3152351739121855)'], 'vertices': ['(0.35508588118232887, 4.753164162310427e-16)', '(1.0, 4.753164162310427e-16)', '(0.6776001373494158, 0.3856438654558245)', '(0.3552002746988317, 0.0)', '(0.3868800776062828, 1.0)', '(0.2585648407333427, 0.45963744256999434)', '(0.0, 0.5335938289839826)', '(0.35650350172107487, 0.0015711150834388655)'], 'num_vertices': 8, 'position_label': ['0.4237293391614096', '0.2975557815116552'], 'rotation_label_degrees': ['118.30663895797257'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.677600137349416, 0.12854795515194184], 'width': 0.6447997253011679, 'height': 0.385643865455824, 'area_raw': 0.5084825935046632, 'area_normalized': 1.0, 'perimeter_raw': 4.117589844652146, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.6720082518077304, 'convexity_ratio': 1.0, 'is_convex': True, 'compactness': 0.37687713209159157, 'polsby_popper_compactness': 0.17429059689039136, 'eccentricity': 0.541552212030195, 'symmetry_score': 0.40273020218695216, 'horizontal_symmetry': 0.6007061294530136, 'vertical_symmetry': 0.4500485603803981, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 8.0, 'visual_complexity': 0.5711116454474393, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'moment_of_inertia': 0.1988356493263487, 'irregularity_score': 0.131603482971322, 'standardized_complexity': 0.49298736326093107, 'clustering_heights': [0.16937716748454537, 0.41885919207100863, 0.49314337760036253, 1.2299972457956059, 1.462991292310712, 3.788460711143546], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 0.1920784474321023, 'perimeter_mean': 1.3866826903100709, 'width_mean': 0.47029257347834985, 'height_mean': 0.39456080520824605, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.1988356493263487, 'center_of_mass': [0.677600137349416, 0.12854795515194184], 'polsby_popper_compactness': 0.6802566981244207, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 2.252643883464292, 'angular_variance': 0.2474078250225908, 'edge_length_variance': 0.07423181245043547}, 'composition_features': {'stroke_type_distribution': {'line': 7}, 'shape_modifier_distribution': {'zigzag': 3, 'circle': 2, 'triangle': 1, 'normal': 1}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'zigzag', 'composition_complexity': 11, 'homogeneity_score': 0.30612244897959184, 'pattern_regularity': 0.5714285714285714}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [[0.0, 0.0], [1287.3600000000001, 0.0], [643.79417461109, 322.83591558482294], [0.22834922218021347, -3.979039320256561e-13], [63.46670899899013, 837.1348399467902], [-192.6726722314738, 384.778516919384], [-708.8127653910458, 446.689984623101], [2.829815511103675, 1.3152351739121855]], 'open_stroke_perimeter': 5446.080000000001, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 5446.080000000001, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 1, 'analytic_vertices': [[0.0, 0.0], [1287.3600000000001, 0.0], [643.79417461109, 322.83591558482294], [0.22834922218021347, -3.979039320256561e-13], [63.46670899899013, 837.1348399467902], [-192.6726722314738, 384.778516919384], [-708.8127653910458, 446.689984623101], [2.829815511103675, 1.3152351739121855], [0.0, 0.0]], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 2, 'analytic_vertices': [[0.0, 0.0], [1287.3600000000001, 0.0], [643.79417461109, 322.83591558482294], [0.22834922218021347, -3.979039320256561e-13], [63.46670899899013, 837.1348399467902], [-192.6726722314738, 384.778516919384], [-708.8127653910458, 446.689984623101], [2.829815511103675, 1.3152351739121855], [0.0, 0.0]], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [[0.0, 0.0], [1287.3600000000001, 0.0], [643.79417461109, 322.83591558482294], [0.22834922218021347, -3.979039320256561e-13], [63.46670899899013, 837.1348399467902], [-192.6726722314738, 384.778516919384], [-708.8127653910458, 446.689984623101], [2.829815511103675, 1.3152351739121855], [0.0, 0.0]], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.18, 'num_vertices': 9, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 4, 'analytic_vertices': [[0.0, 0.0], [1287.3600000000001, 0.0], [643.79417461109, 322.83591558482294], [0.22834922218021347, -3.979039320256561e-13], [63.46670899899013, 837.1348399467902], [-192.6726722314738, 384.778516919384], [-708.8127653910458, 446.689984623101], [2.829815511103675, 1.3152351739121855], [0.0, 0.0]], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 5, 'analytic_vertices': [[0.0, 0.0], [1287.3600000000001, 0.0], [643.79417461109, 322.83591558482294], [0.22834922218021347, -3.979039320256561e-13], [63.46670899899013, 837.1348399467902], [-192.6726722314738, 384.778516919384], [-708.8127653910458, 446.689984623101], [2.829815511103675, 1.3152351739121855], [0.0, 0.0]], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 6, 'analytic_vertices': [[0.0, 0.0], [1287.3600000000001, 0.0], [643.79417461109, 322.83591558482294], [0.22834922218021347, -3.979039320256561e-13], [63.46670899899013, 837.1348399467902], [-192.6726722314738, 384.778516919384], [-708.8127653910458, 446.689984623101], [2.829815511103675, 1.3152351739121855], [0.0, 0.0]], 'open_stroke_perimeter': 5449.200528703534, 'compactness': 0.5738054116704182, 'convexity_ratio': 1e-06, 'geom_complexity': 0.45, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 5449.200528703534, 'avg_stroke_length': 5449.2005287035345, 'visual_complexity': 0.9999999999999998, 'robust_curvature': 0.0, 'robust_angular_variance': 0.4057719201536895, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1996.172765391046, 'height': 837.1348399467906, 'area': 0.0, 'perimeter': 5449.200528703534, 'centroid': [121.79929008009383, 221.41716580533443], 'bounds': [-708.8127653910458, -3.979039320256561e-13, 1287.3600000000001, 837.1348399467902], 'num_vertices': 9, 'degenerate_case': True}, 'line_length': 5449.2005287035345, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.18, 'num_vertices': 9, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 7}}, 'processing_metadata': {'processing_timestamp': 1755035083.2402525, 'feature_count': 54}, 'actions': ['line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930'], 'action_program': ['line_zigzag_0.894-0.500,line_circle_0.500-0.926,line_zigzag_0.500-0.648,line_zigzag_0.583-0.164,line_triangle_0.361-0.930,line_circle_0.361-0.313,line_normal_0.583-0.930'], 'geometry': {'area': 0.12433152925499794, 'perimeter': 1.6501113434590904, 'centroid': [0.677600137349416, 0.12854795515194184], 'bounds': [0.3552002746988321, 4.753164162310427e-16, 1.0, 0.3856438654558245], 'width': 0.6447997253011679, 'height': 0.385643865455824}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 6}, 'analytic_attributes': ['zigzag', 'circle', 'zigzag', 'zigzag', 'triangle', 'circle', 'normal'], 'analytic_ngram': {'zigzag|circle': 1, 'circle|zigzag': 1, 'zigzag|zigzag': 1, 'zigzag|triangle': 1, 'triangle|circle': 1, 'circle|normal': 1}, 'alternation': 0.14285714285714285, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 7}}}, 'topological_features': {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 5, 1: 2, 2: 6, 3: 4, 5: 5, 6: 4, 4: 2}, 'adjacency_clustering': {0: 0.7, 1: 1.0, 2: 0.5333333333333333, 3: 1.0, 5: 0.7, 6: 1.0, 4: 1.0}, 'intersection_count': 14, 'betweenness_centrality': {0: 0.1, 1: 0.0, 2: 0.26666666666666666, 3: 0.0, 5: 0.1, 6: 0.0, 4: 0.0}, 'containment_score': 2, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1692919449698877, 0.40271403723937527, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1692919449698877, 0.0, 0.0, 0.16927386481281592, 0.0, 0.0, 0.40271403723937527, 0.0, 0.0, 0.16927386481281592, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 4473.356250504268, 'skeleton_graph_features': {'num_nodes': 7, 'num_edges': 14}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.2474078250225908, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.7848807085191869, 'complexity': 5, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.5682027026722688, 'complexity': 4, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.19509708599975403, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.18200108496378298, 'complexity': 2, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}}
2025-08-13 03:14:43,246 - INFO - [INPUT] Processing image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018, is_positive=False
2025-08-13 03:14:43,246 - INFO - [INPUT] action_commands type: <class 'list'>, value: [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-13 03:14:43,247 - INFO - [SHAPE SPLIT] Raw action_commands: [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-13 03:14:43,247 - INFO - [SHAPE SPLIT] Sublist 0: ['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-13 03:14:43,247 - INFO - [SHAPE SPLIT] Parsed shapes_commands (multi-object): [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-13 03:14:43,248 - INFO - ComprehensiveNVLabsParser initialized:
2025-08-13 03:14:43,248 - INFO -   Canvas size: 512x512
2025-08-13 03:14:43,248 - INFO -   Coordinate range: (-360, 360)
2025-08-13 03:14:43,248 - INFO -   Base scaling factor: 1440.0
2025-08-13 03:14:43,248 - INFO - [PARSER] Parsing shape 0 commands: ['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-13 03:14:43,248 - INFO - [LOGOPARSER] Input action_commands for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: ['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-13 03:14:43,249 - DEBUG - Parsing 4 commands for hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-13 03:14:43,249 - DEBUG - [ACTIONS_JOIN] line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750
2025-08-13 03:14:43,249 - DEBUG - [ACTIONS_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-13 03:14:43,249 - DEBUG - [ACTIONS_ATTRS] [{'line_length': 187.20000000000002, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_0.130-0.500'}, {'line_length': 1152.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.800-0.750'}, {'line_length': 187.20000000000002, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.130-0.750'}, {'line_length': 1440.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_1.000-0.750'}]
2025-08-13 03:14:43,249 - INFO - [OneStrokeShape.__init__] basic_actions: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], start_coordinates: None, start_orientation: None, scaling_factors: None
2025-08-13 03:14:43,250 - DEBUG - [OUTPUT_SHAPE_ACTIONS] line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750
2025-08-13 03:14:43,250 - DEBUG - [OUTPUT_SHAPE_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-13 03:14:43,250 - DEBUG - [OUTPUT_SHAPE_ATTRS] [{'line_length': 187.20000000000002, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_normal_0.130-0.500'}, {'line_length': 1152.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.800-0.750'}, {'line_length': 187.20000000000002, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.130-0.750'}, {'line_length': 1440.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_1.000-0.750'}]
2025-08-13 03:14:43,250 - INFO - [OneStrokeShape._calculate_vertices] INPUT basic_actions: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750]
2025-08-13 03:14:43,251 - INFO - [OneStrokeShape._calculate_vertices] OUTPUT vertices: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-13 03:14:43,251 - INFO - [LOGOPARSER] Shape for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 has 5 vertices.
2025-08-13 03:14:43,251 - INFO - [LOGOPARSER] Parsed vertices (raw): [[0.0, 0.0], [187.20000000000002, 0.0], [187.20000000000007, 1152.0], [5.684341886080802e-14, 1152.0], [-2.0768028975502026e-13, -288.0]]
2025-08-13 03:14:43,251 - INFO - [LOGOPARSER] Vertices bounding box: min=(-0.00,-288.00), max=(187.20,1152.00), center=(74.88,403.20)
2025-08-13 03:14:43,252 - INFO - Successfully created OneStrokeShape with 4 actions using NVLabs implementation
2025-08-13 03:14:43,252 - INFO - [PARSER] Parsed shape 0: type=OneStrokeShape, num_actions=4, action_types=['str', 'str', 'str', 'str'], attributes={}
2025-08-13 03:14:43,252 - INFO - [FEATURE EXTRACTION][geometry] INPUT: shape 0 vertices: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-13 03:14:43,252 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 0 command: line_normal_0.130-0.500
2025-08-13 03:14:43,253 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,253 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.130-0.500, stroke_index=0
2025-08-13 03:14:43,253 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.13, param2=None, param3=0.5
2025-08-13 03:14:43,253 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)]
2025-08-13 03:14:43,254 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], geometry={'width': 0.13, 'height': 0.0, 'area': 0.0, 'perimeter': 0.13, 'centroid': [0.43499999999999994, 0.5], 'bounds': [0.37, 0.5, 0.5, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'open_stroke_perimeter': 0.13, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,254 - INFO - [_calculate_vertices_from_action] Bounding box: (0.37, 0.5, 0.5, 0.5)
2025-08-13 03:14:43,255 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)]
2025-08-13 03:14:43,255 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], geometry={'width': 0.13, 'height': 0.0, 'area': 0.0, 'perimeter': 0.13, 'centroid': [0.43499999999999994, 0.5], 'bounds': [0.37, 0.5, 0.5, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'open_stroke_perimeter': 0.13, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,255 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)]
2025-08-13 03:14:43,256 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,256 - INFO - [SoS] Perturbed collinear vertex 1: [0.48142857 0.5       ] -> [0.48142874 0.50000083]
2025-08-13 03:14:43,257 - INFO - [SoS] Perturbed collinear vertex 2: [0.46285714 0.5       ] -> [0.46285688 0.49999914]
2025-08-13 03:14:43,257 - INFO - [SoS] Perturbed collinear vertex 3: [0.44428571 0.5       ] -> [0.44428516 0.50000034]
2025-08-13 03:14:43,257 - INFO - [SoS] Perturbed collinear vertex 4: [0.42571429 0.5       ] -> [0.42571392 0.50000058]
2025-08-13 03:14:43,258 - INFO - [SoS] Perturbed collinear vertex 5: [0.40714286 0.5       ] -> [0.40714249 0.50000098]
2025-08-13 03:14:43,258 - INFO - [SoS] Perturbed collinear vertex 6: [0.38857143 0.5       ] -> [0.38857157 0.49999965]
2025-08-13 03:14:43,260 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,261 - INFO - [robust_angular_variance] Computed angular variance: 1.850551 for 8 vertices.
2025-08-13 03:14:43,261 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,261 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,261 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,262 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,262 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,263 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,264 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.38969690614169566}
2025-08-13 03:14:43,264 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.38969690614169566, 'is_simple': True}
2025-08-13 03:14:43,265 - INFO - [SoS] Perturbed collinear vertex 1: [0.48142857 0.5       ] -> [0.48142788 0.49999945]
2025-08-13 03:14:43,265 - INFO - [SoS] Perturbed collinear vertex 2: [0.46285714 0.5       ] -> [0.46285692 0.50000012]
2025-08-13 03:14:43,265 - INFO - [SoS] Perturbed collinear vertex 3: [0.44428571 0.5       ] -> [0.444285   0.50000032]
2025-08-13 03:14:43,266 - INFO - [SoS] Perturbed collinear vertex 4: [0.42571429 0.5       ] -> [0.42571498 0.50000041]
2025-08-13 03:14:43,266 - INFO - [SoS] Perturbed collinear vertex 5: [0.40714286 0.5       ] -> [0.4071435  0.50000043]
2025-08-13 03:14:43,267 - INFO - [SoS] Perturbed collinear vertex 6: [0.38857143 0.5       ] -> [0.38857109 0.50000058]
2025-08-13 03:14:43,267 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=0, assigned is_positive=False
2025-08-13 03:14:43,268 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=0, stroke_dict: {'area': 3.356218273493338e-08, 'perimeter': 0.1921966415653528, 'centroid': [0.41389641159313706, 0.500000202110099], 'bounds': [0.37, 0.5, 0.4660983207762213, 0.5000005764818267], 'width': 0.09609832077622132, 'height': 5.764818267195437e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.1921966415653528, 'analytic_vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'normal', 'command': 'line_normal_0.130-0.500', 'vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'geometry': {'area': 3.356218273493338e-08, 'perimeter': 0.1921966415653528, 'centroid': [0.41389641159313706, 0.500000202110099], 'bounds': [0.37, 0.5, 0.4660983207762213, 0.5000005764818267], 'width': 0.09609832077622132, 'height': 5.764818267195437e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.1921966415653528}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-13 03:14:43,268 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 1 command: line_normal_0.800-0.750
2025-08-13 03:14:43,268 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,269 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.800-0.750, stroke_index=1
2025-08-13 03:14:43,269 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.8, param2=None, param3=0.75
2025-08-13 03:14:43,269 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)]
2025-08-13 03:14:43,269 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], geometry={'width': 1.6653345369377348e-16, 'height': 0.8, 'area': 0.0, 'perimeter': 0.8, 'centroid': [0.5, 0.09999999999999999], 'bounds': [0.49999999999999983, -0.30000000000000004, 0.5, 0.5], 'num_vertices': 16, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'open_stroke_perimeter': 0.8, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,269 - INFO - [_calculate_vertices_from_action] Bounding box: (0.49999999999999983, -0.30000000000000004, 0.5, 0.5)
2025-08-13 03:14:43,270 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)]
2025-08-13 03:14:43,270 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], geometry={'width': 1.6653345369377348e-16, 'height': 0.8, 'area': 0.0, 'perimeter': 0.8, 'centroid': [0.5, 0.09999999999999999], 'bounds': [0.49999999999999983, -0.30000000000000004, 0.5, 0.5], 'num_vertices': 16, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'open_stroke_perimeter': 0.8, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,270 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)]
2025-08-13 03:14:43,271 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,271 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44666667] -> [0.49999996 0.44666744]
2025-08-13 03:14:43,272 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39333333] -> [0.50000054 0.39333331]
2025-08-13 03:14:43,272 - INFO - [SoS] Perturbed collinear vertex 3: [0.5  0.34] -> [0.50000051 0.339999  ]
2025-08-13 03:14:43,273 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28666667] -> [0.49999947 0.28666583]
2025-08-13 03:14:43,273 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.23333333] -> [0.50000058 0.23333331]
2025-08-13 03:14:43,274 - INFO - [SoS] Perturbed collinear vertex 6: [0.5  0.18] -> [0.50000071 0.17999927]
2025-08-13 03:14:43,274 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.12666667] -> [0.49999996 0.1266659 ]
2025-08-13 03:14:43,274 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.07333333] -> [0.50000016 0.07333409]
2025-08-13 03:14:43,275 - INFO - [SoS] Perturbed collinear vertex 9: [0.5  0.02] -> [0.49999975 0.01999914]
2025-08-13 03:14:43,275 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.03333333] -> [ 0.49999933 -0.03333285]
2025-08-13 03:14:43,276 - INFO - [SoS] Perturbed collinear vertex 11: [ 0.5        -0.08666667] -> [ 0.50000099 -0.08666759]
2025-08-13 03:14:43,276 - INFO - [SoS] Perturbed collinear vertex 12: [ 0.5  -0.14] -> [ 0.50000067 -0.13999977]
2025-08-13 03:14:43,276 - INFO - [SoS] Perturbed collinear vertex 13: [ 0.5        -0.19333333] -> [ 0.50000019 -0.19333428]
2025-08-13 03:14:43,277 - INFO - [SoS] Perturbed collinear vertex 14: [ 0.5        -0.24666667] -> [ 0.49999957 -0.24666742]
2025-08-13 03:14:43,279 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,281 - INFO - [robust_angular_variance] Computed angular variance: 1.079488 for 16 vertices.
2025-08-13 03:14:43,281 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,281 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,282 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:43,282 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,282 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,283 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,285 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.32, 'num_vertices': 16, 'convexity_ratio': 1e-06, 'compactness': 0.48060151272536755}
2025-08-13 03:14:43,285 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.32, 'num_vertices': 16, 'convexity_ratio': 1e-06, 'compactness': 0.48060151272536755, 'is_simple': True}
2025-08-13 03:14:43,285 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44666667] -> [0.50000077 0.4466664 ]
2025-08-13 03:14:43,285 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39333333] -> [0.50000045 0.3933331 ]
2025-08-13 03:14:43,286 - INFO - [SoS] Perturbed collinear vertex 3: [0.5  0.34] -> [0.49999933 0.34000032]
2025-08-13 03:14:43,286 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28666667] -> [0.49999904 0.28666731]
2025-08-13 03:14:43,287 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.23333333] -> [0.49999918 0.23333317]
2025-08-13 03:14:43,287 - INFO - [SoS] Perturbed collinear vertex 6: [0.5  0.18] -> [0.50000023 0.17999954]
2025-08-13 03:14:43,287 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.12666667] -> [0.50000012 0.1266661 ]
2025-08-13 03:14:43,288 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.07333333] -> [0.50000048 0.07333351]
2025-08-13 03:14:43,288 - INFO - [SoS] Perturbed collinear vertex 9: [0.5  0.02] -> [0.49999948 0.0200005 ]
2025-08-13 03:14:43,289 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.03333333] -> [ 0.49999948 -0.03333242]
2025-08-13 03:14:43,289 - INFO - [SoS] Perturbed collinear vertex 11: [ 0.5        -0.08666667] -> [ 0.49999958 -0.08666652]
2025-08-13 03:14:43,289 - INFO - [SoS] Perturbed collinear vertex 12: [ 0.5  -0.14] -> [ 0.4999992  -0.13999902]
2025-08-13 03:14:43,289 - INFO - [SoS] Perturbed collinear vertex 13: [ 0.5        -0.19333333] -> [ 0.50000069 -0.19333316]
2025-08-13 03:14:43,291 - INFO - [SoS] Perturbed collinear vertex 14: [ 0.5        -0.24666667] -> [ 0.50000052 -0.24666746]
2025-08-13 03:14:43,293 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=1, assigned is_positive=False
2025-08-13 03:14:43,293 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=1, stroke_dict: {'area': 1.1888103495839804e-07, 'perimeter': 0.36081862141424337, 'centroid': [0.49999961122748016, 0.28145808064096606], 'bounds': [0.4999990400697922, 0.19147669802539127, 0.5, 0.37188600872447214], 'width': 9.599302078222571e-07, 'height': 0.18040931069908087, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.36081862141424337, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'open_stroke_perimeter': 0.8, 'shape_modifier': 'vertical', 'command': 'line_normal_0.800-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'geometry': {'area': 1.1888103495839804e-07, 'perimeter': 0.36081862141424337, 'centroid': [0.49999961122748016, 0.28145808064096606], 'bounds': [0.4999990400697922, 0.19147669802539127, 0.5, 0.37188600872447214], 'width': 9.599302078222571e-07, 'height': 0.18040931069908087, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.36081862141424337}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-13 03:14:43,293 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 2 command: line_normal_0.130-0.750
2025-08-13 03:14:43,293 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,293 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.130-0.750, stroke_index=2
2025-08-13 03:14:43,293 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.13, param2=None, param3=0.75
2025-08-13 03:14:43,293 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)]
2025-08-13 03:14:43,294 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], geometry={'width': 0.0, 'height': 0.13, 'area': 0.0, 'perimeter': 0.13, 'centroid': [0.5, 0.43499999999999994], 'bounds': [0.5, 0.37, 0.5, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'open_stroke_perimeter': 0.13, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,294 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.37, 0.5, 0.5)
2025-08-13 03:14:43,294 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)]
2025-08-13 03:14:43,294 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], geometry={'width': 0.0, 'height': 0.13, 'area': 0.0, 'perimeter': 0.13, 'centroid': [0.5, 0.43499999999999994], 'bounds': [0.5, 0.37, 0.5, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'open_stroke_perimeter': 0.13, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,295 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)]
2025-08-13 03:14:43,295 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,295 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.48142857] -> [0.4999997  0.48142797]
2025-08-13 03:14:43,296 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.46285714] -> [0.49999959 0.4628581 ]
2025-08-13 03:14:43,296 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.44428571] -> [0.50000038 0.44428595]
2025-08-13 03:14:43,297 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.42571429] -> [0.49999918 0.42571426]
2025-08-13 03:14:43,297 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.40714286] -> [0.4999995  0.40714231]
2025-08-13 03:14:43,297 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.38857143] -> [0.50000041 0.38857047]
2025-08-13 03:14:43,299 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,299 - INFO - [robust_angular_variance] Computed angular variance: 1.850551 for 8 vertices.
2025-08-13 03:14:43,300 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,300 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,300 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:43,300 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,300 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,301 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,301 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.3886525945105735}
2025-08-13 03:14:43,302 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.3886525945105735, 'is_simple': True}
2025-08-13 03:14:43,302 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.48142857] -> [0.5000009  0.48142851]
2025-08-13 03:14:43,302 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.46285714] -> [0.50000034 0.46285754]
2025-08-13 03:14:43,303 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.44428571] -> [0.50000048 0.44428611]
2025-08-13 03:14:43,303 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.42571429] -> [0.50000004 0.4257146 ]
2025-08-13 03:14:43,303 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.40714286] -> [0.50000039 0.40714196]
2025-08-13 03:14:43,304 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.38857143] -> [0.5000006  0.38857195]
2025-08-13 03:14:43,305 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=2, assigned is_positive=False
2025-08-13 03:14:43,305 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=2, stroke_dict: {'area': 5.088631740272304e-08, 'perimeter': 0.26000000004977336, 'centroid': [0.5000002462178559, 0.4410893128711695], 'bounds': [0.5, 0.37, 0.5000008978896336, 0.5], 'width': 8.978896336442332e-07, 'height': 0.13, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.26000000004977336, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'vertical', 'command': 'line_normal_0.130-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'geometry': {'area': 5.088631740272304e-08, 'perimeter': 0.26000000004977336, 'centroid': [0.5000002462178559, 0.4410893128711695], 'bounds': [0.5, 0.37, 0.5000008978896336, 0.5], 'width': 8.978896336442332e-07, 'height': 0.13, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.26000000004977336}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-13 03:14:43,305 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 3 command: line_normal_1.000-0.750
2025-08-13 03:14:43,305 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,306 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_1.000-0.750, stroke_index=3
2025-08-13 03:14:43,306 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=1.0, param2=None, param3=0.75
2025-08-13 03:14:43,306 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)]
2025-08-13 03:14:43,306 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], geometry={'width': 1.6653345369377348e-16, 'height': 1.0, 'area': 0.0, 'perimeter': 1.0, 'centroid': [0.5, 1.734723475976807e-17], 'bounds': [0.49999999999999983, -0.5, 0.5, 0.5], 'num_vertices': 20, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'open_stroke_perimeter': 1.0, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,307 - INFO - [_calculate_vertices_from_action] Bounding box: (0.49999999999999983, -0.5, 0.5, 0.5)
2025-08-13 03:14:43,307 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)]
2025-08-13 03:14:43,307 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], geometry={'width': 1.6653345369377348e-16, 'height': 1.0, 'area': 0.0, 'perimeter': 1.0, 'centroid': [0.5, 1.734723475976807e-17], 'bounds': [0.49999999999999983, -0.5, 0.5, 0.5], 'num_vertices': 20, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'open_stroke_perimeter': 1.0, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,307 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)]
2025-08-13 03:14:43,308 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,308 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44736842] -> [0.49999973 0.44736757]
2025-08-13 03:14:43,309 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39473684] -> [0.49999939 0.39473672]
2025-08-13 03:14:43,309 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.34210526] -> [0.49999938 0.34210594]
2025-08-13 03:14:43,309 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28947368] -> [0.49999918 0.28947467]
2025-08-13 03:14:43,310 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.23684211] -> [0.50000016 0.23684137]
2025-08-13 03:14:43,311 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.18421053] -> [0.49999915 0.18421073]
2025-08-13 03:14:43,311 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.13157895] -> [0.49999934 0.13157915]
2025-08-13 03:14:43,311 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.07894737] -> [0.5        0.07894792]
2025-08-13 03:14:43,312 - INFO - [SoS] Perturbed collinear vertex 9: [0.5        0.02631579] -> [0.49999993 0.02631581]
2025-08-13 03:14:43,312 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.02631579] -> [ 0.49999993 -0.0263159 ]
2025-08-13 03:14:43,313 - INFO - [SoS] Perturbed collinear vertex 11: [ 0.5        -0.07894737] -> [ 0.50000008 -0.0789478 ]
2025-08-13 03:14:43,313 - INFO - [SoS] Perturbed collinear vertex 12: [ 0.5        -0.13157895] -> [ 0.49999974 -0.13157802]
2025-08-13 03:14:43,314 - INFO - [SoS] Perturbed collinear vertex 13: [ 0.5        -0.18421053] -> [ 0.50000027 -0.18421058]
2025-08-13 03:14:43,314 - INFO - [SoS] Perturbed collinear vertex 14: [ 0.5        -0.23684211] -> [ 0.50000044 -0.23684116]
2025-08-13 03:14:43,314 - INFO - [SoS] Perturbed collinear vertex 15: [ 0.5        -0.28947368] -> [ 0.50000019 -0.28947358]
2025-08-13 03:14:43,315 - INFO - [SoS] Perturbed collinear vertex 16: [ 0.5        -0.34210526] -> [ 0.49999982 -0.34210427]
2025-08-13 03:14:43,315 - INFO - [SoS] Perturbed collinear vertex 17: [ 0.5        -0.39473684] -> [ 0.49999935 -0.3947375 ]
2025-08-13 03:14:43,315 - INFO - [SoS] Perturbed collinear vertex 18: [ 0.5        -0.44736842] -> [ 0.50000037 -0.4473685 ]
2025-08-13 03:14:43,317 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,318 - INFO - [robust_angular_variance] Computed angular variance: 0.888264 for 20 vertices.
2025-08-13 03:14:43,318 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,318 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,319 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:43,319 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,319 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,319 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,322 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.49521539981167073}
2025-08-13 03:14:43,322 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.49521539981167073, 'is_simple': True}
2025-08-13 03:14:43,322 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44736842] -> [0.49999925 0.44736813]
2025-08-13 03:14:43,323 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39473684] -> [0.50000015 0.39473738]
2025-08-13 03:14:43,323 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.34210526] -> [0.50000048 0.34210515]
2025-08-13 03:14:43,324 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28947368] -> [0.50000041 0.2894737 ]
2025-08-13 03:14:43,324 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.23684211] -> [0.5000003  0.23684178]
2025-08-13 03:14:43,324 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.18421053] -> [0.5000005  0.18421133]
2025-08-13 03:14:43,325 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.13157895] -> [0.49999909 0.13157899]
2025-08-13 03:14:43,325 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.07894737] -> [0.50000043 0.07894639]
2025-08-13 03:14:43,325 - INFO - [SoS] Perturbed collinear vertex 9: [0.5        0.02631579] -> [0.49999982 0.02631657]
2025-08-13 03:14:43,326 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.02631579] -> [ 0.50000039 -0.02631609]
2025-08-13 03:14:43,326 - INFO - [SoS] Perturbed collinear vertex 11: [ 0.5        -0.07894737] -> [ 0.49999987 -0.07894828]
2025-08-13 03:14:43,327 - INFO - [SoS] Perturbed collinear vertex 12: [ 0.5        -0.13157895] -> [ 0.50000087 -0.13157871]
2025-08-13 03:14:43,327 - INFO - [SoS] Perturbed collinear vertex 13: [ 0.5        -0.18421053] -> [ 0.49999923 -0.18421134]
2025-08-13 03:14:43,327 - INFO - [SoS] Perturbed collinear vertex 14: [ 0.5        -0.23684211] -> [ 0.50000094 -0.2368413 ]
2025-08-13 03:14:43,328 - INFO - [SoS] Perturbed collinear vertex 15: [ 0.5        -0.28947368] -> [ 0.50000004 -0.28947419]
2025-08-13 03:14:43,328 - INFO - [SoS] Perturbed collinear vertex 16: [ 0.5        -0.34210526] -> [ 0.50000071 -0.34210503]
2025-08-13 03:14:43,328 - INFO - [SoS] Perturbed collinear vertex 17: [ 0.5        -0.39473684] -> [ 0.50000033 -0.39473781]
2025-08-13 03:14:43,329 - INFO - [SoS] Perturbed collinear vertex 18: [ 0.5        -0.44736842] -> [ 0.50000084 -0.44736801]
2025-08-13 03:14:43,331 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=3, assigned is_positive=False
2025-08-13 03:14:43,332 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, stroke_idx=3, stroke_dict: {'area': 1.3967646330345289e-07, 'perimeter': 0.5842469718732104, 'centroid': [0.5000002889638104, -0.35428897597322906], 'bounds': [0.49999999999999983, -0.5, 0.5000009446756782, -0.20787651408228797], 'width': 9.446756784048382e-07, 'height': 0.29212348591771203, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.5842469718732104, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'open_stroke_perimeter': 1.0, 'shape_modifier': 'vertical', 'command': 'line_normal_1.000-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'geometry': {'area': 1.3967646330345289e-07, 'perimeter': 0.5842469718732104, 'centroid': [0.5000002889638104, -0.35428897597322906], 'bounds': [0.49999999999999983, -0.5, 0.5000009446756782, -0.20787651408228797], 'width': 9.446756784048382e-07, 'height': 0.29212348591771203, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.5842469718732104}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-13 03:14:43,333 - INFO - [ATTR DEBUG] Shape 0 strokes (dicts): [{'area': 3.356218273493338e-08, 'perimeter': 0.1921966415653528, 'centroid': [0.41389641159313706, 0.500000202110099], 'bounds': [0.37, 0.5, 0.4660983207762213, 0.5000005764818267], 'width': 0.09609832077622132, 'height': 5.764818267195437e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.1921966415653528, 'analytic_vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'normal', 'command': 'line_normal_0.130-0.500', 'vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'geometry': {'area': 3.356218273493338e-08, 'perimeter': 0.1921966415653528, 'centroid': [0.41389641159313706, 0.500000202110099], 'bounds': [0.37, 0.5, 0.4660983207762213, 0.5000005764818267], 'width': 0.09609832077622132, 'height': 5.764818267195437e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.1921966415653528}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.1888103495839804e-07, 'perimeter': 0.36081862141424337, 'centroid': [0.49999961122748016, 0.28145808064096606], 'bounds': [0.4999990400697922, 0.19147669802539127, 0.5, 0.37188600872447214], 'width': 9.599302078222571e-07, 'height': 0.18040931069908087, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.36081862141424337, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'open_stroke_perimeter': 0.8, 'shape_modifier': 'vertical', 'command': 'line_normal_0.800-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'geometry': {'area': 1.1888103495839804e-07, 'perimeter': 0.36081862141424337, 'centroid': [0.49999961122748016, 0.28145808064096606], 'bounds': [0.4999990400697922, 0.19147669802539127, 0.5, 0.37188600872447214], 'width': 9.599302078222571e-07, 'height': 0.18040931069908087, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.36081862141424337}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 5.088631740272304e-08, 'perimeter': 0.26000000004977336, 'centroid': [0.5000002462178559, 0.4410893128711695], 'bounds': [0.5, 0.37, 0.5000008978896336, 0.5], 'width': 8.978896336442332e-07, 'height': 0.13, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.26000000004977336, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'vertical', 'command': 'line_normal_0.130-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'geometry': {'area': 5.088631740272304e-08, 'perimeter': 0.26000000004977336, 'centroid': [0.5000002462178559, 0.4410893128711695], 'bounds': [0.5, 0.37, 0.5000008978896336, 0.5], 'width': 8.978896336442332e-07, 'height': 0.13, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.26000000004977336}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.3967646330345289e-07, 'perimeter': 0.5842469718732104, 'centroid': [0.5000002889638104, -0.35428897597322906], 'bounds': [0.49999999999999983, -0.5, 0.5000009446756782, -0.20787651408228797], 'width': 9.446756784048382e-07, 'height': 0.29212348591771203, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.5842469718732104, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'open_stroke_perimeter': 1.0, 'shape_modifier': 'vertical', 'command': 'line_normal_1.000-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'geometry': {'area': 1.3967646330345289e-07, 'perimeter': 0.5842469718732104, 'centroid': [0.5000002889638104, -0.35428897597322906], 'bounds': [0.49999999999999983, -0.5, 0.5000009446756782, -0.20787651408228797], 'width': 9.446756784048382e-07, 'height': 0.29212348591771203, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.5842469718732104}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-13 03:14:43,333 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,333 - INFO - [PATCH][SHAPE GEOMETRY] idx=0, vertices=[(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)], geometry={'area': 0.7999999999999994, 'perimeter': 3.9999999999999973, 'centroid': [0.5000000000000003, 0.5999999999999999], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-13 03:14:43,334 - INFO - [robust_curvature] INPUT: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-13 03:14:43,334 - INFO - [robust_curvature] OUTPUT: 1.80641577581413
2025-08-13 03:14:43,334 - INFO - [robust_angular_variance] Computed angular variance: 0.394784 for 5 vertices.
2025-08-13 03:14:43,334 - INFO - [PATCH][SHAPE PHYSICS] idx=0, physics features: {'robust_curvature': 1.80641577581413, 'robust_angular_variance': 0.39478417604357513, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 1.5707963267948966}
2025-08-13 03:14:43,335 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 1.87200000e+02  0.00000000e+00]
 [ 1.87200000e+02  1.15200000e+03]
 [ 5.68434189e-14  1.15200000e+03]
 [-2.07680290e-13 -2.88000000e+02]]
2025-08-13 03:14:43,335 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,336 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,336 - INFO - [robust_angular_variance] Computed angular variance: 0.394784 for 5 vertices.
2025-08-13 03:14:43,337 - INFO - [robust_curvature] INPUT: [[ 0.0000000e+00  0.0000000e+00]
 [ 1.8720000e+02  0.0000000e+00]
 [-2.0768029e-13 -2.8800000e+02]]
2025-08-13 03:14:43,337 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,338 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,338 - INFO - [robust_curvature] INPUT: [[1.87200000e+02 1.15200000e+03]
 [5.68434189e-14 1.15200000e+03]]
2025-08-13 03:14:43,338 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,338 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,338 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,340 - INFO - [robust_curvature] INPUT: [[ 7.18147647e-01 -1.10484253e+00]
 [ 1.86481852e+02  4.41937014e+00]
 [ 1.86481852e+02  1.14758063e+03]
 [ 7.18147647e-01  1.14647579e+03]
 [-2.05868793e-13 -2.81370945e+02]]
2025-08-13 03:14:43,340 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,340 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,341 - INFO - [robust_angular_variance] Computed angular variance: 0.401841 for 5 vertices.
2025-08-13 03:14:43,342 - INFO - [robust_curvature] INPUT: [[ 7.18147647e-01 -1.10484253e+00]
 [ 1.86481852e+02  4.41937014e+00]
 [-2.05868793e-13 -2.81370945e+02]]
2025-08-13 03:14:43,342 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,342 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,343 - INFO - [robust_curvature] INPUT: [[1.86481852e+02 1.14758063e+03]
 [7.18147647e-01 1.14647579e+03]]
2025-08-13 03:14:43,343 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,343 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,343 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,344 - INFO - [robust_curvature] INPUT: [[ 1.99769801e+01 -3.00498772e+01]
 [ 1.67173624e+02  1.22859269e+02]
 [ 1.67173624e+02  1.02868477e+03]
 [ 1.99769801e+01  9.98102943e+02]
 [ 9.87910870e-02 -1.03597107e+02]]
2025-08-13 03:14:43,344 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,345 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,346 - INFO - [robust_angular_variance] Computed angular variance: 0.714286 for 5 vertices.
2025-08-13 03:14:43,347 - INFO - [robust_curvature] INPUT: [[ 1.99769801e+01 -3.00498772e+01]
 [ 1.67173624e+02  1.22859269e+02]
 [ 9.87910870e-02 -1.03597107e+02]]
2025-08-13 03:14:43,347 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,347 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,348 - INFO - [robust_curvature] INPUT: [[ 167.1736244  1028.68477239]
 [  19.97698006  998.10294321]]
2025-08-13 03:14:43,348 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,348 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,349 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,349 - INFO - [robust_curvature] INPUT: [[ 56.25889127  64.88024718]
 [120.00432518 329.38274081]
 [120.00432518 721.66233413]
 [ 56.25889127 668.76183541]
 [ 21.8735671  231.31284248]]
2025-08-13 03:14:43,349 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,350 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,350 - INFO - [robust_angular_variance] Computed angular variance: 1.060016 for 5 vertices.
2025-08-13 03:14:43,351 - INFO - [robust_curvature] INPUT: [[ 56.25889127  64.88024718]
 [120.00432518 329.38274081]
 [ 21.8735671  231.31284248]]
2025-08-13 03:14:43,351 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,352 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,352 - INFO - [robust_curvature] INPUT: [[120.00432518 721.66233413]
 [ 56.25889127 668.76183541]]
2025-08-13 03:14:43,352 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,352 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,352 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,353 - INFO - [robust_curvature] INPUT: [[ 73.28849518 370.01026178]
 [ 79.04537533 397.365925  ]
 [ 79.04537533 432.79287978]
 [ 73.28849518 427.32174713]
 [ 69.73225897 388.50918631]]
2025-08-13 03:14:43,353 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,353 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,354 - INFO - [robust_angular_variance] Computed angular variance: 1.141483 for 5 vertices.
2025-08-13 03:14:43,355 - INFO - [robust_curvature] INPUT: [[ 73.28849518 370.01026178]
 [ 79.04537533 397.365925  ]
 [ 69.73225897 388.50918631]]
2025-08-13 03:14:43,355 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,355 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,356 - INFO - [robust_curvature] INPUT: [[ 79.04537533 432.79287978]
 [ 73.28849518 427.32174713]]
2025-08-13 03:14:43,356 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,356 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,356 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,356 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 1.1414826212674263, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}
2025-08-13 03:14:43,356 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.3947841760435744, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.40184065448996753, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.71428640705769, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 1.0600163620254444, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 1.1414826212674263, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}
2025-08-13 03:14:43,358 - DEBUG - [extract_image_features] Calculated width: 187.20000000000027, height: 1440.0
2025-08-13 03:14:43,358 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-13 03:14:43,359 - INFO - [robust_curvature] OUTPUT: 1.9878219002802675
2025-08-13 03:14:43,359 - INFO - [robust_angular_variance] Computed angular variance: 0.394784 for 5 vertices.
2025-08-13 03:14:43,360 - INFO - [robust_curvature] INPUT: [[ 0.00000000e+00  0.00000000e+00]
 [ 1.87200000e+02  0.00000000e+00]
 [ 1.87200000e+02  1.15200000e+03]
 [ 5.68434189e-14  1.15200000e+03]
 [-2.07680290e-13 -2.88000000e+02]]
2025-08-13 03:14:43,360 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,360 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,360 - INFO - [robust_angular_variance] Computed angular variance: 0.394784 for 5 vertices.
2025-08-13 03:14:43,361 - INFO - [robust_curvature] INPUT: [[ 0.0000000e+00  0.0000000e+00]
 [ 1.8720000e+02  0.0000000e+00]
 [-2.0768029e-13 -2.8800000e+02]]
2025-08-13 03:14:43,362 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,362 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,362 - INFO - [robust_curvature] INPUT: [[1.87200000e+02 1.15200000e+03]
 [5.68434189e-14 1.15200000e+03]]
2025-08-13 03:14:43,363 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,363 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,363 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,364 - INFO - [robust_curvature] INPUT: [[ 7.18147647e-01 -1.10484253e+00]
 [ 1.86481852e+02  4.41937014e+00]
 [ 1.86481852e+02  1.14758063e+03]
 [ 7.18147647e-01  1.14647579e+03]
 [-2.05868793e-13 -2.81370945e+02]]
2025-08-13 03:14:43,364 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,364 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,365 - INFO - [robust_angular_variance] Computed angular variance: 0.401841 for 5 vertices.
2025-08-13 03:14:43,365 - INFO - [robust_curvature] INPUT: [[ 7.18147647e-01 -1.10484253e+00]
 [ 1.86481852e+02  4.41937014e+00]
 [-2.05868793e-13 -2.81370945e+02]]
2025-08-13 03:14:43,366 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,366 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,366 - INFO - [robust_curvature] INPUT: [[1.86481852e+02 1.14758063e+03]
 [7.18147647e-01 1.14647579e+03]]
2025-08-13 03:14:43,367 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,367 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,368 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,368 - INFO - [robust_curvature] INPUT: [[ 1.99769801e+01 -3.00498772e+01]
 [ 1.67173624e+02  1.22859269e+02]
 [ 1.67173624e+02  1.02868477e+03]
 [ 1.99769801e+01  9.98102943e+02]
 [ 9.87910870e-02 -1.03597107e+02]]
2025-08-13 03:14:43,368 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,368 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,370 - INFO - [robust_angular_variance] Computed angular variance: 0.714286 for 5 vertices.
2025-08-13 03:14:43,370 - INFO - [robust_curvature] INPUT: [[ 1.99769801e+01 -3.00498772e+01]
 [ 1.67173624e+02  1.22859269e+02]
 [ 9.87910870e-02 -1.03597107e+02]]
2025-08-13 03:14:43,371 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,371 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,371 - INFO - [robust_curvature] INPUT: [[ 167.1736244  1028.68477239]
 [  19.97698006  998.10294321]]
2025-08-13 03:14:43,372 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,372 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,372 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,373 - INFO - [robust_curvature] INPUT: [[ 56.25889127  64.88024718]
 [120.00432518 329.38274081]
 [120.00432518 721.66233413]
 [ 56.25889127 668.76183541]
 [ 21.8735671  231.31284248]]
2025-08-13 03:14:43,373 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,373 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,373 - INFO - [robust_angular_variance] Computed angular variance: 1.060016 for 5 vertices.
2025-08-13 03:14:43,374 - INFO - [robust_curvature] INPUT: [[ 56.25889127  64.88024718]
 [120.00432518 329.38274081]
 [ 21.8735671  231.31284248]]
2025-08-13 03:14:43,374 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,374 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,375 - INFO - [robust_curvature] INPUT: [[120.00432518 721.66233413]
 [ 56.25889127 668.76183541]]
2025-08-13 03:14:43,376 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,376 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,376 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,377 - INFO - [robust_curvature] INPUT: [[ 73.28849518 370.01026178]
 [ 79.04537533 397.365925  ]
 [ 79.04537533 432.79287978]
 [ 73.28849518 427.32174713]
 [ 69.73225897 388.50918631]]
2025-08-13 03:14:43,377 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,377 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,378 - INFO - [robust_angular_variance] Computed angular variance: 1.141483 for 5 vertices.
2025-08-13 03:14:43,378 - INFO - [robust_curvature] INPUT: [[ 73.28849518 370.01026178]
 [ 79.04537533 397.365925  ]
 [ 69.73225897 388.50918631]]
2025-08-13 03:14:43,379 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,379 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,379 - INFO - [robust_curvature] INPUT: [[ 79.04537533 432.79287978]
 [ 73.28849518 427.32174713]]
2025-08-13 03:14:43,380 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,380 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,380 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,380 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 1.1414826212674263, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}
2025-08-13 03:14:43,380 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.3947841760435744, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.40184065448996753, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.71428640705769, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 1.0600163620254444, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 1.1414826212674263, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}
2025-08-13 03:14:43,381 - INFO - [SoS] Perturbed collinear vertex 1: [0.48142857 0.5       ] -> [0.48142848 0.49999937]
2025-08-13 03:14:43,381 - INFO - [SoS] Perturbed collinear vertex 2: [0.46285714 0.5       ] -> [0.46285711 0.50000071]
2025-08-13 03:14:43,382 - INFO - [SoS] Perturbed collinear vertex 3: [0.44428571 0.5       ] -> [0.44428477 0.4999996 ]
2025-08-13 03:14:43,382 - INFO - [SoS] Perturbed collinear vertex 4: [0.42571429 0.5       ] -> [0.42571357 0.49999999]
2025-08-13 03:14:43,382 - INFO - [SoS] Perturbed collinear vertex 5: [0.40714286 0.5       ] -> [0.4071434 0.4999991]
2025-08-13 03:14:43,382 - INFO - [SoS] Perturbed collinear vertex 6: [0.38857143 0.5       ] -> [0.38857051 0.49999912]
2025-08-13 03:14:43,384 - DEBUG - [extract_image_features] Stroke 0 geometry: {'area': 3.8302695523534946e-08, 'perimeter': 0.16187514735480196, 'centroid': [0.4035627361562066, 0.4999996593116302], 'bounds': [0.37, 0.4999990956165441, 0.45093757364810827, 0.5], 'width': 0.08093757364810827, 'height': 9.043834559019359e-07}
2025-08-13 03:14:43,385 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44666667] -> [0.50000027 0.4466676 ]
2025-08-13 03:14:43,385 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39333333] -> [0.49999965 0.39333328]
2025-08-13 03:14:43,386 - INFO - [SoS] Perturbed collinear vertex 3: [0.5  0.34] -> [0.49999941 0.33999933]
2025-08-13 03:14:43,386 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28666667] -> [0.49999972 0.28666647]
2025-08-13 03:14:43,387 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.23333333] -> [0.49999919 0.23333269]
2025-08-13 03:14:43,387 - INFO - [SoS] Perturbed collinear vertex 6: [0.5  0.18] -> [0.4999994  0.18000039]
2025-08-13 03:14:43,387 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.12666667] -> [0.50000093 0.12666589]
2025-08-13 03:14:43,388 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.07333333] -> [0.49999905 0.07333234]
2025-08-13 03:14:43,388 - INFO - [SoS] Perturbed collinear vertex 9: [0.5  0.02] -> [0.50000032 0.02000073]
2025-08-13 03:14:43,389 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.03333333] -> [ 0.4999995  -0.03333334]
2025-08-13 03:14:43,389 - INFO - [SoS] Perturbed collinear vertex 11: [ 0.5        -0.08666667] -> [ 0.49999967 -0.08666701]
2025-08-13 03:14:43,390 - INFO - [SoS] Perturbed collinear vertex 12: [ 0.5  -0.14] -> [ 0.49999922 -0.14000088]
2025-08-13 03:14:43,390 - INFO - [SoS] Perturbed collinear vertex 13: [ 0.5        -0.19333333] -> [ 0.50000037 -0.19333284]
2025-08-13 03:14:43,391 - INFO - [SoS] Perturbed collinear vertex 14: [ 0.5        -0.24666667] -> [ 0.50000005 -0.24666583]
2025-08-13 03:14:43,392 - DEBUG - [extract_image_features] Stroke 1 geometry: {'area': 1.270574277479189e-07, 'perimeter': 0.5288186658854885, 'centroid': [0.49999972160423845, 0.2762419819320288], 'bounds': [0.49999918526673837, 0.15901637383954118, 0.5, 0.42342570677465585], 'width': 8.147332616337266e-07, 'height': 0.2644093329351147}
2025-08-13 03:14:43,393 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.48142857] -> [0.50000016 0.48142919]
2025-08-13 03:14:43,393 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.46285714] -> [0.50000089 0.46285809]
2025-08-13 03:14:43,394 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.44428571] -> [0.50000056 0.44428646]
2025-08-13 03:14:43,394 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.42571429] -> [0.50000099 0.42571363]
2025-08-13 03:14:43,394 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.40714286] -> [0.50000027 0.40714319]
2025-08-13 03:14:43,395 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.38857143] -> [0.50000065 0.38857209]
2025-08-13 03:14:43,395 - DEBUG - [extract_image_features] Stroke 2 geometry: {'area': 6.508683763083931e-08, 'perimeter': 0.26000000005175655, 'centroid': [0.500000323500803, 0.43227909878922827], 'bounds': [0.5, 0.37, 0.5000009886660256, 0.5], 'width': 9.886660256031021e-07, 'height': 0.13}
2025-08-13 03:14:43,396 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44736842] -> [0.49999967 0.44736753]
2025-08-13 03:14:43,396 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39473684] -> [0.49999955 0.39473586]
2025-08-13 03:14:43,397 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.34210526] -> [0.50000027 0.34210557]
2025-08-13 03:14:43,397 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28947368] -> [0.49999925 0.28947431]
2025-08-13 03:14:43,397 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.23684211] -> [0.49999937 0.23684233]
2025-08-13 03:14:43,398 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.18421053] -> [0.49999957 0.18421146]
2025-08-13 03:14:43,398 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.13157895] -> [0.50000098 0.13157884]
2025-08-13 03:14:43,399 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.07894737] -> [0.49999981 0.07894811]
2025-08-13 03:14:43,399 - INFO - [SoS] Perturbed collinear vertex 9: [0.5        0.02631579] -> [0.50000041 0.02631611]
2025-08-13 03:14:43,400 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.02631579] -> [ 0.5000001  -0.02631648]
2025-08-13 03:14:43,400 - INFO - [SoS] Perturbed collinear vertex 11: [ 0.5        -0.07894737] -> [ 0.5000004  -0.07894743]
2025-08-13 03:14:43,401 - INFO - [SoS] Perturbed collinear vertex 12: [ 0.5        -0.13157895] -> [ 0.50000074 -0.13157832]
2025-08-13 03:14:43,401 - INFO - [SoS] Perturbed collinear vertex 13: [ 0.5        -0.18421053] -> [ 0.50000055 -0.18421022]
2025-08-13 03:14:43,401 - INFO - [SoS] Perturbed collinear vertex 14: [ 0.5        -0.23684211] -> [ 0.49999944 -0.23684228]
2025-08-13 03:14:43,402 - INFO - [SoS] Perturbed collinear vertex 15: [ 0.5        -0.28947368] -> [ 0.49999973 -0.28947442]
2025-08-13 03:14:43,402 - INFO - [SoS] Perturbed collinear vertex 16: [ 0.5        -0.34210526] -> [ 0.50000035 -0.34210619]
2025-08-13 03:14:43,402 - INFO - [SoS] Perturbed collinear vertex 17: [ 0.5        -0.39473684] -> [ 0.50000012 -0.39473657]
2025-08-13 03:14:43,403 - INFO - [SoS] Perturbed collinear vertex 18: [ 0.5        -0.44736842] -> [ 0.50000016 -0.44736896]
2025-08-13 03:14:43,406 - DEBUG - [extract_image_features] Stroke 3 geometry: {'area': 1.051905289950314e-07, 'perimeter': 0.5449264474525277, 'centroid': [0.5000002466335767, -0.09826517151097527], 'bounds': [0.4999999999999999, -0.21014584682301007, 0.5000007411587771, 0.0623173768976281], 'width': 7.411587772399031e-07, 'height': 0.2724632237206382}
2025-08-13 03:14:43,406 - INFO - [extract_image_features] stroke_type_distribution INPUT: [{'area': 3.356218273493338e-08, 'perimeter': 0.1921966415653528, 'centroid': [0.41389641159313706, 0.500000202110099], 'bounds': [0.37, 0.5, 0.4660983207762213, 0.5000005764818267], 'width': 0.08093757364810827, 'height': 9.043834559019359e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.1921966415653528, 'analytic_vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'normal', 'command': 'line_normal_0.130-0.500', 'vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'geometry': {'area': 3.8302695523534946e-08, 'perimeter': 0.16187514735480196, 'centroid': [0.4035627361562066, 0.4999996593116302], 'bounds': [0.37, 0.4999990956165441, 0.45093757364810827, 0.5], 'width': 0.08093757364810827, 'height': 9.043834559019359e-07}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.1888103495839804e-07, 'perimeter': 0.36081862141424337, 'centroid': [0.49999961122748016, 0.28145808064096606], 'bounds': [0.4999990400697922, 0.19147669802539127, 0.5, 0.37188600872447214], 'width': 8.147332616337266e-07, 'height': 0.2644093329351147, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.36081862141424337, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'open_stroke_perimeter': 0.8, 'shape_modifier': 'vertical', 'command': 'line_normal_0.800-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'geometry': {'area': 1.270574277479189e-07, 'perimeter': 0.5288186658854885, 'centroid': [0.49999972160423845, 0.2762419819320288], 'bounds': [0.49999918526673837, 0.15901637383954118, 0.5, 0.42342570677465585], 'width': 8.147332616337266e-07, 'height': 0.2644093329351147}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 5.088631740272304e-08, 'perimeter': 0.26000000004977336, 'centroid': [0.5000002462178559, 0.4410893128711695], 'bounds': [0.5, 0.37, 0.5000008978896336, 0.5], 'width': 9.886660256031021e-07, 'height': 0.13, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.26000000004977336, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'vertical', 'command': 'line_normal_0.130-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'geometry': {'area': 6.508683763083931e-08, 'perimeter': 0.26000000005175655, 'centroid': [0.500000323500803, 0.43227909878922827], 'bounds': [0.5, 0.37, 0.5000009886660256, 0.5], 'width': 9.886660256031021e-07, 'height': 0.13}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.3967646330345289e-07, 'perimeter': 0.5842469718732104, 'centroid': [0.5000002889638104, -0.35428897597322906], 'bounds': [0.49999999999999983, -0.5, 0.5000009446756782, -0.20787651408228797], 'width': 7.411587772399031e-07, 'height': 0.2724632237206382, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.5842469718732104, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'open_stroke_perimeter': 1.0, 'shape_modifier': 'vertical', 'command': 'line_normal_1.000-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'geometry': {'area': 1.051905289950314e-07, 'perimeter': 0.5449264474525277, 'centroid': [0.5000002466335767, -0.09826517151097527], 'bounds': [0.4999999999999999, -0.21014584682301007, 0.5000007411587771, 0.0623173768976281], 'width': 7.411587772399031e-07, 'height': 0.2724632237206382}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-13 03:14:43,406 - INFO - [extract_image_features] stroke_type_distribution OUTPUT: {'line': 4}
2025-08-13 03:14:43,406 - INFO - [extract_image_features] modifier_distribution OUTPUT: {'normal': 4}
2025-08-13 03:14:43,406 - INFO - [extract_image_features] relational INPUT: []
2025-08-13 03:14:43,406 - INFO - [extract_image_features] relational OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:43,407 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-13 03:14:43,407 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,407 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,407 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,408 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,408 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,408 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,408 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,408 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-13 03:14:43,409 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:43,409 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,409 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,409 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,410 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,410 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,410 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,410 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,410 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,411 - DEBUG - [_detect_alternation] OUTPUT: 0.25
2025-08-13 03:14:43,411 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-13 03:14:43,412 - INFO - [extract_image_features] PATCHED ngram: {'normal|normal': 3}
2025-08-13 03:14:43,412 - INFO - [extract_image_features] PATCHED alternation: 0.25
2025-08-13 03:14:43,412 - INFO - [extract_image_features] PATCHED regularity: 0.25
2025-08-13 03:14:43,412 - INFO - [extract_image_features] PATCHED dominant_shape_functions: line
2025-08-13 03:14:43,413 - INFO - [extract_image_features] PATCHED dominant_modifiers: normal
2025-08-13 03:14:43,413 - INFO - [extract_image_features] PATCHED image_canonical_summary: {'area': 215654.40000000014, 'perimeter': 3254.4, 'compactness': 0.2558740981857143, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.25}
2025-08-13 03:14:43,413 - INFO - [extract_image_features] OUTPUT: {'area': 215654.40000000014, 'perimeter': 3254.4, 'convexity_ratio': 0.11111111111111101, 'compactness': 0.2558740981857143, 'aspect_ratio': 0.1300000000000002, 'centroid_x': 93.59999999999998, 'centroid_y': 575.9999999999999, 'width': 187.20000000000027, 'height': 1440.0, 'bounding_box': (-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0), 'num_vertices': 5, 'curvature': 1.9878219002802675, 'angular_variance': 0.3947841760435744, 'complexity': 0.03500383731876051, 'num_strokes': 4, 'stroke_type_distribution': {'line': 4}, 'modifier_distribution': {'normal': 4}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.03500383731876051, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.3947841760435744, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.40184065448996753, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.71428640705769, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 1.0600163620254444, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 1.1414826212674263, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}, 'moment_of_inertia': 227024.63999999993, 'center_of_mass_x': 0.5000000000000003, 'center_of_mass_y': 0.5999999999999999, 'symmetry_score': 132.37038943812178, 'ngram': {'normal|normal': 3}, 'alternation': 0.25, 'regularity': 0.25, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 215654.40000000014, 'perimeter': 3254.4, 'compactness': 0.2558740981857143, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.25}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 1, 'vertical': 3}}
2025-08-13 03:14:43,414 - DEBUG - [extract_image_features] FINAL OUTPUT bounding_box: (-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0)
2025-08-13 03:14:43,414 - DEBUG - [extract_image_features] FINAL OUTPUT width: 187.20000000000027, height: 1440.0
2025-08-13 03:14:43,414 - DEBUG - [extract_image_features] FINAL OUTPUT curvature: 1.9878219002802675
2025-08-13 03:14:43,415 - INFO - [DIAG] Shape 0 extracted attributes: {'area': 215654.40000000014, 'perimeter': 3254.4, 'convexity_ratio': 0.11111111111111101, 'compactness': 0.2558740981857143, 'aspect_ratio': 0.1300000000000002, 'centroid_x': 93.59999999999998, 'centroid_y': 575.9999999999999, 'width': 187.20000000000027, 'height': 1440.0, 'bounding_box': (-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0), 'num_vertices': 5, 'curvature': 1.9878219002802675, 'angular_variance': 0.3947841760435744, 'complexity': 0.03500383731876051, 'num_strokes': 4, 'stroke_type_distribution': {'line': 4}, 'modifier_distribution': {'normal': 4}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.03500383731876051, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.3947841760435744, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.40184065448996753, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.71428640705769, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 1.0600163620254444, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 1.1414826212674263, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}, 'moment_of_inertia': 227024.63999999993, 'center_of_mass_x': 0.5000000000000003, 'center_of_mass_y': 0.5999999999999999, 'symmetry_score': 132.37038943812178, 'ngram': {'normal|normal': 3}, 'alternation': 0.25, 'regularity': 0.25, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 215654.40000000014, 'perimeter': 3254.4, 'compactness': 0.2558740981857143, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.25}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 1, 'vertical': 3}}
2025-08-13 03:14:43,415 - INFO - [VALIDATION] expected_strokes=4, actual_shapes=1
2025-08-13 03:14:43,415 - INFO - [VALIDATION] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: Number of action commands matches number of parsed shapes (4)
2025-08-13 03:14:43,415 - INFO - [standardize_coordinates] INPUT vertices: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-13 03:14:43,415 - INFO - [standardize_coordinates] OUTPUT normalized vertices: [[1.1094032572383544e-15, 0.2], [0.9999999999999997, 0.2], [1.0, 1.0], [1.4130539990161747e-15, 1.0], [0.0, 0.0]]
2025-08-13 03:14:43,416 - DEBUG - [process_single_image] Passing shape_list to extract_relational_features: [{'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}]
2025-08-13 03:14:43,416 - INFO - [extract_relational_features] INPUT: [{'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}]
2025-08-13 03:14:43,416 - DEBUG - [extract_relational_features] Shape 0 vertices: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-13 03:14:43,418 - INFO - [calculate_relationships] INPUT: strokes=[{'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}], buffer_amt=0.001
2025-08-13 03:14:43,418 - DEBUG - [calculate_relationships] Stroke 0: {'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}
2025-08-13 03:14:43,418 - DEBUG - [calculate_relationships] Vertices for stroke 0: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-13 03:14:43,418 - DEBUG - [calculate_relationships] Created LineString for stroke 0: LINESTRING (0 0, 187.20000000000002 0, 187.20000000000007 1152, 5.684341886080802e-14 1152, -2.0768028975502026e-13 -288)
2025-08-13 03:14:43,419 - DEBUG - [calculate_relationships] Buffered geometries: ['POLYGON ((0.0009999999998452 -0.001, 0.0009999999997923 -288, 0.0009951847264645 -288.0000980171403, 0.0009807852801956 -288.000195090322, 0.0009569403355245 -288.00029028467725, 0.0009238795323036 -288.00038268343235, 0.0008819212641407 -288.0004713967368, 0.0008314696120949 -288.000555570233, 0.0007730104531551 -288.00063439328414, 0.0007071067809789 -288.0007071067812, 0.000634393283956 -288.0007730104534, 0.0005555702328119 -288.0008314696123, 0.0004713967366183 -288.00088192126435, 0.0003826834321574 -288.00092387953254, 0.0002902846770468 -288.00095694033575, 0.0001950903218084 -288.0009807852804, 9.801714012188025e-5 -288.00099518472666, -2.0768028975502026e-13 -288.001, -9.801714053724117e-5 -288.00099518472666, -0.0001950903222238 -288.0009807852804, -0.0002902846774621 -288.00095694033575, -0.0003826834325728 -288.00092387953254, -0.0004713967370337 -288.00088192126435, -0.0005555702332273 -288.0008314696123, -0.0006343932843713 -288.0007730104534, -0.0007071067813942 -288.0007071067812, -0.0007730104535704 -288.00063439328414, -0.0008314696125102 -288.000555570233, -0.000881921264556 -288.0004713967368, -0.000923879532719 -288.00038268343235, -0.0009569403359399 -288.00029028467725, -0.0009807852806109 -288.000195090322, -0.0009951847268799 -288.0000980171403, -0.0010000000002077 -288, -0.0009999999999432 1152, -0.0009951847266154 1152.0000980171403, -0.0009807852803464 1152.000195090322, -0.0009569403356754 1152.0002902846772, -0.0009238795324544 1152.0003826834325, -0.0008819212642915 1152.0004713967369, -0.0008314696122457 1152.000555570233, -0.0007730104533059 1152.0006343932841, -0.0007071067811297 1152.0007071067812, -0.0006343932841068 1152.0007730104533, -0.0005555702329628 1152.0008314696122, -0.0004713967367692 1152.0008819212644, -0.0003826834323082 1152.0009238795326, -0.0002902846771976 1152.0009569403358, -0.0001950903219593 1152.0009807852805, -9.801714027271722e-5 1152.0009951847267, 5.684341886080802e-14 1152.001, 187.20000000000007 1152.001, 187.2000980171404 1152.0009951847267, 187.2001950903221 1152.0009807852805, 187.20029028467732 1152.0009569403358, 187.20038268343245 1152.0009238795326, 187.2004713967369 1152.0008819212644, 187.2005555702331 1152.0008314696122, 187.20063439328425 1152.0007730104533, 187.20070710678127 1152.0007071067812, 187.20077301045345 1152.0006343932841, 187.20083146961238 1152.000555570233, 187.20088192126443 1152.0004713967369, 187.20092387953258 1152.0003826834325, 187.2009569403358 1152.0002902846772, 187.20098078528048 1152.000195090322, 187.20099518472674 1152.0000980171403, 187.20100000000008 1152, 187.20100000000002 -4.934324553889585e-20, 187.20099518472668 -9.801714032956066e-5, 187.20098078528042 -0.0001950903220161, 187.20095694033574 -0.0002902846772545, 187.20092387953252 -0.0003826834323651, 187.20088192126437 -0.000471396736826, 187.20083146961233 -0.0005555702330196, 187.2007730104534 -0.0006343932841636, 187.2007071067812 -0.0007071067811865, 187.2006343932842 -0.0007730104533627, 187.20055557023304 -0.0008314696123025, 187.20047139673684 -0.0008819212643484, 187.2003826834324 -0.0009238795325113, 187.20029028467727 -0.0009569403357322, 187.20019509032204 -0.0009807852804032, 187.20009801714033 -0.0009951847266722, 187.20000000000002 -0.001, 0.0009999999998452 -0.001), (0.0009999999998452 0.001, 187.199 0.001, 187.19900000000007 1151.999, 0.0010000000000568 1151.999, 0.0009999999998452 0.001))']
2025-08-13 03:14:43,419 - INFO - [calculate_relationships] Intermediate results: adjacency=0, intersections=0, containment=0, overlap=0.0
2025-08-13 03:14:43,419 - INFO - [calculate_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:43,420 - WARNING - [calculate_relationships] All relational features are zero/default. Strokes: [{'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}]
2025-08-13 03:14:43,420 - INFO - [extract_relational_features] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:43,420 - DEBUG - [extract_relational_features] Output is JSON serializable.
2025-08-13 03:14:43,421 - INFO - [robust_curvature] INPUT: [[1.10940326e-15 2.00000000e-01]
 [1.00000000e+00 2.00000000e-01]
 [1.00000000e+00 1.00000000e+00]
 [1.41305400e-15 1.00000000e+00]
 [0.00000000e+00 0.00000000e+00]]
2025-08-13 03:14:43,421 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,422 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,422 - INFO - [robust_angular_variance] Computed angular variance: 0.394784 for 5 vertices.
2025-08-13 03:14:43,423 - INFO - [robust_curvature] INPUT: [[1.10940326e-15 2.00000000e-01]
 [1.41305400e-15 1.00000000e+00]
 [0.00000000e+00 0.00000000e+00]]
2025-08-13 03:14:43,423 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,424 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,424 - INFO - [robust_curvature] INPUT: [[1.  0.2]
 [1.  1. ]]
2025-08-13 03:14:43,424 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,425 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,425 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,425 - INFO - [robust_curvature] INPUT: [[3.83625880e-03 1.99232748e-01]
 [9.96163741e-01 2.03069007e-01]
 [9.96163741e-01 9.96930993e-01]
 [3.83625880e-03 9.96163741e-01]
 [9.67679884e-18 4.60351056e-03]]
2025-08-13 03:14:43,425 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,425 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,426 - INFO - [robust_angular_variance] Computed angular variance: 0.390837 for 5 vertices.
2025-08-13 03:14:43,427 - INFO - [robust_curvature] INPUT: [[3.83625880e-03 1.99232748e-01]
 [3.83625880e-03 9.96163741e-01]
 [9.67679884e-18 4.60351056e-03]]
2025-08-13 03:14:43,427 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,427 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,428 - INFO - [robust_curvature] INPUT: [[0.99616374 0.20306901]
 [0.99616374 0.99693099]]
2025-08-13 03:14:43,428 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,429 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,429 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,430 - INFO - [robust_curvature] INPUT: [[1.06714637e-01 1.79132030e-01]
 [8.93021498e-01 2.85318937e-01]
 [8.93021498e-01 9.14364425e-01]
 [1.06714637e-01 8.93127044e-01]
 [5.27730165e-04 1.28057564e-01]]
2025-08-13 03:14:43,430 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,430 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,431 - INFO - [robust_angular_variance] Computed angular variance: 0.358245 for 5 vertices.
2025-08-13 03:14:43,432 - INFO - [robust_curvature] INPUT: [[1.06714637e-01 1.79132030e-01]
 [1.06714637e-01 8.93127044e-01]
 [5.27730165e-04 1.28057564e-01]]
2025-08-13 03:14:43,432 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,432 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,433 - INFO - [robust_curvature] INPUT: [[0.8930215  0.28531894]
 [0.8930215  0.91436443]]
2025-08-13 03:14:43,433 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,433 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,433 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,435 - INFO - [robust_curvature] INPUT: [[0.30052827 0.24505573]
 [0.64104875 0.42873801]
 [0.64104875 0.7011544 ]
 [0.30052827 0.66441794]
 [0.11684598 0.36063392]]
2025-08-13 03:14:43,435 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,435 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,436 - INFO - [robust_angular_variance] Computed angular variance: 0.090395 for 5 vertices.
2025-08-13 03:14:43,436 - INFO - [robust_curvature] INPUT: [[0.64104875 0.42873801]
 [0.64104875 0.7011544 ]
 [0.30052827 0.66441794]]
2025-08-13 03:14:43,437 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,437 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,437 - INFO - [robust_curvature] INPUT: [[0.30052827 0.24505573]
 [0.11684598 0.36063392]]
2025-08-13 03:14:43,438 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,438 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,438 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,439 - INFO - [robust_curvature] INPUT: [[0.39149837 0.45695157]
 [0.42225094 0.47594856]
 [0.42225094 0.50055061]
 [0.39149837 0.49675121]
 [0.37250138 0.46979805]]
2025-08-13 03:14:43,439 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,439 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,440 - INFO - [robust_angular_variance] Computed angular variance: 0.109997 for 5 vertices.
2025-08-13 03:14:43,440 - INFO - [robust_curvature] INPUT: [[0.42225094 0.47594856]
 [0.42225094 0.50055061]
 [0.39149837 0.49675121]]
2025-08-13 03:14:43,441 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,441 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,441 - INFO - [robust_curvature] INPUT: [[0.39149837 0.45695157]
 [0.37250138 0.46979805]]
2025-08-13 03:14:43,441 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,442 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,442 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,442 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.10999735993543273, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}
2025-08-13 03:14:43,442 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.39478417604357513, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.3908367443832657, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.35824474057827027, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.09039485581711845, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.10999735993543273, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}
2025-08-13 03:14:43,443 - INFO - [_calculate_image_features] INPUTS: vertices=[(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)], strokes=[{'area': 3.356218273493338e-08, 'perimeter': 0.1921966415653528, 'centroid': [0.41389641159313706, 0.500000202110099], 'bounds': [0.37, 0.5, 0.4660983207762213, 0.5000005764818267], 'width': 0.08093757364810827, 'height': 9.043834559019359e-07, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.1921966415653528, 'analytic_vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'normal', 'command': 'line_normal_0.130-0.500', 'vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'geometry': {'area': 3.8302695523534946e-08, 'perimeter': 0.16187514735480196, 'centroid': [0.4035627361562066, 0.4999996593116302], 'bounds': [0.37, 0.4999990956165441, 0.45093757364810827, 0.5], 'width': 0.08093757364810827, 'height': 9.043834559019359e-07}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.1888103495839804e-07, 'perimeter': 0.36081862141424337, 'centroid': [0.49999961122748016, 0.28145808064096606], 'bounds': [0.4999990400697922, 0.19147669802539127, 0.5, 0.37188600872447214], 'width': 8.147332616337266e-07, 'height': 0.2644093329351147, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.36081862141424337, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'open_stroke_perimeter': 0.8, 'shape_modifier': 'vertical', 'command': 'line_normal_0.800-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'geometry': {'area': 1.270574277479189e-07, 'perimeter': 0.5288186658854885, 'centroid': [0.49999972160423845, 0.2762419819320288], 'bounds': [0.49999918526673837, 0.15901637383954118, 0.5, 0.42342570677465585], 'width': 8.147332616337266e-07, 'height': 0.2644093329351147}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 5.088631740272304e-08, 'perimeter': 0.26000000004977336, 'centroid': [0.5000002462178559, 0.4410893128711695], 'bounds': [0.5, 0.37, 0.5000008978896336, 0.5], 'width': 9.886660256031021e-07, 'height': 0.13, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.26000000004977336, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'open_stroke_perimeter': 0.13, 'shape_modifier': 'vertical', 'command': 'line_normal_0.130-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'geometry': {'area': 6.508683763083931e-08, 'perimeter': 0.26000000005175655, 'centroid': [0.500000323500803, 0.43227909878922827], 'bounds': [0.5, 0.37, 0.5000009886660256, 0.5], 'width': 9.886660256031021e-07, 'height': 0.13}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.3967646330345289e-07, 'perimeter': 0.5842469718732104, 'centroid': [0.5000002889638104, -0.35428897597322906], 'bounds': [0.49999999999999983, -0.5, 0.5000009446756782, -0.20787651408228797], 'width': 7.411587772399031e-07, 'height': 0.2724632237206382, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.5842469718732104, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'open_stroke_perimeter': 1.0, 'shape_modifier': 'vertical', 'command': 'line_normal_1.000-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'geometry': {'area': 1.051905289950314e-07, 'perimeter': 0.5449264474525277, 'centroid': [0.5000002466335767, -0.09826517151097527], 'bounds': [0.4999999999999999, -0.21014584682301007, 0.5000007411587771, 0.0623173768976281], 'width': 7.411587772399031e-07, 'height': 0.2724632237206382}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}], geometry={'area': 0.7999999999999994, 'perimeter': 3.9999999999999973, 'centroid': [0.5000000000000003, 0.5999999999999999], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-13 03:14:43,444 - DEBUG - [POLYGON CREATION] Attempting to create Polygon with vertices: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-13 03:14:43,444 - DEBUG - [POLYGON REPAIR] Final polygon: is_valid=True, is_empty=False, area=0.7999999999999994
2025-08-13 03:14:43,444 - INFO - [_calculate_perimeter] INPUT vertices: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-13 03:14:43,444 - INFO - [_calculate_perimeter] OUTPUT perimeter: 3.9999999999999973
2025-08-13 03:14:43,444 - INFO - [robust_curvature] INPUT: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-13 03:14:43,446 - INFO - [robust_curvature] OUTPUT: 1.80641577581413
2025-08-13 03:14:43,446 - INFO - [robust_angular_variance] Computed angular variance: 0.394784 for 5 vertices.
2025-08-13 03:14:43,447 - INFO - [complexity] Calling calculate_complexity with vertices: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-13 03:14:43,447 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,447 - INFO - Complexity: n=5, n_norm=0.17, curvature=0.90, irregularity=0.16, result=0.39
2025-08-13 03:14:43,448 - INFO - [complexity] Output for vertices count 5: 0.38629569970545286
2025-08-13 03:14:43,448 - INFO - [_calculate_image_features] polsby_popper: 0.6283185307179591
2025-08-13 03:14:43,450 - INFO - [_calculate_image_features] OUTPUT: {'bounding_box': (0.0, 0.0, 1.0, 1.0), 'centroid': [0.5000000000000003, 0.5999999999999999], 'width': 1.0, 'height': 1.0, 'area_raw': 0.7999999999999994, 'area_normalized': 0.8888888888888891, 'perimeter_raw': 3.9999999999999973, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.8888888888888891, 'is_convex': False, 'compactness': 0.6283185307179591, 'polsby_popper_compactness': 0.6283185307179591, 'eccentricity': 0.4117684783981497, 'symmetry_score': 0.7071067811865468, 'horizontal_symmetry': 0.8800000000000001, 'vertical_symmetry': 0.9999999999999989, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 5.0, 'visual_complexity': 0.5044999999999998, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'moment_of_inertia': 0.3733333333333334, 'irregularity_score': 0.16000000000000045, 'standardized_complexity': 0.38629569970545286, 'clustering_heights': [0.018009047276368585, 0.18187628313356588, 0.5463651676831419], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-13 03:14:43,450 - DEBUG - [_calculate_composition_features] INPUTS: strokes count=4
2025-08-13 03:14:43,450 - DEBUG - [_calculate_composition_features] OUTPUT: {'stroke_type_distribution': {'line': 4}, 'shape_modifier_distribution': {'normal': 4}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 5, 'homogeneity_score': 1.0, 'pattern_regularity': 0.25}
2025-08-13 03:14:43,451 - INFO - [_calculate_physics_features] INPUT vertices: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-13 03:14:43,451 - INFO - [_calculate_physics_features] INPUT centroid: [0.5000000000000003, 0.5999999999999999]
2025-08-13 03:14:43,451 - INFO - [_calculate_physics_features] INPUT strokes: ['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-13 03:14:43,451 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,451 - INFO - [QualityMonitor] physics_features: {'degenerate': False, 'area': 0.7999999999999994}
2025-08-13 03:14:43,453 - INFO - [_calculate_physics_features] polsby_popper: 0.6283185307179591
2025-08-13 03:14:43,454 - INFO - [robust_angular_variance] Computed angular variance: 0.394784 for 5 vertices.
2025-08-13 03:14:43,454 - INFO - [_calculate_physics_features] OUTPUT: {'moment_of_inertia': 0.3733333333333334, 'center_of_mass': [0.5000000000000003, 0.5999999999999999], 'polsby_popper_compactness': 0.6283185307179591, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': False, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'edge_length_variance': 0.09599999999999975}
2025-08-13 03:14:43,454 - INFO - [calculate_shape_relationships] INPUT: shapes=[{'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}], buffer_amt=0.001
2025-08-13 03:14:43,455 - DEBUG - [calculate_shape_relationships] Shape 0 vertices: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-13 03:14:43,455 - DEBUG - [calculate_shape_relationships] Created Polygon for shape 0: POLYGON ((0 0, 187.20000000000002 0, 187.20000000000007 1152, 5.684341886080802e-14 1152, -2.0768028975502026e-13 -288, 0 0))
2025-08-13 03:14:43,455 - INFO - [calculate_shape_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:43,455 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal'], n=2
2025-08-13 03:14:43,455 - DEBUG - [ensure_str_list] Converting list: ['normal']
2025-08-13 03:14:43,455 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,456 - DEBUG - [ensure_str_list] Result: ['normal']
2025-08-13 03:14:43,456 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal']
2025-08-13 03:14:43,456 - DEBUG - [_extract_ngram_features] OUTPUT: {}
2025-08-13 03:14:43,456 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:43,456 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal'], n=2
2025-08-13 03:14:43,457 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal']
2025-08-13 03:14:43,457 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,457 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,457 - DEBUG - [ensure_str_list] Result: ['normal', 'normal']
2025-08-13 03:14:43,457 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal']
2025-08-13 03:14:43,457 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 1}
2025-08-13 03:14:43,457 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:43,459 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal'], n=2
2025-08-13 03:14:43,459 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal']
2025-08-13 03:14:43,459 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,459 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,460 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,460 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal']
2025-08-13 03:14:43,460 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal']
2025-08-13 03:14:43,460 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 2}
2025-08-13 03:14:43,460 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:43,461 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-13 03:14:43,461 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,461 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,461 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,462 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,462 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,462 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,462 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,463 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-13 03:14:43,463 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:43,463 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,463 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,463 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,463 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,464 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,464 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,464 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,464 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,464 - DEBUG - [_detect_alternation] OUTPUT: 0.25
2025-08-13 03:14:43,465 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-13 03:14:43,465 - INFO - [extract_regularity_features] INPUT: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,465 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,465 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,466 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,466 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,467 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,467 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,467 - INFO - [extract_regularity_features] OUTPUT: {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 4}}
2025-08-13 03:14:43,467 - DEBUG - [extract_regularity_features] Output is JSON serializable.
2025-08-13 03:14:43,467 - INFO - [extract_dominant_shape_modifiers] INPUT: {'modifiers': ['normal', 'normal', 'normal', 'normal']}
2025-08-13 03:14:43,468 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,468 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,468 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,468 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,469 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,469 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,469 - INFO - [extract_dominant_shape_modifiers] OUTPUT: {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 4}}
2025-08-13 03:14:43,469 - DEBUG - [extract_dominant_shape_modifiers] Output is JSON serializable.
2025-08-13 03:14:43,469 - WARNING - [PATCH] Failed to load canonical summary for image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_5: type object 'FileIO' has no attribute 'load_canonical_features'
2025-08-13 03:14:43,470 - DEBUG - [process_single_image] Passing topo_shape_list to extract_topological_features: [{'vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]}]
2025-08-13 03:14:43,470 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,471 - INFO - [QualityMonitor] topological_features: {'degenerate': False, 'area': 0.7999999999999994}
2025-08-13 03:14:43,477 - INFO - [extract_stroke_features_from_shapes] Shape 0 actions: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750]
2025-08-13 03:14:43,477 - INFO - [extract_stroke_features_from_shapes] Shape 0: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None
2025-08-13 03:14:43,478 - INFO - [extract_stroke_features_from_shapes] Shape 0 geometry: {'area': 0.7999999999999994, 'perimeter': 3.9999999999999973, 'centroid': [0.5000000000000003, 0.5999999999999999], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'robust_curvature': 1.80641577581413, 'robust_angular_variance': 0.39478417604357513, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 1.5707963267948966}
2025-08-13 03:14:43,478 - INFO - [extract_stroke_features_from_shapes] Shape 0: num_actions=4 | actions=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750]
2025-08-13 03:14:43,478 - INFO - [LOGGING PATCH] [extract_stroke_features_from_shapes] shape_idx=0 initial shape_vertices: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-13 03:14:43,478 - INFO - [LOGGING PATCH] [extract_stroke_features_from_shapes] shape_idx=0 deduped/closed shape_vertices: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,479 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=0 | stroke=line_normal_0.130-0.500
2025-08-13 03:14:43,479 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,479 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,479 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,480 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,480 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 2966.4, 'centroid': [84.51262135922329, 506.0970873786407], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 5, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,480 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-13 03:14:43,481 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,481 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,481 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,481 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,483 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-13 03:14:43,483 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-13 03:14:43,483 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 0: {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-13 03:14:43,484 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=1 | stroke=line_normal_0.800-0.750
2025-08-13 03:14:43,484 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,484 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,485 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,485 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,485 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,485 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,486 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750]
2025-08-13 03:14:43,486 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.130-0.500
2025-08-13 03:14:43,486 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,486 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 2966.4, 'centroid': [84.51262135922329, 506.0970873786407], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 5, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,486 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,487 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,487 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-13 03:14:43,487 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 2966.4, 'centroid': [84.51262135922329, 506.0970873786407], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 5, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,487 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-13 03:14:43,487 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,489 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,489 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,489 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,490 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-13 03:14:43,490 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-13 03:14:43,490 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.800-0.750
2025-08-13 03:14:43,490 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,491 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,491 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,491 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,491 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,492 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,492 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,493 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,493 - INFO - [SoS] Perturbed collinear vertex 4: [-2.0768029e-13 -2.8800000e+02] -> [ 3.22543253e-07 -2.88000000e+02]
2025-08-13 03:14:43,493 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,494 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-13 03:14:43,494 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-13 03:14:43,495 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,495 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,495 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:43,495 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,496 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,496 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,498 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-13 03:14:43,498 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-13 03:14:43,498 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.130-0.750
2025-08-13 03:14:43,498 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,499 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,499 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,499 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,499 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,499 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,499 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,500 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,500 - INFO - [SoS] Perturbed collinear vertex 4: [-2.0768029e-13 -2.8800000e+02] -> [ 3.26150756e-07 -2.88000001e+02]
2025-08-13 03:14:43,500 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,501 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-13 03:14:43,501 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-13 03:14:43,502 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,502 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,502 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:43,503 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,503 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,503 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,504 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-13 03:14:43,504 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-13 03:14:43,504 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_1.000-0.750
2025-08-13 03:14:43,504 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,505 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,505 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,505 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,506 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,506 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,506 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,506 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,507 - INFO - [SoS] Perturbed collinear vertex 4: [-2.0768029e-13 -2.8800000e+02] -> [ 3.02480962e-07 -2.88000000e+02]
2025-08-13 03:14:43,507 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,508 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-13 03:14:43,509 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-13 03:14:43,509 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,509 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,509 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:43,510 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,510 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,510 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,511 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-13 03:14:43,511 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-13 03:14:43,511 - INFO - [collect_stroke_features] Collected 4 valid stroke features
2025-08-13 03:14:43,512 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=4
2025-08-13 03:14:43,512 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,512 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=3254.4. Returning 0.0.
2025-08-13 03:14:43,513 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-13 03:14:43,513 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-13 03:14:43,513 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 2008.7999998097648, 'var': 1345092.479745237, 'min': 0.0, 'max': 2678.399999758015, 'count': 4}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}, 'width': {'mean': 140.4, 'var': 6570.720000000001, 'min': 0.0, 'max': 187.20000000000002, 'count': 4}, 'area': {'mean': 161740.79989042465, 'var': 8720028783.064798, 'min': 0.0, 'max': 215654.39986061677, 'count': 4}, 'height': {'mean': 864.0, 'var': 248832.0, 'min': 0.0, 'max': 1152.0, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}}}
2025-08-13 03:14:43,514 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 2008.7999998097648, 'var': 1345092.479745237, 'min': 0.0, 'max': 2678.399999758015, 'count': 4}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}, 'width': {'mean': 140.4, 'var': 6570.720000000001, 'min': 0.0, 'max': 187.20000000000002, 'count': 4}, 'area': {'mean': 161740.79989042465, 'var': 8720028783.064798, 'min': 0.0, 'max': 215654.39986061677, 'count': 4}, 'height': {'mean': 864.0, 'var': 248832.0, 'min': 0.0, 'max': 1152.0, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}}}
2025-08-13 03:14:43,514 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:43,514 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,515 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,515 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,516 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-13 03:14:43,516 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-13 03:14:43,516 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 3254.4, 'var': 0.0, 'min': 3254.4, 'max': 3254.4, 'count': 1}, 'geom_complexity': {'mean': 0.3, 'var': 0.0, 'min': 0.3, 'max': 0.3, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'width': {'mean': 187.20000000000027, 'var': 0.0, 'min': 187.20000000000027, 'max': 187.20000000000027, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 3254.4, 'var': 0.0, 'min': 3254.4, 'max': 3254.4, 'count': 1}, 'geom_complexity': {'mean': 0.3, 'var': 0.0, 'min': 0.3, 'max': 0.3, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'width': {'mean': 187.20000000000027, 'var': 0.0, 'min': 187.20000000000027, 'max': 187.20000000000027, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-13 03:14:43,516 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_normal_0.130-0.750
2025-08-13 03:14:43,517 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,517 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,517 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,517 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,518 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,518 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,518 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750]
2025-08-13 03:14:43,518 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.130-0.500
2025-08-13 03:14:43,518 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,519 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 2966.4, 'centroid': [84.51262135922329, 506.0970873786407], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 5, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,519 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,519 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,519 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-13 03:14:43,520 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 2966.4, 'centroid': [84.51262135922329, 506.0970873786407], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 5, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,520 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-13 03:14:43,520 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,521 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,521 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,521 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,522 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-13 03:14:43,522 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-13 03:14:43,522 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.800-0.750
2025-08-13 03:14:43,522 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,522 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,524 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,524 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,524 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,524 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,525 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,525 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,525 - INFO - [SoS] Perturbed collinear vertex 4: [-2.0768029e-13 -2.8800000e+02] -> [ 2.82469719e-07 -2.88000001e+02]
2025-08-13 03:14:43,525 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,526 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-13 03:14:43,527 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-13 03:14:43,527 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,527 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,527 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:43,527 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,529 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,529 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,530 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-13 03:14:43,530 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-13 03:14:43,530 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.130-0.750
2025-08-13 03:14:43,530 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,530 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,530 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,531 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,531 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,531 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,531 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,532 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,532 - INFO - [SoS] Perturbed collinear vertex 4: [-2.0768029e-13 -2.8800000e+02] -> [ 5.41906146e-07 -2.88000001e+02]
2025-08-13 03:14:43,533 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,533 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-13 03:14:43,534 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-13 03:14:43,534 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,534 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,534 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:43,534 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,536 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,536 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,537 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-13 03:14:43,537 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-13 03:14:43,537 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_1.000-0.750
2025-08-13 03:14:43,537 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,538 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,538 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,538 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,538 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,539 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,539 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,539 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,539 - INFO - [SoS] Perturbed collinear vertex 4: [-2.0768029e-13 -2.8800000e+02] -> [-3.20977677e-07 -2.88000000e+02]
2025-08-13 03:14:43,540 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,540 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-13 03:14:43,541 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-13 03:14:43,541 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,541 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,541 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:43,541 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,541 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,543 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,543 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-13 03:14:43,544 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-13 03:14:43,544 - INFO - [collect_stroke_features] Collected 4 valid stroke features
2025-08-13 03:14:43,544 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=4
2025-08-13 03:14:43,545 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,545 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=3254.4. Returning 0.0.
2025-08-13 03:14:43,545 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-13 03:14:43,546 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-13 03:14:43,546 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 2152.7999999610547, 'var': 1600145.280104132, 'min': 0.0, 'max': 3254.4000005037196, 'count': 4}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}, 'width': {'mean': 140.40000008024444, 'var': 6570.72000751088, 'min': 0.0, 'max': 187.20000032097775, 'count': 4}, 'area': {'mean': 161740.7999512527, 'var': 8720028789.623716, 'min': 0.0, 'max': 215654.40018488315, 'count': 4}, 'height': {'mean': 936.000000062965, 'var': 305856.00006346864, 'min': 0.0, 'max': 1440.0000002518598, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}}}
2025-08-13 03:14:43,546 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 2152.7999999610547, 'var': 1600145.280104132, 'min': 0.0, 'max': 3254.4000005037196, 'count': 4}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}, 'width': {'mean': 140.40000008024444, 'var': 6570.72000751088, 'min': 0.0, 'max': 187.20000032097775, 'count': 4}, 'area': {'mean': 161740.7999512527, 'var': 8720028789.623716, 'min': 0.0, 'max': 215654.40018488315, 'count': 4}, 'height': {'mean': 936.000000062965, 'var': 305856.00006346864, 'min': 0.0, 'max': 1440.0000002518598, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}}}
2025-08-13 03:14:43,546 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:43,546 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,547 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,547 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,548 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-13 03:14:43,548 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-13 03:14:43,548 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 3254.4, 'var': 0.0, 'min': 3254.4, 'max': 3254.4, 'count': 1}, 'geom_complexity': {'mean': 0.3, 'var': 0.0, 'min': 0.3, 'max': 0.3, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}, 'width': {'mean': 187.20000000000027, 'var': 0.0, 'min': 187.20000000000027, 'max': 187.20000000000027, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 3254.4, 'var': 0.0, 'min': 3254.4, 'max': 3254.4, 'count': 1}, 'geom_complexity': {'mean': 0.3, 'var': 0.0, 'min': 0.3, 'max': 0.3, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}, 'width': {'mean': 187.20000000000027, 'var': 0.0, 'min': 187.20000000000027, 'max': 187.20000000000027, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-13 03:14:43,548 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_normal_1.000-0.750
2025-08-13 03:14:43,549 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,549 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,550 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,550 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,550 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,550 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,551 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750]
2025-08-13 03:14:43,551 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.130-0.500
2025-08-13 03:14:43,551 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,552 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 2966.4, 'centroid': [84.51262135922329, 506.0970873786407], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 5, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,552 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,552 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,552 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-13 03:14:43,552 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 2966.4, 'centroid': [84.51262135922329, 506.0970873786407], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 5, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,552 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-13 03:14:43,553 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,553 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,553 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,554 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,554 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-13 03:14:43,554 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-13 03:14:43,555 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.800-0.750
2025-08-13 03:14:43,555 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,555 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,555 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,556 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,556 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,556 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,556 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,558 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,558 - INFO - [SoS] Perturbed collinear vertex 4: [-2.0768029e-13 -2.8800000e+02] -> [ 9.91749987e-07 -2.87999999e+02]
2025-08-13 03:14:43,558 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,559 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-13 03:14:43,560 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-13 03:14:43,560 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,560 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,560 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:43,561 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,561 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,562 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,562 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-13 03:14:43,562 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-13 03:14:43,562 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.130-0.750
2025-08-13 03:14:43,563 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,563 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,563 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,564 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,564 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,564 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,564 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,564 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,565 - INFO - [SoS] Perturbed collinear vertex 4: [-2.0768029e-13 -2.8800000e+02] -> [-4.58438880e-07 -2.88000001e+02]
2025-08-13 03:14:43,565 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,565 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-13 03:14:43,566 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-13 03:14:43,566 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,566 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,566 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:43,567 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,567 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,567 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,568 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-13 03:14:43,568 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-13 03:14:43,569 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_normal_1.000-0.750
2025-08-13 03:14:43,569 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,570 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,570 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,570 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,571 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B1029950>, parent_shape_vertices=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,571 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], geometry={'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [77.03362831858405, 448.5663716814159], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,571 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)]
2025-08-13 03:14:43,571 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,572 - INFO - [SoS] Perturbed collinear vertex 4: [-2.0768029e-13 -2.8800000e+02] -> [-5.08289317e-07 -2.88000000e+02]
2025-08-13 03:14:43,572 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,573 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-13 03:14:43,573 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-13 03:14:43,573 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,573 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,574 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:43,574 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,574 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,575 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,575 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-13 03:14:43,575 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-13 03:14:43,575 - INFO - [collect_stroke_features] Collected 4 valid stroke features
2025-08-13 03:14:43,575 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=4
2025-08-13 03:14:43,577 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,577 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=3254.4. Returning 0.0.
2025-08-13 03:14:43,577 - INFO - Convexity: poly_area=215654.4000, hull_area=242611.2000, ratio=0.8889
2025-08-13 03:14:43,578 - INFO - [robust_angular_variance] Computed angular variance: 0.342695 for 6 vertices.
2025-08-13 03:14:43,578 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 2296.800000093879, 'var': 1813726.080408296, 'min': 0.0, 'max': 3254.4000018253387, 'count': 4}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}, 'width': {'mean': 140.40000024168208, 'var': 6570.720022621443, 'min': 0.0, 'max': 187.20000050828938, 'count': 4}, 'area': {'mean': 161740.80002495926, 'var': 8720028797.57129, 'min': 0.0, 'max': 215654.40029277466, 'count': 4}, 'height': {'mean': 1008.0000001461144, 'var': 352512.00012624275, 'min': 0.0, 'max': 1440.0000009126693, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}}}
2025-08-13 03:14:43,578 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 2296.800000093879, 'var': 1813726.080408296, 'min': 0.0, 'max': 3254.4000018253387, 'count': 4}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}, 'stroke_index': {'mean': 1.5, 'var': 1.25, 'min': 0.0, 'max': 3.0, 'count': 4}, 'width': {'mean': 140.40000024168208, 'var': 6570.720022621443, 'min': 0.0, 'max': 187.20000050828938, 'count': 4}, 'area': {'mean': 161740.80002495926, 'var': 8720028797.57129, 'min': 0.0, 'max': 215654.40029277466, 'count': 4}, 'height': {'mean': 1008.0000001461144, 'var': 352512.00012624275, 'min': 0.0, 'max': 1440.0000009126693, 'count': 4}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 4}}}
2025-08-13 03:14:43,579 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:43,579 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,579 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,580 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,580 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591}
2025-08-13 03:14:43,580 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'convexity_ratio': 1e-06, 'compactness': 0.6283185307179591, 'is_simple': True}
2025-08-13 03:14:43,581 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 3254.4, 'var': 0.0, 'min': 3254.4, 'max': 3254.4, 'count': 1}, 'geom_complexity': {'mean': 0.3, 'var': 0.0, 'min': 0.3, 'max': 0.3, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}, 'width': {'mean': 187.20000000000027, 'var': 0.0, 'min': 187.20000000000027, 'max': 187.20000000000027, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 3254.4, 'var': 0.0, 'min': 3254.4, 'max': 3254.4, 'count': 1}, 'geom_complexity': {'mean': 0.3, 'var': 0.0, 'min': 0.3, 'max': 0.3, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}, 'width': {'mean': 187.20000000000027, 'var': 0.0, 'min': 187.20000000000027, 'max': 187.20000000000027, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-13 03:14:43,581 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=4
2025-08-13 03:14:43,583 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['line_angle', 'geom_complexity', 'robust_curvature', 'degenerate_case', 'convexity_ratio', 'line_is_short', 'line_is_horizontal', 'stroke_length', 'line_length', 'line_curvature_score', 'visual_complexity', 'robust_angular_variance', 'stroke_index', 'is_geometric', 'is_simple', 'open_stroke_perimeter', 'is_normal', 'is_pattern', 'compactness', 'arc_curvature_score', 'line_is_vertical', 'num_vertices', 'geometric_complexity', 'avg_stroke_length', 'line_is_long']
2025-08-13 03:14:43,583 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (4) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-13 03:14:43,583 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=4
2025-08-13 03:14:43,583 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 4
2025-08-13 03:14:43,583 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 4, 'num_arcs': 0, 'line_ratio': 1.0, 'arc_ratio': 0.0, 'stroke_diversity': 0}, 'line_aggregate': {'total_line_length': 12729.6, 'avg_line_length': 3182.4, 'line_length_variance': 15552.0, 'line_angle_variance': 0.0, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'horizontal'}}
2025-08-13 03:14:43,584 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750
2025-08-13 03:14:43,584 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-13 03:14:43,584 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-13 03:14:43,584 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-13 03:14:43,585 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-13 03:14:43,585 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.130-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.800-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.130-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_1.000-0.750', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}]
2025-08-13 03:14:43,585 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-13 03:14:43,585 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-13 03:14:43,586 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-13 03:14:43,586 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-13 03:14:43,586 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.40000000000000047, 0.48], 'orientation_degrees': -149.76939112977894}, geometry={'area': 0.7999999999999994, 'perimeter': 3.9999999999999973, 'centroid': [0.5000000000000003, 0.5999999999999999], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-13 03:14:43,587 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']
2025-08-13 03:14:43,587 - DEBUG - [PATCH][actions field] Joined: line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750
2025-08-13 03:14:43,587 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.130-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.800-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.130-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_1.000-0.750', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}]
2025-08-13 03:14:43,587 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-13 03:14:43,589 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-13 03:14:43,589 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-13 03:14:43,589 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:43,590 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:43,590 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|normal': 3}
2025-08-13 03:14:43,590 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-13 03:14:43,590 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-13 03:14:43,591 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5000000000000003, 0.5999999999999999], 'width': 1.0, 'height': 1.0, 'area_raw': 0.7999999999999994, 'area_normalized': 0.8888888888888891, 'perimeter_raw': 3.9999999999999973, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.8888888888888891, 'is_convex': False, 'compactness': 0.6283185307179591, 'polsby_popper_compactness': 0.6283185307179591, 'eccentricity': 0.4117684783981497, 'symmetry_score': 0.7071067811865468, 'horizontal_symmetry': 0.8800000000000001, 'vertical_symmetry': 0.9999999999999989, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 5.0, 'visual_complexity': 0.5044999999999998, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'moment_of_inertia': 0.3733333333333334, 'irregularity_score': 0.16000000000000045, 'standardized_complexity': 0.38629569970545286, 'clustering_heights': [0.018009047276368585, 0.18187628313356588, 0.5463651676831419], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-13 03:14:43,591 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:43,591 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-13 03:14:43,591 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-13 03:14:43,591 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.500, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,591 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.130-0.500, stroke_index=0
2025-08-13 03:14:43,592 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.13, param2=None, param3=0.5
2025-08-13 03:14:43,592 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)]
2025-08-13 03:14:43,592 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], geometry={'width': 0.13, 'height': 0.0, 'area': 0.0, 'perimeter': 0.13, 'centroid': [0.43499999999999994, 0.5], 'bounds': [0.37, 0.5, 0.5, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)], 'open_stroke_perimeter': 0.13, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,593 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.48142857142857143, 0.5), (0.46285714285714286, 0.5), (0.4442857142857143, 0.5), (0.4257142857142857, 0.5), (0.40714285714285714, 0.5), (0.38857142857142857, 0.5), (0.37, 0.5)]
2025-08-13 03:14:43,593 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,593 - INFO - [SoS] Perturbed collinear vertex 1: [0.48142857 0.5       ] -> [0.48142887 0.49999995]
2025-08-13 03:14:43,593 - INFO - [SoS] Perturbed collinear vertex 2: [0.46285714 0.5       ] -> [0.46285661 0.50000076]
2025-08-13 03:14:43,595 - INFO - [SoS] Perturbed collinear vertex 3: [0.44428571 0.5       ] -> [0.44428564 0.49999984]
2025-08-13 03:14:43,595 - INFO - [SoS] Perturbed collinear vertex 4: [0.42571429 0.5       ] -> [0.42571407 0.50000071]
2025-08-13 03:14:43,596 - INFO - [SoS] Perturbed collinear vertex 5: [0.40714286 0.5       ] -> [0.40714311 0.49999959]
2025-08-13 03:14:43,596 - INFO - [SoS] Perturbed collinear vertex 6: [0.38857143 0.5       ] -> [0.38857242 0.50000002]
2025-08-13 03:14:43,597 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,598 - INFO - [robust_angular_variance] Computed angular variance: 1.850551 for 8 vertices.
2025-08-13 03:14:43,598 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,598 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,599 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,599 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,599 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,600 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,601 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.6179797168491419}
2025-08-13 03:14:43,601 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.6179797168491419, 'is_simple': True}
2025-08-13 03:14:43,601 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.800-0.750, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,602 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.800-0.750, stroke_index=0
2025-08-13 03:14:43,602 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.8, param2=None, param3=0.75
2025-08-13 03:14:43,602 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)]
2025-08-13 03:14:43,602 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], geometry={'width': 1.6653345369377348e-16, 'height': 0.8, 'area': 0.0, 'perimeter': 0.8, 'centroid': [0.5, 0.09999999999999999], 'bounds': [0.49999999999999983, -0.30000000000000004, 0.5, 0.5], 'num_vertices': 16, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)], 'open_stroke_perimeter': 0.8, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,603 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.44666666666666666), (0.5, 0.3933333333333333), (0.49999999999999994, 0.33999999999999997), (0.49999999999999994, 0.2866666666666666), (0.49999999999999994, 0.23333333333333334), (0.49999999999999994, 0.18), (0.49999999999999994, 0.12666666666666665), (0.4999999999999999, 0.0733333333333333), (0.4999999999999999, 0.019999999999999962), (0.4999999999999999, -0.033333333333333326), (0.4999999999999999, -0.08666666666666667), (0.4999999999999999, -0.14), (0.49999999999999983, -0.19333333333333336), (0.49999999999999983, -0.2466666666666667), (0.49999999999999983, -0.30000000000000004)]
2025-08-13 03:14:43,603 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,604 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44666667] -> [0.49999966 0.44666755]
2025-08-13 03:14:43,604 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39333333] -> [0.50000032 0.39333408]
2025-08-13 03:14:43,604 - INFO - [SoS] Perturbed collinear vertex 3: [0.5  0.34] -> [0.50000006 0.34000012]
2025-08-13 03:14:43,605 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28666667] -> [0.49999907 0.28666702]
2025-08-13 03:14:43,605 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.23333333] -> [0.49999978 0.23333271]
2025-08-13 03:14:43,605 - INFO - [SoS] Perturbed collinear vertex 6: [0.5  0.18] -> [0.49999945 0.18000061]
2025-08-13 03:14:43,605 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.12666667] -> [0.50000005 0.12666745]
2025-08-13 03:14:43,605 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.07333333] -> [0.50000068 0.07333421]
2025-08-13 03:14:43,606 - INFO - [SoS] Perturbed collinear vertex 9: [0.5  0.02] -> [0.50000094 0.01999934]
2025-08-13 03:14:43,606 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.03333333] -> [ 0.50000024 -0.03333411]
2025-08-13 03:14:43,607 - INFO - [SoS] Perturbed collinear vertex 11: [ 0.5        -0.08666667] -> [ 0.50000044 -0.08666574]
2025-08-13 03:14:43,607 - INFO - [SoS] Perturbed collinear vertex 12: [ 0.5  -0.14] -> [ 0.49999966 -0.13999987]
2025-08-13 03:14:43,607 - INFO - [SoS] Perturbed collinear vertex 13: [ 0.5        -0.19333333] -> [ 0.49999952 -0.19333381]
2025-08-13 03:14:43,608 - INFO - [SoS] Perturbed collinear vertex 14: [ 0.5        -0.24666667] -> [ 0.49999969 -0.24666597]
2025-08-13 03:14:43,609 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,609 - INFO - [robust_angular_variance] Computed angular variance: 1.079488 for 16 vertices.
2025-08-13 03:14:43,609 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,611 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,611 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,611 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,612 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,612 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,614 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.32, 'num_vertices': 16, 'convexity_ratio': 1e-06, 'compactness': 0.48060151272536755}
2025-08-13 03:14:43,614 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.32, 'num_vertices': 16, 'convexity_ratio': 1e-06, 'compactness': 0.48060151272536755, 'is_simple': True}
2025-08-13 03:14:43,614 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.130-0.750, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,615 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.130-0.750, stroke_index=0
2025-08-13 03:14:43,615 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.13, param2=None, param3=0.75
2025-08-13 03:14:43,615 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)]
2025-08-13 03:14:43,616 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], geometry={'width': 0.0, 'height': 0.13, 'area': 0.0, 'perimeter': 0.13, 'centroid': [0.5, 0.43499999999999994], 'bounds': [0.5, 0.37, 0.5, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)], 'open_stroke_perimeter': 0.13, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,616 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.48142857142857143), (0.5, 0.46285714285714286), (0.5, 0.4442857142857143), (0.5, 0.4257142857142857), (0.5, 0.40714285714285714), (0.5, 0.38857142857142857), (0.5, 0.37)]
2025-08-13 03:14:43,616 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,616 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.48142857] -> [0.50000056 0.48142899]
2025-08-13 03:14:43,616 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.46285714] -> [0.50000004 0.46285627]
2025-08-13 03:14:43,618 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.44428571] -> [0.50000073 0.44428541]
2025-08-13 03:14:43,618 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.42571429] -> [0.49999965 0.42571341]
2025-08-13 03:14:43,618 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.40714286] -> [0.50000013 0.40714246]
2025-08-13 03:14:43,619 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.38857143] -> [0.50000024 0.38857073]
2025-08-13 03:14:43,620 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,620 - INFO - [robust_angular_variance] Computed angular variance: 1.850551 for 8 vertices.
2025-08-13 03:14:43,620 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,620 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,621 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,621 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,621 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,622 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,622 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.4327573564277061}
2025-08-13 03:14:43,622 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.4327573564277061, 'is_simple': True}
2025-08-13 03:14:43,624 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_1.000-0.750, all_vertices=None, bongard_image=[line_normal_0.130-0.500, line_normal_0.800-0.750, line_normal_0.130-0.750, line_normal_1.000-0.750], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,624 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_1.000-0.750, stroke_index=0
2025-08-13 03:14:43,624 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=1.0, param2=None, param3=0.75
2025-08-13 03:14:43,625 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)]
2025-08-13 03:14:43,625 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], geometry={'width': 1.6653345369377348e-16, 'height': 1.0, 'area': 0.0, 'perimeter': 1.0, 'centroid': [0.5, 1.734723475976807e-17], 'bounds': [0.49999999999999983, -0.5, 0.5, 0.5], 'num_vertices': 20, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)], 'open_stroke_perimeter': 1.0, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,625 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.4473684210526316), (0.5, 0.39473684210526316), (0.5, 0.34210526315789475), (0.49999999999999994, 0.2894736842105263), (0.49999999999999994, 0.2368421052631579), (0.49999999999999994, 0.1842105263157895), (0.49999999999999994, 0.13157894736842107), (0.49999999999999994, 0.07894736842105265), (0.49999999999999994, 0.026315789473684237), (0.4999999999999999, -0.02631578947368418), (0.4999999999999999, -0.07894736842105265), (0.4999999999999999, -0.13157894736842102), (0.4999999999999999, -0.18421052631578938), (0.4999999999999999, -0.23684210526315785), (0.4999999999999999, -0.2894736842105263), (0.49999999999999983, -0.3421052631578947), (0.49999999999999983, -0.39473684210526305), (0.49999999999999983, -0.4473684210526315), (0.49999999999999983, -0.5)]
2025-08-13 03:14:43,625 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,625 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44736842] -> [0.50000011 0.44736815]
2025-08-13 03:14:43,626 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39473684] -> [0.50000094 0.39473656]
2025-08-13 03:14:43,626 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.34210526] -> [0.49999948 0.34210448]
2025-08-13 03:14:43,627 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28947368] -> [0.49999956 0.28947328]
2025-08-13 03:14:43,627 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.23684211] -> [0.49999931 0.2368416 ]
2025-08-13 03:14:43,627 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.18421053] -> [0.50000077 0.18420982]
2025-08-13 03:14:43,628 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.13157895] -> [0.49999944 0.13157923]
2025-08-13 03:14:43,628 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.07894737] -> [0.50000031 0.07894667]
2025-08-13 03:14:43,628 - INFO - [SoS] Perturbed collinear vertex 9: [0.5        0.02631579] -> [0.49999919 0.02631636]
2025-08-13 03:14:43,628 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.02631579] -> [ 0.50000094 -0.02631665]
2025-08-13 03:14:43,630 - INFO - [SoS] Perturbed collinear vertex 11: [ 0.5        -0.07894737] -> [ 0.49999947 -0.07894817]
2025-08-13 03:14:43,630 - INFO - [SoS] Perturbed collinear vertex 12: [ 0.5        -0.13157895] -> [ 0.49999917 -0.1315794 ]
2025-08-13 03:14:43,631 - INFO - [SoS] Perturbed collinear vertex 13: [ 0.5        -0.18421053] -> [ 0.49999907 -0.18420988]
2025-08-13 03:14:43,631 - INFO - [SoS] Perturbed collinear vertex 14: [ 0.5        -0.23684211] -> [ 0.5000006  -0.23684184]
2025-08-13 03:14:43,631 - INFO - [SoS] Perturbed collinear vertex 15: [ 0.5        -0.28947368] -> [ 0.50000073 -0.28947308]
2025-08-13 03:14:43,632 - INFO - [SoS] Perturbed collinear vertex 16: [ 0.5        -0.34210526] -> [ 0.49999914 -0.34210502]
2025-08-13 03:14:43,632 - INFO - [SoS] Perturbed collinear vertex 17: [ 0.5        -0.39473684] -> [ 0.4999995  -0.39473751]
2025-08-13 03:14:43,632 - INFO - [SoS] Perturbed collinear vertex 18: [ 0.5        -0.44736842] -> [ 0.49999977 -0.44736918]
2025-08-13 03:14:43,635 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,635 - INFO - [robust_angular_variance] Computed angular variance: 0.888264 for 20 vertices.
2025-08-13 03:14:43,636 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,636 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,636 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,637 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,637 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,637 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,639 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.49521539981167073}
2025-08-13 03:14:43,640 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.49521539981167073, 'is_simple': True}
2025-08-13 03:14:43,640 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-13 03:14:43,640 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,640 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,641 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,641 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,641 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,641 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,642 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,642 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-13 03:14:43,642 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:43,643 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_5', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/5.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.130-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.800-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.130-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_1.000-0.750', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 4, 'raw_vertices': ['(0.0, 0.0)', '(187.20000000000002, 0.0)', '(187.20000000000007, 1152.0)', '(5.684341886080802e-14, 1152.0)', '(-2.0768028975502026e-13, -288.0)'], 'vertices': ['(1.1094032572383544e-15, 0.2)', '(0.9999999999999997, 0.2)', '(1.0, 1.0)', '(1.4130539990161747e-15, 1.0)', '(0.0, 0.0)'], 'num_vertices': 5, 'position_label': ['0.40000000000000047', '0.48'], 'rotation_label_degrees': ['-149.76939112977894'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5000000000000003, 0.5999999999999999], 'width': 1.0, 'height': 1.0, 'area_raw': 0.7999999999999994, 'area_normalized': 0.8888888888888891, 'perimeter_raw': 3.9999999999999973, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.8888888888888891, 'is_convex': False, 'compactness': 0.6283185307179591, 'polsby_popper_compactness': 0.6283185307179591, 'eccentricity': 0.4117684783981497, 'symmetry_score': 0.7071067811865468, 'horizontal_symmetry': 0.8800000000000001, 'vertical_symmetry': 0.9999999999999989, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 5.0, 'visual_complexity': 0.5044999999999998, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'moment_of_inertia': 0.3733333333333334, 'irregularity_score': 0.16000000000000045, 'standardized_complexity': 0.38629569970545286, 'clustering_heights': [0.018009047276368585, 0.18187628313356588, 0.5463651676831419], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 8.390937247433113e-08, 'perimeter_mean': 0.3739050651861437, 'width_mean': 0.020235029551543188, 'height_mean': 0.16671836525980221, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.3733333333333334, 'center_of_mass': [0.5000000000000003, 0.5999999999999999], 'polsby_popper_compactness': 0.6283185307179591, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': False, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'edge_length_variance': 0.09599999999999975}, 'composition_features': {'stroke_type_distribution': {'line': 4}, 'shape_modifier_distribution': {'normal': 4}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 5, 'homogeneity_score': 1.0, 'pattern_regularity': 0.25}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 4}}, 'processing_metadata': {'processing_timestamp': 1755035083.643424, 'feature_count': 54}, 'actions': ['line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750'], 'action_program': ['line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750'], 'geometry': {'area': 0.7999999999999994, 'perimeter': 3.9999999999999973, 'centroid': [0.5000000000000003, 0.5999999999999999], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 3}, 'analytic_attributes': ['normal', 'normal', 'normal', 'normal'], 'analytic_ngram': {'normal|normal': 3}, 'alternation': 0.25, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 4}}}, 'topological_features': {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 3, 1: 3, 2: 3, 3: 3}, 'adjacency_clustering': {0: 1.0, 1: 1.0, 2: 1.0, 3: 1.0}, 'intersection_count': 6, 'betweenness_centrality': {0: 0.0, 1: 0.0, 2: 0.0, 3: 0.0}, 'containment_score': 0, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 3122.693580726045, 'skeleton_graph_features': {'num_nodes': 4, 'num_edges': 6}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.39478417604357513, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.3908367443832657, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.35824474057827027, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.09039485581711845, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.10999735993543273, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}}
2025-08-13 03:14:43,643 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.40000000000000047, 0.48], 'orientation_degrees': -149.76939112977894}
2025-08-13 03:14:43,644 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.7999999999999994, 'perimeter': 3.9999999999999973, 'centroid': [0.5000000000000003, 0.5999999999999999], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-13 03:14:43,644 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.130-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.800-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.130-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_1.000-0.750', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}]
2025-08-13 03:14:43,644 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_normal_0.130-0.500', 'line_normal_0.800-0.750', 'line_normal_0.130-0.750', 'line_normal_1.000-0.750']]
2025-08-13 03:14:43,645 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)]
2025-08-13 03:14:43,645 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(1.1094032572383544e-15, 0.2), (0.9999999999999997, 0.2), (1.0, 1.0), (1.4130539990161747e-15, 1.0), (0.0, 0.0)]
2025-08-13 03:14:43,645 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5000000000000003, 0.5999999999999999], 'width': 1.0, 'height': 1.0, 'area_raw': 0.7999999999999994, 'area_normalized': 0.8888888888888891, 'perimeter_raw': 3.9999999999999973, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.8888888888888891, 'is_convex': False, 'compactness': 0.6283185307179591, 'polsby_popper_compactness': 0.6283185307179591, 'eccentricity': 0.4117684783981497, 'symmetry_score': 0.7071067811865468, 'horizontal_symmetry': 0.8800000000000001, 'vertical_symmetry': 0.9999999999999989, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 5.0, 'visual_complexity': 0.5044999999999998, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'moment_of_inertia': 0.3733333333333334, 'irregularity_score': 0.16000000000000045, 'standardized_complexity': 0.38629569970545286, 'clustering_heights': [0.018009047276368585, 0.18187628313356588, 0.5463651676831419], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-13 03:14:43,645 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.3733333333333334, 'center_of_mass': [0.5000000000000003, 0.5999999999999999], 'polsby_popper_compactness': 0.6283185307179591, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': False, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'edge_length_variance': 0.09599999999999975}
2025-08-13 03:14:43,646 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 4}, 'shape_modifier_distribution': {'normal': 4}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 5, 'homogeneity_score': 1.0, 'pattern_regularity': 0.25}
2025-08-13 03:14:43,646 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-13 03:14:43,646 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}
2025-08-13 03:14:43,648 - INFO - [PIPELINE] INPUT: images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/5.png
2025-08-13 03:14:43,648 - INFO - [PIPELINE] OUTPUT: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_5', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/5.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_normal_0.130-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0)], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.800-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_normal_0.130-0.750', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_normal_1.000-0.750', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (187.20000000000002, 0.0), (187.20000000000007, 1152.0), (5.684341886080802e-14, 1152.0), (-2.0768028975502026e-13, -288.0), (0.0, 0.0)], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 4, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 4, 'raw_vertices': ['(0.0, 0.0)', '(187.20000000000002, 0.0)', '(187.20000000000007, 1152.0)', '(5.684341886080802e-14, 1152.0)', '(-2.0768028975502026e-13, -288.0)'], 'vertices': ['(1.1094032572383544e-15, 0.2)', '(0.9999999999999997, 0.2)', '(1.0, 1.0)', '(1.4130539990161747e-15, 1.0)', '(0.0, 0.0)'], 'num_vertices': 5, 'position_label': ['0.40000000000000047', '0.48'], 'rotation_label_degrees': ['-149.76939112977894'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5000000000000003, 0.5999999999999999], 'width': 1.0, 'height': 1.0, 'area_raw': 0.7999999999999994, 'area_normalized': 0.8888888888888891, 'perimeter_raw': 3.9999999999999973, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.8888888888888891, 'is_convex': False, 'compactness': 0.6283185307179591, 'polsby_popper_compactness': 0.6283185307179591, 'eccentricity': 0.4117684783981497, 'symmetry_score': 0.7071067811865468, 'horizontal_symmetry': 0.8800000000000001, 'vertical_symmetry': 0.9999999999999989, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 5.0, 'visual_complexity': 0.5044999999999998, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'moment_of_inertia': 0.3733333333333334, 'irregularity_score': 0.16000000000000045, 'standardized_complexity': 0.38629569970545286, 'clustering_heights': [0.018009047276368585, 0.18187628313356588, 0.5463651676831419], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 8.390937247433113e-08, 'perimeter_mean': 0.3739050651861437, 'width_mean': 0.020235029551543188, 'height_mean': 0.16671836525980221, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.3733333333333334, 'center_of_mass': [0.5000000000000003, 0.5999999999999999], 'polsby_popper_compactness': 0.6283185307179591, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': False, 'curvature_score': 1.80641577581413, 'angular_variance': 0.39478417604357513, 'edge_length_variance': 0.09599999999999975}, 'composition_features': {'stroke_type_distribution': {'line': 4}, 'shape_modifier_distribution': {'normal': 4}, 'stroke_diversity': 1, 'shape_diversity': 1, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 5, 'homogeneity_score': 1.0, 'pattern_regularity': 0.25}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [[0.0, 0.0], [187.20000000000002, 0.0], [187.20000000000007, 1152.0], [5.684341886080802e-14, 1152.0], [-2.0768028975502026e-13, -288.0]], 'open_stroke_perimeter': 2966.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 2966.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.1, 'num_vertices': 5, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 1, 'analytic_vertices': [[0.0, 0.0], [187.20000000000002, 0.0], [187.20000000000007, 1152.0], [5.684341886080802e-14, 1152.0], [-2.0768028975502026e-13, -288.0], [0.0, 0.0]], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [[0.0, 0.0], [187.20000000000002, 0.0], [187.20000000000007, 1152.0], [5.684341886080802e-14, 1152.0], [-2.0768028975502026e-13, -288.0], [0.0, 0.0]], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 3, 'analytic_vertices': [[0.0, 0.0], [187.20000000000002, 0.0], [187.20000000000007, 1152.0], [5.684341886080802e-14, 1152.0], [-2.0768028975502026e-13, -288.0], [0.0, 0.0]], 'open_stroke_perimeter': 3254.4, 'compactness': 0.6283185307179591, 'convexity_ratio': 1e-06, 'geom_complexity': 0.3, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 3254.4, 'avg_stroke_length': 3254.4, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.3426945972600472, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 187.20000000000027, 'height': 1440.0, 'area': 0.0, 'perimeter': 3254.4, 'centroid': [62.399999999999984, 336.0], 'bounds': [-2.0768028975502026e-13, -288.0, 187.20000000000007, 1152.0], 'num_vertices': 6, 'degenerate_case': True}, 'line_length': 3254.4, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.12, 'num_vertices': 6, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 4}}, 'processing_metadata': {'processing_timestamp': 1755035083.643424, 'feature_count': 54}, 'actions': ['line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750'], 'action_program': ['line_normal_0.130-0.500,line_normal_0.800-0.750,line_normal_0.130-0.750,line_normal_1.000-0.750'], 'geometry': {'area': 0.7999999999999994, 'perimeter': 3.9999999999999973, 'centroid': [0.5000000000000003, 0.5999999999999999], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 3}, 'analytic_attributes': ['normal', 'normal', 'normal', 'normal'], 'analytic_ngram': {'normal|normal': 3}, 'alternation': 0.25, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 4}}}, 'topological_features': {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 3, 1: 3, 2: 3, 3: 3}, 'adjacency_clustering': {0: 1.0, 1: 1.0, 2: 1.0, 3: 1.0}, 'intersection_count': 6, 'betweenness_centrality': {0: 0.0, 1: 0.0, 2: 0.0, 3: 0.0}, 'containment_score': 0, 'overlap_heatmap': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 3122.693580726045, 'skeleton_graph_features': {'num_nodes': 4, 'num_edges': 6}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.39478417604357513, 'complexity': 1, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.3908367443832657, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.35824474057827027, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.09039485581711845, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.10999735993543273, 'complexity': 2, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}}
2025-08-13 03:14:43,649 - INFO - [INPUT] Processing image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018, is_positive=False
2025-08-13 03:14:43,649 - INFO - [INPUT] action_commands type: <class 'list'>, value: [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-13 03:14:43,649 - INFO - [SHAPE SPLIT] Raw action_commands: [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-13 03:14:43,650 - INFO - [SHAPE SPLIT] Sublist 0: ['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-13 03:14:43,650 - INFO - [SHAPE SPLIT] Parsed shapes_commands (multi-object): [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-13 03:14:43,650 - INFO - ComprehensiveNVLabsParser initialized:
2025-08-13 03:14:43,650 - INFO -   Canvas size: 512x512
2025-08-13 03:14:43,650 - INFO -   Coordinate range: (-360, 360)
2025-08-13 03:14:43,651 - INFO -   Base scaling factor: 1440.0
2025-08-13 03:14:43,651 - INFO - [PARSER] Parsing shape 0 commands: ['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-13 03:14:43,651 - INFO - [LOGOPARSER] Input action_commands for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: ['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-13 03:14:43,651 - DEBUG - Parsing 6 commands for hd_has_six_straight_lines-exist_quadrangle_0018
2025-08-13 03:14:43,651 - DEBUG - [ACTIONS_JOIN] line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875
2025-08-13 03:14:43,651 - DEBUG - [ACTIONS_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-13 03:14:43,652 - DEBUG - [ACTIONS_ATTRS] [{'line_length': 1440.0, 'line_type': 'triangle', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_triangle_1.000-0.500'}, {'line_length': 864.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.600-0.750'}, {'line_length': 610.56, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_zigzag_0.424-0.875'}, {'line_length': 576.0, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 45.0, 'name': 'line', 'raw_command': 'line_circle_0.400-0.375'}, {'line_length': 610.56, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 45.0, 'name': 'line', 'raw_command': 'line_circle_0.424-0.375'}, {'line_length': 864.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_normal_0.600-0.875'}]
2025-08-13 03:14:43,652 - INFO - [OneStrokeShape.__init__] basic_actions: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], start_coordinates: None, start_orientation: None, scaling_factors: None
2025-08-13 03:14:43,652 - DEBUG - [OUTPUT_SHAPE_ACTIONS] line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875
2025-08-13 03:14:43,652 - DEBUG - [OUTPUT_SHAPE_TYPES] ['LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction', 'LineAction']
2025-08-13 03:14:43,654 - DEBUG - [OUTPUT_SHAPE_ATTRS] [{'line_length': 1440.0, 'line_type': 'triangle', 'turn_direction': 'L', 'turn_angle': 0.0, 'name': 'line', 'raw_command': 'line_triangle_1.000-0.500'}, {'line_length': 864.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 90.0, 'name': 'line', 'raw_command': 'line_normal_0.600-0.750'}, {'line_length': 610.56, 'line_type': 'zigzag', 'turn_direction': 'L', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_zigzag_0.424-0.875'}, {'line_length': 576.0, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 45.0, 'name': 'line', 'raw_command': 'line_circle_0.400-0.375'}, {'line_length': 610.56, 'line_type': 'circle', 'turn_direction': 'R', 'turn_angle': 45.0, 'name': 'line', 'raw_command': 'line_circle_0.424-0.375'}, {'line_length': 864.0, 'line_type': 'normal', 'turn_direction': 'L', 'turn_angle': 135.0, 'name': 'line', 'raw_command': 'line_normal_0.600-0.875'}]
2025-08-13 03:14:43,654 - INFO - [OneStrokeShape._calculate_vertices] INPUT basic_actions: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-13 03:14:43,654 - INFO - [OneStrokeShape._calculate_vertices] OUTPUT vertices: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:43,654 - INFO - [LOGOPARSER] Shape for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 has 7 vertices.
2025-08-13 03:14:43,655 - INFO - [LOGOPARSER] Parsed vertices (raw): [[0.0, 0.0], [1440.0, 0.0], [1440.0, 864.0], [1008.2688836787415, 432.26888367874164], [432.26888367874153, 432.2688836787417], [0.5377673574831761, 864.0000000000002], [0.5377673574830173, 2.2737367544323206e-13]]
2025-08-13 03:14:43,655 - INFO - [LOGOPARSER] Vertices bounding box: min=(0.00,0.00), max=(1440.00,864.00), center=(617.37,370.36)
2025-08-13 03:14:43,655 - INFO - Successfully created OneStrokeShape with 6 actions using NVLabs implementation
2025-08-13 03:14:43,655 - INFO - [PARSER] Parsed shape 0: type=OneStrokeShape, num_actions=6, action_types=['str', 'str', 'str', 'str', 'str', 'str'], attributes={}
2025-08-13 03:14:43,656 - INFO - [FEATURE EXTRACTION][geometry] INPUT: shape 0 vertices: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:43,656 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 0 command: line_triangle_1.000-0.500
2025-08-13 03:14:43,656 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,657 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_triangle_1.000-0.500, stroke_index=0
2025-08-13 03:14:43,657 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=1.0, param2=None, param3=0.5
2025-08-13 03:14:43,657 - INFO - [LOGGING PATCH] [_vertices_from_command] Triangle vertices: [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)]
2025-08-13 03:14:43,658 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], geometry={'width': 1.5000000000000004, 'height': 1.7320508075688772, 'area': 0.0, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000001], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'num_vertices': 4, 'analytic_vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'open_stroke_perimeter': 5.196152422706632, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,658 - INFO - [_calculate_vertices_from_action] Bounding box: (-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388)
2025-08-13 03:14:43,658 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=[(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)]
2025-08-13 03:14:43,658 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], geometry={'width': 1.5000000000000004, 'height': 1.7320508075688772, 'area': 0.0, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000001], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'num_vertices': 4, 'analytic_vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'open_stroke_perimeter': 5.196152422706632, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,658 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)]
2025-08-13 03:14:43,659 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,659 - INFO - [SoS] Removed duplicate vertex: [1.5 0.5]
2025-08-13 03:14:43,660 - INFO - Convexity: poly_area=1.2990, hull_area=1.2990, ratio=1.0000
2025-08-13 03:14:43,660 - INFO - [robust_angular_variance] Computed angular variance: 0.068539 for 4 vertices.
2025-08-13 03:14:43,660 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,661 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,661 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,661 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,661 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-13 03:14:43,661 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,663 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-13 03:14:43,663 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-13 03:14:43,664 - INFO - [SoS] Removed duplicate vertex: [1.5 0.5]
2025-08-13 03:14:43,664 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=0, assigned is_positive=False
2025-08-13 03:14:43,665 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=0, stroke_dict: {'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'open_stroke_perimeter': 5.196152422706632, 'shape_modifier': 'normal', 'command': 'line_triangle_1.000-0.500', 'vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'geometry': {'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-13 03:14:43,665 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 1 command: line_normal_0.600-0.750
2025-08-13 03:14:43,665 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,665 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.600-0.750, stroke_index=1
2025-08-13 03:14:43,665 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.6, param2=None, param3=0.75
2025-08-13 03:14:43,666 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)]
2025-08-13 03:14:43,666 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], geometry={'width': 1.1102230246251565e-16, 'height': 0.6, 'area': 0.0, 'perimeter': 0.6, 'centroid': [0.5, 0.20000000000000004], 'bounds': [0.4999999999999999, -0.09999999999999998, 0.5, 0.5], 'num_vertices': 12, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'open_stroke_perimeter': 0.6, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,666 - INFO - [_calculate_vertices_from_action] Bounding box: (0.4999999999999999, -0.09999999999999998, 0.5, 0.5)
2025-08-13 03:14:43,666 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)]
2025-08-13 03:14:43,667 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], geometry={'width': 1.1102230246251565e-16, 'height': 0.6, 'area': 0.0, 'perimeter': 0.6, 'centroid': [0.5, 0.20000000000000004], 'bounds': [0.4999999999999999, -0.09999999999999998, 0.5, 0.5], 'num_vertices': 12, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'open_stroke_perimeter': 0.6, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,667 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)]
2025-08-13 03:14:43,668 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,668 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44545455] -> [0.49999925 0.44545542]
2025-08-13 03:14:43,669 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39090909] -> [0.49999913 0.39090821]
2025-08-13 03:14:43,669 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.33636364] -> [0.49999974 0.33636415]
2025-08-13 03:14:43,669 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28181818] -> [0.49999946 0.28181783]
2025-08-13 03:14:43,669 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.22727273] -> [0.50000095 0.22727288]
2025-08-13 03:14:43,671 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.17272727] -> [0.49999929 0.17272751]
2025-08-13 03:14:43,671 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.11818182] -> [0.50000045 0.11818136]
2025-08-13 03:14:43,672 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.06363636] -> [0.49999922 0.06363706]
2025-08-13 03:14:43,672 - INFO - [SoS] Perturbed collinear vertex 9: [0.5        0.00909091] -> [0.49999924 0.00909053]
2025-08-13 03:14:43,672 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.04545455] -> [ 0.50000062 -0.04545496]
2025-08-13 03:14:43,674 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,674 - INFO - [robust_angular_variance] Computed angular variance: 1.370778 for 12 vertices.
2025-08-13 03:14:43,674 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,675 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,675 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:43,675 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,675 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,677 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,678 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.4870644538648868}
2025-08-13 03:14:43,679 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.4870644538648868, 'is_simple': True}
2025-08-13 03:14:43,679 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44545455] -> [0.49999952 0.4454542 ]
2025-08-13 03:14:43,680 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39090909] -> [0.49999919 0.39090958]
2025-08-13 03:14:43,680 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.33636364] -> [0.5000006  0.33636345]
2025-08-13 03:14:43,681 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28181818] -> [0.49999972 0.2818184 ]
2025-08-13 03:14:43,681 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.22727273] -> [0.50000096 0.22727189]
2025-08-13 03:14:43,681 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.17272727] -> [0.5000009  0.17272722]
2025-08-13 03:14:43,681 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.11818182] -> [0.49999958 0.11818161]
2025-08-13 03:14:43,682 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.06363636] -> [0.50000059 0.06363566]
2025-08-13 03:14:43,682 - INFO - [SoS] Perturbed collinear vertex 9: [0.5        0.00909091] -> [0.50000029 0.00909092]
2025-08-13 03:14:43,683 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.04545455] -> [ 0.49999997 -0.04545469]
2025-08-13 03:14:43,685 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=1, assigned is_positive=False
2025-08-13 03:14:43,686 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=1, stroke_dict: {'area': 8.795847452098339e-08, 'perimeter': 0.2676665387828788, 'centroid': [0.5000004014706873, 0.20211303602641142], 'bounds': [0.49999999999999994, 0.1356109476294518, 0.5000009612550882, 0.26944421700988325], 'width': 9.61255088249846e-07, 'height': 0.13383326938043144, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.2676665387828788, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'vertical', 'command': 'line_normal_0.600-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'geometry': {'area': 8.795847452098339e-08, 'perimeter': 0.2676665387828788, 'centroid': [0.5000004014706873, 0.20211303602641142], 'bounds': [0.49999999999999994, 0.1356109476294518, 0.5000009612550882, 0.26944421700988325], 'width': 9.61255088249846e-07, 'height': 0.13383326938043144, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.2676665387828788}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-13 03:14:43,686 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 2 command: line_zigzag_0.424-0.875
2025-08-13 03:14:43,686 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,687 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_zigzag_0.424-0.875, stroke_index=2
2025-08-13 03:14:43,687 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.424, param2=None, param3=0.875
2025-08-13 03:14:43,687 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)]
2025-08-13 03:14:43,687 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], geometry={'width': 0.2998132752230961, 'height': 0.2998132752230962, 'area': 0.0, 'perimeter': 0.424, 'centroid': [0.6499066376115481, 0.3500933623884519], 'bounds': [0.5, 0.2001867247769038, 0.7998132752230961, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'open_stroke_perimeter': 0.424, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,688 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.2001867247769038, 0.7998132752230961, 0.5)
2025-08-13 03:14:43,688 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)]
2025-08-13 03:14:43,688 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], geometry={'width': 0.2998132752230961, 'height': 0.2998132752230962, 'area': 0.0, 'perimeter': 0.424, 'centroid': [0.6499066376115481, 0.3500933623884519], 'bounds': [0.5, 0.2001867247769038, 0.7998132752230961, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'open_stroke_perimeter': 0.424, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,689 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)]
2025-08-13 03:14:43,689 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,689 - INFO - [SoS] Perturbed collinear vertex 1: [0.54283047 0.45716953] -> [0.54282953 0.45716921]
2025-08-13 03:14:43,690 - INFO - [SoS] Perturbed collinear vertex 2: [0.58566094 0.41433906] -> [0.58566096 0.41433868]
2025-08-13 03:14:43,690 - INFO - [SoS] Perturbed collinear vertex 3: [0.6284914 0.3715086] -> [0.62849238 0.37150822]
2025-08-13 03:14:43,691 - INFO - [SoS] Perturbed collinear vertex 4: [0.67132187 0.32867813] -> [0.67132283 0.32867887]
2025-08-13 03:14:43,691 - INFO - [SoS] Perturbed collinear vertex 5: [0.71415234 0.28584766] -> [0.71415266 0.28584721]
2025-08-13 03:14:43,692 - INFO - [SoS] Perturbed collinear vertex 6: [0.75698281 0.24301719] -> [0.75698288 0.24301801]
2025-08-13 03:14:43,694 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,694 - INFO - [robust_angular_variance] Computed angular variance: 1.850551 for 8 vertices.
2025-08-13 03:14:43,694 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,694 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,694 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:43,695 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,696 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:43,696 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,697 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-13 03:14:43,698 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:43,698 - INFO - [SoS] Perturbed collinear vertex 1: [0.54283047 0.45716953] -> [0.54282954 0.45716877]
2025-08-13 03:14:43,699 - INFO - [SoS] Perturbed collinear vertex 2: [0.58566094 0.41433906] -> [0.58566048 0.4143396 ]
2025-08-13 03:14:43,699 - INFO - [SoS] Perturbed collinear vertex 3: [0.6284914 0.3715086] -> [0.62849151 0.37150824]
2025-08-13 03:14:43,699 - INFO - [SoS] Perturbed collinear vertex 4: [0.67132187 0.32867813] -> [0.6713225  0.32867767]
2025-08-13 03:14:43,700 - INFO - [SoS] Perturbed collinear vertex 5: [0.71415234 0.28584766] -> [0.71415291 0.28584846]
2025-08-13 03:14:43,701 - INFO - [SoS] Perturbed collinear vertex 6: [0.75698281 0.24301719] -> [0.75698236 0.24301666]
2025-08-13 03:14:43,702 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=2, assigned is_positive=False
2025-08-13 03:14:43,702 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=2, stroke_dict: {'area': 7.07027470771282e-08, 'perimeter': 0.236663755625104, 'centroid': [0.5421676041459228, 0.4578318325300562], 'bounds': [0.5, 0.41632672677674454, 0.5836732732232555, 0.5], 'width': 0.08367327322325546, 'height': 0.08367327322325546, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.236663755625104, 'analytic_vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'open_stroke_perimeter': 0.424, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.424-0.875', 'vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'geometry': {'area': 7.07027470771282e-08, 'perimeter': 0.236663755625104, 'centroid': [0.5421676041459228, 0.4578318325300562], 'bounds': [0.5, 0.41632672677674454, 0.5836732732232555, 0.5], 'width': 0.08367327322325546, 'height': 0.08367327322325546, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.236663755625104}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-13 03:14:43,702 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 3 command: line_circle_0.400-0.375
2025-08-13 03:14:43,703 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,703 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_circle_0.400-0.375, stroke_index=3
2025-08-13 03:14:43,703 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.4, param2=None, param3=0.375
2025-08-13 03:14:43,703 - INFO - [LOGGING PATCH] [_vertices_from_command] Circle vertices: [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)]
2025-08-13 03:14:43,704 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], geometry={'width': 0.8, 'height': 0.8, 'area': 0.0, 'perimeter': 2.3778038686115095, 'centroid': [0.47946256298636675, 0.5032528104671047], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'num_vertices': 20, 'analytic_vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'open_stroke_perimeter': 2.3778038686115095, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,704 - INFO - [_calculate_vertices_from_action] Bounding box: (0.09999999999999998, 0.09999999999999998, 0.9, 0.9)
2025-08-13 03:14:43,704 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=[(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)]
2025-08-13 03:14:43,704 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], geometry={'width': 0.8, 'height': 0.8, 'area': 0.0, 'perimeter': 2.3778038686115095, 'centroid': [0.47946256298636675, 0.5032528104671047], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'num_vertices': 20, 'analytic_vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'open_stroke_perimeter': 2.3778038686115095, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,704 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)]
2025-08-13 03:14:43,705 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:43,705 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,705 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:43,706 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,706 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547274}
2025-08-13 03:14:43,708 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547274, 'has_curved_edges': True}
2025-08-13 03:14:43,709 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=3, assigned is_positive=False
2025-08-13 03:14:43,709 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=3, stroke_dict: {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'open_stroke_perimeter': 2.3778038686115095, 'shape_modifier': 'normal', 'command': 'line_circle_0.400-0.375', 'vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'geometry': {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-13 03:14:43,709 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 4 command: line_circle_0.424-0.375
2025-08-13 03:14:43,710 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,710 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_circle_0.424-0.375, stroke_index=4
2025-08-13 03:14:43,710 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.424, param2=None, param3=0.375
2025-08-13 03:14:43,710 - INFO - [LOGGING PATCH] [_vertices_from_command] Circle vertices: [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)]
2025-08-13 03:14:43,711 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], geometry={'width': 0.8479999999999999, 'height': 0.8479999999999999, 'area': 0.0, 'perimeter': 2.5204721007282003, 'centroid': [0.4782303167655487, 0.5034479790951307], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'num_vertices': 20, 'analytic_vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'open_stroke_perimeter': 2.5204721007282003, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,711 - INFO - [_calculate_vertices_from_action] Bounding box: (0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999)
2025-08-13 03:14:43,712 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=[(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)]
2025-08-13 03:14:43,712 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], geometry={'width': 0.8479999999999999, 'height': 0.8479999999999999, 'area': 0.0, 'perimeter': 2.5204721007282003, 'centroid': [0.4782303167655487, 0.5034479790951307], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'num_vertices': 20, 'analytic_vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'open_stroke_perimeter': 2.5204721007282003, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,712 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)]
2025-08-13 03:14:43,713 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:43,713 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,714 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:43,714 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,715 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275}
2025-08-13 03:14:43,716 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275, 'has_curved_edges': True}
2025-08-13 03:14:43,718 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=4, assigned is_positive=False
2025-08-13 03:14:43,718 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=4, stroke_dict: {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'open_stroke_perimeter': 2.5204721007282003, 'shape_modifier': 'normal', 'command': 'line_circle_0.424-0.375', 'vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'geometry': {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-13 03:14:43,718 - INFO - [FEATURE EXTRACTION][stroke] INPUT: shape 0 stroke 5 command: line_normal_0.600-0.875
2025-08-13 03:14:43,718 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:43,718 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.600-0.875, stroke_index=5
2025-08-13 03:14:43,719 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.6, param2=None, param3=0.875
2025-08-13 03:14:43,719 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)]
2025-08-13 03:14:43,719 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], geometry={'width': 0.42426406871192834, 'height': 0.4242640687119286, 'area': 0.0, 'perimeter': 0.6, 'centroid': [0.712132034355964, 0.28786796564403566], 'bounds': [0.5, 0.07573593128807138, 0.9242640687119283, 0.5], 'num_vertices': 12, 'analytic_vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'open_stroke_perimeter': 0.6, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,720 - INFO - [_calculate_vertices_from_action] Bounding box: (0.5, 0.07573593128807138, 0.9242640687119283, 0.5)
2025-08-13 03:14:43,720 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=[(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)]
2025-08-13 03:14:43,720 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], geometry={'width': 0.42426406871192834, 'height': 0.4242640687119286, 'area': 0.0, 'perimeter': 0.6, 'centroid': [0.712132034355964, 0.28786796564403566], 'bounds': [0.5, 0.07573593128807138, 0.9242640687119283, 0.5], 'num_vertices': 12, 'analytic_vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'open_stroke_perimeter': 0.6, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,720 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)]
2025-08-13 03:14:43,721 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,721 - INFO - [SoS] Perturbed collinear vertex 1: [0.53856946 0.46143054] -> [0.5385692  0.46143023]
2025-08-13 03:14:43,721 - INFO - [SoS] Perturbed collinear vertex 2: [0.57713892 0.42286108] -> [0.57713924 0.4228601 ]
2025-08-13 03:14:43,722 - INFO - [SoS] Perturbed collinear vertex 3: [0.61570838 0.38429162] -> [0.61570873 0.38429165]
2025-08-13 03:14:43,722 - INFO - [SoS] Perturbed collinear vertex 4: [0.65427784 0.34572216] -> [0.65427783 0.34572246]
2025-08-13 03:14:43,723 - INFO - [SoS] Perturbed collinear vertex 5: [0.6928473 0.3071527] -> [0.69284823 0.30715302]
2025-08-13 03:14:43,723 - INFO - [SoS] Perturbed collinear vertex 6: [0.73141676 0.26858324] -> [0.73141621 0.26858391]
2025-08-13 03:14:43,724 - INFO - [SoS] Perturbed collinear vertex 7: [0.76998623 0.23001377] -> [0.7699865  0.23001378]
2025-08-13 03:14:43,724 - INFO - [SoS] Perturbed collinear vertex 8: [0.80855569 0.19144431] -> [0.80855588 0.19144433]
2025-08-13 03:14:43,724 - INFO - [SoS] Perturbed collinear vertex 9: [0.84712515 0.15287485] -> [0.84712602 0.15287441]
2025-08-13 03:14:43,725 - INFO - [SoS] Perturbed collinear vertex 10: [0.88569461 0.11430539] -> [0.88569382 0.11430496]
2025-08-13 03:14:43,726 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:43,727 - INFO - [robust_angular_variance] Computed angular variance: 1.370778 for 12 vertices.
2025-08-13 03:14:43,727 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,727 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,728 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:43,728 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,728 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,728 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,730 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-13 03:14:43,730 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-13 03:14:43,731 - INFO - [SoS] Perturbed collinear vertex 1: [0.53856946 0.46143054] -> [0.53856977 0.46143149]
2025-08-13 03:14:43,731 - INFO - [SoS] Perturbed collinear vertex 2: [0.57713892 0.42286108] -> [0.57713955 0.4228618 ]
2025-08-13 03:14:43,731 - INFO - [SoS] Perturbed collinear vertex 3: [0.61570838 0.38429162] -> [0.6157079 0.3842915]
2025-08-13 03:14:43,732 - INFO - [SoS] Perturbed collinear vertex 4: [0.65427784 0.34572216] -> [0.65427767 0.34572237]
2025-08-13 03:14:43,732 - INFO - [SoS] Perturbed collinear vertex 5: [0.6928473 0.3071527] -> [0.69284784 0.30715297]
2025-08-13 03:14:43,733 - INFO - [SoS] Perturbed collinear vertex 6: [0.73141676 0.26858324] -> [0.7314169  0.26858272]
2025-08-13 03:14:43,733 - INFO - [SoS] Perturbed collinear vertex 7: [0.76998623 0.23001377] -> [0.76998552 0.23001462]
2025-08-13 03:14:43,733 - INFO - [SoS] Perturbed collinear vertex 8: [0.80855569 0.19144431] -> [0.80855558 0.19144395]
2025-08-13 03:14:43,735 - INFO - [SoS] Perturbed collinear vertex 9: [0.84712515 0.15287485] -> [0.84712511 0.15287392]
2025-08-13 03:14:43,735 - INFO - [SoS] Perturbed collinear vertex 10: [0.88569461 0.11430539] -> [0.88569402 0.11430457]
2025-08-13 03:14:43,736 - DEBUG - [PATCH][is_positive] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=5, assigned is_positive=False
2025-08-13 03:14:43,736 - INFO - [PATCH][NEGATIVE STROKE] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, stroke_idx=5, stroke_dict: {'area': 1.0828763572943642e-07, 'perimeter': 0.4116228885998203, 'centroid': [0.8611635503744633, 0.13883596724928432], 'bounds': [0.7787334008060752, 0.07573593128807138, 0.9242640687119283, 0.22126659919392455], 'width': 0.14553066790585312, 'height': 0.14553066790585317, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.4116228885998203, 'analytic_vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'normal', 'command': 'line_normal_0.600-0.875', 'vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'geometry': {'area': 1.0828763572943642e-07, 'perimeter': 0.4116228885998203, 'centroid': [0.8611635503744633, 0.13883596724928432], 'bounds': [0.7787334008060752, 0.07573593128807138, 0.9242640687119283, 0.22126659919392455], 'width': 0.14553066790585312, 'height': 0.14553066790585317, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.4116228885998203}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}
2025-08-13 03:14:43,737 - INFO - [ATTR DEBUG] Shape 0 strokes (dicts): [{'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'open_stroke_perimeter': 5.196152422706632, 'shape_modifier': 'normal', 'command': 'line_triangle_1.000-0.500', 'vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'geometry': {'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 8.795847452098339e-08, 'perimeter': 0.2676665387828788, 'centroid': [0.5000004014706873, 0.20211303602641142], 'bounds': [0.49999999999999994, 0.1356109476294518, 0.5000009612550882, 0.26944421700988325], 'width': 9.61255088249846e-07, 'height': 0.13383326938043144, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.2676665387828788, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'vertical', 'command': 'line_normal_0.600-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'geometry': {'area': 8.795847452098339e-08, 'perimeter': 0.2676665387828788, 'centroid': [0.5000004014706873, 0.20211303602641142], 'bounds': [0.49999999999999994, 0.1356109476294518, 0.5000009612550882, 0.26944421700988325], 'width': 9.61255088249846e-07, 'height': 0.13383326938043144, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.2676665387828788}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 7.07027470771282e-08, 'perimeter': 0.236663755625104, 'centroid': [0.5421676041459228, 0.4578318325300562], 'bounds': [0.5, 0.41632672677674454, 0.5836732732232555, 0.5], 'width': 0.08367327322325546, 'height': 0.08367327322325546, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.236663755625104, 'analytic_vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'open_stroke_perimeter': 0.424, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.424-0.875', 'vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'geometry': {'area': 7.07027470771282e-08, 'perimeter': 0.236663755625104, 'centroid': [0.5421676041459228, 0.4578318325300562], 'bounds': [0.5, 0.41632672677674454, 0.5836732732232555, 0.5], 'width': 0.08367327322325546, 'height': 0.08367327322325546, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.236663755625104}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'open_stroke_perimeter': 2.3778038686115095, 'shape_modifier': 'normal', 'command': 'line_circle_0.400-0.375', 'vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'geometry': {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'open_stroke_perimeter': 2.5204721007282003, 'shape_modifier': 'normal', 'command': 'line_circle_0.424-0.375', 'vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'geometry': {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.0828763572943642e-07, 'perimeter': 0.4116228885998203, 'centroid': [0.8611635503744633, 0.13883596724928432], 'bounds': [0.7787334008060752, 0.07573593128807138, 0.9242640687119283, 0.22126659919392455], 'width': 0.14553066790585312, 'height': 0.14553066790585317, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.4116228885998203, 'analytic_vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'normal', 'command': 'line_normal_0.600-0.875', 'vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'geometry': {'area': 1.0828763572943642e-07, 'perimeter': 0.4116228885998203, 'centroid': [0.8611635503744633, 0.13883596724928432], 'bounds': [0.7787334008060752, 0.07573593128807138, 0.9242640687119283, 0.22126659919392455], 'width': 0.14553066790585312, 'height': 0.14553066790585317, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.4116228885998203}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-13 03:14:43,737 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,738 - INFO - [PATCH][SHAPE GEOMETRY] idx=0, vertices=[(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)], geometry={'area': 0.6499377002974616, 'perimeter': 4.565837973061732, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-13 03:14:43,738 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-13 03:14:43,739 - INFO - [robust_curvature] OUTPUT: 1.9837357364764245
2025-08-13 03:14:43,739 - INFO - [robust_angular_variance] Computed angular variance: 0.606488 for 7 vertices.
2025-08-13 03:14:43,739 - INFO - [PATCH][SHAPE PHYSICS] idx=0, physics features: {'robust_curvature': 1.9837357364764245, 'robust_angular_variance': 0.6064876770353205, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 1.5707963267948966}
2025-08-13 03:14:43,740 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [1.44000000e+03 0.00000000e+00]
 [1.44000000e+03 8.64000000e+02]
 [1.00826888e+03 4.32268884e+02]
 [4.32268884e+02 4.32268884e+02]
 [5.37767357e-01 8.64000000e+02]
 [5.37767357e-01 2.27373675e-13]]
2025-08-13 03:14:43,740 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,741 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,741 - INFO - [robust_angular_variance] Computed angular variance: 0.654617 for 7 vertices.
2025-08-13 03:14:43,742 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [1.00826888e+03 4.32268884e+02]
 [4.32268884e+02 4.32268884e+02]
 [5.37767357e-01 8.64000000e+02]
 [5.37767357e-01 2.27373675e-13]]
2025-08-13 03:14:43,742 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,742 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,743 - INFO - [robust_curvature] INPUT: [[1440.    0.]
 [1440.  864.]]
2025-08-13 03:14:43,743 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,743 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,743 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,745 - INFO - [robust_curvature] INPUT: [[5.52627569e+00 8.72264263e-16]
 [1.43447579e+03 3.31452760e+00]
 [1.43834377e+03 8.59029240e+02]
 [1.00771543e+03 4.33925116e+02]
 [4.32822336e+02 4.33925116e+02]
 [2.19399965e+00 8.59029240e+02]
 [5.35704343e-01 3.31452760e+00]]
2025-08-13 03:14:43,745 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,745 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,746 - INFO - [robust_angular_variance] Computed angular variance: 0.487667 for 7 vertices.
2025-08-13 03:14:43,747 - INFO - [robust_curvature] INPUT: [[5.52627569e+00 8.72264263e-16]
 [1.00771543e+03 4.33925116e+02]
 [4.32822336e+02 4.33925116e+02]
 [2.19399965e+00 8.59029240e+02]
 [5.35704343e-01 3.31452760e+00]]
2025-08-13 03:14:43,747 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,747 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,748 - INFO - [robust_curvature] INPUT: [[1434.47578733    3.3145276 ]
 [1438.34376771  859.0292401 ]]
2025-08-13 03:14:43,748 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,748 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,748 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,749 - INFO - [robust_curvature] INPUT: [[1.53726465e+02 4.55958863e-01]
 [1.28621715e+03 9.20875276e+01]
 [1.39339602e+03 7.25726524e+02]
 [9.92759363e+02 4.78226852e+02]
 [4.47778404e+02 4.78226852e+02]
 [4.67616411e+01 7.25726524e+02]
 [9.74264195e-01 9.20875276e+01]]
2025-08-13 03:14:43,749 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,750 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,750 - INFO - [robust_angular_variance] Computed angular variance: 0.444611 for 7 vertices.
2025-08-13 03:14:43,751 - INFO - [robust_curvature] INPUT: [[1.53726465e+02 4.55958863e-01]
 [4.47778404e+02 4.78226852e+02]
 [4.67616411e+01 7.25726524e+02]
 [9.74264195e-01 9.20875276e+01]]
2025-08-13 03:14:43,751 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,752 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,752 - INFO - [robust_curvature] INPUT: [[1286.21714577   92.08752765]
 [1393.39601861  725.7265242 ]
 [ 992.75936335  478.2268524 ]]
2025-08-13 03:14:43,752 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,753 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,753 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,753 - INFO - [robust_curvature] INPUT: [[ 432.92231635   97.24388156]
 [ 979.36014803  238.32037822]
 [1190.23335195  476.5673267 ]
 [ 933.05660837  532.75923798]
 [ 500.90410687  532.75923798]
 [ 172.52815725  476.5673267 ]
 [ 112.60861324  238.32037822]]
2025-08-13 03:14:43,754 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,754 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,754 - INFO - [robust_angular_variance] Computed angular variance: 0.408686 for 7 vertices.
2025-08-13 03:14:43,755 - INFO - [robust_curvature] INPUT: [[432.92231635  97.24388156]
 [500.90410687 532.75923798]
 [172.52815725 476.5673267 ]
 [112.60861324 238.32037822]]
2025-08-13 03:14:43,755 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,755 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,756 - INFO - [robust_curvature] INPUT: [[ 979.36014803  238.32037822]
 [1190.23335195  476.5673267 ]
 [ 933.05660837  532.75923798]]
2025-08-13 03:14:43,756 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,756 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,757 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,757 - INFO - [robust_curvature] INPUT: [[575.9649245  303.53753649]
 [715.88605167 329.09527776]
 [781.2585016  385.54646171]
 [722.82613591 429.85837596]
 [585.53379994 429.85837596]
 [472.36690593 385.54646171]
 [467.77698253 329.09527776]]
2025-08-13 03:14:43,757 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,758 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,759 - INFO - [robust_angular_variance] Computed angular variance: 0.258028 for 7 vertices.
2025-08-13 03:14:43,759 - INFO - [robust_curvature] INPUT: [[575.9649245  303.53753649]
 [585.53379994 429.85837596]
 [472.36690593 385.54646171]
 [467.77698253 329.09527776]]
2025-08-13 03:14:43,759 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,760 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,760 - INFO - [robust_curvature] INPUT: [[715.88605167 329.09527776]
 [781.2585016  385.54646171]
 [722.82613591 429.85837596]]
2025-08-13 03:14:43,761 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,761 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,761 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,761 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.25802765250834636, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}
2025-08-13 03:14:43,762 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.6546166184396274, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.48766725327208355, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.44461109654139686, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.4086857597894749, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.25802765250834636, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}
2025-08-13 03:14:43,762 - DEBUG - [extract_image_features] Calculated width: 1440.0, height: 864.0000000000002
2025-08-13 03:14:43,763 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:43,763 - INFO - [robust_curvature] OUTPUT: 1.844192209364541
2025-08-13 03:14:43,763 - INFO - [robust_angular_variance] Computed angular variance: 0.654617 for 7 vertices.
2025-08-13 03:14:43,764 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [1.44000000e+03 0.00000000e+00]
 [1.44000000e+03 8.64000000e+02]
 [1.00826888e+03 4.32268884e+02]
 [4.32268884e+02 4.32268884e+02]
 [5.37767357e-01 8.64000000e+02]
 [5.37767357e-01 2.27373675e-13]]
2025-08-13 03:14:43,764 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,764 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,765 - INFO - [robust_angular_variance] Computed angular variance: 0.654617 for 7 vertices.
2025-08-13 03:14:43,765 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [1.00826888e+03 4.32268884e+02]
 [4.32268884e+02 4.32268884e+02]
 [5.37767357e-01 8.64000000e+02]
 [5.37767357e-01 2.27373675e-13]]
2025-08-13 03:14:43,767 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,767 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,767 - INFO - [robust_curvature] INPUT: [[1440.    0.]
 [1440.  864.]]
2025-08-13 03:14:43,768 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,768 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,768 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,769 - INFO - [robust_curvature] INPUT: [[5.52627569e+00 8.72264263e-16]
 [1.43447579e+03 3.31452760e+00]
 [1.43834377e+03 8.59029240e+02]
 [1.00771543e+03 4.33925116e+02]
 [4.32822336e+02 4.33925116e+02]
 [2.19399965e+00 8.59029240e+02]
 [5.35704343e-01 3.31452760e+00]]
2025-08-13 03:14:43,769 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,769 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,769 - INFO - [robust_angular_variance] Computed angular variance: 0.487667 for 7 vertices.
2025-08-13 03:14:43,770 - INFO - [robust_curvature] INPUT: [[5.52627569e+00 8.72264263e-16]
 [1.00771543e+03 4.33925116e+02]
 [4.32822336e+02 4.33925116e+02]
 [2.19399965e+00 8.59029240e+02]
 [5.35704343e-01 3.31452760e+00]]
2025-08-13 03:14:43,770 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,771 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,771 - INFO - [robust_curvature] INPUT: [[1434.47578733    3.3145276 ]
 [1438.34376771  859.0292401 ]]
2025-08-13 03:14:43,771 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,772 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,772 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,773 - INFO - [robust_curvature] INPUT: [[1.53726465e+02 4.55958863e-01]
 [1.28621715e+03 9.20875276e+01]
 [1.39339602e+03 7.25726524e+02]
 [9.92759363e+02 4.78226852e+02]
 [4.47778404e+02 4.78226852e+02]
 [4.67616411e+01 7.25726524e+02]
 [9.74264195e-01 9.20875276e+01]]
2025-08-13 03:14:43,773 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,773 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,774 - INFO - [robust_angular_variance] Computed angular variance: 0.444611 for 7 vertices.
2025-08-13 03:14:43,775 - INFO - [robust_curvature] INPUT: [[1.53726465e+02 4.55958863e-01]
 [4.47778404e+02 4.78226852e+02]
 [4.67616411e+01 7.25726524e+02]
 [9.74264195e-01 9.20875276e+01]]
2025-08-13 03:14:43,775 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,775 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,776 - INFO - [robust_curvature] INPUT: [[1286.21714577   92.08752765]
 [1393.39601861  725.7265242 ]
 [ 992.75936335  478.2268524 ]]
2025-08-13 03:14:43,776 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,776 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,776 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,777 - INFO - [robust_curvature] INPUT: [[ 432.92231635   97.24388156]
 [ 979.36014803  238.32037822]
 [1190.23335195  476.5673267 ]
 [ 933.05660837  532.75923798]
 [ 500.90410687  532.75923798]
 [ 172.52815725  476.5673267 ]
 [ 112.60861324  238.32037822]]
2025-08-13 03:14:43,777 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,777 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,778 - INFO - [robust_angular_variance] Computed angular variance: 0.408686 for 7 vertices.
2025-08-13 03:14:43,779 - INFO - [robust_curvature] INPUT: [[432.92231635  97.24388156]
 [500.90410687 532.75923798]
 [172.52815725 476.5673267 ]
 [112.60861324 238.32037822]]
2025-08-13 03:14:43,779 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,779 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,780 - INFO - [robust_curvature] INPUT: [[ 979.36014803  238.32037822]
 [1190.23335195  476.5673267 ]
 [ 933.05660837  532.75923798]]
2025-08-13 03:14:43,780 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,780 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,781 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,781 - INFO - [robust_curvature] INPUT: [[575.9649245  303.53753649]
 [715.88605167 329.09527776]
 [781.2585016  385.54646171]
 [722.82613591 429.85837596]
 [585.53379994 429.85837596]
 [472.36690593 385.54646171]
 [467.77698253 329.09527776]]
2025-08-13 03:14:43,781 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,782 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,782 - INFO - [robust_angular_variance] Computed angular variance: 0.258028 for 7 vertices.
2025-08-13 03:14:43,783 - INFO - [robust_curvature] INPUT: [[575.9649245  303.53753649]
 [585.53379994 429.85837596]
 [472.36690593 385.54646171]
 [467.77698253 329.09527776]]
2025-08-13 03:14:43,783 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,784 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,784 - INFO - [robust_curvature] INPUT: [[715.88605167 329.09527776]
 [781.2585016  385.54646171]
 [722.82613591 429.85837596]]
2025-08-13 03:14:43,784 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,785 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,785 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,785 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.25802765250834636, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}
2025-08-13 03:14:43,786 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.6546166184396274, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.48766725327208355, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.44461109654139686, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.4086857597894749, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.25802765250834636, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}
2025-08-13 03:14:43,786 - INFO - [SoS] Removed duplicate vertex: [1.5 0.5]
2025-08-13 03:14:43,787 - DEBUG - [extract_image_features] Stroke 0 geometry: {'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772}
2025-08-13 03:14:43,787 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44545455] -> [0.49999982 0.44545426]
2025-08-13 03:14:43,788 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39090909] -> [0.49999936 0.39090909]
2025-08-13 03:14:43,788 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.33636364] -> [0.49999909 0.33636451]
2025-08-13 03:14:43,789 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28181818] -> [0.50000062 0.28181817]
2025-08-13 03:14:43,789 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.22727273] -> [0.49999917 0.22727316]
2025-08-13 03:14:43,789 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.17272727] -> [0.5000008  0.17272672]
2025-08-13 03:14:43,790 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.11818182] -> [0.49999969 0.11818232]
2025-08-13 03:14:43,790 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.06363636] -> [0.50000088 0.06363672]
2025-08-13 03:14:43,791 - INFO - [SoS] Perturbed collinear vertex 9: [0.5        0.00909091] -> [0.50000037 0.00909018]
2025-08-13 03:14:43,791 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.04545455] -> [ 0.50000049 -0.04545487]
2025-08-13 03:14:43,793 - DEBUG - [extract_image_features] Stroke 1 geometry: {'area': 8.885300867185244e-08, 'perimeter': 0.40773013924573454, 'centroid': [0.5000002679092674, 0.016015581290077137], 'bounds': [0.4999999999999999, -0.09999999999999998, 0.5000008795112133, 0.10386506961572685], 'width': 8.795112134141192e-07, 'height': 0.2038650696157268}
2025-08-13 03:14:43,793 - INFO - [SoS] Perturbed collinear vertex 1: [0.54283047 0.45716953] -> [0.54283031 0.45716876]
2025-08-13 03:14:43,793 - INFO - [SoS] Perturbed collinear vertex 2: [0.58566094 0.41433906] -> [0.58566109 0.41433972]
2025-08-13 03:14:43,794 - INFO - [SoS] Perturbed collinear vertex 3: [0.6284914 0.3715086] -> [0.62849071 0.37150898]
2025-08-13 03:14:43,794 - INFO - [SoS] Perturbed collinear vertex 4: [0.67132187 0.32867813] -> [0.67132165 0.32867713]
2025-08-13 03:14:43,795 - INFO - [SoS] Perturbed collinear vertex 5: [0.71415234 0.28584766] -> [0.71415221 0.28584674]
2025-08-13 03:14:43,795 - INFO - [SoS] Perturbed collinear vertex 6: [0.75698281 0.24301719] -> [0.75698259 0.24301771]
2025-08-13 03:14:43,796 - DEBUG - [extract_image_features] Stroke 2 geometry: {'area': 1.0065228915720655e-07, 'perimeter': 0.3694967977146639, 'centroid': [0.6844574064919733, 0.3155421166743167], 'bounds': [0.6167898935792029, 0.2525732607792654, 0.7474267392207345, 0.38321010642079706], 'width': 0.13063684564153166, 'height': 0.13063684564153166}
2025-08-13 03:14:43,798 - DEBUG - [extract_image_features] Stroke 3 geometry: {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8}
2025-08-13 03:14:43,800 - DEBUG - [extract_image_features] Stroke 4 geometry: {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999}
2025-08-13 03:14:43,800 - INFO - [SoS] Perturbed collinear vertex 1: [0.53856946 0.46143054] -> [0.53856932 0.46143146]
2025-08-13 03:14:43,801 - INFO - [SoS] Perturbed collinear vertex 2: [0.57713892 0.42286108] -> [0.57713805 0.42286187]
2025-08-13 03:14:43,801 - INFO - [SoS] Perturbed collinear vertex 3: [0.61570838 0.38429162] -> [0.61570898 0.38429152]
2025-08-13 03:14:43,802 - INFO - [SoS] Perturbed collinear vertex 4: [0.65427784 0.34572216] -> [0.65427831 0.3457214 ]
2025-08-13 03:14:43,802 - INFO - [SoS] Perturbed collinear vertex 5: [0.6928473 0.3071527] -> [0.69284668 0.30715262]
2025-08-13 03:14:43,803 - INFO - [SoS] Perturbed collinear vertex 6: [0.73141676 0.26858324] -> [0.73141775 0.26858346]
2025-08-13 03:14:43,803 - INFO - [SoS] Perturbed collinear vertex 7: [0.76998623 0.23001377] -> [0.769986   0.23001352]
2025-08-13 03:14:43,803 - INFO - [SoS] Perturbed collinear vertex 8: [0.80855569 0.19144431] -> [0.80855559 0.19144346]
2025-08-13 03:14:43,804 - INFO - [SoS] Perturbed collinear vertex 9: [0.84712515 0.15287485] -> [0.84712443 0.15287566]
2025-08-13 03:14:43,804 - INFO - [SoS] Perturbed collinear vertex 10: [0.88569461 0.11430539] -> [0.88569441 0.11430554]
2025-08-13 03:14:43,806 - DEBUG - [extract_image_features] Stroke 5 geometry: {'area': 4.675852660097901e-08, 'perimeter': 0.2393426326305056, 'centroid': [0.8003205549740229, 0.19967910615340026], 'bounds': [0.7590697063814386, 0.15630989434178805, 0.8436901056582118, 0.2409302936185613], 'width': 0.08462039927677323, 'height': 0.08462039927677326}
2025-08-13 03:14:43,806 - INFO - [extract_image_features] stroke_type_distribution INPUT: [{'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'open_stroke_perimeter': 5.196152422706632, 'shape_modifier': 'normal', 'command': 'line_triangle_1.000-0.500', 'vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'geometry': {'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 8.795847452098339e-08, 'perimeter': 0.2676665387828788, 'centroid': [0.5000004014706873, 0.20211303602641142], 'bounds': [0.49999999999999994, 0.1356109476294518, 0.5000009612550882, 0.26944421700988325], 'width': 8.795112134141192e-07, 'height': 0.2038650696157268, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.2676665387828788, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'vertical', 'command': 'line_normal_0.600-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'geometry': {'area': 8.885300867185244e-08, 'perimeter': 0.40773013924573454, 'centroid': [0.5000002679092674, 0.016015581290077137], 'bounds': [0.4999999999999999, -0.09999999999999998, 0.5000008795112133, 0.10386506961572685], 'width': 8.795112134141192e-07, 'height': 0.2038650696157268}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 7.07027470771282e-08, 'perimeter': 0.236663755625104, 'centroid': [0.5421676041459228, 0.4578318325300562], 'bounds': [0.5, 0.41632672677674454, 0.5836732732232555, 0.5], 'width': 0.13063684564153166, 'height': 0.13063684564153166, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.236663755625104, 'analytic_vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'open_stroke_perimeter': 0.424, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.424-0.875', 'vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'geometry': {'area': 1.0065228915720655e-07, 'perimeter': 0.3694967977146639, 'centroid': [0.6844574064919733, 0.3155421166743167], 'bounds': [0.6167898935792029, 0.2525732607792654, 0.7474267392207345, 0.38321010642079706], 'width': 0.13063684564153166, 'height': 0.13063684564153166}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'open_stroke_perimeter': 2.3778038686115095, 'shape_modifier': 'normal', 'command': 'line_circle_0.400-0.375', 'vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'geometry': {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'open_stroke_perimeter': 2.5204721007282003, 'shape_modifier': 'normal', 'command': 'line_circle_0.424-0.375', 'vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'geometry': {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.0828763572943642e-07, 'perimeter': 0.4116228885998203, 'centroid': [0.8611635503744633, 0.13883596724928432], 'bounds': [0.7787334008060752, 0.07573593128807138, 0.9242640687119283, 0.22126659919392455], 'width': 0.08462039927677323, 'height': 0.08462039927677326, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.4116228885998203, 'analytic_vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'normal', 'command': 'line_normal_0.600-0.875', 'vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'geometry': {'area': 4.675852660097901e-08, 'perimeter': 0.2393426326305056, 'centroid': [0.8003205549740229, 0.19967910615340026], 'bounds': [0.7590697063814386, 0.15630989434178805, 0.8436901056582118, 0.2409302936185613], 'width': 0.08462039927677323, 'height': 0.08462039927677326}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}]
2025-08-13 03:14:43,806 - INFO - [extract_image_features] stroke_type_distribution OUTPUT: {'line': 6}
2025-08-13 03:14:43,807 - INFO - [extract_image_features] modifier_distribution OUTPUT: {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}
2025-08-13 03:14:43,807 - INFO - [extract_image_features] relational INPUT: []
2025-08-13 03:14:43,807 - INFO - [extract_image_features] relational OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:43,807 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-13 03:14:43,807 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,808 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,808 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,808 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,808 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,808 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,809 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,809 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,809 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,809 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-13 03:14:43,810 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:43,810 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,810 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,810 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,810 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,811 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,811 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,811 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,811 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,811 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,812 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,812 - DEBUG - [_detect_alternation] OUTPUT: 0.16666666666666666
2025-08-13 03:14:43,812 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-13 03:14:43,813 - INFO - [extract_image_features] PATCHED ngram: {'normal|normal': 5}
2025-08-13 03:14:43,813 - INFO - [extract_image_features] PATCHED alternation: 0.16666666666666666
2025-08-13 03:14:43,813 - INFO - [extract_image_features] PATCHED regularity: 0.16666666666666666
2025-08-13 03:14:43,813 - INFO - [extract_image_features] PATCHED dominant_shape_functions: line
2025-08-13 03:14:43,814 - INFO - [extract_image_features] PATCHED dominant_modifiers: normal
2025-08-13 03:14:43,814 - INFO - [extract_image_features] PATCHED image_canonical_summary: {'area': 808626.4892020901, 'perimeter': 4965.657767357483, 'compactness': 0.4121015600136674, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.16666666666666666}
2025-08-13 03:14:43,814 - INFO - [extract_image_features] OUTPUT: {'area': 808626.4892020901, 'perimeter': 4965.657767357483, 'convexity_ratio': 0.3499409175653963, 'compactness': 0.4121015600136674, 'aspect_ratio': 1.6666666666666663, 'centroid_x': 720.2688836787415, 'centroid_y': 299.12626352014365, 'width': 1440.0, 'height': 864.0000000000002, 'bounding_box': (0.0, 0.0, 1440.0, 864.0000000000002), 'num_vertices': 7, 'curvature': 1.844192209364541, 'angular_variance': 0.6546166184396274, 'complexity': 0.10776455089170946, 'num_strokes': 6, 'stroke_type_distribution': {'line': 6}, 'modifier_distribution': {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.10776455089170946, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.6546166184396274, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.48766725327208355, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.44461109654139686, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.4086857597894749, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.25802765250834636, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}, 'moment_of_inertia': 428655.2723576205, 'center_of_mass_x': 0.5001867247769038, 'center_of_mass_y': 0.34621095314831435, 'symmetry_score': 887.4887176747658, 'ngram': {'normal|normal': 5}, 'alternation': 0.16666666666666666, 'regularity': 0.16666666666666666, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 808626.4892020901, 'perimeter': 4965.657767357483, 'compactness': 0.4121015600136674, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.16666666666666666}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 5, 'vertical': 1}}
2025-08-13 03:14:43,814 - DEBUG - [extract_image_features] FINAL OUTPUT bounding_box: (0.0, 0.0, 1440.0, 864.0000000000002)
2025-08-13 03:14:43,815 - DEBUG - [extract_image_features] FINAL OUTPUT width: 1440.0, height: 864.0000000000002
2025-08-13 03:14:43,815 - DEBUG - [extract_image_features] FINAL OUTPUT curvature: 1.844192209364541
2025-08-13 03:14:43,815 - INFO - [DIAG] Shape 0 extracted attributes: {'area': 808626.4892020901, 'perimeter': 4965.657767357483, 'convexity_ratio': 0.3499409175653963, 'compactness': 0.4121015600136674, 'aspect_ratio': 1.6666666666666663, 'centroid_x': 720.2688836787415, 'centroid_y': 299.12626352014365, 'width': 1440.0, 'height': 864.0000000000002, 'bounding_box': (0.0, 0.0, 1440.0, 864.0000000000002), 'num_vertices': 7, 'curvature': 1.844192209364541, 'angular_variance': 0.6546166184396274, 'complexity': 0.10776455089170946, 'num_strokes': 6, 'stroke_type_distribution': {'line': 6}, 'modifier_distribution': {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}, 'avg_stroke_length': 0.0, 'stroke_complexity': 0.10776455089170946, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.6546166184396274, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.48766725327208355, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.44461109654139686, 'complexity': 3, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.4086857597894749, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.25802765250834636, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}, 'moment_of_inertia': 428655.2723576205, 'center_of_mass_x': 0.5001867247769038, 'center_of_mass_y': 0.34621095314831435, 'symmetry_score': 887.4887176747658, 'ngram': {'normal|normal': 5}, 'alternation': 0.16666666666666666, 'regularity': 0.16666666666666666, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'image_canonical_summary': {'area': 808626.4892020901, 'perimeter': 4965.657767357483, 'compactness': 0.4121015600136674, 'dominant_shape_functions': 'line', 'dominant_modifiers': 'normal', 'regularity': 0.16666666666666666}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'attributes': {'normal': 5, 'vertical': 1}}
2025-08-13 03:14:43,815 - INFO - [VALIDATION] expected_strokes=6, actual_shapes=1
2025-08-13 03:14:43,816 - INFO - [VALIDATION] image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6, problem_id=hd_has_six_straight_lines-exist_quadrangle_0018: Number of action commands matches number of parsed shapes (6)
2025-08-13 03:14:43,816 - INFO - [standardize_coordinates] INPUT vertices: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:43,817 - INFO - [standardize_coordinates] OUTPUT normalized vertices: [[0.0, 0.0], [1.0, 0.0], [1.0, 0.9999999999999998], [0.7001867247769038, 0.5003112079615064], [0.30018672477690383, 0.5003112079615065], [0.00037344955380776113, 1.0], [0.0003734495538076509, 2.6316397620744445e-16]]
2025-08-13 03:14:43,817 - DEBUG - [process_single_image] Passing shape_list to extract_relational_features: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}]
2025-08-13 03:14:43,817 - INFO - [extract_relational_features] INPUT: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}]
2025-08-13 03:14:43,817 - DEBUG - [extract_relational_features] Shape 0 vertices: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:43,819 - INFO - [calculate_relationships] INPUT: strokes=[{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}], buffer_amt=0.001
2025-08-13 03:14:43,819 - DEBUG - [calculate_relationships] Stroke 0: {'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}
2025-08-13 03:14:43,819 - DEBUG - [calculate_relationships] Vertices for stroke 0: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:43,820 - DEBUG - [calculate_relationships] Created LineString for stroke 0: LINESTRING (0 0, 1440 0, 1440 864, 1008.2688836787415 432.26888367874164, 432.26888367874153 432.2688836787417, 0.5377673574831761 864.0000000000002, 0.5377673574830173 2.2737367544323206e-13)
2025-08-13 03:14:43,820 - DEBUG - [calculate_relationships] Buffered geometries: ['POLYGON ((0.5367673574830173 0.001, 0.536767357483176 864.0000000000002, 0.5367721727565038 864.0000980171405, 0.5367865722027728 864.0001950903222, 0.5368104171474437 864.0002902846775, 0.5368434779506646 864.0003826834326, 0.5368854362188273 864.000471396737, 0.536935887870873 864.0005555702332, 0.5369943470298126 864.0006343932844, 0.5370602507019886 864.0007071067814, 0.5371329641990112 864.0007730104536, 0.5372117872501551 864.0008314696125, 0.5372959607463484 864.0008819212645, 0.5373846740508091 864.0009238795327, 0.5374770728059196 864.000956940336, 0.5375722671611577 864.0009807852806, 0.5376693403428441 864.0009951847269, 0.5377673574831734 864.0010000000002, 0.5378653746235028 864.0009951847269, 0.5379624478051893 864.0009807852806, 0.5380576421604275 864.000956940336, 0.5381500409155381 864.0009238795327, 0.538238754219999 864.0008819212645, 0.5383229277161926 864.0008314696125, 0.5384017507673368 864.0007730104536, 0.5384744642643626 864.0007071067814, 432.26929789230394 432.2698836787417, 1008.2684694651791 432.2698836787416, 1439.9992928932188 864.0007071067812, 1439.9993656067159 864.0007730104534, 1439.999444429767 864.0008314696123, 1439.9995286032631 864.0008819212643, 1439.9996173165675 864.0009238795325, 1439.9997097153228 864.0009569403358, 1439.999804909678 864.0009807852804, 1439.9999019828597 864.0009951847267, 1440 864.001, 1440.0000980171403 864.0009951847267, 1440.000195090322 864.0009807852804, 1440.0002902846772 864.0009569403358, 1440.0003826834325 864.0009238795325, 1440.0004713967369 864.0008819212643, 1440.000555570233 864.0008314696123, 1440.0006343932841 864.0007730104534, 1440.0007071067812 864.0007071067812, 1440.0007730104533 864.0006343932841, 1440.0008314696122 864.000555570233, 1440.0008819212644 864.0004713967368, 1440.0009238795326 864.0003826834323, 1440.0009569403358 864.0002902846772, 1440.0009807852805 864.000195090322, 1440.0009951847267 864.0000980171403, 1440.001 864, 1440.001 0, 1440.0009951847267 -9.80171403295606e-5, 1440.0009807852805 -0.0001950903220161, 1440.0009569403358 -0.0002902846772545, 1440.0009238795326 -0.0003826834323651, 1440.0008819212644 -0.000471396736826, 1440.0008314696122 -0.0005555702330196, 1440.0007730104533 -0.0006343932841636, 1440.0007071067812 -0.0007071067811865, 1440.0006343932841 -0.0007730104533627, 1440.000555570233 -0.0008314696123025, 1440.0004713967369 -0.0008819212643484, 1440.0003826834325 -0.0009238795325113, 1440.0002902846772 -0.0009569403357322, 1440.000195090322 -0.0009807852804032, 1440.0000980171403 -0.0009951847266722, 1440 -0.001, 0 -0.001, -9.801714032956045e-5 -0.0009951847266722, -0.0001950903220161 -0.0009807852804032, -0.0002902846772545 -0.0009569403357322, -0.0003826834323651 -0.0009238795325113, -0.000471396736826 -0.0008819212643484, -0.0005555702330196 -0.0008314696123025, -0.0006343932841636 -0.0007730104533627, -0.0007071067811865 -0.0007071067811865, -0.0007730104533627 -0.0006343932841636, -0.0008314696123025 -0.0005555702330196, -0.0008819212643484 -0.000471396736826, -0.0009238795325113 -0.0003826834323651, -0.0009569403357322 -0.0002902846772545, -0.0009807852804032 -0.0001950903220161, -0.0009951847266722 -9.801714032956059e-5, -0.001 0, -0.0009951847266722 9.801714032956083e-5, -0.0009807852804032 0.0001950903220161, -0.0009569403357322 0.0002902846772545, -0.0009238795325113 0.0003826834323651, -0.0008819212643484 0.000471396736826, -0.0008314696123025 0.0005555702330196, -0.0007730104533627 0.0006343932841636, -0.0007071067811865 0.0007071067811865, -0.0006343932841636 0.0007730104533627, -0.0005555702330196 0.0008314696123025, -0.000471396736826 0.0008819212643484, -0.0003826834323651 0.0009238795325113, -0.0002902846772545 0.0009569403357322, -0.0001950903220161 0.0009807852804032, -9.801714032956064e-5 0.0009951847266722, 0 0.001, 0.5367673574830173 0.001), (0.5387673574830173 0.001, 1439.999 0.001, 1439.999 863.9975857864376, 1008.2695907855227 432.26817657196045, 1008.2695180720257 432.2681106682883, 1008.2694392489745 432.26805220912934, 1008.2693550754783 432.2680017574773, 1008.2692663621739 432.2679597992091, 1008.2691739634188 432.2679267384059, 1008.2690787690635 432.26790289346127, 1008.2689816958818 432.267888494015, 1008.2688836787415 432.26788367874167, 432.26888367874153 432.2678836787417, 432.2687856616012 432.26788849401504, 432.26868858841954 432.2679028934613, 432.2685933940643 432.26792673840595, 432.2685009953092 432.26795979920917, 432.2684122820047 432.26800175747735, 432.2683281085085 432.2680522091294, 432.2682492854574 432.26811066828833, 432.26817657196034 432.2681765719605, 0.5387673574831761 863.9975857864379, 0.5387673574830173 0.001))']
2025-08-13 03:14:43,820 - INFO - [calculate_relationships] Intermediate results: adjacency=0, intersections=0, containment=0, overlap=0.0
2025-08-13 03:14:43,821 - INFO - [calculate_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:43,821 - WARNING - [calculate_relationships] All relational features are zero/default. Strokes: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}]
2025-08-13 03:14:43,821 - INFO - [extract_relational_features] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:43,821 - DEBUG - [extract_relational_features] Output is JSON serializable.
2025-08-13 03:14:43,822 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [1.00000000e+00 0.00000000e+00]
 [1.00000000e+00 1.00000000e+00]
 [7.00186725e-01 5.00311208e-01]
 [3.00186725e-01 5.00311208e-01]
 [3.73449554e-04 1.00000000e+00]
 [3.73449554e-04 2.63163976e-16]]
2025-08-13 03:14:43,822 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,823 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,823 - INFO - [robust_angular_variance] Computed angular variance: 0.606488 for 7 vertices.
2025-08-13 03:14:43,824 - INFO - [robust_curvature] INPUT: [[1.00000000e+00 0.00000000e+00]
 [1.00000000e+00 1.00000000e+00]
 [7.00186725e-01 5.00311208e-01]
 [3.00186725e-01 5.00311208e-01]
 [3.73449554e-04 1.00000000e+00]]
2025-08-13 03:14:43,824 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,825 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,825 - INFO - [robust_curvature] INPUT: [[0.00000000e+00 0.00000000e+00]
 [3.73449554e-04 2.63163976e-16]]
2025-08-13 03:14:43,825 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,826 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,826 - INFO - [MULTISCALE][GROUPS] scale=0.1, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,826 - INFO - [robust_curvature] INPUT: [[3.83769145e-03 1.00956512e-18]
 [9.96163741e-01 3.83625880e-03]
 [9.98849839e-01 9.94246806e-01]
 [6.99802383e-01 5.02228143e-01]
 [3.00571067e-01 5.02228143e-01]
 [1.52361087e-03 9.94246806e-01]
 [3.72016905e-04 3.83625880e-03]]
2025-08-13 03:14:43,828 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,829 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,829 - INFO - [robust_angular_variance] Computed angular variance: 0.553863 for 7 vertices.
2025-08-13 03:14:43,830 - INFO - [robust_curvature] INPUT: [[0.99616374 0.00383626]
 [0.99884984 0.99424681]
 [0.69980238 0.50222814]
 [0.30057107 0.50222814]
 [0.00152361 0.99424681]]
2025-08-13 03:14:43,830 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,831 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,831 - INFO - [robust_curvature] INPUT: [[3.83769145e-03 1.00956512e-18]
 [3.72016905e-04 3.83625880e-03]]
2025-08-13 03:14:43,831 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,832 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,832 - INFO - [MULTISCALE][GROUPS] scale=0.3, group_features={'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,833 - INFO - [robust_curvature] INPUT: [[1.06754490e-01 5.27730165e-04]
 [8.93206351e-01 1.06582787e-01]
 [9.67636124e-01 8.39961255e-01]
 [6.89416225e-01 5.53503301e-01]
 [3.10957225e-01 5.53503301e-01]
 [3.24733619e-02 8.39961255e-01]
 [6.76572358e-04 1.06582787e-01]]
2025-08-13 03:14:43,833 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,833 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,834 - INFO - [robust_angular_variance] Computed angular variance: 0.467986 for 7 vertices.
2025-08-13 03:14:43,835 - INFO - [robust_curvature] INPUT: [[1.06754490e-01 5.27730165e-04]
 [3.24733619e-02 8.39961255e-01]
 [6.76572358e-04 1.06582787e-01]]
2025-08-13 03:14:43,835 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,836 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,836 - INFO - [robust_curvature] INPUT: [[0.89320635 0.10658279]
 [0.96763612 0.83996125]
 [0.68941622 0.5535033 ]
 [0.31095723 0.5535033 ]]
2025-08-13 03:14:43,836 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,836 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,838 - INFO - [MULTISCALE][GROUPS] scale=0.5, group_features={'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}
2025-08-13 03:14:43,838 - INFO - [robust_curvature] INPUT: [[0.3006405  0.11255079]
 [0.68011121 0.27583377]
 [0.82655094 0.55158255]
 [0.64795598 0.61661949]
 [0.34785007 0.61661949]
 [0.11981122 0.55158255]
 [0.07820043 0.27583377]]
2025-08-13 03:14:43,839 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,839 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,839 - INFO - [robust_angular_variance] Computed angular variance: 0.215698 for 7 vertices.
2025-08-13 03:14:43,840 - INFO - [robust_curvature] INPUT: [[0.3006405  0.11255079]
 [0.34785007 0.61661949]
 [0.11981122 0.55158255]
 [0.07820043 0.27583377]]
2025-08-13 03:14:43,840 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,841 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,841 - INFO - [robust_curvature] INPUT: [[0.68011121 0.27583377]
 [0.82655094 0.55158255]
 [0.64795598 0.61661949]]
2025-08-13 03:14:43,841 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,842 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,842 - INFO - [MULTISCALE][GROUPS] scale=1.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,842 - INFO - [robust_curvature] INPUT: [[0.39997564 0.35131659]
 [0.49714309 0.38089731]
 [0.54254063 0.44623433]
 [0.50196259 0.49752127]
 [0.40662069 0.49752127]
 [0.32803257 0.44623433]
 [0.32484513 0.38089731]]
2025-08-13 03:14:43,843 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,843 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,843 - INFO - [robust_angular_variance] Computed angular variance: 0.067477 for 7 vertices.
2025-08-13 03:14:43,844 - INFO - [robust_curvature] INPUT: [[0.39997564 0.35131659]
 [0.49714309 0.38089731]
 [0.54254063 0.44623433]
 [0.50196259 0.49752127]]
2025-08-13 03:14:43,845 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,845 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,845 - INFO - [robust_curvature] INPUT: [[0.40662069 0.49752127]
 [0.32803257 0.44623433]
 [0.32484513 0.38089731]]
2025-08-13 03:14:43,846 - WARNING - [robust_curvature] Not enough vertices.
2025-08-13 03:14:43,846 - INFO - [robust_curvature] OUTPUT: 0.0
2025-08-13 03:14:43,846 - INFO - [MULTISCALE][GROUPS] scale=2.0, group_features={'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}
2025-08-13 03:14:43,847 - INFO - [MULTISCALE][FEATURES] scale=2.0, features={'curvature': 0.0, 'angular_variance': 0.06747703986525634, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}
2025-08-13 03:14:43,847 - INFO - [MULTISCALE][OUTPUT] {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.6064876770353205, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.5538634660062625, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.46798578001622815, 'complexity': 3, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.2156977703837358, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.06747703986525634, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}
2025-08-13 03:14:43,847 - INFO - [_calculate_image_features] INPUTS: vertices=[(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)], strokes=[{'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.4, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'open_stroke_perimeter': 5.196152422706632, 'shape_modifier': 'normal', 'command': 'line_triangle_1.000-0.500', 'vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'geometry': {'area': 1.299038105676658, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000002], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'width': 1.5000000000000004, 'height': 1.7320508075688772}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 8.795847452098339e-08, 'perimeter': 0.2676665387828788, 'centroid': [0.5000004014706873, 0.20211303602641142], 'bounds': [0.49999999999999994, 0.1356109476294518, 0.5000009612550882, 0.26944421700988325], 'width': 8.795112134141192e-07, 'height': 0.2038650696157268, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.2676665387828788, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'vertical', 'command': 'line_normal_0.600-0.750', 'vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'geometry': {'area': 8.885300867185244e-08, 'perimeter': 0.40773013924573454, 'centroid': [0.5000002679092674, 0.016015581290077137], 'bounds': [0.4999999999999999, -0.09999999999999998, 0.5000008795112133, 0.10386506961572685], 'width': 8.795112134141192e-07, 'height': 0.2038650696157268}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 7.07027470771282e-08, 'perimeter': 0.236663755625104, 'centroid': [0.5421676041459228, 0.4578318325300562], 'bounds': [0.5, 0.41632672677674454, 0.5836732732232555, 0.5], 'width': 0.13063684564153166, 'height': 0.13063684564153166, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 0.8, 'degenerate_case': False, 'visual_complexity': 0.236663755625104, 'analytic_vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'open_stroke_perimeter': 0.424, 'shape_modifier': 'normal', 'command': 'line_zigzag_0.424-0.875', 'vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'geometry': {'area': 1.0065228915720655e-07, 'perimeter': 0.3694967977146639, 'centroid': [0.6844574064919733, 0.3155421166743167], 'bounds': [0.6167898935792029, 0.2525732607792654, 0.7474267392207345, 0.38321010642079706], 'width': 0.13063684564153166, 'height': 0.13063684564153166}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'open_stroke_perimeter': 2.3778038686115095, 'shape_modifier': 'normal', 'command': 'line_circle_0.400-0.375', 'vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'geometry': {'area': 0.494427190999916, 'perimeter': 2.5029514406436943, 'centroid': [0.4999999999999999, 0.4999999999999999], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'width': 0.8, 'height': 0.8}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 1.0, 'analytic_vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'open_stroke_perimeter': 2.5204721007282003, 'shape_modifier': 'normal', 'command': 'line_circle_0.424-0.375', 'vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'geometry': {'area': 0.5555383918075056, 'perimeter': 2.6531285270823157, 'centroid': [0.5, 0.5], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'width': 0.8479999999999999, 'height': 0.8479999999999999}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}, {'area': 1.0828763572943642e-07, 'perimeter': 0.4116228885998203, 'centroid': [0.8611635503744633, 0.13883596724928432], 'bounds': [0.7787334008060752, 0.07573593128807138, 0.9242640687119283, 0.22126659919392455], 'width': 0.08462039927677323, 'height': 0.08462039927677326, 'compactness': 0.0, 'convexity_ratio': 0.0, 'geom_complexity': 1, 'degenerate_case': False, 'visual_complexity': 0.4116228885998203, 'analytic_vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'open_stroke_perimeter': 0.6, 'shape_modifier': 'normal', 'command': 'line_normal_0.600-0.875', 'vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'geometry': {'area': 4.675852660097901e-08, 'perimeter': 0.2393426326305056, 'centroid': [0.8003205549740229, 0.19967910615340026], 'bounds': [0.7590697063814386, 0.15630989434178805, 0.8436901056582118, 0.2409302936185613], 'width': 0.08462039927677323, 'height': 0.08462039927677326}, 'label': 'hd', 'class_label': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'is_positive': False}], geometry={'area': 0.6499377002974616, 'perimeter': 4.565837973061732, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-13 03:14:43,847 - DEBUG - [POLYGON CREATION] Attempting to create Polygon with vertices: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-13 03:14:43,848 - DEBUG - polygon: raw build 7 verts in 0.000s
2025-08-13 03:14:43,848 - DEBUG - [POLYGON REPAIR] Final polygon: is_valid=True, is_empty=False, area=0.6499377002974616
2025-08-13 03:14:43,849 - INFO - [_calculate_perimeter] INPUT vertices: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-13 03:14:43,849 - INFO - [_calculate_perimeter] OUTPUT perimeter: 4.565837973061732
2025-08-13 03:14:43,849 - INFO - [robust_curvature] INPUT: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-13 03:14:43,850 - INFO - [robust_curvature] OUTPUT: 1.9837357364764245
2025-08-13 03:14:43,850 - INFO - [robust_angular_variance] Computed angular variance: 0.606488 for 7 vertices.
2025-08-13 03:14:43,851 - INFO - [complexity] Calling calculate_complexity with vertices: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-13 03:14:43,851 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,852 - INFO - Complexity: n=7, n_norm=0.28, curvature=0.99, irregularity=0.24, result=0.49
2025-08-13 03:14:43,852 - INFO - [complexity] Output for vertices count 7: 0.4854288411970937
2025-08-13 03:14:43,852 - INFO - [_calculate_image_features] polsby_popper: 0.39177850258902114
2025-08-13 03:14:43,855 - INFO - [_calculate_image_features] OUTPUT: {'bounding_box': (0.0, 0.0, 1.0, 1.0), 'centroid': [0.5001867247769038, 0.34621095314831435], 'width': 1.0, 'height': 1.0, 'area_raw': 0.6499377002974616, 'area_normalized': 0.6500590824346036, 'perimeter_raw': 4.565837973061732, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.6500590824346036, 'is_convex': False, 'compactness': 0.39177850258902114, 'polsby_popper_compactness': 0.39177850258902114, 'eccentricity': 0.29624350248824083, 'symmetry_score': 0.6163116094963651, 'horizontal_symmetry': 0.7584032750784852, 'vertical_symmetry': 0.8284113787626539, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 7.0, 'visual_complexity': 0.5374328089489586, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'moment_of_inertia': 0.2610921766579035, 'irregularity_score': 0.24489795918370555, 'standardized_complexity': 0.4854288411970937, 'clustering_heights': [0.14551678034109544, 0.1757718298116586, 0.20499830417367532, 3.4127616658865207, 6.056415055475741], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-13 03:14:43,855 - DEBUG - [_calculate_composition_features] INPUTS: strokes count=6
2025-08-13 03:14:43,855 - DEBUG - [_calculate_composition_features] OUTPUT: {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 10, 'homogeneity_score': 0.2777777777777778, 'pattern_regularity': 0.6666666666666666}
2025-08-13 03:14:43,856 - INFO - [_calculate_physics_features] INPUT vertices: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-13 03:14:43,856 - INFO - [_calculate_physics_features] INPUT centroid: [0.5001867247769038, 0.34621095314831435]
2025-08-13 03:14:43,856 - INFO - [_calculate_physics_features] INPUT strokes: ['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-13 03:14:43,856 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,857 - INFO - [QualityMonitor] physics_features: {'degenerate': False, 'area': 0.6499377002974616}
2025-08-13 03:14:43,857 - INFO - [_calculate_physics_features] polsby_popper: 0.39177850258902114
2025-08-13 03:14:43,859 - INFO - [robust_angular_variance] Computed angular variance: 0.606488 for 7 vertices.
2025-08-13 03:14:43,860 - INFO - [_calculate_physics_features] OUTPUT: {'moment_of_inertia': 0.2610921766579035, 'center_of_mass': [0.5001867247769038, 0.34621095314831435], 'polsby_popper_compactness': 0.39177850258902114, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'edge_length_variance': 0.12300410253967249}
2025-08-13 03:14:43,860 - INFO - [calculate_shape_relationships] INPUT: shapes=[{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}], buffer_amt=0.001
2025-08-13 03:14:43,860 - DEBUG - [calculate_shape_relationships] Shape 0 vertices: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:43,861 - DEBUG - [calculate_shape_relationships] Created Polygon for shape 0: POLYGON ((0 0, 1440 0, 1440 864, 1008.2688836787415 432.26888367874164, 432.26888367874153 432.2688836787417, 0.5377673574831761 864.0000000000002, 0.5377673574830173 2.2737367544323206e-13, 0 0))
2025-08-13 03:14:43,861 - INFO - [calculate_shape_relationships] OUTPUT: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:43,861 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal'], n=2
2025-08-13 03:14:43,861 - DEBUG - [ensure_str_list] Converting list: ['normal']
2025-08-13 03:14:43,862 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,862 - DEBUG - [ensure_str_list] Result: ['normal']
2025-08-13 03:14:43,862 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal']
2025-08-13 03:14:43,863 - DEBUG - [_extract_ngram_features] OUTPUT: {}
2025-08-13 03:14:43,863 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:43,863 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal'], n=2
2025-08-13 03:14:43,863 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal']
2025-08-13 03:14:43,864 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,864 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,864 - DEBUG - [ensure_str_list] Result: ['normal', 'normal']
2025-08-13 03:14:43,865 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal']
2025-08-13 03:14:43,865 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 1}
2025-08-13 03:14:43,865 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:43,865 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal'], n=2
2025-08-13 03:14:43,866 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal']
2025-08-13 03:14:43,866 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,866 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,866 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,867 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal']
2025-08-13 03:14:43,867 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal']
2025-08-13 03:14:43,867 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 2}
2025-08-13 03:14:43,868 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:43,868 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal'], n=2
2025-08-13 03:14:43,868 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,868 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,868 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,868 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,869 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,869 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,869 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,869 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 3}
2025-08-13 03:14:43,870 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:43,870 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-13 03:14:43,870 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,871 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,871 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,871 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,871 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,872 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,872 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,872 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,873 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 4}
2025-08-13 03:14:43,873 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:43,873 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal'], n=2
2025-08-13 03:14:43,873 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,874 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,874 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,874 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,874 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,875 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,875 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,875 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,876 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,876 - DEBUG - [_extract_ngram_features] OUTPUT: {'normal|normal': 5}
2025-08-13 03:14:43,876 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:43,876 - DEBUG - [_detect_alternation] INPUTS: sequence=['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,877 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,877 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,877 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,877 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,878 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,878 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,878 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,878 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,878 - DEBUG - [_detect_alternation] Sequence after stringification: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,880 - DEBUG - [_detect_alternation] OUTPUT: 0.16666666666666666
2025-08-13 03:14:43,880 - DEBUG - [_detect_alternation] Output is JSON serializable.
2025-08-13 03:14:43,880 - INFO - [extract_regularity_features] INPUT: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,880 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,880 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,881 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,881 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,881 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,882 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,882 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,882 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,882 - INFO - [extract_regularity_features] OUTPUT: {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 6}}
2025-08-13 03:14:43,883 - DEBUG - [extract_regularity_features] Output is JSON serializable.
2025-08-13 03:14:43,883 - INFO - [extract_dominant_shape_modifiers] INPUT: {'modifiers': ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']}
2025-08-13 03:14:43,883 - DEBUG - [ensure_str_list] Converting list: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,883 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,883 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,884 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,884 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,884 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,885 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:43,885 - DEBUG - [ensure_str_list] Result: ['normal', 'normal', 'normal', 'normal', 'normal', 'normal']
2025-08-13 03:14:43,885 - INFO - [extract_dominant_shape_modifiers] OUTPUT: {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 6}}
2025-08-13 03:14:43,886 - DEBUG - [extract_dominant_shape_modifiers] Output is JSON serializable.
2025-08-13 03:14:43,886 - WARNING - [PATCH] Failed to load canonical summary for image_id=hd_has_six_straight_lines-exist_quadrangle_0018_neg_6: type object 'FileIO' has no attribute 'load_canonical_features'
2025-08-13 03:14:43,886 - DEBUG - [process_single_image] Passing topo_shape_list to extract_topological_features: [{'vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]}]
2025-08-13 03:14:43,887 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,888 - INFO - [QualityMonitor] topological_features: {'degenerate': False, 'area': 0.6499377002974616}
2025-08-13 03:14:43,899 - INFO - [extract_stroke_features_from_shapes] Shape 0 actions: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-13 03:14:43,899 - INFO - [extract_stroke_features_from_shapes] Shape 0: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None
2025-08-13 03:14:43,899 - INFO - [extract_stroke_features_from_shapes] Shape 0 geometry: {'area': 0.6499377002974616, 'perimeter': 4.565837973061732, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0, 'robust_curvature': 1.9837357364764245, 'robust_angular_variance': 0.6064876770353205, 'visual_complexity': 1, 'line_curvature_score': 0.0, 'arc_curvature_score': 1.5707963267948966}
2025-08-13 03:14:43,901 - INFO - [extract_stroke_features_from_shapes] Shape 0: num_actions=6 | actions=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-13 03:14:43,901 - INFO - [LOGGING PATCH] [extract_stroke_features_from_shapes] shape_idx=0 initial shape_vertices: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:43,901 - INFO - [LOGGING PATCH] [extract_stroke_features_from_shapes] shape_idx=0 deduped/closed shape_vertices: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,902 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=0 | stroke=line_triangle_1.000-0.500
2025-08-13 03:14:43,902 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,902 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-13 03:14:43,902 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-13 03:14:43,903 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,903 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,903 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:43,904 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,904 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,905 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-13 03:14:43,905 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,906 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:43,906 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_sharp_angles': True}
2025-08-13 03:14:43,906 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 0: {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 0.0, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'stroke_index': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'width': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}
2025-08-13 03:14:43,907 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=1 | stroke=line_normal_0.600-0.750
2025-08-13 03:14:43,907 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,907 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,907 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,908 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,908 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,908 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,909 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-13 03:14:43,909 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_1.000-0.500
2025-08-13 03:14:43,909 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,910 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,910 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-13 03:14:43,910 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-13 03:14:43,910 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:43,910 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,910 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:43,911 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,911 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,912 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-13 03:14:43,912 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,913 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:43,913 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_sharp_angles': True}
2025-08-13 03:14:43,913 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-13 03:14:43,914 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,914 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,914 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,915 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,915 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,915 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,915 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,916 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,916 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,917 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:43,917 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:43,918 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,918 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,918 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:43,919 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,919 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,920 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,920 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:43,920 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-13 03:14:43,920 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.424-0.875
2025-08-13 03:14:43,920 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,922 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,922 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:43,922 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:43,923 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,923 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,923 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,924 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,924 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,925 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:43,926 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:43,926 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,926 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,926 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:43,926 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,927 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:43,927 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,927 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:43,928 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:43,928 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.400-0.375
2025-08-13 03:14:43,928 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,929 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,929 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:43,929 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:43,930 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,930 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,930 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,930 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,932 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,932 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:43,932 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:43,933 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,933 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,933 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:43,934 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,934 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:43,934 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,935 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:43,935 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-13 03:14:43,935 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.424-0.375
2025-08-13 03:14:43,936 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,936 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,936 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:43,937 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:43,937 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,937 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,938 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,938 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,938 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,939 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:43,939 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:43,940 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,940 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,940 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:43,941 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,941 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:43,941 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,941 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:43,941 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-13 03:14:43,942 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.875
2025-08-13 03:14:43,942 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,942 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,944 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,944 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,944 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,944 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,945 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,945 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,946 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,946 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:43,946 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:43,947 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,947 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,947 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:43,948 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,948 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,948 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,949 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:43,949 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-13 03:14:43,949 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-13 03:14:43,950 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-13 03:14:43,950 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,950 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=4965.657767357483. Returning 0.0.
2025-08-13 03:14:43,951 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:43,951 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:43,952 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}}}
2025-08-13 03:14:43,952 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}}}
2025-08-13 03:14:43,952 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:43,952 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,953 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,953 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,953 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:43,953 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-13 03:14:43,954 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 1: {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'stroke_index': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-13 03:14:43,954 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=2 | stroke=line_zigzag_0.424-0.875
2025-08-13 03:14:43,954 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,954 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:43,955 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:43,955 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,955 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,955 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,956 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-13 03:14:43,956 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_1.000-0.500
2025-08-13 03:14:43,956 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,957 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,957 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-13 03:14:43,957 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-13 03:14:43,958 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:43,958 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,958 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:43,958 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:43,959 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,959 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-13 03:14:43,959 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,960 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:43,960 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_sharp_angles': True}
2025-08-13 03:14:43,960 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-13 03:14:43,962 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,962 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,962 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,962 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,962 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,963 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,963 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,963 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,964 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,965 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:43,966 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:43,966 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,967 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,967 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:43,967 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,968 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,968 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,969 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:43,969 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-13 03:14:43,970 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.424-0.875
2025-08-13 03:14:43,970 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,971 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,971 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:43,971 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:43,972 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,972 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,972 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,972 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,974 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,974 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:43,974 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:43,975 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,975 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,975 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:43,976 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,976 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:43,976 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,977 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:43,978 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:43,978 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.400-0.375
2025-08-13 03:14:43,978 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,978 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,979 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:43,979 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:43,979 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,979 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,980 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,980 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,981 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,981 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:43,982 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:43,982 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,982 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,982 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:43,984 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,984 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:43,984 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,985 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:43,985 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-13 03:14:43,985 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.424-0.375
2025-08-13 03:14:43,986 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,986 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,986 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:43,986 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:43,987 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,987 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,987 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,988 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,988 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,989 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:43,989 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:43,990 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,990 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,990 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:43,991 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,991 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:43,991 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,992 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:43,992 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-13 03:14:43,992 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.875
2025-08-13 03:14:43,993 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,993 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,993 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:43,993 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:43,993 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,993 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:43,994 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:43,994 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:43,995 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:43,995 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:43,995 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:43,996 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,996 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:43,996 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:43,997 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,997 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:43,997 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:43,998 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:43,998 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-13 03:14:43,998 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-13 03:14:43,998 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-13 03:14:43,999 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:43,999 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=4965.657767357483. Returning 0.0.
2025-08-13 03:14:44,000 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,000 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,000 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}}}
2025-08-13 03:14:44,000 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}}}
2025-08-13 03:14:44,002 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:44,002 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,002 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:44,003 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,003 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,003 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:44,004 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 2: {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'stroke_index': {'mean': 2.0, 'var': 0.0, 'min': 2.0, 'max': 2.0, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}
2025-08-13 03:14:44,004 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=3 | stroke=line_circle_0.400-0.375
2025-08-13 03:14:44,004 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,004 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:44,005 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:44,005 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,005 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,005 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,005 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-13 03:14:44,006 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_1.000-0.500
2025-08-13 03:14:44,006 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,006 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,006 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-13 03:14:44,007 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-13 03:14:44,007 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:44,007 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,008 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:44,008 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:44,009 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,009 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-13 03:14:44,009 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,010 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,010 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_sharp_angles': True}
2025-08-13 03:14:44,010 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-13 03:14:44,011 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,011 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,011 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:44,011 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:44,011 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,012 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,012 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,012 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,013 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:44,013 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,014 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,014 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,014 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,015 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:44,016 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,016 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:44,016 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,017 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,017 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-13 03:14:44,017 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.424-0.875
2025-08-13 03:14:44,017 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,018 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,018 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:44,019 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:44,019 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,019 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,019 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,019 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,020 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:44,021 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,021 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,022 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,022 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,022 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:44,022 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,023 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:44,023 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,024 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,024 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:44,024 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.400-0.375
2025-08-13 03:14:44,024 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,025 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,025 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:44,025 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:44,025 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,026 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,026 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,027 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,027 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:44,028 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,028 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,028 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,029 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,029 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:44,029 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,029 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:44,030 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,030 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,030 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-13 03:14:44,031 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.424-0.375
2025-08-13 03:14:44,031 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,031 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,031 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:44,032 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:44,032 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,032 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,033 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,033 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,033 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:44,034 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,034 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,035 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,035 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,035 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:44,036 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,036 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:44,036 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,037 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,037 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-13 03:14:44,037 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.875
2025-08-13 03:14:44,038 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,038 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,038 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:44,038 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:44,039 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,039 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,039 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,040 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,040 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:44,041 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,041 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,042 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,042 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,042 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:44,042 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,043 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:44,043 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,044 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,044 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-13 03:14:44,044 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-13 03:14:44,044 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-13 03:14:44,045 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,045 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=4965.657767357483. Returning 0.0.
2025-08-13 03:14:44,046 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,046 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,046 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}}}
2025-08-13 03:14:44,046 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}}}
2025-08-13 03:14:44,047 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:44,047 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,047 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:44,047 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,048 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,048 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-13 03:14:44,049 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 3: {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'stroke_index': {'mean': 3.0, 'var': 0.0, 'min': 3.0, 'max': 3.0, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}
2025-08-13 03:14:44,049 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=4 | stroke=line_circle_0.424-0.375
2025-08-13 03:14:44,049 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,049 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:44,049 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:44,050 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,050 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,050 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,050 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-13 03:14:44,052 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_1.000-0.500
2025-08-13 03:14:44,052 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,052 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,052 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-13 03:14:44,053 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-13 03:14:44,053 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:44,053 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,054 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:44,054 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:44,055 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,055 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-13 03:14:44,055 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,056 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,056 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_sharp_angles': True}
2025-08-13 03:14:44,056 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-13 03:14:44,056 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,057 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,057 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:44,057 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:44,057 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,058 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,058 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,058 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,059 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:44,059 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,060 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,060 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,060 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,060 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:44,061 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,061 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:44,061 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,062 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,062 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-13 03:14:44,062 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.424-0.875
2025-08-13 03:14:44,063 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,063 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,063 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:44,063 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:44,064 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,064 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,064 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,065 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,065 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:44,066 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,066 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,066 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,066 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,066 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:44,067 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,067 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:44,067 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,067 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,068 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:44,068 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.400-0.375
2025-08-13 03:14:44,068 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,068 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,069 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:44,069 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:44,069 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,070 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,070 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,070 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,071 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:44,072 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,072 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,072 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,073 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,073 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:44,073 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,074 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:44,074 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,074 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,074 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-13 03:14:44,074 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.424-0.375
2025-08-13 03:14:44,076 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,076 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,076 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:44,077 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:44,077 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,077 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,078 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,078 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,079 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:44,079 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,079 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,080 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,080 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,080 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:44,081 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,081 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:44,081 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,082 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,082 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-13 03:14:44,082 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.875
2025-08-13 03:14:44,082 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,083 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,083 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:44,083 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:44,084 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,084 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,084 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,085 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,085 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:44,085 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,085 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,086 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,086 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,086 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:44,087 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,087 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:44,087 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,088 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,088 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-13 03:14:44,088 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-13 03:14:44,088 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-13 03:14:44,089 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,089 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=4965.657767357483. Returning 0.0.
2025-08-13 03:14:44,090 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,090 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,090 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}}}
2025-08-13 03:14:44,091 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}}}
2025-08-13 03:14:44,091 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:44,091 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,092 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:44,092 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,093 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,093 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-13 03:14:44,093 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 4: {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'stroke_index': {'mean': 4.0, 'var': 0.0, 'min': 4.0, 'max': 4.0, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}
2025-08-13 03:14:44,093 - INFO - [extract_stroke_features_from_shapes] shape_idx=0 | stroke_idx=5 | stroke=line_normal_0.600-0.875
2025-08-13 03:14:44,093 - INFO - [extract_stroke_features_from_shapes] PATCH: Input stroke_vertices to _calculate_stroke_specific_features: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,095 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:44,095 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:44,095 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,095 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,095 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,096 - DEBUG - [PATCH][DIAG] actions_list type: <class 'list'>, value: [line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875]
2025-08-13 03:14:44,097 - DEBUG - [PATCH][DIAG] Processing action 0: type=<class 'bongard.bongard.LineAction'>, value=line_triangle_1.000-0.500
2025-08-13 03:14:44,097 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,097 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,097 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: triangle
2025-08-13 03:14:44,098 - INFO - [_extract_modifier_from_stroke] OUTPUT: triangle (raw_command)
2025-08-13 03:14:44,098 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:44,098 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.12, 'centroid': [720.1909011733061, 359.89720422020974], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 7, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,099 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:44,099 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:44,099 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,100 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-13 03:14:44,100 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,101 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,101 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_sharp_angles': True}
2025-08-13 03:14:44,101 - DEBUG - [PATCH][DIAG] Processing action 1: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.750
2025-08-13 03:14:44,101 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,102 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,102 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:44,102 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:44,103 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=1, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,103 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,103 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=1, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,104 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,104 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:44,105 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,105 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,105 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,105 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,106 - INFO - [compute_feature_statistics] INPUT: label=stroke_1, num_features=1
2025-08-13 03:14:44,106 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_1: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,106 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:44,107 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,107 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,108 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-13 03:14:44,108 - DEBUG - [PATCH][DIAG] Processing action 2: type=<class 'bongard.bongard.LineAction'>, value=line_zigzag_0.424-0.875
2025-08-13 03:14:44,108 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,108 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,109 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: zigzag
2025-08-13 03:14:44,109 - INFO - [_extract_modifier_from_stroke] OUTPUT: zigzag (raw_command)
2025-08-13 03:14:44,109 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=2, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,110 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,110 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=2, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,110 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,111 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:44,111 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,112 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,112 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,112 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,112 - INFO - [compute_feature_statistics] INPUT: label=stroke_2, num_features=1
2025-08-13 03:14:44,113 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_2: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,113 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:44,114 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,114 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,114 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:44,115 - DEBUG - [PATCH][DIAG] Processing action 3: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.400-0.375
2025-08-13 03:14:44,115 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,115 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,116 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:44,116 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:44,116 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=3, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,116 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,116 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=3, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,118 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,118 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:44,119 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,119 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,120 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,120 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,120 - INFO - [compute_feature_statistics] INPUT: label=stroke_3, num_features=1
2025-08-13 03:14:44,121 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_3: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,121 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:44,121 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,122 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,122 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-13 03:14:44,123 - DEBUG - [PATCH][DIAG] Processing action 4: type=<class 'bongard.bongard.LineAction'>, value=line_circle_0.424-0.375
2025-08-13 03:14:44,123 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,123 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,124 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: circle
2025-08-13 03:14:44,124 - INFO - [_extract_modifier_from_stroke] OUTPUT: circle (raw_command)
2025-08-13 03:14:44,124 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=4, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,124 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,124 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=4, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,125 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,125 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:44,126 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,126 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,126 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,126 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,128 - INFO - [compute_feature_statistics] INPUT: label=stroke_4, num_features=1
2025-08-13 03:14:44,128 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_4: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,129 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:44,129 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,130 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,130 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'has_curved_edges': True}
2025-08-13 03:14:44,130 - DEBUG - [PATCH][DIAG] Processing action 5: type=<class 'bongard.bongard.LineAction'>, value=line_normal_0.600-0.875
2025-08-13 03:14:44,131 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,131 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,131 - DEBUG - [_extract_modifier_from_stroke] Extracted modifier from raw_command: normal
2025-08-13 03:14:44,132 - INFO - [_extract_modifier_from_stroke] OUTPUT: normal (raw_command)
2025-08-13 03:14:44,132 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=5, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=<bongard.bongard.BongardImage object at 0x00000203B103E510>, parent_shape_vertices=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,132 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], geometry={'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [720.1129355584611, 359.85822832264563], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,133 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=5, verts=[(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)]
2025-08-13 03:14:44,133 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,134 - INFO - [SoS] Removed duplicate vertex: [0. 0.]
2025-08-13 03:14:44,134 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,135 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,135 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,135 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,136 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:44,136 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,136 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:44,137 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,137 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,137 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-13 03:14:44,137 - INFO - [collect_stroke_features] Collected 6 valid stroke features
2025-08-13 03:14:44,138 - INFO - [compute_feature_statistics] INPUT: label=shape_None, num_features=6
2025-08-13 03:14:44,138 - INFO - [compute_feature_statistics] OUTPUT for label=shape_None: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,138 - WARNING - [_calculate_compactness] Degenerate input: area=0.0, perimeter=4965.657767357483. Returning 0.0.
2025-08-13 03:14:44,139 - INFO - Convexity: poly_area=808626.4892, hull_area=1243927.6845, ratio=0.6501
2025-08-13 03:14:44,140 - INFO - [robust_angular_variance] Computed angular variance: 0.308425 for 8 vertices.
2025-08-13 03:14:44,140 - DEBUG - [PATCH] support_set_context: {'valid': True, 'reason': 'computed_from_strokes', 'stats': {'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}}}
2025-08-13 03:14:44,140 - DEBUG - [PATCH] discriminative_features: {'valid': False, 'reason': 'missing_negative_set', 'stats': {'perimeter': {'mean': 4138.048139464569, 'var': 3424688.480905237, 'min': 0.0, 'max': 4965.657767357483, 'count': 6}, 'geom_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}, 'stroke_index': {'mean': 2.5, 'var': 2.9166666666666665, 'min': 0.0, 'max': 5.0, 'count': 6}, 'width': {'mean': 1200.0, 'var': 288000.0, 'min': 0.0, 'max': 1440.0, 'count': 6}, 'area': {'mean': 673855.4076684084, 'var': 90816222088.7914, 'min': 0.0, 'max': 808626.4892020901, 'count': 6}, 'height': {'mean': 720.0000000000001, 'var': 103680.00000000004, 'min': 0.0, 'max': 864.0000000000002, 'count': 6}, 'visual_complexity': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 6}}}
2025-08-13 03:14:44,140 - INFO - [compute_feature_statistics] INPUT: label=stroke_5, num_features=1
2025-08-13 03:14:44,141 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_5: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,141 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:44,141 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,142 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114}
2025-08-13 03:14:44,142 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 0.39177850258902114, 'is_simple': True}
2025-08-13 03:14:44,143 - INFO - [extract_stroke_features_from_shapes] PATCH: Output features for shape 0, stroke 5: {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': True, 'reason': 'individual_stroke', 'stats': {'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'discriminative_features': {'valid': True, 'reason': 'single_stroke', 'stats': {'perimeter': {'mean': 4965.657767357483, 'var': 0.0, 'min': 4965.657767357483, 'max': 4965.657767357483, 'count': 1}, 'geom_complexity': {'mean': 0.4, 'var': 0.0, 'min': 0.4, 'max': 0.4, 'count': 1}, 'stroke_index': {'mean': 5.0, 'var': 0.0, 'min': 5.0, 'max': 5.0, 'count': 1}, 'width': {'mean': 1440.0, 'var': 0.0, 'min': 1440.0, 'max': 1440.0, 'count': 1}, 'area': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 1}, 'height': {'mean': 864.0000000000002, 'var': 0.0, 'min': 864.0000000000002, 'max': 864.0000000000002, 'count': 1}, 'visual_complexity': {'mean': 1.0, 'var': 0.0, 'min': 1.0, 'max': 1.0, 'count': 1}}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}
2025-08-13 03:14:44,143 - INFO - [compute_feature_statistics] INPUT: label=negative_hd_has_six_straight_lines-exist_quadrangle_0018, num_features=6
2025-08-13 03:14:44,144 - INFO - [compute_feature_statistics] OUTPUT for label=negative_hd_has_six_straight_lines-exist_quadrangle_0018: valid=True, stat_keys=['line_angle', 'geom_complexity', 'robust_curvature', 'degenerate_case', 'convexity_ratio', 'line_is_short', 'line_is_horizontal', 'stroke_length', 'has_repetitive_pattern', 'line_length', 'line_curvature_score', 'has_sharp_angles', 'visual_complexity', 'has_curved_edges', 'robust_angular_variance', 'stroke_index', 'is_geometric', 'is_simple', 'open_stroke_perimeter', 'is_normal', 'is_pattern', 'compactness', 'arc_curvature_score', 'line_is_vertical', 'num_vertices', 'geometric_complexity', 'avg_stroke_length', 'line_is_long']
2025-08-13 03:14:44,145 - INFO - [extract_stroke_features_from_shapes] INFO: Number of strokes (6) and shapes (1) for problem_id=hd_has_six_straight_lines-exist_quadrangle_0018 -- grouping is correct, no mismatch.
2025-08-13 03:14:44,145 - INFO - [_calculate_stroke_type_differentiated_features] INPUT: stroke_type_features keys=['line_features', 'arc_features'], strokes count=6
2025-08-13 03:14:44,145 - DEBUG - [_calculate_stroke_type_differentiated_features] INPUTS: stroke_type_features keys: ['line_features', 'arc_features'], strokes count: 6
2025-08-13 03:14:44,145 - INFO - [_calculate_stroke_type_differentiated_features] OUTPUT: {'stroke_composition': {'num_lines': 6, 'num_arcs': 0, 'line_ratio': 1.0, 'arc_ratio': 0.0, 'stroke_diversity': 0}, 'line_aggregate': {'total_line_length': 29793.408836787414, 'avg_line_length': 4965.568139464569, 'line_length_variance': 0.04016579594087719, 'line_angle_variance': 0.0, 'has_short_lines': False, 'has_long_lines': True, 'dominant_direction': 'horizontal'}}
2025-08-13 03:14:44,146 - DEBUG - [OUTPUT PATCH][action_program] Sublist joined: line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875
2025-08-13 03:14:44,146 - DEBUG - [OUTPUT PATCH][action_program] Final action_program before serialization: [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-13 03:14:44,146 - DEBUG - [PATCH][robust_stringify_list] Before: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-13 03:14:44,147 - DEBUG - [PATCH][robust_stringify_list] After: types=[<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], values=['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-13 03:14:44,147 - DEBUG - [PATCH][process_single_image] Final safe_action_program before serialization: [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-13 03:14:44,147 - DEBUG - [PATCH][process_single_image] Final safe_stroke_features before serialization: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_triangle_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.600-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.424-0.875', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_circle_0.400-0.375', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_circle_0.424-0.375', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.600-0.875', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}]
2025-08-13 03:14:44,147 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-13 03:14:44,149 - DEBUG - [json_safe] Converting custom object to string: NoneType
2025-08-13 03:14:44,149 - DEBUG - [OUTPUT PATCH] Types in stroke_features: [<class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>, <class 'dict'>]
2025-08-13 03:14:44,149 - DEBUG - [OUTPUT PATCH] Types in action_program: [<class 'list'>]
2025-08-13 03:14:44,149 - DEBUG - [FINAL GUARD] posrot_labels={'centroid': [0.4287314783802033, 0.428660345131859], 'orientation_degrees': -140.24012369530126}, geometry={'area': 0.6499377002974616, 'perimeter': 4.565837973061732, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-13 03:14:44,150 - DEBUG - [PATCH][actions field] Types: [<class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>, <class 'str'>], Values: ['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']
2025-08-13 03:14:44,150 - DEBUG - [PATCH][actions field] Joined: line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875
2025-08-13 03:14:44,150 - INFO - [PATCH INIT] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_triangle_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.600-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.424-0.875', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_circle_0.400-0.375', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_circle_0.424-0.375', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.600-0.875', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}]
2025-08-13 03:14:44,151 - INFO - [PATCH INIT] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:44,151 - INFO - [PATCH INIT] safe_vertices type: <class 'list'>, value: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-13 03:14:44,151 - INFO - [PATCH INIT] safe_action_program type: <class 'list'>, value: [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-13 03:14:44,152 - INFO - [PATCH INIT] safe_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:44,152 - INFO - [PATCH INIT] safe_context_relational_features type: <class 'dict'>, value: {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:44,152 - INFO - [PATCH INIT] safe_sequential_features type: <class 'dict'>, value: {'normal|normal': 5}
2025-08-13 03:14:44,152 - INFO - [PATCH INIT] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-13 03:14:44,153 - INFO - [PATCH FINAL] Mapping output record fields...
2025-08-13 03:14:44,153 - INFO - [PATCH FINAL] image_features (raw): {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5001867247769038, 0.34621095314831435], 'width': 1.0, 'height': 1.0, 'area_raw': 0.6499377002974616, 'area_normalized': 0.6500590824346036, 'perimeter_raw': 4.565837973061732, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.6500590824346036, 'is_convex': False, 'compactness': 0.39177850258902114, 'polsby_popper_compactness': 0.39177850258902114, 'eccentricity': 0.29624350248824083, 'symmetry_score': 0.6163116094963651, 'horizontal_symmetry': 0.7584032750784852, 'vertical_symmetry': 0.8284113787626539, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 7.0, 'visual_complexity': 0.5374328089489586, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'moment_of_inertia': 0.2610921766579035, 'irregularity_score': 0.24489795918370555, 'standardized_complexity': 0.4854288411970937, 'clustering_heights': [0.14551678034109544, 0.1757718298116586, 0.20499830417367532, 3.4127616658865207, 6.056415055475741], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-13 03:14:44,153 - INFO - [PATCH FINAL] relational_features (raw): {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}
2025-08-13 03:14:44,153 - INFO - [PATCH FINAL] image_canonical_summary (raw): {}
2025-08-13 03:14:44,154 - INFO - [PATCH FINAL] support_set_context (raw): {}
2025-08-13 03:14:44,154 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_triangle_1.000-0.500, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:44,154 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_triangle_1.000-0.500, stroke_index=0
2025-08-13 03:14:44,155 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=triangle, param1=1.0, param2=None, param3=0.5
2025-08-13 03:14:44,155 - INFO - [LOGGING PATCH] [_vertices_from_command] Triangle vertices: [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)]
2025-08-13 03:14:44,155 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], geometry={'width': 1.5000000000000004, 'height': 1.7320508075688772, 'area': 0.0, 'perimeter': 5.196152422706632, 'centroid': [0.4999999999999999, 0.5000000000000001], 'bounds': [-4.440892098500626e-16, -0.3660254037844385, 1.5, 1.3660254037844388], 'num_vertices': 4, 'analytic_vertices': [(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)], 'open_stroke_perimeter': 5.196152422706632, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,155 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(1.5, 0.5), (2.220446049250313e-16, 1.3660254037844388), (-4.440892098500626e-16, -0.3660254037844385), (1.5, 0.5)]
2025-08-13 03:14:44,156 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,156 - INFO - [SoS] Removed duplicate vertex: [1.5 0.5]
2025-08-13 03:14:44,157 - INFO - Convexity: poly_area=1.2990, hull_area=1.2990, ratio=1.0000
2025-08-13 03:14:44,157 - INFO - [robust_angular_variance] Computed angular variance: 0.068539 for 4 vertices.
2025-08-13 03:14:44,157 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,158 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,158 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:44,158 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,158 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=triangle
2025-08-13 03:14:44,159 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,160 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633}
2025-08-13 03:14:44,161 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.08, 'num_vertices': 4, 'convexity_ratio': 1e-06, 'compactness': 0.5999908074321633, 'has_sharp_angles': True}
2025-08-13 03:14:44,161 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.600-0.750, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:44,161 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.600-0.750, stroke_index=0
2025-08-13 03:14:44,161 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.6, param2=None, param3=0.75
2025-08-13 03:14:44,162 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)]
2025-08-13 03:14:44,162 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], geometry={'width': 1.1102230246251565e-16, 'height': 0.6, 'area': 0.0, 'perimeter': 0.6, 'centroid': [0.5, 0.20000000000000004], 'bounds': [0.4999999999999999, -0.09999999999999998, 0.5, 0.5], 'num_vertices': 12, 'analytic_vertices': [(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)], 'open_stroke_perimeter': 0.6, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,162 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5, 0.44545454545454544), (0.5, 0.39090909090909093), (0.49999999999999994, 0.33636363636363636), (0.49999999999999994, 0.28181818181818186), (0.49999999999999994, 0.2272727272727273), (0.49999999999999994, 0.17272727272727273), (0.49999999999999994, 0.11818181818181822), (0.49999999999999994, 0.06363636363636366), (0.4999999999999999, 0.009090909090909094), (0.4999999999999999, -0.045454545454545414), (0.4999999999999999, -0.09999999999999998)]
2025-08-13 03:14:44,163 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,163 - INFO - [SoS] Perturbed collinear vertex 1: [0.5        0.44545455] -> [0.49999922 0.44545429]
2025-08-13 03:14:44,164 - INFO - [SoS] Perturbed collinear vertex 2: [0.5        0.39090909] -> [0.49999953 0.39090925]
2025-08-13 03:14:44,164 - INFO - [SoS] Perturbed collinear vertex 3: [0.5        0.33636364] -> [0.50000005 0.33636332]
2025-08-13 03:14:44,164 - INFO - [SoS] Perturbed collinear vertex 4: [0.5        0.28181818] -> [0.49999999 0.28181812]
2025-08-13 03:14:44,165 - INFO - [SoS] Perturbed collinear vertex 5: [0.5        0.22727273] -> [0.50000005 0.22727196]
2025-08-13 03:14:44,165 - INFO - [SoS] Perturbed collinear vertex 6: [0.5        0.17272727] -> [0.5000009  0.17272777]
2025-08-13 03:14:44,165 - INFO - [SoS] Perturbed collinear vertex 7: [0.5        0.11818182] -> [0.49999956 0.11818174]
2025-08-13 03:14:44,166 - INFO - [SoS] Perturbed collinear vertex 8: [0.5        0.06363636] -> [0.4999996 0.0636372]
2025-08-13 03:14:44,166 - INFO - [SoS] Perturbed collinear vertex 9: [0.5        0.00909091] -> [0.49999949 0.00909174]
2025-08-13 03:14:44,167 - INFO - [SoS] Perturbed collinear vertex 10: [ 0.5        -0.04545455] -> [ 0.50000079 -0.04545452]
2025-08-13 03:14:44,168 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:44,169 - INFO - [robust_angular_variance] Computed angular variance: 1.370778 for 12 vertices.
2025-08-13 03:14:44,170 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,170 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,170 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:44,171 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,171 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:44,171 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,173 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.4870644538648868}
2025-08-13 03:14:44,173 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 0.4870644538648868, 'is_simple': True}
2025-08-13 03:14:44,173 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_zigzag_0.424-0.875, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:44,173 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_zigzag_0.424-0.875, stroke_index=0
2025-08-13 03:14:44,174 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=zigzag, param1=0.424, param2=None, param3=0.875
2025-08-13 03:14:44,174 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)]
2025-08-13 03:14:44,175 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], geometry={'width': 0.2998132752230961, 'height': 0.2998132752230962, 'area': 0.0, 'perimeter': 0.424, 'centroid': [0.6499066376115481, 0.3500933623884519], 'bounds': [0.5, 0.2001867247769038, 0.7998132752230961, 0.5], 'num_vertices': 8, 'analytic_vertices': [(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)], 'open_stroke_perimeter': 0.424, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,175 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5428304678890137, 0.45716953211098627), (0.5856609357780275, 0.41433906422197253), (0.6284914036670411, 0.37150859633295874), (0.6713218715560549, 0.32867812844394506), (0.7141523394450686, 0.28584766055493127), (0.7569828073340823, 0.24301719266591754), (0.7998132752230961, 0.2001867247769038)]
2025-08-13 03:14:44,175 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,175 - INFO - [SoS] Perturbed collinear vertex 1: [0.54283047 0.45716953] -> [0.54283119 0.45716861]
2025-08-13 03:14:44,176 - INFO - [SoS] Perturbed collinear vertex 2: [0.58566094 0.41433906] -> [0.58566072 0.41433904]
2025-08-13 03:14:44,176 - INFO - [SoS] Perturbed collinear vertex 3: [0.6284914 0.3715086] -> [0.62849125 0.37150907]
2025-08-13 03:14:44,177 - INFO - [SoS] Perturbed collinear vertex 4: [0.67132187 0.32867813] -> [0.67132183 0.32867801]
2025-08-13 03:14:44,177 - INFO - [SoS] Perturbed collinear vertex 5: [0.71415234 0.28584766] -> [0.71415322 0.28584768]
2025-08-13 03:14:44,177 - INFO - [SoS] Perturbed collinear vertex 6: [0.75698281 0.24301719] -> [0.75698306 0.24301708]
2025-08-13 03:14:44,178 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:44,180 - INFO - [robust_angular_variance] Computed angular variance: 1.850551 for 8 vertices.
2025-08-13 03:14:44,180 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,180 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,181 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:44,181 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,181 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=zigzag
2025-08-13 03:14:44,182 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,183 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-13 03:14:44,183 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'pattern_complexity': 'high', 'has_repetitive_pattern': True}
2025-08-13 03:14:44,184 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_circle_0.400-0.375, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:44,184 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_circle_0.400-0.375, stroke_index=0
2025-08-13 03:14:44,184 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.4, param2=None, param3=0.375
2025-08-13 03:14:44,185 - INFO - [LOGGING PATCH] [_vertices_from_command] Circle vertices: [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)]
2025-08-13 03:14:44,185 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], geometry={'width': 0.8, 'height': 0.8, 'area': 0.0, 'perimeter': 2.3778038686115095, 'centroid': [0.47946256298636675, 0.5032528104671047], 'bounds': [0.09999999999999998, 0.09999999999999998, 0.9, 0.9], 'num_vertices': 20, 'analytic_vertices': [(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)], 'open_stroke_perimeter': 2.3778038686115095, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,185 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.9, 0.5), (0.8804226065180614, 0.623606797749979), (0.823606797749979, 0.7351141009169893), (0.7351141009169893, 0.823606797749979), (0.623606797749979, 0.8804226065180614), (0.5, 0.9), (0.37639320225002104, 0.8804226065180615), (0.26488589908301075, 0.823606797749979), (0.17639320225002103, 0.7351141009169893), (0.11957739348193858, 0.6236067977499791), (0.09999999999999998, 0.5), (0.11957739348193847, 0.37639320225002126), (0.17639320225002098, 0.26488589908301075), (0.2648858990830107, 0.17639320225002103), (0.376393202250021, 0.11957739348193858), (0.49999999999999994, 0.09999999999999998), (0.6236067977499788, 0.11957739348193852), (0.7351141009169891, 0.17639320225002098), (0.823606797749979, 0.26488589908301063), (0.8804226065180614, 0.37639320225002093)]
2025-08-13 03:14:44,186 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:44,186 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,186 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:44,187 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,188 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547274}
2025-08-13 03:14:44,189 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547274, 'has_curved_edges': True}
2025-08-13 03:14:44,189 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_circle_0.424-0.375, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:44,189 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_circle_0.424-0.375, stroke_index=0
2025-08-13 03:14:44,189 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=circle, param1=0.424, param2=None, param3=0.375
2025-08-13 03:14:44,189 - INFO - [LOGGING PATCH] [_vertices_from_command] Circle vertices: [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)]
2025-08-13 03:14:44,191 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], geometry={'width': 0.8479999999999999, 'height': 0.8479999999999999, 'area': 0.0, 'perimeter': 2.5204721007282003, 'centroid': [0.4782303167655487, 0.5034479790951307], 'bounds': [0.07600000000000001, 0.07600000000000001, 0.9239999999999999, 0.9239999999999999], 'num_vertices': 20, 'analytic_vertices': [(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)], 'open_stroke_perimeter': 2.5204721007282003, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,191 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.9239999999999999, 0.5), (0.9032479629091451, 0.6310232056149777), (0.8430232056149778, 0.7492209469720086), (0.7492209469720086, 0.8430232056149778), (0.6310232056149777, 0.9032479629091451), (0.5, 0.9239999999999999), (0.36897679438502234, 0.9032479629091451), (0.2507790530279914, 0.8430232056149778), (0.15697679438502232, 0.7492209469720086), (0.09675203709085489, 0.6310232056149777), (0.07600000000000001, 0.5), (0.09675203709085484, 0.3689767943850225), (0.15697679438502227, 0.2507790530279914), (0.25077905302799136, 0.15697679438502232), (0.36897679438502223, 0.09675203709085489), (0.49999999999999994, 0.07600000000000001), (0.6310232056149776, 0.09675203709085489), (0.7492209469720085, 0.15697679438502227), (0.8430232056149777, 0.2507790530279913), (0.9032479629091451, 0.3689767943850222)]
2025-08-13 03:14:44,191 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:44,192 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,192 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=circle
2025-08-13 03:14:44,192 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,194 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275}
2025-08-13 03:14:44,194 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.4, 'num_vertices': 20, 'convexity_ratio': 1e-06, 'compactness': 0.9917617687547275, 'has_curved_edges': True}
2025-08-13 03:14:44,195 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] INPUT: stroke_index=0, stroke=line_normal_0.600-0.875, all_vertices=None, bongard_image=[line_triangle_1.000-0.500, line_normal_0.600-0.750, line_zigzag_0.424-0.875, line_circle_0.400-0.375, line_circle_0.424-0.375, line_normal_0.600-0.875], None, None, None, parent_shape_vertices=None
2025-08-13 03:14:44,195 - INFO - [LOGGING PATCH] [_vertices_from_command] INPUT: command=line_normal_0.600-0.875, stroke_index=0
2025-08-13 03:14:44,195 - INFO - [_vertices_from_command] Parsed: action_type=line, modifier=normal, param1=0.6, param2=None, param3=0.875
2025-08-13 03:14:44,196 - INFO - [LOGGING PATCH] [_vertices_from_command] OUTPUT: vertices=[(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)]
2025-08-13 03:14:44,196 - INFO - [LOGGING PATCH] [_extract_stroke_vertices] OUTPUT: stroke_index=0, verts=[(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], geometry={'width': 0.42426406871192834, 'height': 0.4242640687119286, 'area': 0.0, 'perimeter': 0.6, 'centroid': [0.712132034355964, 0.28786796564403566], 'bounds': [0.5, 0.07573593128807138, 0.9242640687119283, 0.5], 'num_vertices': 12, 'analytic_vertices': [(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)], 'open_stroke_perimeter': 0.6, 'compactness': 0.0, 'convexity_ratio': 0.0}
2025-08-13 03:14:44,196 - INFO - [LOGGING PATCH] [_calculate_stroke_specific_features] stroke_index=0, verts=[(0.5, 0.5), (0.5385694607919935, 0.4614305392080065), (0.5771389215839869, 0.42286107841601295), (0.6157083823759805, 0.3842916176240195), (0.6542778431679739, 0.34572215683202595), (0.6928473039599674, 0.3071526960400324), (0.7314167647519609, 0.26858323524803895), (0.7699862255439545, 0.23001377445604543), (0.8085556863359479, 0.1914443136640519), (0.8471251471279413, 0.15287485287205838), (0.8856946079199348, 0.11430539208006485), (0.9242640687119283, 0.07573593128807138)]
2025-08-13 03:14:44,197 - DEBUG - [PATCH][DIAG] actions_list type: <class 'NoneType'>, value: None
2025-08-13 03:14:44,198 - INFO - [SoS] Perturbed collinear vertex 1: [0.53856946 0.46143054] -> [0.53856979 0.46142975]
2025-08-13 03:14:44,198 - INFO - [SoS] Perturbed collinear vertex 2: [0.57713892 0.42286108] -> [0.57713851 0.42286107]
2025-08-13 03:14:44,198 - INFO - [SoS] Perturbed collinear vertex 3: [0.61570838 0.38429162] -> [0.61570741 0.38429229]
2025-08-13 03:14:44,199 - INFO - [SoS] Perturbed collinear vertex 4: [0.65427784 0.34572216] -> [0.65427831 0.34572312]
2025-08-13 03:14:44,199 - INFO - [SoS] Perturbed collinear vertex 5: [0.6928473 0.3071527] -> [0.69284726 0.30715176]
2025-08-13 03:14:44,200 - INFO - [SoS] Perturbed collinear vertex 6: [0.73141676 0.26858324] -> [0.73141667 0.26858328]
2025-08-13 03:14:44,200 - INFO - [SoS] Perturbed collinear vertex 7: [0.76998623 0.23001377] -> [0.7699863  0.23001334]
2025-08-13 03:14:44,201 - INFO - [SoS] Perturbed collinear vertex 8: [0.80855569 0.19144431] -> [0.80855502 0.19144343]
2025-08-13 03:14:44,201 - INFO - [SoS] Perturbed collinear vertex 9: [0.84712515 0.15287485] -> [0.84712556 0.15287408]
2025-08-13 03:14:44,201 - INFO - [SoS] Perturbed collinear vertex 10: [0.88569461 0.11430539] -> [0.88569431 0.11430516]
2025-08-13 03:14:44,203 - INFO - Convexity: hull_area=0.0000, poly_area=0.0000, returning 0.0 (degenerate or fallback)
2025-08-13 03:14:44,203 - INFO - [robust_angular_variance] Computed angular variance: 1.370778 for 12 vertices.
2025-08-13 03:14:44,203 - DEBUG - [PATCH] support_set_context: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,204 - DEBUG - [PATCH] discriminative_features: {'valid': True, 'stats': {}}
2025-08-13 03:14:44,204 - INFO - [compute_feature_statistics] INPUT: label=stroke_0, num_features=1
2025-08-13 03:14:44,205 - INFO - [compute_feature_statistics] OUTPUT for label=stroke_0: valid=True, stat_keys=['perimeter', 'geom_complexity', 'stroke_index', 'width', 'area', 'height', 'visual_complexity']
2025-08-13 03:14:44,205 - INFO - [_calculate_shape_modifier_features_from_val] INPUT: modifier=normal
2025-08-13 03:14:44,205 - INFO - [QualityMonitor] normalize_vertices: {'degenerate': False, 'quality': 1.0}
2025-08-13 03:14:44,207 - INFO - [_calculate_shape_modifier_features_from_val] Calculated geometry-based features: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06}
2025-08-13 03:14:44,207 - INFO - [_calculate_shape_modifier_features_from_val] OUTPUT: {'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.24, 'num_vertices': 12, 'convexity_ratio': 1e-06, 'compactness': 1e-06, 'is_simple': True}
2025-08-13 03:14:44,208 - DEBUG - [_extract_ngram_features] INPUTS: sequence=['triangle', 'normal', 'zigzag', 'circle', 'circle', 'normal'], n=2
2025-08-13 03:14:44,208 - DEBUG - [ensure_str_list] Converting list: ['triangle', 'normal', 'zigzag', 'circle', 'circle', 'normal']
2025-08-13 03:14:44,208 - DEBUG - [ensure_str_list] Returning string: triangle
2025-08-13 03:14:44,208 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:44,208 - DEBUG - [ensure_str_list] Returning string: zigzag
2025-08-13 03:14:44,209 - DEBUG - [ensure_str_list] Returning string: circle
2025-08-13 03:14:44,209 - DEBUG - [ensure_str_list] Returning string: circle
2025-08-13 03:14:44,209 - DEBUG - [ensure_str_list] Returning string: normal
2025-08-13 03:14:44,209 - DEBUG - [ensure_str_list] Result: ['triangle', 'normal', 'zigzag', 'circle', 'circle', 'normal']
2025-08-13 03:14:44,209 - DEBUG - [_extract_ngram_features] Sequence after stringification: ['triangle', 'normal', 'zigzag', 'circle', 'circle', 'normal']
2025-08-13 03:14:44,210 - DEBUG - [_extract_ngram_features] OUTPUT: {'triangle|normal': 1, 'normal|zigzag': 1, 'zigzag|circle': 1, 'circle|circle': 1, 'circle|normal': 1}
2025-08-13 03:14:44,210 - DEBUG - [_extract_ngram_features] Output is JSON serializable.
2025-08-13 03:14:44,211 - INFO - [PATCH FINAL] Output record: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_6', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/6.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_triangle_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.600-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.424-0.875', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_circle_0.400-0.375', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_circle_0.424-0.375', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.600-0.875', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 6, 'raw_vertices': ['(0.0, 0.0)', '(1440.0, 0.0)', '(1440.0, 864.0)', '(1008.2688836787415, 432.26888367874164)', '(432.26888367874153, 432.2688836787417)', '(0.5377673574831761, 864.0000000000002)', '(0.5377673574830173, 2.2737367544323206e-13)'], 'vertices': ['(0.0, 0.0)', '(1.0, 0.0)', '(1.0, 0.9999999999999998)', '(0.7001867247769038, 0.5003112079615064)', '(0.30018672477690383, 0.5003112079615065)', '(0.00037344955380776113, 1.0)', '(0.0003734495538076509, 2.6316397620744445e-16)'], 'num_vertices': 7, 'position_label': ['0.4287314783802033', '0.428660345131859'], 'rotation_label_degrees': ['-140.24012369530126'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5001867247769038, 0.34621095314831435], 'width': 1.0, 'height': 1.0, 'area_raw': 0.6499377002974616, 'area_normalized': 0.6500590824346036, 'perimeter_raw': 4.565837973061732, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.6500590824346036, 'is_convex': False, 'compactness': 0.39177850258902114, 'polsby_popper_compactness': 0.39177850258902114, 'eccentricity': 0.29624350248824083, 'symmetry_score': 0.6163116094963651, 'horizontal_symmetry': 0.7584032750784852, 'vertical_symmetry': 0.8284113787626539, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 7.0, 'visual_complexity': 0.5374328089489586, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'moment_of_inertia': 0.2610921766579035, 'irregularity_score': 0.24489795918370555, 'standardized_complexity': 0.4854288411970937, 'clustering_heights': [0.14551678034109544, 0.1757718298116586, 0.20499830417367532, 3.4127616658865207, 6.056415055475741], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 0.3915006541246507, 'perimeter_mean': 1.894800326670591, 'width_mean': 0.5605430207382531, 'height_mean': 0.6331955203504848, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.2610921766579035, 'center_of_mass': [0.5001867247769038, 0.34621095314831435], 'polsby_popper_compactness': 0.39177850258902114, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'edge_length_variance': 0.12300410253967249}, 'composition_features': {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 10, 'homogeneity_score': 0.2777777777777778, 'pattern_regularity': 0.6666666666666666}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 6}}, 'processing_metadata': {'processing_timestamp': 1755035084.2108755, 'feature_count': 54}, 'actions': ['line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875'], 'action_program': ['line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875'], 'geometry': {'area': 0.6499377002974616, 'perimeter': 4.565837973061732, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 5}, 'analytic_attributes': ['triangle', 'normal', 'zigzag', 'circle', 'circle', 'normal'], 'analytic_ngram': {'triangle|normal': 1, 'normal|zigzag': 1, 'zigzag|circle': 1, 'circle|circle': 1, 'circle|normal': 1}, 'alternation': 0.16666666666666666, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 6}}}, 'topological_features': {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 0, 1: 4, 2: 2, 3: 2, 4: 2, 5: 2}, 'adjacency_clustering': {0: 0, 1: 0.3333333333333333, 2: 1.0, 3: 1.0, 4: 1.0, 5: 1.0}, 'intersection_count': 6, 'betweenness_centrality': {0: 0.0, 1: 0.4, 2: 0.0, 3: 0.0, 4: 0.0, 5: 0.0}, 'containment_score': 4, 'overlap_heatmap': [0.0, 0.0, 0.4944271909999159, 0.5555383918075055, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.4944271909999159, 0.0, 0.0, 0.4944271909999159, 0.0, 0.5555383918075055, 0.0, 0.0, 0.4944271909999159, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 4607.462399999984, 'skeleton_graph_features': {'num_nodes': 6, 'num_edges': 6}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.6064876770353205, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.5538634660062625, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.46798578001622815, 'complexity': 3, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.2156977703837358, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.06747703986525634, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}}
2025-08-13 03:14:44,212 - DEBUG - [GRANULAR LOG] posrot_labels type: <class 'dict'>, value: {'centroid': [0.4287314783802033, 0.428660345131859], 'orientation_degrees': -140.24012369530126}
2025-08-13 03:14:44,212 - DEBUG - [GRANULAR LOG] geometry type: <class 'dict'>, value: {'area': 0.6499377002974616, 'perimeter': 4.565837973061732, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}
2025-08-13 03:14:44,212 - DEBUG - [GRANULAR LOG] safe_stroke_features type: <class 'list'>, value: [{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_triangle_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.600-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.424-0.875', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_circle_0.400-0.375', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_circle_0.424-0.375', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}, {'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.600-0.875', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}]
2025-08-13 03:14:44,213 - DEBUG - [GRANULAR LOG] safe_action_program type: <class 'list'>, value: [['line_triangle_1.000-0.500', 'line_normal_0.600-0.750', 'line_zigzag_0.424-0.875', 'line_circle_0.400-0.375', 'line_circle_0.424-0.375', 'line_normal_0.600-0.875']]
2025-08-13 03:14:44,213 - DEBUG - [GRANULAR LOG] safe_vertices_raw type: <class 'list'>, value: [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)]
2025-08-13 03:14:44,213 - DEBUG - [GRANULAR LOG] safe_vertices type: <class 'list'>, value: [(0.0, 0.0), (1.0, 0.0), (1.0, 0.9999999999999998), (0.7001867247769038, 0.5003112079615064), (0.30018672477690383, 0.5003112079615065), (0.00037344955380776113, 1.0), (0.0003734495538076509, 2.6316397620744445e-16)]
2025-08-13 03:14:44,213 - DEBUG - [GRANULAR LOG] image_features type: <class 'dict'>, value: {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5001867247769038, 0.34621095314831435], 'width': 1.0, 'height': 1.0, 'area_raw': 0.6499377002974616, 'area_normalized': 0.6500590824346036, 'perimeter_raw': 4.565837973061732, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.6500590824346036, 'is_convex': False, 'compactness': 0.39177850258902114, 'polsby_popper_compactness': 0.39177850258902114, 'eccentricity': 0.29624350248824083, 'symmetry_score': 0.6163116094963651, 'horizontal_symmetry': 0.7584032750784852, 'vertical_symmetry': 0.8284113787626539, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 7.0, 'visual_complexity': 0.5374328089489586, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'moment_of_inertia': 0.2610921766579035, 'irregularity_score': 0.24489795918370555, 'standardized_complexity': 0.4854288411970937, 'clustering_heights': [0.14551678034109544, 0.1757718298116586, 0.20499830417367532, 3.4127616658865207, 6.056415055475741], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}
2025-08-13 03:14:44,214 - DEBUG - [GRANULAR LOG] physics_features type: <class 'dict'>, value: {'moment_of_inertia': 0.2610921766579035, 'center_of_mass': [0.5001867247769038, 0.34621095314831435], 'polsby_popper_compactness': 0.39177850258902114, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'edge_length_variance': 0.12300410253967249}
2025-08-13 03:14:44,214 - DEBUG - [GRANULAR LOG] composition_features type: <class 'dict'>, value: {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 10, 'homogeneity_score': 0.2777777777777778, 'pattern_regularity': 0.6666666666666666}
2025-08-13 03:14:44,215 - DEBUG - [GRANULAR LOG] differentiated_features type: <class 'dict'>, value: {'line_features': [{'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}
2025-08-13 03:14:44,215 - DEBUG - [GRANULAR LOG] graph_features type: <class 'dict'>, value: {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}
2025-08-13 03:14:44,216 - INFO - [PIPELINE] INPUT: images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/6.png
2025-08-13 03:14:44,217 - INFO - [PIPELINE] OUTPUT: {'image_id': 'hd_has_six_straight_lines-exist_quadrangle_0018_neg_6', 'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'category': 'hd', 'label': 'negative', 'image_path': 'images/hd_has_six_straight_lines-exist_quadrangle_0018/category_0/6.png', 'strokes': ["{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 0, 'stroke_command': 'line_triangle_1.000-0.500', 'features': {'stroke_index': 0, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13)], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 1, 'stroke_command': 'line_normal_0.600-0.750', 'features': {'stroke_index': 1, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 2, 'stroke_command': 'line_zigzag_0.424-0.875', 'features': {'stroke_index': 2, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 3, 'stroke_command': 'line_circle_0.400-0.375', 'features': {'stroke_index': 3, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 4, 'stroke_command': 'line_circle_0.424-0.375', 'features': {'stroke_index': 4, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}", "{'problem_id': 'hd_has_six_straight_lines-exist_quadrangle_0018', 'shape_index': 0, 'stroke_index': 5, 'stroke_command': 'line_normal_0.600-0.875', 'features': {'stroke_index': 5, 'analytic_vertices': [(0.0, 0.0), (1440.0, 0.0), (1440.0, 864.0), (1008.2688836787415, 432.26888367874164), (432.26888367874153, 432.2688836787417), (0.5377673574831761, 864.0000000000002), (0.5377673574830173, 2.2737367544323206e-13), (0.0, 0.0)], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, 'group_info': {'num_shapes': 1, 'num_actions_in_shape': 6, 'shape_type': 'OneStrokeShape'}}"], 'num_strokes': 6, 'raw_vertices': ['(0.0, 0.0)', '(1440.0, 0.0)', '(1440.0, 864.0)', '(1008.2688836787415, 432.26888367874164)', '(432.26888367874153, 432.2688836787417)', '(0.5377673574831761, 864.0000000000002)', '(0.5377673574830173, 2.2737367544323206e-13)'], 'vertices': ['(0.0, 0.0)', '(1.0, 0.0)', '(1.0, 0.9999999999999998)', '(0.7001867247769038, 0.5003112079615064)', '(0.30018672477690383, 0.5003112079615065)', '(0.00037344955380776113, 1.0)', '(0.0003734495538076509, 2.6316397620744445e-16)'], 'num_vertices': 7, 'position_label': ['0.4287314783802033', '0.428660345131859'], 'rotation_label_degrees': ['-140.24012369530126'], 'image_features': {'bounding_box': [0.0, 0.0, 1.0, 1.0], 'centroid': [0.5001867247769038, 0.34621095314831435], 'width': 1.0, 'height': 1.0, 'area_raw': 0.6499377002974616, 'area_normalized': 0.6500590824346036, 'perimeter_raw': 4.565837973061732, 'perimeter_normalized': 1.0, 'aspect_ratio': 1.0, 'convexity_ratio': 0.6500590824346036, 'is_convex': False, 'compactness': 0.39177850258902114, 'polsby_popper_compactness': 0.39177850258902114, 'eccentricity': 0.29624350248824083, 'symmetry_score': 0.6163116094963651, 'horizontal_symmetry': 0.7584032750784852, 'vertical_symmetry': 0.8284113787626539, 'rotational_symmetry': 1.0, 'has_quadrangle': False, 'geometric_complexity': 7.0, 'visual_complexity': 0.5374328089489586, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'moment_of_inertia': 0.2610921766579035, 'irregularity_score': 0.24489795918370555, 'standardized_complexity': 0.4854288411970937, 'clustering_heights': [0.14551678034109544, 0.1757718298116586, 0.20499830417367532, 3.4127616658865207, 6.056415055475741], 'tree_depth': 0, 'tree_branching_factor': 0.0, 'subgraph_isomorphism_count': 0, 'composition_regularity': 0.0, 'symmetry_chains': 0, 'layered_edge_complexity': 0.0, 'overlap_ratio': 0.0, 'nested_convex_hull_levels': 1}, 'image_level_features': {'area_mean': 0.3915006541246507, 'perimeter_mean': 1.894800326670591, 'width_mean': 0.5605430207382531, 'height_mean': 0.6331955203504848, 'visual_complexity_mean': 0.0}, 'physics_features': {'moment_of_inertia': 0.2610921766579035, 'center_of_mass': [0.5001867247769038, 0.34621095314831435], 'polsby_popper_compactness': 0.39177850258902114, 'num_straight_segments': 0, 'num_arcs': 0, 'has_quadrangle': False, 'has_obtuse_angle': True, 'curvature_score': 1.9837357364764245, 'angular_variance': 0.6064876770353205, 'edge_length_variance': 0.12300410253967249}, 'composition_features': {'stroke_type_distribution': {'line': 6}, 'shape_modifier_distribution': {'triangle': 1, 'normal': 2, 'zigzag': 1, 'circle': 2}, 'stroke_diversity': 1, 'shape_diversity': 4, 'dominant_stroke_type': 'line', 'dominant_shape_modifier': 'normal', 'composition_complexity': 10, 'homogeneity_score': 0.2777777777777778, 'pattern_regularity': 0.6666666666666666}, 'stroke_type_features': {'line_features': [{'stroke_index': 0, 'analytic_vertices': [[0.0, 0.0], [1440.0, 0.0], [1440.0, 864.0], [1008.2688836787415, 432.26888367874164], [432.26888367874153, 432.2688836787417], [0.5377673574831761, 864.0000000000002], [0.5377673574830173, 2.2737367544323206e-13]], 'open_stroke_perimeter': 4965.12, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.0, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 0.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.0, 'line_curvature_score': 0.0, 'geometry': {'width': 0.0, 'height': 0.0, 'area': 0.0, 'perimeter': 0.0, 'centroid': [0.0, 0.0], 'bounds': [0, 0, 0, 0], 'num_vertices': 0}, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'line_length': 4965.12, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'triangle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.14, 'num_vertices': 7, 'has_sharp_angles': True, 'analytic_attribute': 'triangle'}, {'stroke_index': 1, 'analytic_vertices': [[0.0, 0.0], [1440.0, 0.0], [1440.0, 864.0], [1008.2688836787415, 432.26888367874164], [432.26888367874153, 432.2688836787417], [0.5377673574831761, 864.0000000000002], [0.5377673574830173, 2.2737367544323206e-13], [0.0, 0.0]], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}, {'stroke_index': 2, 'analytic_vertices': [[0.0, 0.0], [1440.0, 0.0], [1440.0, 864.0], [1008.2688836787415, 432.26888367874164], [432.26888367874153, 432.2688836787417], [0.5377673574831761, 864.0000000000002], [0.5377673574830173, 2.2737367544323206e-13], [0.0, 0.0]], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'zigzag', 'is_normal': False, 'is_geometric': False, 'is_pattern': True, 'geometric_complexity': 0.16, 'num_vertices': 8, 'pattern_complexity': 'high', 'has_repetitive_pattern': True, 'analytic_attribute': 'zigzag'}, {'stroke_index': 3, 'analytic_vertices': [[0.0, 0.0], [1440.0, 0.0], [1440.0, 864.0], [1008.2688836787415, 432.26888367874164], [432.26888367874153, 432.2688836787417], [0.5377673574831761, 864.0000000000002], [0.5377673574830173, 2.2737367544323206e-13], [0.0, 0.0]], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 4, 'analytic_vertices': [[0.0, 0.0], [1440.0, 0.0], [1440.0, 864.0], [1008.2688836787415, 432.26888367874164], [432.26888367874153, 432.2688836787417], [0.5377673574831761, 864.0000000000002], [0.5377673574830173, 2.2737367544323206e-13], [0.0, 0.0]], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'circle', 'is_normal': False, 'is_geometric': True, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'has_curved_edges': True, 'analytic_attribute': 'circle'}, {'stroke_index': 5, 'analytic_vertices': [[0.0, 0.0], [1440.0, 0.0], [1440.0, 864.0], [1008.2688836787415, 432.26888367874164], [432.26888367874153, 432.2688836787417], [0.5377673574831761, 864.0000000000002], [0.5377673574830173, 2.2737367544323206e-13], [0.0, 0.0]], 'open_stroke_perimeter': 4965.657767357483, 'compactness': 0.39177850258902114, 'convexity_ratio': 1e-06, 'geom_complexity': 0.4, 'arc_curvature_score': 0.0, 'degenerate_case': True, 'stroke_length': 4965.657767357483, 'avg_stroke_length': 4965.657767357483, 'visual_complexity': 1.0, 'robust_curvature': 0.0, 'robust_angular_variance': 0.30842513753404244, 'line_curvature_score': 0.0, 'support_set_context': {'valid': False, 'reason': 'no_positive_strokes', 'stats': {}}, 'discriminative_features': {'valid': False, 'reason': 'missing_set', 'stats': {}}, 'geometry': {'width': 1440.0, 'height': 864.0000000000002, 'area': 0.0, 'perimeter': 4965.657767357483, 'centroid': [540.2016627590561, 324.0672209196855], 'bounds': [0.0, 0.0, 1440.0, 864.0000000000002], 'num_vertices': 8, 'degenerate_case': True}, 'line_length': 4965.657767357483, 'line_angle': 0.0, 'line_is_short': False, 'line_is_long': True, 'line_is_horizontal': True, 'line_is_vertical': False, 'line_direction': 'horizontal', 'shape_modifier': 'normal', 'is_normal': True, 'is_geometric': False, 'is_pattern': False, 'geometric_complexity': 0.16, 'num_vertices': 8, 'is_simple': True, 'analytic_attribute': 'normal'}], 'arc_features': []}, 'image_canonical_summary': {}, 'support_set_context': {}, 'dominant_shape_modifiers': {'dominant_modifier': 'normal', 'modifier_distribution': {'normal': 6}}, 'processing_metadata': {'processing_timestamp': 1755035084.2108755, 'feature_count': 54}, 'actions': ['line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875'], 'action_program': ['line_triangle_1.000-0.500,line_normal_0.600-0.750,line_zigzag_0.424-0.875,line_circle_0.400-0.375,line_circle_0.424-0.375,line_normal_0.600-0.875'], 'geometry': {'area': 0.6499377002974616, 'perimeter': 4.565837973061732, 'centroid': [0.5001867247769038, 0.34621095314831435], 'bounds': [0.0, 0.0, 1.0, 1.0], 'width': 1.0, 'height': 1.0}, 'relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'context_relational_features': {'adjacency': 0, 'intersections': 0, 'containment': 0, 'overlap': 0.0}, 'sequential_features': {'ngram': {'normal|normal': 5}, 'analytic_attributes': ['triangle', 'normal', 'zigzag', 'circle', 'circle', 'normal'], 'analytic_ngram': {'triangle|normal': 1, 'normal|zigzag': 1, 'zigzag|circle': 1, 'circle|circle': 1, 'circle|normal': 1}, 'alternation': 0.16666666666666666, 'regularity': {'regularity_score': 1.0, 'most_common_element': 'normal', 'distribution': {'normal': 6}}}, 'topological_features': {'type': 'closed', 'connectivity': '1', 'shape_distribution': {'closed': 1}}, 'advanced_spatial_topological': {'adjacency_degree': {0: 0, 1: 4, 2: 2, 3: 2, 4: 2, 5: 2}, 'adjacency_clustering': {0: 0, 1: 0.3333333333333333, 2: 1.0, 3: 1.0, 4: 1.0, 5: 1.0}, 'intersection_count': 6, 'betweenness_centrality': {0: 0.0, 1: 0.4, 2: 0.0, 3: 0.0, 4: 0.0, 5: 0.0}, 'containment_score': 4, 'overlap_heatmap': [0.0, 0.0, 0.4944271909999159, 0.5555383918075055, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.4944271909999159, 0.0, 0.0, 0.4944271909999159, 0.0, 0.5555383918075055, 0.0, 0.0, 0.4944271909999159, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'geodesic_dist_convex_hull': 4607.462399999984, 'skeleton_graph_features': {'num_nodes': 6, 'num_edges': 6}}, 'advanced_compositional_features': {}, 'multiscale': {'scale_0.1': {'curvature': 0.0, 'angular_variance': 0.6064876770353205, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.3': {'curvature': 0.0, 'angular_variance': 0.5538634660062625, 'complexity': 3, 'groups': {'group_0': {'size': 5, 'curvature': 0.0, 'complexity': 2}, 'group_1': {'size': 2, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_0.5': {'curvature': 0.0, 'angular_variance': 0.46798578001622815, 'complexity': 3, 'groups': {'group_0': {'size': 3, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 4, 'curvature': 0.0, 'complexity': 1}}, 'degenerate_case': False}, 'scale_1.0': {'curvature': 0.0, 'angular_variance': 0.2156977703837358, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 1}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}, 'scale_2.0': {'curvature': 0.0, 'angular_variance': 0.06747703986525634, 'complexity': 2, 'groups': {'group_0': {'size': 4, 'curvature': 0.0, 'complexity': 0}, 'group_1': {'size': 3, 'curvature': 0.0, 'complexity': 0}}, 'degenerate_case': False}}}
2025-08-13 03:14:44,217 - INFO - [DEBUG] pos_results[0] image_level_features type: <class 'dict'>
2025-08-13 03:14:44,217 - INFO - [DEBUG] pos_results[0] image_level_features value: {'area_mean': 7.131635759441944e-08, 'perimeter_mean': 0.31998973484191645, 'width_mean': 0.10515209422414136, 'height_mean': 0.09263814993071962, 'visual_complexity_mean': 0.0}
2025-08-13 03:14:44,218 - INFO - [DEBUG] pos_results[0] has keys: ['area_mean', 'perimeter_mean', 'width_mean', 'height_mean', 'visual_complexity_mean']
2025-08-13 03:14:44,218 - INFO - [DEBUG] pos_results[1] image_level_features type: <class 'dict'>
2025-08-13 03:14:44,218 - INFO - [DEBUG] pos_results[1] image_level_features value: {'area_mean': 6.549814042037365e-08, 'perimeter_mean': 0.2925816380070363, 'width_mean': 0.0628546253898479, 'height_mean': 0.10171936737961076, 'visual_complexity_mean': 0.0}
2025-08-13 03:14:44,218 - INFO - [DEBUG] pos_results[1] has keys: ['area_mean', 'perimeter_mean', 'width_mean', 'height_mean', 'visual_complexity_mean']
2025-08-13 03:14:44,219 - INFO - [extract_support_set_context] INPUT: positive_images=7, negative_images=7
2025-08-13 03:14:44,219 - INFO - [compute_feature_statistics] INPUT: label=positive, num_features=7
2025-08-13 03:14:44,220 - INFO - [compute_feature_statistics] OUTPUT for label=positive: valid=True, stat_keys=['visual_complexity_mean', 'height_mean', 'width_mean', 'area_mean', 'perimeter_mean']
2025-08-13 03:14:44,220 - INFO - [compute_feature_statistics] INPUT: label=negative, num_features=7
2025-08-13 03:14:44,220 - INFO - [compute_feature_statistics] OUTPUT for label=negative: valid=True, stat_keys=['visual_complexity_mean', 'height_mean', 'width_mean', 'area_mean', 'perimeter_mean']
2025-08-13 03:14:44,221 - INFO - [extract_support_set_context] OUTPUT: {'valid': True, 'reason': 'successful_problem_level_extraction', 'positive_stats': {'valid': True, 'count': 7, 'stats': {'visual_complexity_mean': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height_mean': {'mean': 0.07919335298674215, 'var': 0.00038054672561283284, 'min': 0.04951626124853389, 'max': 0.10414930821896078, 'count': 7}, 'width_mean': {'mean': 0.11196224613723159, 'var': 0.0015588619688008908, 'min': 0.0628546253898479, 'max': 0.18386307291905127, 'count': 7}, 'area_mean': {'mean': 7.104882110028427e-08, 'var': 3.09259932650074e-16, 'min': 4.579960223461477e-08, 'max': 1.0852107515771058e-07, 'count': 7}, 'perimeter_mean': {'mean': 0.3127708958430703, 'var': 0.005118751181402483, 'min': 0.20859463476032328, 'max': 0.46156351708955906, 'count': 7}}}, 'negative_stats': {'valid': True, 'count': 7, 'stats': {'visual_complexity_mean': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height_mean': {'mean': 0.42280111964933687, 'var': 0.11751690466316098, 'min': 0.11326635054931157, 'max': 1.1481091391510994, 'count': 7}, 'width_mean': {'mean': 0.3743124509261952, 'var': 0.1360853579228362, 'min': 0.020235029551543188, 'max': 1.1352968456907098, 'count': 7}, 'area_mean': {'mean': 0.2886244421396156, 'var': 0.18625931994573872, 'min': 6.422480323225558e-08, 'max': 1.2948468951994205, 'count': 7}, 'perimeter_mean': {'mean': 1.2848910411962398, 'var': 1.220959812356676, 'min': 0.2778630945233772, 'max': 3.6086628245422494, 'count': 7}}}, 'discriminative': {'valid': True, 'reason': 'cross_set_comparison_successful', 'stats': {'visual_complexity_mean': 0.0, 'height_mean': -0.34360776666259474, 'width_mean': -0.2623502047889636, 'area_mean': -0.2886243710907945, 'perimeter_mean': -0.9721201453531695}}}
2025-08-13 03:14:44,221 - WARNING - [PROBLEM LEVEL] Failed to compute compositional hierarchical features: list indices must be integers or slices, not list
2025-08-13 03:14:44,222 - INFO - [PROBLEM SUMMARY] Problem: hd_has_six_straight_lines-exist_quadrangle_0018
{
  "problem_id": "hd_has_six_straight_lines-exist_quadrangle_0018",
  "unique_shape_functions": [],
  "shape_function_counts": {},
  "modifiers": [],
  "num_images": 14,
  "compositional_hierarchical_features": {},
  "problem_multiscale_features": {},
  "problem_spatial_topological_features": {
    "containment_score": {
      "mean": 1.5714285714285714,
      "var": 7.10204081632653,
      "min": 0.0,
      "max": 10.0
    },
    "intersection_count": {
      "mean": 12.857142857142858,
      "var": 40.55102040816326,
      "min": 3.0,
      "max": 22.0
    },
    "geodesic_dist_convex_hull": {
      "mean": 3882.8020031996884,
      "var": 535949.2941540349,
      "min": 2692.730609907687,
      "max": 4977.952978073034
    }
  }
}
2025-08-13 03:14:44,222 - INFO - [extract_support_set_context] INPUT: positive_images=7, negative_images=7
2025-08-13 03:14:44,222 - INFO - [compute_feature_statistics] INPUT: label=positive, num_features=7
2025-08-13 03:14:44,223 - INFO - [compute_feature_statistics] OUTPUT for label=positive: valid=True, stat_keys=['visual_complexity_mean', 'height_mean', 'width_mean', 'area_mean', 'perimeter_mean']
2025-08-13 03:14:44,223 - INFO - [compute_feature_statistics] INPUT: label=negative, num_features=7
2025-08-13 03:14:44,224 - INFO - [compute_feature_statistics] OUTPUT for label=negative: valid=True, stat_keys=['visual_complexity_mean', 'height_mean', 'width_mean', 'area_mean', 'perimeter_mean']
2025-08-13 03:14:44,224 - INFO - [extract_support_set_context] OUTPUT: {'valid': True, 'reason': 'successful_problem_level_extraction', 'positive_stats': {'valid': True, 'count': 7, 'stats': {'visual_complexity_mean': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height_mean': {'mean': 0.07919335298674215, 'var': 0.00038054672561283284, 'min': 0.04951626124853389, 'max': 0.10414930821896078, 'count': 7}, 'width_mean': {'mean': 0.11196224613723159, 'var': 0.0015588619688008908, 'min': 0.0628546253898479, 'max': 0.18386307291905127, 'count': 7}, 'area_mean': {'mean': 7.104882110028427e-08, 'var': 3.09259932650074e-16, 'min': 4.579960223461477e-08, 'max': 1.0852107515771058e-07, 'count': 7}, 'perimeter_mean': {'mean': 0.3127708958430703, 'var': 0.005118751181402483, 'min': 0.20859463476032328, 'max': 0.46156351708955906, 'count': 7}}}, 'negative_stats': {'valid': True, 'count': 7, 'stats': {'visual_complexity_mean': {'mean': 0.0, 'var': 0.0, 'min': 0.0, 'max': 0.0, 'count': 7}, 'height_mean': {'mean': 0.42280111964933687, 'var': 0.11751690466316098, 'min': 0.11326635054931157, 'max': 1.1481091391510994, 'count': 7}, 'width_mean': {'mean': 0.3743124509261952, 'var': 0.1360853579228362, 'min': 0.020235029551543188, 'max': 1.1352968456907098, 'count': 7}, 'area_mean': {'mean': 0.2886244421396156, 'var': 0.18625931994573872, 'min': 6.422480323225558e-08, 'max': 1.2948468951994205, 'count': 7}, 'perimeter_mean': {'mean': 1.2848910411962398, 'var': 1.220959812356676, 'min': 0.2778630945233772, 'max': 3.6086628245422494, 'count': 7}}}, 'discriminative': {'valid': True, 'reason': 'cross_set_comparison_successful', 'stats': {'visual_complexity_mean': 0.0, 'height_mean': -0.34360776666259474, 'width_mean': -0.2623502047889636, 'area_mean': -0.2886243710907945, 'perimeter_mean': -0.9721201453531695}}}
2025-08-13 03:14:44,224 - INFO - [PROBLEM SUMMARY] Problem: hd_has_six_straight_lines-exist_quadrangle_0018
{
  "problem_id": "hd_has_six_straight_lines-exist_quadrangle_0018",
  "unique_shape_functions": [],
  "shape_function_counts": {},
  "modifiers": [],
  "num_images": 14
}
